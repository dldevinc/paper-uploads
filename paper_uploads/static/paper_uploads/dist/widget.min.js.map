{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/es-abstract/GetIntrinsic.js","webpack:///./node_modules/has/src/index.js","webpack:///./node_modules/es-abstract/helpers/callBind.js","webpack:///./node_modules/function-bind/index.js","webpack:///./node_modules/promise.allsettled/requirePromise.js","webpack:///./node_modules/es-abstract/helpers/assign.js","webpack:///./node_modules/deepmerge/dist/cjs.js","webpack:///./node_modules/object-keys/index.js","webpack:///./node_modules/has-symbols/index.js","webpack:///./node_modules/is-callable/index.js","webpack:///./node_modules/es-abstract/helpers/forEach.js","webpack:///./node_modules/es-abstract/helpers/every.js","webpack:///./paper_uploads/static/paper_uploads/src/js/fine-uploader/fine-uploader.core.js","webpack:///./node_modules/mime-match/index.js","webpack:///./node_modules/define-properties/index.js","webpack:///./node_modules/object-keys/isArguments.js","webpack:///./node_modules/promise.allsettled/implementation.js","webpack:///./node_modules/object-inspect/index.js","webpack:///./node_modules/es-to-primitive/helpers/isPrimitive.js","webpack:///./node_modules/es-abstract/helpers/assertRecord.js","webpack:///./node_modules/es-abstract/helpers/isNaN.js","webpack:///./node_modules/es-abstract/helpers/isFinite.js","webpack:///./node_modules/es-abstract/helpers/sign.js","webpack:///./node_modules/es-abstract/helpers/mod.js","webpack:///./node_modules/es-abstract/helpers/isPropertyDescriptor.js","webpack:///./node_modules/promise.allsettled/polyfill.js","webpack:///./paper_uploads/static/paper_uploads/src/js/fine-uploader/dnd.js","webpack:///./node_modules/promise.allsettled/index.js","webpack:///./node_modules/wildcard/index.js","webpack:///./node_modules/function-bind/implementation.js","webpack:///./node_modules/object-keys/implementation.js","webpack:///./node_modules/es-abstract/es2018.js","webpack:///./node_modules/es-abstract/es2017.js","webpack:///./node_modules/es-abstract/es2016.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/has-symbols/shams.js","webpack:///./node_modules/es-abstract/es2015.js","webpack:///./node_modules/es-to-primitive/es6.js","webpack:///./node_modules/es-to-primitive/es2015.js","webpack:///./node_modules/is-date-object/index.js","webpack:///./node_modules/is-symbol/index.js","webpack:///./node_modules/es-abstract/helpers/isPrimitive.js","webpack:///./node_modules/es-abstract/helpers/isSamePropertyDescriptor.js","webpack:///./node_modules/es-abstract/es5.js","webpack:///./node_modules/es-to-primitive/es5.js","webpack:///./node_modules/is-regex/index.js","webpack:///./node_modules/promise.allsettled/shim.js","webpack:///./paper_uploads/static/paper_uploads/src/img/files sync nonrecursive \\.svg$","webpack:///./paper_uploads/static/paper_uploads/src/img/files/7z.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/ai.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/archive.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/audio.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/avi.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/csv.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/doc.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/html.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/iso.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/json.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/mp3.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/mp4.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/pdf.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/ppt.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/psd.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/rar.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/rtf.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/svg.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/tar.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/txt.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/unknown.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/video.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/xls.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/xml.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/zip.svg","webpack:///./paper_uploads/static/paper_uploads/src/js/_uploader.js","webpack:///./paper_uploads/static/paper_uploads/src/js/_utils.js","webpack:///./paper_uploads/static/paper_uploads/src/js/base_widget.js","webpack:///./paper_uploads/static/paper_uploads/src/js/file_widget.js","webpack:///./paper_uploads/static/paper_uploads/src/js/image_widget.js","webpack:///./paper_uploads/static/paper_uploads/src/js/collection_widget.js","webpack:///./paper_uploads/static/paper_uploads/src/js/widget.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ThrowTypeError","getOwnPropertyDescriptor","arguments","TypeError","hasSymbols","iterator","getProto","getPrototypeOf","x","__proto__","asyncGenIterator","undefined","TypedArray","Uint8Array","INTRINSICS","Array","ArrayBuffer","entries","forEach","keys","values","asyncIterator","Atomics","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Error","eval","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","parse","Map","Math","Number","toString","valueOf","parseFloat","parseInt","Promise","then","all","reject","resolve","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","SyntaxError","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet","allowMissing","length","$Function","GetIntrinsic","$apply","apply","$call","implementation","from","has","$assign","assign","target","source","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","val","isArray","defaultArrayMerge","concat","map","element","getKeys","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","_","mergeObject","destination","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","array","reduce","prev","next","deepmerge_1","slice","isArgs","origKeys","keysShim","originalKeys","shim","args","origSymbol","global","hasSymbolSham","fnToStr","constructorRegex","isES6ClassFn","fnStr","test","e","toStr","hasToStringTag","tryFunctionObject","strClass","callback","predicate","qq","hide","style","display","this","attach","type","fn","addEventListener","attachEvent","detach","removeEventListener","detachEvent","contains","descendant","compareDocumentPosition","insertBefore","elementB","parentNode","remove","removeChild","css","styles","opacity","filters","round","extend","hasClass","considerParent","re","className","addClass","removeClass","replace","getByClass","first","candidates","result","querySelector","querySelectorAll","getElementsByTagName","each","idx","push","getFirstByClass","children","child","firstChild","nodeType","nextSibling","setText","text","innerText","textContent","clearText","hasAttribute","attrName","attrVal","exec","getAttribute","ExifRestorer","div","canvasToBlob","canvas","mime","quality","dataUriToBlob","toDataURL","dataUri","arrayBuffer","byteString","intArray","mimeString","data","BlobBuilder","blobBuilder","split","indexOf","atob","character","charCodeAt","window","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","Blob","log","message","level","console","isObject","variable","isFunction","buffer","constructor","isItemList","maybeItemList","isNodeList","maybeNodeList","item","namedItem","isString","maybeString","trimStr","string","trim","format","str","newStr","nextIdxToReplace","strBefore","substring","strAfter","isFile","maybeFile","File","isFileList","maybeFileList","FileList","isFileOrInput","maybeFileOrInput","isInput","maybeInput","notFile","evaluateType","normalizedType","toLowerCase","HTMLInputElement","tagName","isBlob","maybeBlob","isXhrUploadSupported","input","document","createElement","multiple","FormData","createXhrInstance","upload","XMLHttpRequest","ActiveXObject","error","isFolderDropSupported","dataTransfer","items","webkitGetAsEntry","isFileChunkingSupported","androidStock","webkitSlice","mozSlice","sliceBlob","fileOrBlob","start","end","arrayBufferToHex","bytesAsHex","bytes","byt","byteAsHexStr","readBlobToHex","blob","startOffset","initialBlob","fileReader","FileReader","promise","onload","success","onerror","failure","readAsArrayBuffer","second","extendNested","prop","override","sourceFn","super_","srcPropName","srcPropVal","arr","elt","len","getUniqueId","random","ie","navigator","userAgent","ie7","ie8","ie10","ie11","edge","safari","vendor","chrome","opera","firefox","windows","platform","android","ios6","ios","ios7","ios8","ios800","iosChrome","iosSafari","iosSafariWebView","preventDefault","returnValue","toElement","html","innerHTML","iterableItem","keyOrIndex","Storage","getItem","charAt","oldFunc","context","newArgs","obj2url","obj","temp","prefixDone","uristrings","prefix","add","nextObj","nextTemp","join","obj2FormData","formData","arrayKeyName","obj2Inputs","form","setAttribute","appendChild","parseJson","json","getExtension","filename","extIdx","lastIndexOf","substr","getFilename","blobOrFileInput","fileName","DisposeSupport","disposers","dispose","disposer","shift","addDisposer","disposeFunction","define","version","supportedFeatures","supportsUploading","supportsUploadingBlobs","supportsFileDrop","supportsAjaxFileUploading","supportsFolderDrop","supportsChunking","supportsResume","supportsUploadViaPaste","supportsUploadCors","supportsDeleteFileXdr","supportsDeleteFileCorsXhr","supportsDeleteFileCors","supportsFolderSelection","supportsImagePreviews","supportsUploadProgress","span","isCrossOriginXhrSupported","withCredentials","isXdrSupported","XDomainRequest","tempInput","supported","disabled","ex","testSupportsFileInputElement","localStorage","setItem","isLocalStorageSupported","match","postMessage","webkitdirectory","ajaxUploading","blobUploading","canDetermineSize","chunking","deleteFileCors","deleteFileCorsXdr","deleteFileCorsXhr","dialogElement","HTMLDialogElement","fileDrop","folderDrop","folderSelection","imagePreviews","imageValidation","itemSizeValidation","pause","progressBar","resume","scaling","tiffPreviews","unlimitedScaledImageSize","uploading","uploadCors","uploadCustomHeaders","uploadNonMultipart","uploadViaPaste","isGenericPromise","maybePromise","successArgs","failureArgs","successCallbacks","failureCallbacks","doneCallbacks","state","onSuccess","onFailure","done","BlobProxy","referenceBlob","onCreate","UploadButton","buttonId","self","disposeSupport","acceptFiles","focusClass","folders","hoverClass","ios8BrowserCrashWorkaround","onChange","title","createInput","BUTTON_ID_ATTR_NAME","setMultiple","position","right","top","fontFamily","fontSize","margin","padding","cursor","height","overflow","direction","getInput","getButtonId","isMultiple","optInput","removeAttribute","setAcceptFiles","reset","UploadData","uploaderProxy","byUuid","byStatus","byProxyGroupId","byBatchId","getDataByIds","idOrIds","id","addFile","spec","status","SUBMITTING","originalName","uuid","size","file","batchId","proxyGroupId","onBeforeStatusChange","onStatusChange","retrieve","optionalFilter","uuids","getDataByUuids","statusResults","statuses","index","statusEnum","statusResultIndexes","dataIndex","removeFileRef","record","setStatus","newStatus","oldStatus","byStatusOldStatusIndex","splice","uuidChanged","newUuid","oldUuid","updateName","newName","updateSize","newSize","setParentId","targetId","parentId","getIdsInProxyGroup","getIdsInBatch","SUBMITTED","REJECTED","QUEUED","CANCELED","PAUSED","UPLOADING","UPLOAD_FINALIZING","UPLOAD_RETRYING","UPLOAD_SUCCESSFUL","UPLOAD_FAILED","DELETE_FAILED","DELETING","DELETED","basePublicApi","addBlobs","blobDataOrArray","params","endpoint","addFiles","addInitialFiles","cannedFileList","cannedFile","_addCannedFile","_maybeHandleIos8SafariWorkaround","_storedIds","_currentBatchId","processBlob","_handleNewFile","_options","blobs","defaultName","verifiedFiles","processBlobData","blobData","processCanvas","processCanvasData","canvasData","normalizedQuality","processFileOrInput","fileOrInput","files","fileContainer","_prepareItemsForUpload","cancel","uploadData","_uploadData","getName","_handler","cancelAll","storedIdsCopy","storedFileId","clearStoredFiles","continueUpload","enabled","_uploadFile","deleteFile","_onSubmitDelete","doesExist","fileOrBlobId","isValid","drawThumbnail","fileId","imgOrCanvas","maxSize","fromServer","customResizeFunction","fileOrUrl","promiseToReturn","_imageGenerator","_thumbnailUrls","scale","getFile","container","generate","modifiedContainer","reason","getButton","_getButton","_buttonIdsForFileIds","getEndpoint","_endpointStore","uploadDataRecord","getInProgress","getParentId","uploadDataEntry","getUploads","getResumableFilesData","getSize","getNetUploads","_netUploaded","getRemainingAllowedItems","allowedItems","_currentItemLimit","_netUploadedOrQueued","getUuid","isResumable","hasResumeRecord","debug","pauseUpload","expunge","_autoRetries","_retryTimeouts","_preventRetries","_buttons","button","_paramsStore","_pasteHandler","session","refreshOnReset","_refreshSessionData","_succeededSinceLastAllComplete","_failedSinceLastAllComplete","_totalProgress","_customResumeDataStore","retry","_manualRetry","scaleImage","specs","Scaler","setCustomHeaders","headers","_customHeadersStore","set","setCustomResumeData","setDeleteFileCustomHeaders","_deleteFileCustomHeadersStore","setDeleteFileEndpoint","_deleteFileEndpointStore","setDeleteFileParams","_deleteFileParamsStore","setEndpoint","setForm","elementOrId","_updateFormSupportAndParams","setItemLimit","newItemLimit","setName","setParams","setUuid","_onDeleteComplete","errorMessage","uploadStoredFiles","_itemError","_uploadStoredFiles","basePrivateApi","sessionData","deleteFileEndpoint","deleteFileParams","thumbnailUrl","_annotateWithButtonId","associatedInput","qqButtonId","_getButtonId","_batchError","callbacks","onError","_createDeleteHandler","DeleteFileAjaxRequester","method","toUpperCase","maxConnections","uuidParamName","request","uuidName","customHeaders","paramsStore","endpointStore","cors","onDelete","_onDelete","onDeleteComplete","xhrOrXdr","isError","_createPasteHandler","PasteSupport","targetElement","paste","pasteReceived","_handleCheckedCallback","onPasteReceived","_handlePasteSuccess","identifier","_createStore","initialValue","_readOnlyValues_","store","catchall","perIdReadOnlyValues","readOnlyValues","copy","orig","includeReadOnlyValues","existing","addReadOnly","_createUploadDataTracker","_onUploadStatusChange","_maybeAllComplete","setTimeout","_createUploadButton","accept","validation","allowedExtensions","classes","buttonFocus","buttonHover","workarounds","ios8BrowserCrash","iosEmptyVideos","_isAllowedExtension","inputName","_onInputChange","fileInputTitle","_disposeSupport","_createUploadHandler","additionalOptions","namespace","lastOnProgress","preventRetryParam","preventRetryResponseProperty","onProgress","loaded","total","_onProgress","onComplete","xhr","retVal","_onComplete","onCancel","cancelFinalizationEffort","_onCancel","onUploadPrep","_onUploadPrep","onUpload","_onUpload","onUploadResult","onUploadChunk","chunkData","_onUploadChunk","onUploadChunkResult","partIndex","onUploadChunkSuccess","_onUploadChunkSuccess","onResume","customResumeData","onAutoRetry","responseJSON","_onAutoRetry","onUuidChanged","setSize","_setSize","getDataByUuid","isQueued","isInProgress","getCustomResumeData","_getCustomResumeData","UploadHandlerController","_fileOrBlobRejected","_formatSize","sizeSymbols","max","toFixed","_generateExtraButtonSpecs","_extraButtonSpecs","extraButtons","extraButtonOptionEntry","extraButtonSpec","_initExtraButton","extraButtonsSpec","_defaultButtonId","buttonOrFileInputOrFile","inputs","fileInput","fileBlobOrInput","_getNotFinished","_getValidationBase","_getValidationDescriptor","fileWrapper","_getValidationDescriptors","fileWrappers","fileDescriptors","_handleCameraAccess","camera","optionRoot","details","callbackRetVal","successParam","newFileWrapperList","actualFile","handler","_customNewFileHandler","_handleNewFileGeneric","addFileToHandler","_trackButton","fileList","extSuppliedName","extension","_handleDeleteSuccess","_handleDeleteFailed","_initFormSupportAndParams","_formSupport","FormSupport","attachedToForm","getFormInputsAsObject","autoUpload","newAutoUpload","newEndpoint","_isDeletePossible","expected","allowXdr","allowed","valid","allowedExt","extRegex","code","maybeNameOrNames","extensionsForMessage","placeholderMatch","messages","names","validationBase","replacement","allowedExtension","formatFileName","sizeLimit","minSizeLimit","placeholder","_onBeforeManualRetry","notFinished","_onAllComplete","ios8SafariUploads","alert","unsupportedBrowserIos8Safari","_maybeParseAndSendUploadError","response","errorReason","defaultResponseError","_maybeProcessNextItemAfterOnValidateCallback","validItem","stopOnFirstInvalidFile","validationDescriptor","onValidate","_onValidateCallbackSuccess","_onValidateCallbackFailure","successful","failed","onAllComplete","_shouldAutoRetry","retryWaitPeriod","autoAttemptDelay","_onBeforeAutoRetry","itemLimit","onManualRetry","clearTimeout","storedItemIndex","fileIndex","onIndividualProgress","_onSubmit","_onSubmitCallbackSuccess","_onSubmitted","onSubmitted","_storeForLater","onSuccessCallback","additionalMandatedParams","adjustedOnSuccessCallback","onSubmitDelete","_deleteHandler","sendDelete","_onTotalProgress","onTotalProgress","enableAuto","_onValidateBatchCallbackFailure","_onValidateBatchCallbackSuccess","validationDescriptors","proposedNetFilesUploadedOrQueued","tooManyItemsError","nextIndex","_validateFileOrBlobData","_upload","onValidateBatch","_preventLeaveInProgress","event","onLeave","Session","_session","addFileRecord","refresh","_sessionRequestComplete","onSessionRequestComplete","onNewSize","maxAutoAttempts","formElementOrId","onSubmit","idToUpload","stillSubmitting","validityChecker","allowEmpty","ImageValidation","validate","image","errorCode","_wrapCallbacks","safeCallback","errorMsg","exception","callbackName","callbackFunc","FineUploaderBasic","disableCancelForFormUploads","warnBeforeUnload","filenameParam","forceMultipart","omitDefaultParams","paramsInBody","requireSuccessJson","totalFileSizeName","maxHeight","maxWidth","minHeight","minWidth","maybeXhr","maybeXhrOrXdr","attemptNumber","fileOrBlobData","typeError","sizeError","minSizeError","emptyError","noFilesError","maxHeightImageError","maxWidthImageError","minHeightImageError","minWidthImageError","retryFailTooManyItems","concurrent","mandatory","paramNames","partByteOffset","chunkSize","totalFileSize","totalParts","partSize","jsonPayload","resetOnStatus","recordsExpireIn","resuming","customKeys","fileOrBlobName","sendCredentials","interceptSubmit","customResizer","sendOriginal","orient","defaultType","defaultQuality","failureText","includeExif","sizes","ImageGenerator","_scaler","handleNewFile","TotalProgress","entry","AjaxRequester","shouldParamsBeInQueryString","queue","requestData","acceptHeader","validMethods","contentType","mandatedParams","allowXRequestedWithAndCacheControl","successfulResponseCodes","DELETE","PATCH","POST","PUT","GET","onSend","isXdr","getXhrOrXdr","suppliedXhr","ontimeout","onprogress","getCorsAjaxTransport","dequeue","sendRequest","xdrError","responseCode","optXhr","url","onDemandParams","additionalParams","getParams","payload","additionalQueryParams","addToPath","createUrl","getXdrLoadHandler","getXdrErrorHandler","onreadystatechange","readyState","getXhrReadyStateChangeHandler","lengthComputable","registerForUploadProgress","open","onDemandHeaders","additionalHeaders","allHeaders","setRequestHeader","containsNonSimple","header","setHeaders","send","stringify","initTransport","path","cacheBuster","withPath","appendToPath","withParams","withQueryParams","_additionalQueryParams_","withHeaders","withPayload","thePayload","withCacheBuster","qqtimestamp","getTime","prepareToSend","canceled","UploadHandler","proxy","fileState","fileItem","getThirdPartyFileId","_getFileState","_setThirdPartyFileId","thirdPartyFileId","_wasCanceled","preventRetryResponse","controller","chunkingPossible","concurrentChunkingPossible","chunked","chunkIdx","_getChunkData","attemptingResume","chunkProgress","_getChunkDataForCallback","finalize","finalizeChunks","normaizedResponse","normalizeResponse","_maybeDeletePersistedChunkData","cleanup","normalizedResponse","handleFailure","clearCachedChunk","inProgressIdx","responseToReport","inProgressChunksArray","inProgress","remaining","unshift","ignoreFailure","_getXhrs","ckid","ckXhr","abort","_cancelled","moveInProgressToRemaining","connectionManager","free","hasMoreParts","nextPart","nextIdx","_getTotalChunks","reevaluateChunking","sendNext","inProgressChunks","available","requestOverrides","uploadChunkData","overrides","uploadChunk","inProgressChunkIdx","_maybePersistChunkedState","clearXhr","_open","_openChunks","_waiting","openChunkEntriesCount","openChunksCount","openChunkIndexes","dontAllowNext","nextId","allowNext","waitingIndex","connectionsIndex","getProxyOrBlob","getWaitingOrConnected","waitingOrConnected","chunks","isUsingConnection","pop","openChunksEntry","simple","uploadFile","maybeNewUuid","_clearXhrs","getProxy","initHandler","handlerType","traditional","handlerModuleSubtype","onFinalizing","_removeExpiredChunkingRecords","isDeferredEligibleForUpload","maybeDefer","generatedBlob","updateBlob","maybeSendDeferredFiles","errorResponse","idsInGroup","uploadedThisId","idInGroup","now","originalResponse","_shouldChunkThisFile","blobToUpload","cancelRetVal","isProxied","_getLocalStorageId","isAttemptingResume","WindowReceiveMessage","callbackWrapperDetachers","receiveMessage","stopReceivingMessages","detacher","FormUploadHandler","formHandlerInstanceId","onloadCallbacks","detachLoadEvents","postMessageCallbackTimers","isCors","corsMessageReceiver","getFileIdForIframeName","iframeName","iframe","getElementById","_getIframeName","expungeFile","_attachLoadEvent","responseDescriptor","onloadCallback","_parseJsonResponse","_detachLoadEvent","registerPostMessageCallback","contentDocument","body","_createIframe","initIframeForUpload","_initFormForUpload","targetName","innerHtmlOrMessage","XhrUploadHandler","getChunkSize","chunkFiles","resumeEnabled","xhrId","ajaxRequester","_getAjaxRequester","blobOrProxy","_initTempState","_maybePrepareForResume","cachedChunks","tempState","xhrs","ajaxRequesters","responseParser","lastChunkIdx","_getXhr","resumableFilesData","_iterateResumeRecords","notResumable","optInProgress","optRemaining","chunkingState","reverse","paused","totalChunks","parts","newBlob","chunkId","_createXhr","optChunkIdx","_registerXhr","chunkIndex","fileSize","startBytes","endBytes","part","count","startByte","endByte","localStorageId","_getMimeType","_getPersistableData","ceil","_markNotResumable","removeItem","persistedData","lastUpdated","_registerProgressHandler","progressCalculator","totalSuccessfullyLoadedForFile","loadedForRequest","totalForRequest","estActualChunkLoaded","totalLoadedForFile","chunkLoaded","optAjaxRequester","xhrsId","expirationDays","expirationDate","setDate","getDate","requester","_method","renderImageToCanvas","img","doSquash","modifiedDimensions","iw","naturalWidth","ih","naturalHeight","width","ctx","getContext","save","resize","resizeInfo","imageHeight","imageWidth","orientation","sourceCanvas","sourceCanvasContext","targetCanvas","targetHeight","targetWidth","transformCoordinate","drawImage","qqImageRendered","renderImageToCanvasWithCustomResizer","origHeight","origWidth","newHeight","sqrt","newWidth","maybeCalculateDownsampledDimensions","getImageData","detectSubsampling","tmpCtx","sx","dx","tmpCanvas","vertSquashRatio","ratio","sy","ey","py","detectVerticalSquash","dw","dh","dy","clearRect","restore","translate","rotate","PI","MegaPixImage","srcImage","errorCallback","Image","URL","createObjectURL","webkitURL","src","listeners","imageLoadListeners","render","opt","oldTargetSrc","imgWidth","imgHeight","optionsKey","optionsValue","renderImageToDataURL","onrender","isImg","el","isCanvas","determineMimeOfFileName","nameWithPath","pathSegments","isCrossOrigin","targetProtocol","targetHostname","targetPort","targetAnchor","href","protocol","port","hostname","location","registerThumbnailRenderedListener","registered","registerImgLoadListeners","registerCanvasDrawImageListener","drawOnCanvasOrImgFromUrl","canvasOrImg","draw","tempImg","tempImgRender","crossOrigin","drawOnImgFromUrlWithCssScaling","drawFromUrl","fileBlobOrUrl","drawPreview","Identify","megapixErrorHandler","isPreviewable","dummyExif","exif","Exif","mpImg","Orientation","failureMsg","_testing","TAG_IDS","TAG_INFO","274","parseLittleEndian","hex","pow","getApp1Offset","seekToApp1","offset","theOffset","thePromise","segmentLength","parser","onParseFailure","app1Offset","app1Start","littleEndian","getDirEntryCount","dirEntryCount","dirEntries","getIfd","ifdHex","getDirEntries","tagValues","tagsToFind","vals","tagValHex","tagValLength","idHex","tagsToFindIdx","getTagValues","previewable","isPreviewableSync","PREVIEWABLE_MIME_TYPES","questionableBytes","identifiable","magicBytesEntries","magicBytesArrayEntry","fileMime","isRecognizedImage","limits","sizeDetermination","validationEffort","atLeastOne","limit","hasNonZeroLimits","dimensions","failingLimit","limitName","limitValue","limitMatcher","dimensionPropName","actualValue","getFailingLimit","handleFileItems","fileItems","someItemsIgnored","isJsonResponseValid","err","refreshEffort","requesterOptions","SessionAjaxRequester","queryServer","responseText","includeOriginal","failedToScaleText","_getSortedSizes","getFileRecords","originalFileUuid","originalFileName","originalBlobOrBlobData","records","originalBlob","sizeRecord","outputType","_determineOutputType","requestedType","refType","_getName","_generateScaledImage","failedText","api","param","scaledIds","originalId","blobSize","scaledId","qqparentuuid","qqparentsize","scalingEffort","scalingOptions","scaler","referenceType","scaledVersionProperties","startOfExt","versionType","scaledName","scaledExt","nameAppendage","sort","a","b","sourceFile","imageGenerator","scaledImageDataUri","signalSuccess","_insertExifHeader","scaledImageDataUriWithExif","originalImage","reader","insertionEffort","originalImageDataUri","readAsDataURL","_dataUriToBlob","_createBlob","chr1","chr2","enc1","enc2","enc3","output","chr3","enc4","KEY_STR","origFileBase64","resizedFileBase64","rawImage","decode64","segments","slice2Segments","exifManipulation","encode64","exifArray","getExifArray","newImageArray","insertExif","seg","imageData","buf","separatePoint","mae","ato","rawImageArray","head","endPoint","perFileProgress","totalLoaded","totalSize","lastLoadedSent","lastTotalSent","callbackProxy","onNew","updateTotalProgress","newLoaded","newTotal","oldLoaded","oldTotal","retryable","none","failedId","noRetryableFiles","detachPasteHandler","clipboardData","isImage","getAsFile","startUpload","formEl","validateForm","nativeSubmit","checkValidity","_form2Obj","determineNewEndpoint","submit","maybeUploadOnSubmit","determineFormEl","ignoreValue","checked","elements","select","selected","selectValue","createForm","responseFromMessage","doc","innerHtml","contentWindow","nodeValue","getIframeContentJson","multipart","allChunksDoneRequester","AllChunksDoneAjaxRequester","createReadyStateChangedHandler","onUploadOrChunkComplete","isErrorUploadResponse","parseResponse","sendChunksCompleteRequest","complete","getChunksCompleteParams","setParamsAndGetEntityToSend","entityToSendParams","xhrOverrides","customParams","defaultParams","xhrOverrideParams","setUploadHeaders","headersOptions","headerOverrides","headerName","headerValue","extraHeaders","uploadChunkParams","toSend","addChunkingSpecificParams","promises","endpointHandler","wildcard","reMimePartSplit","pattern","origDefineProperty","supportsDescriptors","arePropertyDescriptorsSupported","configurable","writable","defineProperties","predicates","props","callee","requirePromise","ES","getIntrinsic","iterable","C","Type","itemPromise","PromiseResolve","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setForEach","booleanValueOf","objectToString","bigIntValueOf","BigInt","inspectCustom","custom","inspectSymbol","isSymbol","wrapQuotes","defaultStyle","opts","quoteChar","quoteStyle","quote","inspect_","depth","seen","lowbyte","inspectString","Infinity","maxDepth","xs","inspect","f","nameOf","symString","markBoxed","HTMLElement","nodeName","isElement","attrs","attributes","childNodes","arrObjKeys","isMap","collectionOf","isSet","isNumber","isBigInt","isBoolean","isDate","isRegExp","hasOwn","8","9","10","12","13","isArr","$TypeError","$SyntaxError","Desc","isData","IsAccessor","recordType","argumentName","$isNaN","number","modulo","remain","floor","IsDataDescriptor","IsAccessorDescriptor","allSettled","DragAndDrop","dropZones","maybeHideDropZones","HIDE_ZONES_EVENT_NAME","HIDE_BEFORE_ENTER_ATTR","uploadDropZones","droppedFiles","traverseFileTree","parseEntryPromise","qqPath","extractDirectoryPath","fileError","dropLog","fullPath","isDirectory","getFilesInDirectory","accumEntries","existingPromise","dirReader","createReader","readEntries","newEntries","entriesLeft","indexOfNameInFullPath","setupDropzone","dropArea","dropZone","UploadDropZone","onEnter","dropActive","dragEnter","stopPropagation","onLeaveNotDescendants","dragLeave","onDrop","uploadDropZone","pendingFolderPromises","handleDataTransferPromise","processingDroppedFiles","dropDisabled","allowMultipleItems","processingDroppedFilesComplete","dropError","filesAsArray","getElement","uploadDroppedFiles","isFileDrag","dragEvent","fileDrag","types","dropZoneElements","y","leavingDocumentOut","setupExtraDropzone","removeDropzone","dzs","targetEl","errorSpecifics","preventDrop","dropOutsideDisabled","dragoverShouldBeCanceled","isValidFileDrag","effectTest","dt","isSafari","effectAllowed","includes","isOrSetDropDisabled","isDisabled","dropEffect","effect","relatedTarget","elementFromPoint","clientX","clientY","hideZonesEvent","triggerUsingOldApi","createEvent","initEvent","CustomEvent","dispatchEvent","triggerHidezonesEvent","getPolyfill","bound","rebindable","WildcardMatcher","separator","hasWild","ii","testParts","matches","partsCount","matcher","ERROR_MESSAGE","that","binder","boundLength","boundArgs","Empty","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","isArguments","theKeys","skipProto","j","skipConstructor","equalsConstructorPrototypeIfNotBuggy","ES2017","callBind","every","$String","$Object","$RegExp","$SymbolProto","$SymbolValueOf","$StringProto","$charAt","strSlice","$indexOf","$parseInt","isDigit","$PromiseResolveOrig","$PromiseResolve","$isEnumerable","$pushApply","$gOPS","ES2018","EnumerableOwnPropertyNames","EnumerableOwnProperties","thisSymbolValue","IsStringPrefix","q","pLength","NumberToString","CopyDataProperties","excludedItems","IsArray","IsPropertyKey","fromObj","ToObject","sourceKeys","ownKeys","OwnPropertyKeys","nextKey","excluded","SameValue","IsInteger","ToNumber","propValue","Get","CreateDataProperty","GetSubstitution","matched","captures","namedCaptures","matchLength","stringLength","capture","tailPos","current","isLast","nextIsLast","nextNext","nn","nnI","endIndex","groupName","ToString","IsPropertyDescriptor","ES2016","$Array","$arrayPush","ToIndex","integerIndex","ToInteger","ToLength","SameValueZero","O","kind","EnumerableOwnNames","results","IterableToList","GetIterator","IteratorStep","nextValue","IteratorValue","IterableToArrayLike","ES2015","$arraySlice","$arrayJoin","SameValueNonNumber","usingIterator","GetMethod","AdvanceStringIndex","g","sym","symObj","getOwnPropertyNames","syms","descriptor","toPrimitive","$RangeError","$ArrayPrototype","$Number","$Symbol","$Promise","$preventExtensions","preventExtensions","assertRecord","$isFinite","MAX_ARRAY_LENGTH","MAX_SAFE_INTEGER","sign","mod","isPrimitive","isSamePropertyDescriptor","isPropertyDescriptor","parseInteger","$PromiseThen","arraySlice","isBinary","isOctal","regexExec","nonWSregex","hasNonWS","isInvalidHexLiteral","$charCodeAt","$NumberValueOf","$BooleanValueOf","$StringValueOf","$DateValueOf","$SymbolToString","$floor","$abs","abs","$ObjectCreate","$gOPD","$gOPN","$isExtensible","isExtensible","$defineProperty","$setProto","setPrototypeOf","proto","DefineOwnProperty","P","desc","V","FromPropertyDescriptor","ws","trimRegex","$replace","ES5","hasRegExpMatcher","ES6","Call","F","IsCallable","ToPrimitive","argument","NaN","trimmed","ToInt16","int16bit","ToUint16","ToInt8","int8bit","ToUint8","posInt","ToUint8Clamp","RequireObjectCoercible","ToPropertyKey","CanonicalNumericIndexString","CheckObjectCoercible","IsConstructor","IsExtensible","IsRegExp","ToBoolean","GetV","func","SpeciesConstructor","defaultConstructor","S","species","CompletePropertyDescriptor","IsGenericDescriptor","Throw","HasOwnProperty","HasProperty","IsConcatSpreadable","isConcatSpreadable","spreadable","Invoke","argumentsList","actualMethod","IteratorNext","IteratorComplete","iterResult","IteratorClose","completion","completionRecord","completionThunk","iteratorReturn","innerResult","CreateIterResultObject","RegExpExec","R","ArraySpeciesCreate","originalArray","oldDesc","extensible","CreateDataPropertyOrThrow","ObjectCreate","internalSlotsList","slots","unicode","CreateMethodProperty","DefinePropertyOrThrow","ToPropertyDescriptor","DeletePropertyOrThrow","thisNumberValue","thisBooleanValue","thisStringValue","thisTimeValue","SetIntegrityLevel","currentDesc","TestIntegrityLevel","OrdinaryHasInstance","OrdinaryHasProperty","InstanceofOperator","instOfHandler","hasInstance","IsPromise","xType","yType","ValidateAndApplyPropertyDescriptor","oType","OrdinaryDefineOwnProperty","OrdinaryGetOwnProperty","arrayLength","regexLastIndex","ArrayCreate","A","ArraySetLength","newLenDesc","newLen","ToUint32","oldLenDesc","newWritable","oldLen","CreateHTML","tag","attribute","p1","GetOwnPropertyKeys","SymbolDescriptiveString","isCallable","ordinaryToPrimitive","hint","methodNames","exoticToPrim","getDay","tryDateObject","symToStr","symStringRegex","isSymbolObject","D1","D2","field","isPrefixOf","ToInt32","optMessage","Obj","setter","LeftFirst","px","nx","ny","ES5internalSlots","actualHint","methods","gOPD","lastIndex","tryRegexExecCall","polyfill","webpackContext","req","webpackContextResolve","EventEmitter","paperAdmin","ValidationError","captureStackTrace","stack","Uploader","_opts","dropzones","uploader","_makeUploader","getPaperParams","dataset","formatParams","plain_params","_this","is_loading","trigger","validationOptions","allowedMimeTypes","some","template","minImageWidth","minImageHeight","maxImageWidth","maxImageHeight","uploadedBytes","totalBytes","percentage","succeeded","errors","bootbox","_errors","formatErrors","showError","collectError","showCollectedErrors","preloader","formUtils","BaseWidget","uploadButton","cancelButton","changeButton","deleteButton","link","urls","change","delete","loading","empty","instanceId","initUploader","addListeners","_empty","newValue","classList","_loading","on","fileInfo","file_info","previewLink","_change","$dialog","$form","find","show","fetch","credentials","ok","statusText","cleanFormErrors","form_errors","addFormErrorsFromJSON","modal","catch","_delete","dialog","gettext","onEscape","buttons","label","confirm","queryString","URLSearchParams","whenDomReady","emitters","initWidget","closest","uploadUrl","changeUrl","deleteUrl","initWidgets","root","dom","Sortable","Collection","itemContainer","createButton","preloaderItem","preloaderTemplate","itemPreview","itemLink","itemCheckbox","itemName","changeItemButton","cancelItemButton","deleteItemButton","itemSelectorTemplate","collectionEmptyState","itemCheckedState","itemRemovingState","createCollection","deleteCollection","uploadItem","changeItem","deleteItem","sortItems","init","createCollectionUrl","deleteCollectionUrl","uploadItemUrl","changeItemUrl","deleteItemUrl","sortItemsUrl","uploadInput","sortable","initSortable","collectionId","order","importNode","content","queueId","itemType","item_type","templateSelector","preview","before","animation","draggable","handle","ghostClass","onEnd","pk","cleanItems","_createCollection","collection_id","_deleteItem","instance_id","_changeItem","_deleteCollection","lastItem","_checkItem","toggle","lastChecked","target_state","checkbox","ctrlKey","shiftKey","targetIndex","startIndex","min","checkedItems","delete_promises","MouseEvent","bubbles","cancelable","require"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,8BAIjBlC,EAAoBA,EAAoBmC,EAAI,I,+BC3ErD,IAEIC,EAAiBtB,OAAOuB,yBACxB,WAAc,OAAOvB,OAAOuB,yBAAyBC,UAAW,UAAUrB,IAA3E,GACA,WAAc,MAAM,IAAIsB,WAEvBC,EAA+B,mBAAXrB,QAAoD,iBAApBA,OAAOsB,SAE3DC,EAAW5B,OAAO6B,gBAAkB,SAAUC,GAAK,OAAOA,EAAEC,WAQ5DC,OAhBAC,EAkBAC,EAAmC,oBAAfC,gBAlBpBF,EAkB6DL,EAASO,YAEtEC,EAAa,CAChB,YAAaC,MACb,kBAA0C,oBAAhBC,iBAtBvBL,EAsBiEK,YACpE,2BAAmD,oBAAhBA,iBAvBhCL,EAuB0EK,YAAYpB,UACzF,6BAA8BQ,EAAaE,EAAS,GAAGvB,OAAOsB,kBAxB3DM,EAyBH,qBAAsBI,MAAMnB,UAC5B,yBAA0BmB,MAAMnB,UAAUqB,QAC1C,yBAA0BF,MAAMnB,UAAUsB,QAC1C,sBAAuBH,MAAMnB,UAAUuB,KACvC,wBAAyBJ,MAAMnB,UAAUwB,OACzC,0CA9BGT,EA+BH,yBA/BGA,EAgCH,kCAhCGA,EAiCH,0BAjCGA,EAkCH,kCAlCGA,EAmCH,mCAnCGA,EAoCH,6BAA8BD,GAAoBN,GAAcrB,OAAOsC,cAAgBX,EAAiB3B,OAAOsC,sBApC5GV,EAqCH,cAAkC,oBAAZW,aArCnBX,EAqCyDW,QAC5D,cAAeC,QACf,uBAAwBA,QAAQ3B,UAChC,eAAoC,oBAAb4B,cAxCpBb,EAwC2Da,SAC9D,wBAA6C,oBAAbA,cAzC7Bb,EAyCoEa,SAAS5B,UAChF,WAAY6B,KACZ,oBAAqBA,KAAK7B,UAC1B,gBAAiB8B,UACjB,yBAA0BC,mBAC1B,gBAAiBC,UACjB,yBAA0BC,mBAC1B,YAAaC,MACb,qBAAsBA,MAAMlC,UAC5B,WAAYmC,KACZ,gBAAiBC,UACjB,yBAA0BA,UAAUpC,UACpC,mBAA4C,oBAAjBqC,kBArDxBtB,EAqDmEsB,aACtE,4BAAqD,oBAAjBA,kBAtDjCtB,EAsD4EsB,aAAarC,UAC5F,mBAA4C,oBAAjBsC,kBAvDxBvB,EAuDmEuB,aACtE,4BAAqD,oBAAjBA,kBAxDjCvB,EAwD4EuB,aAAatC,UAC5F,eAAgBuC,SAChB,wBAAyBA,SAASvC,UAClC,qBA3DGe,EA4DH,6BA5DGA,EA6DH,8BA7DGA,EA8DH,gBAAsC,oBAAdyB,eA9DrBzB,EA8D6DyB,UAChE,yBAA+C,oBAAdA,eA/D9BzB,EA+DsEyB,UAAUxC,UACnF,iBAAwC,oBAAfyC,gBAhEtB1B,EAgE+D0B,WAClE,0BAAiD,oBAAfA,gBAjE/B1B,EAiEwEyB,UAAUxC,UACrF,iBAAwC,oBAAf0C,gBAlEtB3B,EAkE+D2B,WAClE,0BAAiD,oBAAfA,gBAnE/B3B,EAmEwE2B,WAAW1C,UACtF,eAAgB2C,SAChB,YAAaC,MACb,wBAAyBpC,EAAaE,EAASA,EAAS,GAAGvB,OAAOsB,mBAtE/DM,EAuEH,WAAY8B,KACZ,gBAAiBA,KAAKC,MACtB,UAA0B,oBAARC,SAzEfhC,EAyEiDgC,IACpD,2BAA2C,oBAARA,KAAwBvC,EAAyBE,GAAS,IAAIqC,KAAM5D,OAAOsB,kBA1E3GM,EA2EH,mBAAmC,oBAARgC,SA3ExBhC,EA2E0DgC,IAAI/C,UACjE,WAAYgD,KACZ,aAAcC,OACd,sBAAuBA,OAAOjD,UAC9B,aAAclB,OACd,sBAAuBA,OAAOkB,UAC9B,wBAAyBlB,OAAOkB,UAAUkD,SAC1C,uBAAwBpE,OAAOkB,UAAUmD,QACzC,iBAAkBC,WAClB,eAAgBC,SAChB,cAAkC,oBAAZC,aArFnBvC,EAqFyDuC,QAC5D,uBAA2C,oBAAZA,aAtF5BvC,EAsFkEuC,QAAQtD,UAC7E,wBAA4C,oBAAZsD,aAvF7BvC,EAuFmEuC,QAAQtD,UAAUuD,KACxF,kBAAsC,oBAAZD,aAxFvBvC,EAwF6DuC,QAAQE,IACxE,qBAAyC,oBAAZF,aAzF1BvC,EAyFgEuC,QAAQG,OAC3E,sBAA0C,oBAAZH,aA1F3BvC,EA0FiEuC,QAAQI,QAC5E,YAA8B,oBAAVC,WA3FjB5C,EA2FqD4C,MACxD,iBAAkBC,WAClB,0BAA2BA,WAAW5D,UACtC,qBAAsB6D,eACtB,8BAA+BA,eAAe7D,UAC9C,cAAkC,oBAAZ8D,aAhGnB/C,EAgGyD+C,QAC5D,aAAcC,OACd,sBAAuBA,OAAO/D,UAC9B,UAA0B,oBAARgE,SAnGfjD,EAmGiDiD,IACpD,2BAA2C,oBAARA,KAAwBxD,EAAyBE,GAAS,IAAIsD,KAAM7E,OAAOsB,kBApG3GM,EAqGH,mBAAmC,oBAARiD,SArGxBjD,EAqG0DiD,IAAIhE,UACjE,wBAAsD,oBAAtBiE,uBAtG7BlD,EAsG6EkD,kBAChF,iCAA+D,oBAAtBA,uBAvGtClD,EAuGsFkD,kBAAkBjE,UAC3G,aAAckE,OACd,8BAA+B1D,EAAaE,EAAS,GAAGvB,OAAOsB,kBAzG5DM,EA0GH,sBAAuBmD,OAAOlE,UAC9B,aAAcQ,EAAarB,YA3GxB4B,EA4GH,sBAAuBP,EAAarB,OAAOa,eA5GxCe,EA6GH,kBAAmBoD,YACnB,2BAA4BA,YAAYnE,UACxC,qBAAsBI,EACtB,iBAAkBY,EAClB,0BAA2BA,EAAaA,EAAWhB,eAjHhDe,EAkHH,gBAAiBR,UACjB,yBAA0BA,UAAUP,UACpC,iBAAwC,oBAAfiB,gBApHtBF,EAoH+DE,WAClE,0BAAiD,oBAAfA,gBArH/BF,EAqHwEE,WAAWjB,UACtF,wBAAsD,oBAAtBoE,uBAtH7BrD,EAsH6EqD,kBAChF,iCAA+D,oBAAtBA,uBAvHtCrD,EAuHsFqD,kBAAkBpE,UAC3G,kBAA0C,oBAAhBqE,iBAxHvBtD,EAwHiEsD,YACpE,2BAAmD,oBAAhBA,iBAzHhCtD,EAyH0EsD,YAAYrE,UACzF,kBAA0C,oBAAhBsE,iBA1HvBvD,EA0HiEuD,YACpE,2BAAmD,oBAAhBA,iBA3HhCvD,EA2H0EuD,YAAYtE,UACzF,eAAgBuE,SAChB,wBAAyBA,SAASvE,UAClC,cAAkC,oBAAZwE,aA9HnBzD,EA8HyDyD,QAC5D,uBAA2C,oBAAZA,aA/H5BzD,EA+HkEyD,QAAQxE,UAC7E,cAAkC,oBAAZyE,aAhInB1D,EAgIyD0D,QAC5D,uBAA2C,oBAAZA,aAjI5B1D,EAiIkE0D,QAAQzE,WAG9E7B,EAAOD,QAAU,SAAsBS,EAAM+F,GAC5C,GAAIpE,UAAUqE,OAAS,GAA6B,kBAAjBD,EAClC,MAAM,IAAInE,UAAU,6CAGrB,IAAIZ,EAAM,KAAOhB,EACjB,KAAMgB,KAAOuB,GACZ,MAAM,IAAIiD,YAAY,aAAexF,EAAO,oBAI7C,QAA+B,IAApBuC,EAAWvB,KAAyB+E,EAC9C,MAAM,IAAInE,UAAU,aAAe5B,EAAO,wDAE3C,OAAOuC,EAAWvB,K,6BCvJnB,IAAIC,EAAO,EAAQ,GAEnBzB,EAAOD,QAAU0B,EAAKrB,KAAKgE,SAAShE,KAAMO,OAAOkB,UAAUC,iB,6BCF3D,IAAIL,EAAO,EAAQ,GAIfgF,EAFe,EAAQ,EAEXC,CAAa,cACzBC,EAASF,EAAUG,MACnBC,EAAQJ,EAAUrG,KAEtBJ,EAAOD,QAAU,WAChB,OAAO0B,EAAKmF,MAAMC,EAAO1E,YAG1BnC,EAAOD,QAAQ6G,MAAQ,WACtB,OAAOnF,EAAKmF,MAAMD,EAAQxE,a,6BCb3B,IAAI2E,EAAiB,EAAQ,IAE7B9G,EAAOD,QAAUqE,SAASvC,UAAUJ,MAAQqF,G,6BCF5C9G,EAAOD,QAAU,WAChB,GAAuB,mBAAZoF,QACV,MAAM,IAAI/C,UAAU,kEAErB,GAA0B,mBAAfY,MAAM+D,KAChB,MAAM,IAAI3E,UAAU,8D,6BCLtB,IAAIsE,EAAe,EAAQ,GAEvBM,EAAM,EAAQ,GAEdC,EAAUP,EAAa,YAAYQ,OAEvClH,EAAOD,QAAU,SAAgBoH,EAAQC,GACxC,GAAIH,EACH,OAAOA,EAAQE,EAAQC,GAIxB,IAAK,IAAI5F,KAAO4F,EACXJ,EAAII,EAAQ5F,KACf2F,EAAO3F,GAAO4F,EAAO5F,IAGvB,OAAO2F,I,6BCjBR,IAAIE,EAAoB,SAA2BnG,GAClD,OAID,SAAyBA,GACxB,QAASA,GAA0B,iBAAVA,EALlBoG,CAAgBpG,KAQxB,SAAmBA,GAClB,IAAIqG,EAAc5G,OAAOkB,UAAUkD,SAAS3E,KAAKc,GAEjD,MAAuB,oBAAhBqG,GACa,kBAAhBA,GAQL,SAAwBrG,GACvB,OAAOA,EAAMsG,WAAaC,EARtBC,CAAexG,GAZdyG,CAAUzG,IAgBhB,IACIuG,EADiC,mBAAXzG,QAAyBA,OAAO4G,IAClB5G,OAAO4G,IAAI,iBAAmB,MAUtE,SAASC,EAA8B3G,EAAO4G,GAC7C,OAA0B,IAAlBA,EAAQC,OAAmBD,EAAQT,kBAAkBnG,GAC1D8G,GANiBC,EAMK/G,EALlB8B,MAAMkF,QAAQD,GAAO,GAAK,IAKA/G,EAAO4G,GACrC5G,EAPJ,IAAqB+G,EAUrB,SAASE,EAAkBhB,EAAQC,EAAQU,GAC1C,OAAOX,EAAOiB,OAAOhB,GAAQiB,KAAI,SAASC,GACzC,OAAOT,EAA8BS,EAASR,MAoBhD,SAASS,EAAQpB,GAChB,OAAOxG,OAAOyC,KAAK+D,GAAQiB,OAT5B,SAAyCjB,GACxC,OAAOxG,OAAO6H,sBACX7H,OAAO6H,sBAAsBrB,GAAQsB,QAAO,SAASC,GACtD,OAAOvB,EAAOwB,qBAAqBD,MAElC,GAI+BE,CAAgCzB,IAGnE,SAAS0B,EAAmBlH,EAAQC,GACnC,IACC,OAAOA,KAAYD,EAClB,MAAMmH,GACP,OAAO,GAWT,SAASC,EAAY5B,EAAQC,EAAQU,GACpC,IAAIkB,EAAc,GAiBlB,OAhBIlB,EAAQT,kBAAkBF,IAC7BoB,EAAQpB,GAAQhE,SAAQ,SAAS3B,GAChCwH,EAAYxH,GAAOqG,EAA8BV,EAAO3F,GAAMsG,MAGhES,EAAQnB,GAAQjE,SAAQ,SAAS3B,IAblC,SAA0B2F,EAAQ3F,GACjC,OAAOqH,EAAmB1B,EAAQ3F,MAC5Bb,OAAOmB,eAAe1B,KAAK+G,EAAQ3F,IACpCb,OAAOgI,qBAAqBvI,KAAK+G,EAAQ3F,KAWzCyH,CAAiB9B,EAAQ3F,KAIxBsG,EAAQT,kBAAkBD,EAAO5F,KAAUqH,EAAmB1B,EAAQ3F,GAG1EwH,EAAYxH,GAlDf,SAA0BA,EAAKsG,GAC9B,IAAKA,EAAQoB,YACZ,OAAOlB,EAER,IAAIkB,EAAcpB,EAAQoB,YAAY1H,GACtC,MAA8B,mBAAhB0H,EAA6BA,EAAclB,EA6CpCmB,CAAiB3H,EAAKsG,EAAtBqB,CAA+BhC,EAAO3F,GAAM4F,EAAO5F,GAAMsG,GAF5EkB,EAAYxH,GAAOqG,EAA8BT,EAAO5F,GAAMsG,OAKzDkB,EAGR,SAAShB,EAAUb,EAAQC,EAAQU,IAClCA,EAAUA,GAAW,IACbsB,WAAatB,EAAQsB,YAAcjB,EAC3CL,EAAQT,kBAAoBS,EAAQT,mBAAqBA,EAGzDS,EAAQD,8BAAgCA,EAExC,IAAIwB,EAAgBrG,MAAMkF,QAAQd,GAIlC,OAFgCiC,IADZrG,MAAMkF,QAAQf,GAKvBkC,EACHvB,EAAQsB,WAAWjC,EAAQC,EAAQU,GAEnCiB,EAAY5B,EAAQC,EAAQU,GAJ5BD,EAA8BT,EAAQU,GAQ/CE,EAAU3C,IAAM,SAAsBiE,EAAOxB,GAC5C,IAAK9E,MAAMkF,QAAQoB,GAClB,MAAM,IAAIvF,MAAM,qCAGjB,OAAOuF,EAAMC,QAAO,SAASC,EAAMC,GAClC,OAAOzB,EAAUwB,EAAMC,EAAM3B,KAC3B,KAGJ,IAAI4B,EAAc1B,EAElBhI,EAAOD,QAAU2J,G,6BClIjB,IAAIC,EAAQ3G,MAAMnB,UAAU8H,MACxBC,EAAS,EAAQ,IAEjBC,EAAWlJ,OAAOyC,KAClB0G,EAAWD,EAAW,SAAcnJ,GAAK,OAAOmJ,EAASnJ,IAAQ,EAAQ,IAEzEqJ,EAAepJ,OAAOyC,KAE1B0G,EAASE,KAAO,WACXrJ,OAAOyC,KACoB,WAE7B,IAAI6G,EAAOtJ,OAAOyC,KAAKjB,WACvB,OAAO8H,GAAQA,EAAKzD,SAAWrE,UAAUqE,OAHb,CAI3B,EAAG,KAEJ7F,OAAOyC,KAAO,SAAczB,GAC3B,OAAIiI,EAAOjI,GACHoI,EAAaJ,EAAMvJ,KAAKuB,IAEzBoI,EAAapI,KAItBhB,OAAOyC,KAAO0G,EAEf,OAAOnJ,OAAOyC,MAAQ0G,GAGvB9J,EAAOD,QAAU+J,G,8BC/BjB,YAEA,IAAII,EAAaC,EAAOnJ,OACpBoJ,EAAgB,EAAQ,IAE5BpK,EAAOD,QAAU,WAChB,MAA0B,mBAAfmK,IACW,mBAAXlJ,SACsB,iBAAtBkJ,EAAW,SACO,iBAAlBlJ,OAAO,QAEXoJ,U,+CCTR,IAAIC,EAAUjG,SAASvC,UAAUkD,SAE7BuF,EAAmB,cACnBC,EAAe,SAA4BrJ,GAC9C,IACC,IAAIsJ,EAAQH,EAAQjK,KAAKc,GACzB,OAAOoJ,EAAiBG,KAAKD,GAC5B,MAAOE,GACR,OAAO,IAaLC,EAAQhK,OAAOkB,UAAUkD,SAGzB6F,EAAmC,mBAAX5J,QAAuD,iBAAvBA,OAAOC,YAEnEjB,EAAOD,QAAU,SAAoBmB,GACpC,IAAKA,EAAS,OAAO,EACrB,GAAqB,mBAAVA,GAAyC,iBAAVA,EAAsB,OAAO,EACvE,GAAqB,mBAAVA,IAAyBA,EAAMW,UAAa,OAAO,EAC9D,GAAI+I,EAAkB,OAlBC,SAA0B1J,GACjD,IACC,OAAIqJ,EAAarJ,KACjBmJ,EAAQjK,KAAKc,IACN,GACN,MAAOwJ,GACR,OAAO,GAYqBG,CAAkB3J,GAC/C,GAAIqJ,EAAarJ,GAAU,OAAO,EAClC,IAAI4J,EAAWH,EAAMvK,KAAKc,GAC1B,MAXa,sBAWN4J,GAVO,+BAUiBA,I,6BCjChC9K,EAAOD,QAAU,SAAiBuJ,EAAOyB,GACxC,IAAK,IAAI9K,EAAI,EAAGA,EAAIqJ,EAAM9C,OAAQvG,GAAK,EACtC8K,EAASzB,EAAMrJ,GAAIA,EAAGqJ,K,6BCFxBtJ,EAAOD,QAAU,SAAeuJ,EAAO0B,GACtC,IAAK,IAAI/K,EAAI,EAAGA,EAAIqJ,EAAM9C,OAAQvG,GAAK,EACtC,IAAK+K,EAAU1B,EAAMrJ,GAAIA,EAAGqJ,GAC3B,OAAO,EAGT,OAAO,I,6CCRR,mCACA,SAAUa,QACN,IAAIc,GAAK,SAALA,EAAc3C,GACd,aACA,MAAO,CACH4C,KAAM,WAEF,OADA5C,EAAQ6C,MAAMC,QAAU,OACjBC,MAEXC,OAAQ,SAASC,EAAMC,GAMnB,OALIlD,EAAQmD,iBACRnD,EAAQmD,iBAAiBF,EAAMC,GAAI,GAC5BlD,EAAQoD,aACfpD,EAAQoD,YAAY,KAAOH,EAAMC,GAE9B,WACHP,EAAG3C,GAASqD,OAAOJ,EAAMC,KAGjCG,OAAQ,SAASJ,EAAMC,GAMnB,OALIlD,EAAQsD,oBACRtD,EAAQsD,oBAAoBL,EAAMC,GAAI,GAC/BlD,EAAQoD,aACfpD,EAAQuD,YAAY,KAAON,EAAMC,GAE9BH,MAEXS,SAAU,SAASC,GACf,QAAKA,IAGDzD,IAAYyD,IAGZzD,EAAQwD,SACDxD,EAAQwD,SAASC,MAEgC,EAA9CA,EAAWC,wBAAwB1D,OAGrD2D,aAAc,SAASC,GAEnB,OADAA,EAASC,WAAWF,aAAa3D,EAAS4D,GACnCb,MAEXe,OAAQ,WAEJ,OADA9D,EAAQ6D,WAAWE,YAAY/D,GACxB+C,MAEXiB,IAAK,SAASC,GACV,GAAqB,MAAjBjE,EAAQ6C,MACR,MAAM,IAAIF,EAAGlH,MAAM,8EAQvB,OANsB,MAAlBwI,EAAOC,SAC8B,iBAA1BlE,EAAQ6C,MAAMqB,cAAmD,IAApBlE,EAAQmE,UAC5DF,EAAO9D,OAAS,iBAAmB5D,KAAK6H,MAAM,IAAMH,EAAOC,SAAW,KAG9EvB,EAAG0B,OAAOrE,EAAQ6C,MAAOoB,GAClBlB,MAEXuB,SAAU,SAASpM,EAAMqM,GACrB,IAAIC,EAAK,IAAIlH,OAAO,QAAUpF,EAAO,SACrC,OAAOsM,EAAGrC,KAAKnC,EAAQyE,eAAiBF,IAAkBC,EAAGrC,KAAKnC,EAAQ6D,WAAWY,aAEzFC,SAAU,SAASxM,GAIf,OAHKyK,EAAG3C,GAASsE,SAASpM,KACtB8H,EAAQyE,WAAa,IAAMvM,GAExB6K,MAEX4B,YAAa,SAASzM,GAClB,IAAIsM,EAAK,IAAIlH,OAAO,QAAUpF,EAAO,SAErC,OADA8H,EAAQyE,UAAYzE,EAAQyE,UAAUG,QAAQJ,EAAI,KAAKI,QAAQ,aAAc,IACtE7B,MAEX8B,WAAY,SAASJ,EAAWK,GAC5B,IAAIC,EAAYC,EAAS,GACzB,OAAIF,GAAS9E,EAAQiF,cACVjF,EAAQiF,cAAc,IAAMR,GAC5BzE,EAAQkF,iBACRlF,EAAQkF,iBAAiB,IAAMT,IAE1CM,EAAa/E,EAAQmF,qBAAqB,KAC1CxC,EAAGyC,KAAKL,GAAY,SAASM,EAAK1F,GAC1BgD,EAAGhD,GAAK2E,SAASG,IACjBO,EAAOM,KAAK3F,MAGbmF,EAAQE,EAAO,GAAKA,IAE/BO,gBAAiB,SAASd,GACtB,OAAO9B,EAAG3C,GAAS6E,WAAWJ,GAAW,IAE7Ce,SAAU,WAEN,IADA,IAAIA,EAAW,GAAIC,EAAQzF,EAAQ0F,WAC5BD,GACoB,IAAnBA,EAAME,UACNH,EAASF,KAAKG,GAElBA,EAAQA,EAAMG,YAElB,OAAOJ,GAEXK,QAAS,SAASC,GAGd,OAFA9F,EAAQ+F,UAAYD,EACpB9F,EAAQgG,YAAcF,EACf/C,MAEXkD,UAAW,WACP,OAAOtD,EAAG3C,GAAS6F,QAAQ,KAE/BK,aAAc,SAASC,GACnB,IAAIC,EACJ,OAAIpG,EAAQkG,eACHlG,EAAQkG,aAAaC,IAGgC,MAAnD,WAAWE,KAAKrG,EAAQsG,aAAaH,SAG5B7L,KADhB8L,EAAUpG,EAAQmG,KAIiB,MAA5B,WAAWE,KAAKD,MA45J/BG,cAv5JR,WACI,aAqRe,IACPC,IArRR7D,GAAG8D,aAAe,SAASC,EAAQC,EAAMC,GACrC,OAAOjE,GAAGkE,cAAcH,EAAOI,UAAUH,EAAMC,KAEnDjE,GAAGkE,cAAgB,SAASE,GACxB,IAAIC,EAAaC,EAUdC,EAAUC,EAVsCC,EAAMT,EACjDU,EAA+GC,EAqBvH,OAVIL,EADAF,EAAQQ,MAAM,KAAK,GAAGC,QAAQ,WAAa,EAC9BC,KAAKV,EAAQQ,MAAM,KAAK,IAExBlM,UAAU0L,EAAQQ,MAAM,KAAK,IAE9CJ,EAAaJ,EAAQQ,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAC5DP,EAAc,IAAIrM,YAAYsM,EAAW/I,QACzCgJ,EAAW,IAAI1M,WAAWwM,GAC1BrE,GAAGyC,KAAK6B,GAAY,SAAS5B,EAAKqC,GAC9BR,EAAS7B,GAAOqC,EAAUC,WAAW,MApBUP,EAsBjCJ,EAtBuCL,EAsB1BQ,EArBvBE,EAAcO,OAAOP,aAAeO,OAAOC,mBAAqBD,OAAOE,gBAAkBF,OAAOG,eAAeT,EAAcD,GAAe,IAAIA,IAEhJC,EAAYU,OAAOZ,GACZE,EAAYW,QAAQtB,IAEpB,IAAIuB,KAAK,CAAEd,GAAQ,CACtBnE,KAAM0D,KAiBtBhE,GAAGwF,IAAM,SAASC,EAASC,GACnBT,OAAOU,UACFD,GAAmB,SAAVA,EAGNT,OAAOU,QAAQD,GACfT,OAAOU,QAAQD,GAAOD,GAEtBR,OAAOU,QAAQH,IAAI,IAAME,EAAQ,KAAOD,GAL5CR,OAAOU,QAAQH,IAAIC,KAU/BzF,GAAG4F,SAAW,SAASC,GACnB,OAAOA,IAAaA,EAAS7C,UAAyD,oBAA7CtN,OAAOkB,UAAUkD,SAAS3E,KAAK0Q,IAE5E7F,GAAG8F,WAAa,SAASD,GACrB,MAA2B,mBAAbA,GAElB7F,GAAG/C,QAAU,SAAShH,GAClB,MAAiD,mBAA1CP,OAAOkB,UAAUkD,SAAS3E,KAAKc,IAA+BA,GAASgP,OAAOjN,aAAe/B,EAAM8P,QAAU9P,EAAM8P,OAAOC,cAAgBhO,aAErJgI,GAAGiG,WAAa,SAASC,GACrB,MAAyD,kCAAlDxQ,OAAOkB,UAAUkD,SAAS3E,KAAK+Q,IAE1ClG,GAAGmG,WAAa,SAASC,GACrB,MAAyD,sBAAlD1Q,OAAOkB,UAAUkD,SAAS3E,KAAKiR,IAA0CA,EAAcC,MAAQD,EAAcE,WAExHtG,GAAGuG,SAAW,SAASC,GACnB,MAAuD,oBAAhD9Q,OAAOkB,UAAUkD,SAAS3E,KAAKqR,IAE1CxG,GAAGyG,QAAU,SAASC,GAClB,OAAI5L,OAAOlE,UAAU+P,KACVD,EAAOC,OAEXD,EAAOzE,QAAQ,aAAc,KAExCjC,GAAG4G,OAAS,SAASC,GACjB,IAAI7H,EAAOjH,MAAMnB,UAAU8H,MAAMvJ,KAAK+B,UAAW,GAAI4P,EAASD,EAAKE,EAAmBD,EAAOjC,QAAQ,MASrG,OARA7E,GAAGyC,KAAKzD,GAAM,SAAS0D,EAAK1F,GACxB,IAAIgK,EAAYF,EAAOG,UAAU,EAAGF,GAAmBG,EAAWJ,EAAOG,UAAUF,EAAmB,GAGtG,IADAA,GADAD,EAASE,EAAYhK,EAAMkK,GACDrC,QAAQ,KAAMkC,EAAmB/J,EAAIzB,SACxC,EACnB,OAAO,KAGRuL,GAEX9G,GAAGmH,OAAS,SAASC,GACjB,OAAOnC,OAAOoC,MAAsD,kBAA9C3R,OAAOkB,UAAUkD,SAAS3E,KAAKiS,IAEzDpH,GAAGsH,WAAa,SAASC,GACrB,OAAOtC,OAAOuC,UAA8D,sBAAlD9R,OAAOkB,UAAUkD,SAAS3E,KAAKoS,IAE7DvH,GAAGyH,cAAgB,SAASC,GACxB,OAAO1H,GAAGmH,OAAOO,IAAqB1H,GAAG2H,QAAQD,IAErD1H,GAAG2H,QAAU,SAASC,EAAYC,GAC9B,IAAIC,EAAe,SAASxH,GACxB,IAAIyH,EAAiBzH,EAAK0H,cAC1B,OAAIH,EAC0B,SAAnBE,EAEe,SAAnBA,GAEX,SAAI9C,OAAOgD,kBAC4C,8BAA/CvS,OAAOkB,UAAUkD,SAAS3E,KAAKyS,IAC3BA,EAAWtH,MAAQwH,EAAaF,EAAWtH,WAKnDsH,EAAWM,SAC8B,UAArCN,EAAWM,QAAQF,eACfJ,EAAWtH,MAAQwH,EAAaF,EAAWtH,QAO3DN,GAAGmI,OAAS,SAASC,GACjB,GAAInD,OAAOM,MAAsD,kBAA9C7P,OAAOkB,UAAUkD,SAAS3E,KAAKiT,GAC9C,OAAO,GAGfpI,GAAGqI,qBAAuB,WACtB,IAAIC,EAAQC,SAASC,cAAc,SAEnC,OADAF,EAAMhI,KAAO,YACa3I,IAAnB2Q,EAAMG,UAA0C,oBAATpB,MAA4C,oBAAbqB,eAAqE,IAAlC1I,GAAG2I,oBAAoBC,QAE3I5I,GAAG2I,kBAAoB,WACnB,GAAI1D,OAAO4D,eACP,OAAO,IAAIA,eAEf,IACI,OAAO,IAAIC,cAAc,sBAC3B,MAAOC,GAEL,OADA/I,GAAGwF,IAAI,wCAAyC,SACzC,OAGfxF,GAAGgJ,sBAAwB,SAASC,GAChC,OAAOA,EAAaC,OAASD,EAAaC,MAAM3N,OAAS,GAAK0N,EAAaC,MAAM,GAAGC,kBAExFnJ,GAAGoJ,wBAA0B,WACzB,OAAQpJ,GAAGqJ,gBAAkBrJ,GAAGqI,8BAAoD1Q,IAAzB0P,KAAKzQ,UAAU8H,YAAsD/G,IAA/B0P,KAAKzQ,UAAU0S,kBAAyD3R,IAA5B0P,KAAKzQ,UAAU2S,WAEhKvJ,GAAGwJ,UAAY,SAASC,EAAYC,EAAOC,GAEvC,OADaF,EAAW/K,OAAS+K,EAAWF,UAAYE,EAAWH,aACrDnU,KAAKsU,EAAYC,EAAOC,IAE1C3J,GAAG4J,iBAAmB,SAAS7D,GAC3B,IAAI8D,EAAa,GAAIC,EAAQ,IAAIjS,WAAWkO,GAQ5C,OAPA/F,GAAGyC,KAAKqH,GAAO,SAASpH,EAAKqH,GACzB,IAAIC,EAAeD,EAAIjQ,SAAS,IAC5BkQ,EAAazO,OAAS,IACtByO,EAAe,IAAMA,GAEzBH,GAAcG,KAEXH,GAEX7J,GAAGiK,cAAgB,SAASC,EAAMC,EAAa5O,GAC3C,IAAI6O,EAAcpK,GAAGwJ,UAAUU,EAAMC,EAAaA,EAAc5O,GAAS8O,EAAa,IAAIC,WAAcC,EAAU,IAAIvK,GAAG9F,QAMzH,OALAmQ,EAAWG,OAAS,WAChBD,EAAQE,QAAQzK,GAAG4J,iBAAiBS,EAAWhI,UAEnDgI,EAAWK,QAAUH,EAAQI,QAC7BN,EAAWO,kBAAkBR,GACtBG,GAEXvK,GAAG0B,OAAS,SAASS,EAAO0I,EAAQC,GAWhC,OAVA9K,GAAGyC,KAAKoI,GAAQ,SAASE,EAAM/N,GACvB8N,GAAgB9K,GAAG4F,SAAS5I,SACRrF,IAAhBwK,EAAM4I,KACN5I,EAAM4I,GAAQ,IAElB/K,GAAG0B,OAAOS,EAAM4I,GAAO/N,GAAK,IAE5BmF,EAAM4I,GAAQ/N,KAGfmF,GAEXnC,GAAGgL,SAAW,SAAS9O,EAAQ+O,GAC3B,IAAIC,EAAS,GAAI/O,EAAS8O,EAASC,GAOnC,OANAlL,GAAGyC,KAAKtG,GAAQ,SAASgP,EAAaC,QACNzT,IAAxBuE,EAAOiP,KACPD,EAAOC,GAAejP,EAAOiP,IAEjCjP,EAAOiP,GAAeC,KAEnBlP,GAEX8D,GAAG6E,QAAU,SAASwG,EAAKC,EAAKxP,GAC5B,GAAIuP,EAAIxG,QACJ,OAAOwG,EAAIxG,QAAQyG,EAAKxP,GAE5BA,EAAOA,GAAQ,EACf,IAAIyP,EAAMF,EAAI9P,OAId,IAHIO,EAAO,IACPA,GAAQyP,GAENzP,EAAOyP,EAAKzP,GAAQ,EACtB,GAAIuP,EAAIxU,eAAeiF,IAASuP,EAAIvP,KAAUwP,EAC1C,OAAOxP,EAGf,OAAQ,GAEZkE,GAAGwL,YAAc,WACb,MAAO,uCAAuCvJ,QAAQ,SAAS,SAAS5M,GACpE,IAAIS,EAAoB,GAAhB8D,KAAK6R,SAAgB,EAC7B,OADyC,KAALpW,EAAWS,EAAQ,EAAJA,EAAQ,GAClDgE,SAAS,QAG1BkG,GAAG0L,GAAK,WACJ,OAAgD,IAAzCC,UAAUC,UAAU/G,QAAQ,UAA8D,IAA5C8G,UAAUC,UAAU/G,QAAQ,YAErF7E,GAAG6L,IAAM,WACL,OAAkD,IAA3CF,UAAUC,UAAU/G,QAAQ,WAEvC7E,GAAG8L,IAAM,WACL,OAAkD,IAA3CH,UAAUC,UAAU/G,QAAQ,WAEvC7E,GAAG+L,KAAO,WACN,OAAmD,IAA5CJ,UAAUC,UAAU/G,QAAQ,YAEvC7E,GAAGgM,KAAO,WACN,OAAOhM,GAAG0L,OAAkD,IAA1CC,UAAUC,UAAU/G,QAAQ,UAElD7E,GAAGiM,KAAO,WACN,OAAON,UAAUC,UAAU/G,QAAQ,SAAW,GAElD7E,GAAGkM,OAAS,WACR,YAA4BvU,IAArBgU,UAAUQ,SAA+D,IAAvCR,UAAUQ,OAAOtH,QAAQ,UAEtE7E,GAAGoM,OAAS,WACR,YAA4BzU,IAArBgU,UAAUQ,SAAgE,IAAxCR,UAAUQ,OAAOtH,QAAQ,WAEtE7E,GAAGqM,MAAQ,WACP,YAA4B1U,IAArBgU,UAAUQ,SAA+D,IAAvCR,UAAUQ,OAAOtH,QAAQ,UAEtE7E,GAAGsM,QAAU,WACT,OAAQtM,GAAGiM,SAAWjM,GAAGgM,SAAsD,IAA5CL,UAAUC,UAAU/G,QAAQ,iBAA0ClN,IAArBgU,UAAUQ,QAA6C,KAArBR,UAAUQ,QAEpInM,GAAGuM,QAAU,WACT,MAA8B,UAAvBZ,UAAUa,UAErBxM,GAAGyM,QAAU,WACT,OAAiE,IAA1Dd,UAAUC,UAAU5D,cAAcnD,QAAQ,YAErD7E,GAAGqJ,aAAe,WACd,OAAOrJ,GAAGyM,WAAad,UAAUC,UAAU5D,cAAcnD,QAAQ,UAAY,GAAK8G,UAAUC,UAAU5D,cAAcnD,QAAQ,WAAa,GAE7I7E,GAAG0M,KAAO,WACN,OAAO1M,GAAG2M,QAAoD,IAA3ChB,UAAUC,UAAU/G,QAAQ,WAEnD7E,GAAG4M,KAAO,WACN,OAAO5M,GAAG2M,QAAoD,IAA3ChB,UAAUC,UAAU/G,QAAQ,WAEnD7E,GAAG6M,KAAO,WACN,OAAO7M,GAAG2M,QAAoD,IAA3ChB,UAAUC,UAAU/G,QAAQ,WAEnD7E,GAAG8M,OAAS,WACR,OAAO9M,GAAG2M,QAAsD,IAA7ChB,UAAUC,UAAU/G,QAAQ,aAEnD7E,GAAG2M,IAAM,WACL,OAAgD,IAAzChB,UAAUC,UAAU/G,QAAQ,UAA2D,IAAzC8G,UAAUC,UAAU/G,QAAQ,UAA6D,IAA3C8G,UAAUC,UAAU/G,QAAQ,WAEnI7E,GAAG+M,UAAY,WACX,OAAO/M,GAAG2M,QAAmD,IAA1ChB,UAAUC,UAAU/G,QAAQ,UAEnD7E,GAAGgN,UAAY,WACX,OAAOhN,GAAG2M,QAAU3M,GAAG+M,cAA0D,IAA3CpB,UAAUC,UAAU/G,QAAQ,WAEtE7E,GAAGiN,iBAAmB,WAClB,OAAOjN,GAAG2M,QAAU3M,GAAG+M,cAAgB/M,GAAGgN,aAE9ChN,GAAGkN,eAAiB,SAASzN,GACrBA,EAAEyN,eACFzN,EAAEyN,iBAEFzN,EAAE0N,aAAc,GAGxBnN,GAAGoN,WACKvJ,IAAM0E,SAASC,cAAc,OAC1B,SAAS6E,GACZxJ,IAAIyJ,UAAYD,EAChB,IAAIhQ,EAAUwG,IAAId,WAElB,OADAc,IAAIzC,YAAY/D,GACTA,IAGf2C,GAAGyC,KAAO,SAAS8K,EAAczN,GAC7B,IAAI0N,EACJ,GAAID,EACA,GAAItI,OAAOwI,SAAWF,EAAavH,cAAgBf,OAAOwI,QACtD,IAAKD,EAAa,EAAGA,EAAaD,EAAahS,SAE5B,IADNuE,EAASyN,EAAahX,IAAIiX,GAAaD,EAAaG,QAAQH,EAAahX,IAAIiX,KADnCA,UAMpD,GAAIxN,GAAG/C,QAAQsQ,IAAiBvN,GAAGiG,WAAWsH,IAAiBvN,GAAGmG,WAAWoH,GAChF,IAAKC,EAAa,EAAGA,EAAaD,EAAahS,SAE5B,IADNuE,EAAS0N,EAAYD,EAAaC,IADQA,UAMpD,GAAIxN,GAAGuG,SAASgH,GACnB,IAAKC,EAAa,EAAGA,EAAaD,EAAahS,SAE5B,IADNuE,EAAS0N,EAAYD,EAAaI,OAAOH,IADCA,UAOvD,IAAKA,KAAcD,EACf,GAAI7X,OAAOkB,UAAUC,eAAe1B,KAAKoY,EAAcC,KAEpC,IADN1N,EAAS0N,EAAYD,EAAaC,IAEvC,OAOxBxN,GAAGxJ,KAAO,SAASoX,EAASC,GACxB,GAAI7N,GAAG8F,WAAW8H,GAAU,CACxB,IAAI5O,EAAOjH,MAAMnB,UAAU8H,MAAMvJ,KAAK+B,UAAW,GACjD,OAAO,WACH,IAAI4W,EAAU9N,GAAG0B,OAAO,GAAI1C,GAI5B,OAHI9H,UAAUqE,SACVuS,EAAUA,EAAQ3Q,OAAOpF,MAAMnB,UAAU8H,MAAMvJ,KAAK+B,aAEjD0W,EAAQjS,MAAMkS,EAASC,IAGtC,MAAM,IAAIhV,MAAM,wCAEpBkH,GAAG+N,QAAU,SAASC,EAAKC,EAAMC,GAC7B,IAAIC,EAAa,GAAIC,EAAS,IAAKC,EAAM,SAASC,EAAStZ,GACvD,IAAIuZ,EAAWN,EAAO,QAAQzO,KAAKyO,GAAQA,EAAOA,EAAO,IAAMjZ,EAAI,IAAMA,EACxD,cAAbuZ,GAAkC,cAANvZ,GAC5BmZ,EAAWxL,KAAwB,iBAAZ2L,EAAuBtO,GAAG+N,QAAQO,EAASC,GAAU,GAAoD,sBAA5C7Y,OAAOkB,UAAUkD,SAAS3E,KAAKmZ,GAAmCzV,mBAAmB0V,GAAY,IAAM1V,mBAAmByV,KAAazV,mBAAmB0V,GAAY,IAAM1V,mBAAmByV,KAkB3R,OAfKJ,GAAcD,GACfG,EAAS,KAAK5O,KAAKyO,GAAQ,MAAMzO,KAAKyO,GAAQ,GAAK,IAAM,IACzDE,EAAWxL,KAAKsL,GAChBE,EAAWxL,KAAK3C,GAAG+N,QAAQC,KACoB,mBAAxCtY,OAAOkB,UAAUkD,SAAS3E,KAAK6Y,SAA4C,IAARA,EAC1EhO,GAAGyC,KAAKuL,GAAK,SAAStL,EAAK1F,GACvBqR,EAAIrR,EAAK0F,MAEN,MAAOsL,GAAsD,iBAARA,EAC5DhO,GAAGyC,KAAKuL,GAAK,SAASjD,EAAM/N,GACxBqR,EAAIrR,EAAK+N,MAGboD,EAAWxL,KAAK9J,mBAAmBoV,GAAQ,IAAMpV,mBAAmBmV,IAEpEC,EACOE,EAAWK,KAAKJ,GAEhBD,EAAWK,KAAKJ,GAAQnM,QAAQ,KAAM,IAAIA,QAAQ,OAAQ,MAGzEjC,GAAGyO,aAAe,SAAST,EAAKU,EAAUC,GActC,OAbKD,IACDA,EAAW,IAAIhG,UAEnB1I,GAAGyC,KAAKuL,GAAK,SAASzX,EAAKyG,GACvBzG,EAAMoY,EAAeA,EAAe,IAAMpY,EAAM,IAAMA,EAClDyJ,GAAG4F,SAAS5I,GACZgD,GAAGyO,aAAazR,EAAK0R,EAAUnY,GACxByJ,GAAG8F,WAAW9I,GACrB0R,EAASrJ,OAAO9O,EAAKyG,KAErB0R,EAASrJ,OAAO9O,EAAKyG,MAGtB0R,GAEX1O,GAAG4O,WAAa,SAASZ,EAAKa,GAC1B,IAAIvG,EAYJ,OAXKuG,IACDA,EAAOtG,SAASC,cAAc,SAElCxI,GAAGyO,aAAaT,EAAK,CACjB3I,OAAQ,SAAS9O,EAAKyG,IAClBsL,EAAQC,SAASC,cAAc,UACzBsG,aAAa,OAAQvY,GAC3B+R,EAAMwG,aAAa,QAAS9R,GAC5B6R,EAAKE,YAAYzG,MAGlBuG,GAEX7O,GAAGgP,UAAY,SAASC,MACpB,OAAIhK,OAAOxL,MAAQuG,GAAG8F,WAAWrM,KAAKC,OAC3BD,KAAKC,MAAMuV,MAEXlW,KAAK,IAAMkW,KAAO,MAGjCjP,GAAGkP,aAAe,SAASC,GACvB,IAAIC,EAASD,EAASE,YAAY,KAAO,EACzC,GAAID,EAAS,EACT,OAAOD,EAASG,OAAOF,EAAQD,EAAS5T,OAAS6T,IAGzDpP,GAAGuP,YAAc,SAASC,GACtB,OAAIxP,GAAG2H,QAAQ6H,GACJA,EAAgBvZ,MAAMgM,QAAQ,YAAa,IAC3CjC,GAAGmH,OAAOqI,IACgB,OAA7BA,EAAgBC,eAAkD9X,IAA7B6X,EAAgBC,SAC9CD,EAAgBC,SAGxBD,EAAgBja,MAE3ByK,GAAG0P,eAAiB,WAChB,IAAIC,EAAY,GAChB,MAAO,CACHC,QAAS,WACL,IAAIC,EACJ,IACIA,EAAWF,EAAUG,UAEjBD,UAECA,IAEbxP,OAAQ,WACJ,IAAIrB,EAAO9H,UACXkJ,KAAK2P,YAAY/P,GAAGhB,EAAK,IAAIqB,OAAO1E,MAAMyE,KAAMrI,MAAMnB,UAAU8H,MAAMvJ,KAAK+B,UAAW,MAE1F6Y,YAAa,SAASC,GAClBL,EAAUhN,KAAKqN,MAnb/B,GAwbA,WACI,kBAEU,KAANC,yCACI,OAAOjQ,IADL,kGAHd,GAYA,WACI,aACAA,GAAGlH,MAAQ,SAAS2M,GAChBrF,KAAKqF,QAAU,kBAAoBzF,GAAGkQ,QAAU,KAAOzK,GAE3DzF,GAAGlH,MAAMlC,UAAY,IAAIkC,MAL7B,GAOAkH,GAAGkQ,QAAU,QACblQ,GAAGmQ,kBAAoB,WACnB,aACA,IAAIC,EAAmBC,EAAwBC,EAAkBC,EAA2BC,EAAoBC,EAAkBC,EAAgBC,EAAwBC,EAAoBC,EAAuBC,EAA2BC,EAAwBC,EAAyBC,EAAuBC,EA6ChTC,EAQA7I,EAnCR,SAAS8I,IACL,QAAInM,OAAO4D,qBAEwBlR,IADrBqI,GAAG2I,oBACF0I,gBAInB,SAASC,IACL,YAAiC3Z,IAA1BsN,OAAOsM,eA8ClB,OAxBAnB,EA/CA,WACI,IAAsBoB,EAAlBC,GAAY,EAChB,KACID,EAAYjJ,SAASC,cAAc,UACzBlI,KAAO,OACjBN,GAAGwR,GAAWvR,OACVuR,EAAUE,WACVD,GAAY,GAElB,MAAOE,GACLF,GAAY,EAEhB,OAAOA,EAmCSG,GAEpBvB,GADAE,EAA4BH,GAAqBpQ,GAAGqI,0BACGrI,GAAGqJ,eAE1DmH,GADAF,EAAmBC,KALP,cADJY,EAAO5I,SAASC,cAAc,UACH,gBAAiB2I,GAAQ,WAAYA,KAAUnR,GAAGyM,YAAczM,GAAG2M,WAO9FrE,EAAQC,SAASC,cAAc,UAC7BlI,KAAO,UACH,oBAAsBgI,GAASC,SAAShG,iBAAiB,oBAAoB,MAE3FkO,EAAmBF,GAA6BvQ,GAAGoJ,0BACnDsH,EAAiBH,GAA6BE,GArB9C,WACI,IACI,QAASxL,OAAO4M,cAAgB7R,GAAG8F,WAAWb,OAAO4M,aAAaC,SACpE,MAAO/I,GACL,OAAO,GAiBmDgJ,GAClEpB,EAAyBJ,IA3CbvQ,GAAGoM,UAAYpM,GAAGqM,eAAiF1U,IAArEgU,UAAUC,UAAUoG,MAAM,uCA4CpEpB,EAAqBR,SAA6CzY,IAAvBsN,OAAOgN,aAA6B1B,GAC/EO,EAA4BM,IAC5BP,EAAwBS,IACxBP,IAlCQK,KAGGE,IAgCXN,OA7B+DrZ,IAApD4Q,SAASC,cAAc,SAAS0J,gBA8B3CjB,EAAwBV,QAAmD5Y,IAAtBsN,OAAOqF,WAC5D4G,IACQX,IACQvQ,GAAGqJ,iBAAmBrJ,GAAG+M,YAIlC,CACHoF,cAAe5B,EACf6B,cAAe/B,EACfgC,iBAAkB9B,EAClB+B,SAAU7B,EACV8B,eAAgBxB,EAChByB,kBAAmB3B,EACnB4B,kBAAmB3B,EACnB4B,gBAAiBzN,OAAO0N,kBACxBC,SAAUtC,EACVuC,WAAYrC,EACZsC,gBAAiB9B,EACjB+B,cAAe9B,EACf+B,gBAAiB/B,EACjBgC,mBAAoB1C,EACpB2C,MAAOzC,EACP0C,YAAajC,EACbkC,OAAQ1C,EACR2C,QAASpC,GAAyBZ,EAClCiD,aAActT,GAAGkM,SACjBqH,0BAA2BvT,GAAG2M,MAC9B6G,UAAWpD,EACXqD,WAAY7C,EACZ8C,oBAAqBnD,EACrBoD,mBAAoBpD,EACpBqD,eAAgBjD,GAnGD,GAsGvB3Q,GAAG6T,iBAAmB,SAASC,GAC3B,aACA,SAAUA,GAAgBA,EAAa3Z,MAAQ6F,GAAG8F,WAAWgO,EAAa3Z,QAE9E6F,GAAG9F,QAAU,WACT,aACA,IAAI6Z,EAAaC,EAAaC,EAAmB,GAAIC,EAAmB,GAAIC,EAAgB,GAAIC,EAAQ,EACxGpU,GAAG0B,OAAOtB,KAAM,CACZjG,KAAM,SAASka,EAAWC,GAatB,OAZc,IAAVF,GACIC,GACAJ,EAAiBtR,KAAK0R,GAEtBC,GACAJ,EAAiBvR,KAAK2R,KAER,IAAXF,EACPE,GAAaA,EAAU3Y,MAAM,KAAMqY,GAC5BK,GACPA,EAAU1Y,MAAM,KAAMoY,GAEnB3T,MAEXmU,KAAM,SAASzU,GAMX,OALc,IAAVsU,EACAD,EAAcxR,KAAK7C,GAEnBA,EAASnE,MAAM,UAAsBhE,IAAhBqc,EAA4BD,EAAcC,GAE5D5T,MAEXqK,QAAS,WAaL,OAZA2J,EAAQ,EACRL,EAAc7c,UACV+c,EAAiB1Y,QACjByE,GAAGyC,KAAKwR,GAAkB,SAASvR,EAAK5C,GACpCA,EAASnE,MAAM,KAAMoY,MAGzBI,EAAc5Y,QACdyE,GAAGyC,KAAK0R,GAAe,SAASzR,EAAK5C,GACjCA,EAASnE,MAAM,KAAMoY,MAGtB3T,MAEXuK,QAAS,WAaL,OAZAyJ,GAAS,EACTJ,EAAc9c,UACVgd,EAAiB3Y,QACjByE,GAAGyC,KAAKyR,GAAkB,SAASxR,EAAK5C,GACpCA,EAASnE,MAAM,KAAMqY,MAGzBG,EAAc5Y,QACdyE,GAAGyC,KAAK0R,GAAe,SAASzR,EAAK5C,GACjCA,EAASnE,MAAM,KAAMqY,MAGtB5T,SAInBJ,GAAGwU,UAAY,SAASC,EAAeC,GACnC,aACA1U,GAAG0B,OAAOtB,KAAM,CACZqU,cAAeA,EACfne,OAAQ,WACJ,OAAOoe,EAASD,OAI5BzU,GAAG2U,aAAe,SAASlf,GACvB,aACA,IAWG6S,EAAOsM,EAXNC,EAAOzU,KAAM0U,EAAiB,IAAI9U,GAAG0P,eAAkB7S,EAAU,CACjEkY,YAAa,KACb1X,QAAS,KACT2X,WAAY,yBACZC,SAAS,EACTC,WAAY,yBACZC,4BAA4B,EAC5B1M,UAAU,EACVlT,KAAM,SACN6f,SAAU,SAAS9M,KACnB+M,MAAO,MAIX,SAASC,IACL,IAAIhN,EAAQC,SAASC,cAAc,SA0CnC,OAzCAF,EAAMwG,aAAa9O,GAAG2U,aAAaY,oBAAqBX,GACxDtM,EAAMwG,aAAa,QAASjS,EAAQwY,OACpCR,EAAKW,YAAY3Y,EAAQ4L,SAAUH,GAC/BzL,EAAQoY,SAAWjV,GAAGmQ,kBAAkB2C,iBACxCxK,EAAMwG,aAAa,kBAAmB,IAEtCjS,EAAQkY,aACRzM,EAAMwG,aAAa,SAAUjS,EAAQkY,aAEzCzM,EAAMwG,aAAa,OAAQ,QAC3BxG,EAAMwG,aAAa,OAAQjS,EAAQtH,MACnCyK,GAAGsI,GAAOjH,IAAI,CACVoU,SAAU,WACVC,MAAO,EACPC,IAAK,EACLC,WAAY,QACZC,SAAU7V,GAAG0L,OAAS1L,GAAG8L,MAAQ,SAAW,QAC5CgK,OAAQ,EACRC,QAAS,EACTC,OAAQ,UACRzU,QAAS,KAEZvB,GAAG6L,OAAS7L,GAAGsI,GAAOjH,IAAI,CACvB4U,OAAQ,SAEZpZ,EAAQQ,QAAQ0R,YAAYzG,GAC5BwM,EAAezU,OAAOiI,EAAO,UAAU,WACnCzL,EAAQuY,SAAS9M,MAErBwM,EAAezU,OAAOiI,EAAO,aAAa,WACtCtI,GAAGnD,EAAQQ,SAAS0E,SAASlF,EAAQqY,eAEzCJ,EAAezU,OAAOiI,EAAO,YAAY,WACrCtI,GAAGnD,EAAQQ,SAAS2E,YAAYnF,EAAQqY,eAE5CJ,EAAezU,OAAOiI,EAAO,SAAS,WAClCtI,GAAGnD,EAAQQ,SAAS0E,SAASlF,EAAQmY,eAEzCF,EAAezU,OAAOiI,EAAO,QAAQ,WACjCtI,GAAGnD,EAAQQ,SAAS2E,YAAYnF,EAAQmY,eAErC1M,EA7CXtI,GAAG0B,OAAO7E,EAASpH,GACnBmf,EAAW5U,GAAGwL,cA8CdxL,GAAGnD,EAAQQ,SAASgE,IAAI,CACpBoU,SAAU,WACVS,SAAU,SACVC,UAAW,QAEfnW,GAAG0B,OAAOtB,KAAM,CACZgW,SAAU,WACN,OAAO9N,GAEX+N,YAAa,WACT,OAAOzB,GAEXY,YAAa,SAASc,EAAYC,GAC9B,IAAIjO,EAAQiO,GAAYnW,KAAKgW,WACzBvZ,EAAQsY,4BAA8BnV,GAAG6M,SAAW7M,GAAG+M,aAAe/M,GAAGiN,oBACzE3E,EAAMwG,aAAa,WAAY,IAE3BwH,EACAhO,EAAMwG,aAAa,WAAY,IAE/BxG,EAAMkO,gBAAgB,aAIlCC,eAAgB,SAAS1B,GACjBA,IAAgBlY,EAAQkY,aACxBzM,EAAMwG,aAAa,SAAUiG,IAGrC2B,MAAO,WACCpO,EAAMpH,YACNlB,GAAGsI,GAAOnH,SAEdnB,GAAGnD,EAAQQ,SAAS2E,YAAYnF,EAAQmY,YACxC1M,EAAQ,KACRA,EAAQgN,OAGhBhN,EAAQgN,KAEZtV,GAAG2U,aAAaY,oBAAsB,eACtCvV,GAAG2W,WAAa,SAASC,GACrB,aACA,IAAInS,EAAO,GAAIoS,EAAS,GAAIC,EAAW,GAAIC,EAAiB,GAAIC,EAAY,GAC5E,SAASC,EAAaC,GAClB,GAAIlX,GAAG/C,QAAQia,GAAU,CACrB,IAAIjf,EAAU,GAId,OAHA+H,GAAGyC,KAAKyU,GAAS,SAASxU,EAAKyU,GAC3Blf,EAAQ0K,KAAK8B,EAAK0S,OAEflf,EAEX,OAAOwM,EAAKyS,GAwBhBlX,GAAG0B,OAAOtB,KAAM,CACZgX,QAAS,SAASC,GACd,IAAIC,EAASD,EAAKC,QAAUtX,GAAGsX,OAAOC,WAAYJ,EAAK1S,EAAK9B,KAAK,CAC7DpN,KAAM8hB,EAAK9hB,KACXiiB,aAAcH,EAAK9hB,KACnBkiB,KAAMJ,EAAKI,KACXC,KAAmB,MAAbL,EAAKK,MAAgB,EAAIL,EAAKK,KACpCJ,OAAQA,EACRK,KAAMN,EAAKM,OACV,EAuBL,OAtBIN,EAAKO,UACLnT,EAAK0S,GAAIS,QAAUP,EAAKO,aACQjgB,IAA5Bqf,EAAUK,EAAKO,WACfZ,EAAUK,EAAKO,SAAW,IAE9BZ,EAAUK,EAAKO,SAASjV,KAAKwU,IAE7BE,EAAKQ,eACLpT,EAAK0S,GAAIU,aAAeR,EAAKQ,kBACalgB,IAAtCof,EAAeM,EAAKQ,gBACpBd,EAAeM,EAAKQ,cAAgB,IAExCd,EAAeM,EAAKQ,cAAclV,KAAKwU,IAE3C1S,EAAK0S,GAAIA,GAAKA,EACdN,EAAOQ,EAAKI,MAAQN,OACKxf,IAArBmf,EAASQ,KACTR,EAASQ,GAAU,IAEvBR,EAASQ,GAAQ3U,KAAKwU,GACtBE,EAAKS,sBAAwBT,EAAKS,qBAAqBX,GACvDP,EAAcmB,eAAeZ,EAAI,KAAMG,GAChCH,GAEXa,SAAU,SAASC,GACf,OAAIjY,GAAG4F,SAASqS,IAAmBxT,EAAKlJ,YACV5D,IAAtBsgB,EAAed,GACRF,EAAagB,EAAed,SACJxf,IAAxBsgB,EAAeR,KA5DtC,SAAwBS,GACpB,GAAIlY,GAAG/C,QAAQib,GAAQ,CACnB,IAAIjgB,EAAU,GAId,OAHA+H,GAAGyC,KAAKyV,GAAO,SAASxV,EAAK+U,GACzBxf,EAAQ0K,KAAK8B,EAAKoS,EAAOY,QAEtBxf,EAEX,OAAOwM,EAAKoS,EAAOqB,IAqDAC,CAAeF,EAAeR,MAC9BQ,EAAeX,QApDbA,EAqDcW,EAAeX,OApD9Cc,EAAgB,GAAIC,EAAW,GAAGlb,OAAOma,GAC7CtX,GAAGyC,KAAK4V,GAAU,SAASC,EAAOC,GAC9B,IAAIC,EAAsB1B,EAASyB,QACP5gB,IAAxB6gB,GACAxY,GAAGyC,KAAK+V,GAAqB,SAASxjB,EAAGyjB,GACrCL,EAAczV,KAAK8B,EAAKgU,UAI7BL,QA0CQ,EAIApY,GAAG0B,OAAO,GAAI+C,GAAM,GAxDvC,IAAyB6S,EACjBc,EAAoBC,GA0DxBK,cAAe,SAASvB,GACpB,IAAIwB,EAAS1B,EAAaE,GACtBwB,UACOA,EAAOhB,MAGtBjB,MAAO,WACHjS,EAAO,GACPoS,EAAS,GACTC,EAAW,GACXE,EAAY,IAEhB4B,UAAW,SAASzB,EAAI0B,GACpB,IAAIC,EAAYrU,EAAK0S,GAAIG,OAAQyB,EAAyB/Y,GAAG6E,QAAQiS,EAASgC,GAAY3B,GAC1FL,EAASgC,GAAWE,OAAOD,EAAwB,GACnDtU,EAAK0S,GAAIG,OAASuB,OACUlhB,IAAxBmf,EAAS+B,KACT/B,EAAS+B,GAAa,IAE1B/B,EAAS+B,GAAWlW,KAAKwU,GACzBP,EAAcmB,eAAeZ,EAAI2B,EAAWD,IAEhDI,YAAa,SAAS9B,EAAI+B,GACtB,IAAIC,EAAU1U,EAAK0S,GAAIM,KACvBhT,EAAK0S,GAAIM,KAAOyB,EAChBrC,EAAOqC,GAAW/B,SACXN,EAAOsC,IAElBC,WAAY,SAASjC,EAAIkC,GACrB5U,EAAK0S,GAAI5hB,KAAO8jB,GAEpBC,WAAY,SAASnC,EAAIoC,GACrB9U,EAAK0S,GAAIO,KAAO6B,GAEpBC,YAAa,SAASC,EAAUC,GAC5BjV,EAAKgV,GAAUC,SAAWA,GAE9BC,mBAAoB,SAASxC,GACzB,IAAIU,EAAepT,EAAK0S,GAAIU,aAC5B,OAAIA,EACOd,EAAec,GAEnB,IAEX+B,cAAe,SAASzC,GACpB,IAAIS,EAAUnT,EAAK0S,GAAIS,QACvB,OAAOZ,EAAUY,OAI7B5X,GAAGsX,OAAS,CACRC,WAAY,aACZsC,UAAW,YACXC,SAAU,WACVC,OAAQ,SACRC,SAAU,WACVC,OAAQ,SACRC,UAAW,YACXC,kBAAmB,oBACnBC,gBAAiB,kBACjBC,kBAAmB,oBACnBC,cAAe,gBACfC,cAAe,gBACfC,SAAU,WACVC,QAAS,WAEb,WACI,aACAza,GAAG0a,cAAgB,CACfC,SAAU,SAASC,EAAiBC,EAAQC,GACxC1a,KAAK2a,SAASH,EAAiBC,EAAQC,IAE3CE,gBAAiB,SAASC,GACtB,IAAIpG,EAAOzU,KACXJ,GAAGyC,KAAKwY,GAAgB,SAAS3C,EAAO4C,GACpCrG,EAAKsG,eAAeD,OAG5BH,SAAU,SAAStW,EAAMoW,EAAQC,GAC7B1a,KAAKgb,mCACL,IAAIxD,EAAqC,IAA3BxX,KAAKib,WAAW9f,OAAeyE,GAAGwL,cAAgBpL,KAAKkb,gBAAiBC,EAAcvb,GAAGxJ,MAAK,SAAS0T,GACjH9J,KAAKob,eAAe,CAChBtR,KAAMA,EACN3U,KAAM6K,KAAKqb,SAASC,MAAMC,aAC3B/D,EAASgE,KACbxb,MAAOyb,EAAkB7b,GAAGxJ,MAAK,SAASslB,GACzC1b,KAAKob,eAAeM,EAAUlE,EAASgE,KACxCxb,MAAO2b,EAAgB/b,GAAGxJ,MAAK,SAASuN,GACvC,IAAImG,EAAOlK,GAAG8D,aAAaC,GAC3B3D,KAAKob,eAAe,CAChBtR,KAAMA,EACN3U,KAAM6K,KAAKqb,SAASC,MAAMC,YAAc,QACzC/D,EAASgE,KACbxb,MAAO4b,EAAoBhc,GAAGxJ,MAAK,SAASylB,GAC3C,IAAIC,EAAoBD,EAAWhY,SAAWgY,EAAWhY,QAAU,IAAKiG,EAAOlK,GAAG8D,aAAamY,EAAWlY,OAAQkY,EAAW3b,KAAM4b,GACnI9b,KAAKob,eAAe,CAChBtR,KAAMA,EACN3U,KAAM0mB,EAAW1mB,MAClBqiB,EAASgE,KACbxb,MAAO+b,EAAqBnc,GAAGxJ,MAAK,SAAS4lB,GAC5C,GAAIpc,GAAG2H,QAAQyU,IAAgBpc,GAAGmQ,kBAAkBgC,cAAe,CAC/D,IAAIkK,EAAQtkB,MAAMnB,UAAU8H,MAAMvJ,KAAKinB,EAAYC,OAAQxH,EAAOzU,KAClEJ,GAAGyC,KAAK4Z,GAAO,SAAS3Z,EAAKiV,GACzB9C,EAAK2G,eAAe7D,EAAMC,EAASgE,WAGvCxb,KAAKob,eAAeY,EAAaxE,EAASgE,KAE/Cxb,MAKAyU,EAAOzU,KAAMwb,EAAgB,GAChCxb,KAAKkb,gBAAkB1D,EACnBnT,IANIzE,GAAGsH,WAAW7C,KACdA,EAAO1M,MAAMnB,UAAU8H,MAAMvJ,KAAKsP,IAEtCA,EAAO,GAAGtH,OAAOsH,GAKjBzE,GAAGyC,KAAKgC,GAAM,SAAS/B,EAAK4Z,GACpBtc,GAAGyH,cAAc6U,GACjBH,EAAmBG,GACZtc,GAAGmI,OAAOmU,GACjBf,EAAYe,GACLtc,GAAG4F,SAAS0W,GACfA,EAAcpS,MAAQoS,EAAc/mB,KACpCsmB,EAAgBS,GACTA,EAAcvY,QAAUuY,EAAc/mB,MAC7CymB,EAAkBM,GAEfA,EAAcpU,SAAmD,WAAxCoU,EAAcpU,QAAQF,cACtD+T,EAAcO,GAEdzH,EAAKrP,IAAI8W,EAAgB,6CAA8C,WAG/Elc,KAAKoF,IAAI,YAAcoW,EAAcrgB,OAAS,WAC9C6E,KAAKmc,uBAAuBX,EAAef,EAAQC,KAG3D0B,OAAQ,SAASrF,GACb,IAAIsF,EAAarc,KAAKsc,YAAY1E,SAAS,CACvCb,GAAIA,IAEJsF,GAAcA,EAAWnF,SAAWtX,GAAGsX,OAAO6C,kBAC9C/Z,KAAKoF,IAAIxF,GAAG4G,OAAO,2DAA4DuQ,EAAI/W,KAAKuc,QAAQxF,IAAM,SAEtG/W,KAAKwc,SAASJ,OAAOrF,IAG7B0F,UAAW,WACP,IAAIC,EAAgB,GAAIjI,EAAOzU,KAC/BJ,GAAG0B,OAAOob,EAAe1c,KAAKib,YAC9Brb,GAAGyC,KAAKqa,GAAe,SAASpa,EAAKqa,GACjClI,EAAK2H,OAAOO,MAEhB3c,KAAKwc,SAASC,aAElBG,iBAAkB,WACd5c,KAAKib,WAAa,IAEtB4B,eAAgB,SAAS9F,GACrB,IAAIsF,EAAarc,KAAKsc,YAAY1E,SAAS,CACvCb,GAAIA,IAER,SAAKnX,GAAGmQ,kBAAkB+C,QAAU9S,KAAKqb,SAASnJ,SAAS4K,WAGvDT,EAAWnF,SAAWtX,GAAGsX,OAAO2C,QAChC7Z,KAAKoF,IAAIxF,GAAG4G,OAAO,yDAA0DuQ,EAAI/W,KAAKuc,QAAQxF,KAC9F/W,KAAK+c,YAAYhG,IACV,IAEP/W,KAAKoF,IAAIxF,GAAG4G,OAAO,sDAAuDuQ,EAAI/W,KAAKuc,QAAQxF,IAAM,UAE9F,KAEXiG,WAAY,SAASjG,GACjB,OAAO/W,KAAKid,gBAAgBlG,IAEhCmG,UAAW,SAASC,GAChB,OAAOnd,KAAKwc,SAASY,QAAQD,IAEjCE,cAAe,SAASC,EAAQC,EAAaC,EAASC,EAAYC,GAC9D,IAAwCC,EAAWlhB,EAA/CmhB,EAAkB,IAAIhe,GAAG9F,QAgC7B,OA/BIkG,KAAK6d,iBACLF,EAAY3d,KAAK8d,eAAeR,GAChC7gB,EAAU,CACNihB,qBAAsBA,EACtBF,QAASA,EAAU,EAAIA,EAAU,KACjCO,MAAOP,EAAU,IAEhBC,GAAc7d,GAAGmQ,kBAAkB4C,gBACpCgL,EAAY3d,KAAKge,QAAQV,IAEZ,MAAbK,EACAC,EAAgBrT,QAAQ,CACpB0T,UAAWV,EACX5U,MAAO,2BAGX3I,KAAK6d,gBAAgBK,SAASP,EAAWJ,EAAa9gB,GAAS1C,MAAK,SAAiBokB,GACjFP,EAAgBvT,QAAQ8T,MACzB,SAAiBF,EAAWG,GAC3BR,EAAgBrT,QAAQ,CACpB0T,UAAWA,EACXtV,MAAOyV,GAAU,qCAK7BR,EAAgBrT,QAAQ,CACpB0T,UAAWV,EACX5U,MAAO,mCAGRiV,GAEXS,UAAW,SAASf,GAChB,OAAOtd,KAAKse,WAAWte,KAAKue,qBAAqBjB,KAErDkB,YAAa,SAASlB,GAClB,OAAOtd,KAAKye,eAAehpB,IAAI6nB,IAEnCU,QAAS,SAASb,GACd,IACIuB,EADAnH,EAAOvX,KAAKwc,SAASwB,QAAQb,GAUjC,OARK5F,IACDmH,EAAmB1e,KAAKsc,YAAY1E,SAAS,CACzCb,GAAIoG,OAGJ5F,EAAOmH,EAAiBnH,MAGzBA,GAAQ,MAEnBoH,cAAe,WACX,OAAO3e,KAAKsc,YAAY1E,SAAS,CAC7BV,OAAQ,CAAEtX,GAAGsX,OAAO4C,UAAWla,GAAGsX,OAAO8C,gBAAiBpa,GAAGsX,OAAOyC,UACrExe,QAEPohB,QAAS,SAASxF,GACd,OAAO/W,KAAKsc,YAAY1E,SAAS,CAC7Bb,GAAIA,IACL5hB,MAEPypB,YAAa,SAAS7H,GAClB,IAAI8H,EAAkB7e,KAAK8e,WAAW,CAClC/H,GAAIA,IACJuC,EAAW,KAMf,OALIuF,QACiCtnB,IAA7BsnB,EAAgBvF,WAChBA,EAAWuF,EAAgBvF,UAG5BA,GAEXyF,sBAAuB,WACnB,OAAO/e,KAAKwc,SAASuC,yBAEzBC,QAAS,SAASjI,GACd,OAAO/W,KAAKsc,YAAY1E,SAAS,CAC7Bb,GAAIA,IACLO,MAEP2H,cAAe,WACX,OAAOjf,KAAKkf,cAEhBC,yBAA0B,WACtB,IAAIC,EAAepf,KAAKqf,kBACxB,OAAID,EAAe,EACRA,EAAepf,KAAKsf,qBAExB,MAEXR,WAAY,SAASjH,GACjB,OAAO7X,KAAKsc,YAAY1E,SAASC,IAErC0H,QAAS,SAASxI,GACd,OAAO/W,KAAKsc,YAAY1E,SAAS,CAC7Bb,GAAIA,IACLM,MAEPmI,YAAa,SAASzI,GAClB,OAAO/W,KAAKwc,SAASiD,gBAAgB1I,IAEzC3R,IAAK,SAASqB,EAAKnB,IACXtF,KAAKqb,SAASqE,OAAWpa,GAAmB,SAAVA,EAE3BA,GAAmB,SAAVA,GAChB1F,GAAGwF,IAAI,kBAAoBxF,GAAGkQ,QAAU,KAAOrJ,EAAKnB,GAFpD1F,GAAGwF,IAAI,kBAAoBxF,GAAGkQ,QAAU,KAAOrJ,IAKvDkZ,YAAa,SAAS5I,GAClB,IAAIsF,EAAarc,KAAKsc,YAAY1E,SAAS,CACvCb,GAAIA,IAER,IAAKnX,GAAGmQ,kBAAkB+C,QAAU9S,KAAKqb,SAASnJ,SAAS4K,QACvD,OAAO,EAEX,GAAIld,GAAG6E,QAAQ,CAAE7E,GAAGsX,OAAO4C,UAAWla,GAAGsX,OAAO8C,iBAAmBqC,EAAWnF,SAAW,EAAG,CACxF,GAAIlX,KAAKwc,SAAS1J,MAAMiE,GAEpB,OADA/W,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAO2C,SAClC,EAEP7Z,KAAKoF,IAAIxF,GAAG4G,OAAO,mCAAoCuQ,EAAI/W,KAAKuc,QAAQxF,IAAM,cAGlF/W,KAAKoF,IAAIxF,GAAG4G,OAAO,wDAAyDuQ,EAAI/W,KAAKuc,QAAQxF,IAAM,SAEvG,OAAO,GAEXuB,cAAe,SAASvB,GACpB/W,KAAKwc,SAASoD,QAAQ7I,GACtB/W,KAAKsc,YAAYhE,cAAcvB,IAEnCT,MAAO,WACHtW,KAAKoF,IAAI,yBACTpF,KAAKwc,SAASlG,QACdtW,KAAKib,WAAa,GAClBjb,KAAK6f,aAAe,GACpB7f,KAAK8f,eAAiB,GACtB9f,KAAK+f,gBAAkB,GACvB/f,KAAK8d,eAAiB,GACtBle,GAAGyC,KAAKrC,KAAKggB,UAAU,SAAS1d,EAAK2d,GACjCA,EAAO3J,WAEXtW,KAAKkgB,aAAa5J,QAClBtW,KAAKye,eAAenI,QACpBtW,KAAKsf,qBAAuB,EAC5Btf,KAAKkf,aAAe,EACpBlf,KAAKsc,YAAYhG,QACjBtW,KAAKue,qBAAuB,GAC5Bve,KAAKmgB,eAAiBngB,KAAKmgB,cAAc7J,QACzCtW,KAAKqb,SAAS+E,QAAQC,gBAAkBrgB,KAAKsgB,sBAC7CtgB,KAAKugB,+BAAiC,GACtCvgB,KAAKwgB,4BAA8B,GACnCxgB,KAAKygB,gBAAkBzgB,KAAKygB,eAAenK,QAC3CtW,KAAK0gB,uBAAuBpK,SAEhCqK,MAAO,SAAS5J,GACZ,OAAO/W,KAAK4gB,aAAa7J,IAE7B8J,WAAY,SAAS9J,EAAI+J,GAErB,OAAOlhB,GAAGmhB,OAAOvqB,UAAUqqB,WAAW9J,EAAI+J,EAAO,CAC7C1b,IAAKxF,GAAGxJ,KAFD4J,KAEWoF,IAFXpF,MAGPge,QAASpe,GAAGxJ,KAHL4J,KAGege,QAHfhe,MAIPqc,WAJOrc,KAIUsc,eAGzB0E,iBAAkB,SAASC,EAASlK,GAChC/W,KAAKkhB,oBAAoBC,IAAIF,EAASlK,IAE1CqK,oBAAqB,SAASrK,EAAI1S,GAC9BrE,KAAK0gB,uBAAuBS,IAAI9c,EAAM0S,IAE1CsK,2BAA4B,SAASJ,EAASlK,GAC1C/W,KAAKshB,8BAA8BH,IAAIF,EAASlK,IAEpDwK,sBAAuB,SAAS7G,EAAU3D,GACtC/W,KAAKwhB,yBAAyBL,IAAIzG,EAAU3D,IAEhD0K,oBAAqB,SAAShH,EAAQ1D,GAClC/W,KAAK0hB,uBAAuBP,IAAI1G,EAAQ1D,IAE5C4K,YAAa,SAASjH,EAAU3D,GAC5B/W,KAAKye,eAAe0C,IAAIzG,EAAU3D,IAEtC6K,QAAS,SAASC,GACd7hB,KAAK8hB,4BAA4BD,IAErCE,aAAc,SAASC,GACnBhiB,KAAKqf,kBAAoB2C,GAE7BC,QAAS,SAASlL,EAAIkC,GAClBjZ,KAAKsc,YAAYtD,WAAWjC,EAAIkC,IAEpCiJ,UAAW,SAASzH,EAAQ1D,GACxB/W,KAAKkgB,aAAaiB,IAAI1G,EAAQ1D,IAElCoL,QAAS,SAASpL,EAAI+B,GAClB,OAAO9Y,KAAKsc,YAAYzD,YAAY9B,EAAI+B,IAE5CN,UAAW,SAASzB,EAAI0B,GAIpB,IAHiBzY,KAAK8e,WAAW,CAC7B/H,GAAIA,IAGJ,MAAM,IAAInX,GAAGlH,MAAMqe,EAAK,4BAE5B,OAAQ0B,GACN,KAAK7Y,GAAGsX,OAAOmD,QACbra,KAAKoiB,kBAAkBrL,EAAI,MAAM,GACjC,MAEF,KAAKnX,GAAGsX,OAAOiD,cACbna,KAAKoiB,kBAAkBrL,EAAI,MAAM,GACjC,MAEF,QACE,IAAIsL,EAAe,+BAAiCltB,KAAO,6BAA+BsjB,EAE1F,MADAzY,KAAKoF,IAAIid,GACH,IAAIziB,GAAGlH,MAAM2pB,KAG3BC,kBAAmB,WACgB,IAA3BtiB,KAAKib,WAAW9f,OAChB6E,KAAKuiB,WAAW,gBAEhBviB,KAAKwiB,uBAIjB5iB,GAAG6iB,eAAiB,CAChB1H,eAAgB,SAAS2H,GACrB,IAAIjO,EAAOzU,KACX,OAAOA,KAAKsc,YAAYtF,QAAQ,CAC5BK,KAAMqL,EAAYrL,KAClBliB,KAAMutB,EAAYvtB,KAClBmiB,KAAMoL,EAAYpL,KAClBJ,OAAQtX,GAAGsX,OAAO+C,kBAClBvC,qBAAsB,SAASX,GAC3B2L,EAAYC,oBAAsBlO,EAAK8M,sBAAsBmB,EAAYC,mBAAoB5L,GAC7F2L,EAAYE,kBAAoBnO,EAAKgN,oBAAoBiB,EAAYE,iBAAkB7L,GACnF2L,EAAYG,eACZpO,EAAKqJ,eAAe/G,GAAM2L,EAAYG,cAE1CpO,EAAKyK,eACLzK,EAAK6K,2BAIjBwD,sBAAuB,SAASvL,EAAMwL,GAC9BnjB,GAAGmH,OAAOwQ,KACVA,EAAKyL,WAAahjB,KAAKijB,aAAaF,KAG5CG,YAAa,SAAS7d,GAClBrF,KAAKqb,SAAS8H,UAAUC,QAAQ,KAAM,KAAM/d,OAAS9N,IAEzD8rB,qBAAsB,WAClB,IAAI5O,EAAOzU,KACX,OAAO,IAAIJ,GAAG0jB,wBAAwB,CAClCC,OAAQvjB,KAAKqb,SAAS2B,WAAWuG,OAAOC,cACxCC,eAAgBzjB,KAAKqb,SAASoI,eAC9BC,cAAe1jB,KAAKqb,SAASsI,QAAQC,SACrCC,cAAe7jB,KAAKshB,8BACpBwC,YAAa9jB,KAAK0hB,uBAClBqC,cAAe/jB,KAAKwhB,yBACpBwC,KAAMhkB,KAAKqb,SAAS2I,KACpB5e,IAAKxF,GAAGxJ,KAAKqe,EAAKrP,IAAKqP,GACvBwP,SAAU,SAASlN,GACftC,EAAKyP,UAAUnN,GACftC,EAAK4G,SAAS8H,UAAUc,SAASlN,IAErCoN,iBAAkB,SAASpN,EAAIqN,EAAUC,GACrC5P,EAAK2N,kBAAkBrL,EAAIqN,EAAUC,GACrC5P,EAAK4G,SAAS8H,UAAUgB,iBAAiBpN,EAAIqN,EAAUC,OAInEC,oBAAqB,WACjB,IAAI7P,EAAOzU,KACX,OAAO,IAAIJ,GAAG2kB,aAAa,CACvBC,cAAexkB,KAAKqb,SAASoJ,MAAMD,cACnCrB,UAAW,CACP/d,IAAKxF,GAAGxJ,KAAKqe,EAAKrP,IAAKqP,GACvBiQ,cAAe,SAAS5a,GACpB2K,EAAKkQ,uBAAuB,CACxBxvB,KAAM,kBACNuK,SAAUE,GAAGxJ,KAAKqe,EAAK4G,SAAS8H,UAAUyB,gBAAiBnQ,EAAM3K,GACjEmK,UAAWrU,GAAGxJ,KAAKqe,EAAKoQ,oBAAqBpQ,EAAM3K,GACnDgb,WAAY,sBAMhCC,aAAc,SAASC,EAAcC,GACjC,IAAIC,EAAQ,GAAIC,EAAWH,EAAcI,EAAsB,GAAIC,EAAiBJ,EAAkBK,EAAO,SAASC,GAClH,OAAI3lB,GAAG4F,SAAS+f,GACL3lB,GAAG0B,OAAO,GAAIikB,GAElBA,GAMRC,EAAwB,SAASzO,EAAI0O,GAChCJ,GAAkBzlB,GAAG4F,SAASigB,IAC9B7lB,GAAG0B,OAAOmkB,EANV7lB,GAAG8F,WAAW2f,GACPA,IAEJA,GAKHD,EAAoBrO,IACpBnX,GAAG0B,OAAOmkB,EAAUL,EAAoBrO,KAGhD,MAAO,CACHoK,IAAK,SAASvkB,EAAKma,GACL,MAANA,GACAmO,EAAQ,GACRC,EAAWG,EAAK1oB,IAEhBsoB,EAAMnO,GAAMuO,EAAK1oB,IAGzBnH,IAAK,SAASshB,GACV,IAAI/e,EAOJ,OALIA,EADM,MAAN+e,GAAcmO,EAAMnO,GACXmO,EAAMnO,GAENuO,EAAKH,GAElBK,EAAsBzO,EAAI/e,GACnBstB,EAAKttB,IAEhB0tB,YAAa,SAAS3O,EAAI/e,GAClB4H,GAAG4F,SAAS0f,KACD,OAAPnO,EACInX,GAAG8F,WAAW1N,GACdqtB,EAAiBrtB,GAEjBqtB,EAAiBA,GAAkB,GACnCzlB,GAAG0B,OAAO+jB,EAAgBrtB,KAG9BotB,EAAoBrO,GAAMqO,EAAoBrO,IAAO,GACrDnX,GAAG0B,OAAO8jB,EAAoBrO,GAAK/e,MAI/C+I,OAAQ,SAASuc,GACb,cAAc4H,EAAM5H,IAExBhH,MAAO,WACH4O,EAAQ,GACRE,EAAsB,GACtBD,EAAWH,KAIvBW,yBAA0B,WACtB,IAAIlR,EAAOzU,KACX,OAAO,IAAIJ,GAAG2W,WAAW,CACrBgG,QAAS,SAASxF,GACd,OAAOtC,EAAK8H,QAAQxF,IAExBwI,QAAS,SAASxI,GACd,OAAOtC,EAAK8K,QAAQxI,IAExBiI,QAAS,SAASjI,GACd,OAAOtC,EAAKuK,QAAQjI,IAExBY,eAAgB,SAASZ,EAAI2B,EAAWD,GACpChE,EAAKmR,sBAAsB7O,EAAI2B,EAAWD,GAC1ChE,EAAK4G,SAAS8H,UAAUxL,eAAeZ,EAAI2B,EAAWD,GACtDhE,EAAKoR,kBAAkB9O,EAAI0B,GACvBhE,EAAKgM,gBACLqF,YAAW,WACPrR,EAAKgM,eAAe9I,eAAeZ,EAAI2B,EAAWD,KACnD,OAKnBsN,oBAAqB,SAAS9O,GAC1B,IAA8KgJ,EAA1KxL,EAAOzU,KAAM2U,EAAcsC,EAAK+O,QAAUhmB,KAAKqb,SAAS4K,WAAWtR,YAAauR,EAAoBjP,EAAKiP,mBAAqBlmB,KAAKqb,SAAS4K,WAAWC,kBA+B3J,OAlBAjG,EAAS,IAAIrgB,GAAG2U,aAAa,CACzBI,YAAaA,EACb1X,QAASga,EAAKha,QACd2X,WAAY5U,KAAKqb,SAAS8K,QAAQC,YAClCvR,QAASoC,EAAKpC,QACdC,WAAY9U,KAAKqb,SAAS8K,QAAQE,YAClCtR,2BAA4B/U,KAAKqb,SAASiL,YAAYC,iBACtDle,WAlBIzI,GAAGmQ,kBAAkBgC,iBACjB0C,EAAK4G,SAASiL,YAAYE,gBAAkB5mB,GAAG2M,QAAU3M,GAAG0M,QAAUmI,EAAKgS,oBAAoBP,EAAmB,gBAGhG3uB,IAAlB0f,EAAK5O,SACEoM,EAAK4G,SAAShT,SAElB4O,EAAK5O,UAYhBlT,KAAM6K,KAAKqb,SAASsI,QAAQ+C,UAC5B1R,SAAU,SAAS9M,GACfuM,EAAKkS,eAAeze,IAExB+M,MAAqB,MAAdgC,EAAKhC,MAAgBjV,KAAKqb,SAAStY,KAAK6jB,eAAiB3P,EAAKhC,QAEzEjV,KAAK6mB,gBAAgBlX,aAAY,WAC7BsQ,EAAOzQ,aAEXiF,EAAKuL,SAASzd,KAAK0d,GACZA,GAEX6G,qBAAsB,SAASC,EAAmBC,GAC9C,IAAIvS,EAAOzU,KAAMinB,EAAiB,GAAIxqB,EAAU,CAC5CijB,MAAO1f,KAAKqb,SAASqE,MACrB+D,eAAgBzjB,KAAKqb,SAASoI,eAC9BO,KAAMhkB,KAAKqb,SAAS2I,KACpBF,YAAa9jB,KAAKkgB,aAClB6D,cAAe/jB,KAAKye,eACpBvM,SAAUlS,KAAKqb,SAASnJ,SACxBc,OAAQhT,KAAKqb,SAASrI,OACtBsI,MAAOtb,KAAKqb,SAASC,MACrBlW,IAAKxF,GAAGxJ,KAAKqe,EAAKrP,IAAKqP,GACvByS,kBAAmBlnB,KAAKqb,SAASsF,MAAMwG,6BACvCC,WAAY,SAASrQ,EAAI5hB,EAAMkyB,EAAQC,GAC/BD,EAAS,GAAKC,EAAQ,IAGtBL,EAAelQ,IACXkQ,EAAelQ,GAAIsQ,SAAWA,GAAUJ,EAAelQ,GAAIuQ,QAAUA,IAKzE7S,EAAK8S,YAAYxQ,EAAI5hB,EAAMkyB,EAAQC,GACnC7S,EAAK4G,SAAS8H,UAAUiE,WAAWrQ,EAAI5hB,EAAMkyB,EAAQC,IAEzDL,EAAelQ,GAAM,CACjBsQ,OAAQA,EACRC,MAAOA,KAGfE,WAAY,SAASzQ,EAAI5hB,EAAM8M,EAAQwlB,UAC5BR,EAAelQ,GACtB,IAEW2Q,EAFPxQ,EAASzC,EAAKqK,WAAW,CACzB/H,GAAIA,IACLG,OACCA,IAAWtX,GAAGsX,OAAO+C,mBAAqB/C,IAAWtX,GAAGsX,OAAOgD,iBAGnEwN,EAASjT,EAAKkT,YAAY5Q,EAAI5hB,EAAM8M,EAAQwlB,cACtB7nB,GAAG9F,QACrB4tB,EAAOvT,MAAK,WACRM,EAAK4G,SAAS8H,UAAUqE,WAAWzQ,EAAI5hB,EAAM8M,EAAQwlB,MAGzDhT,EAAK4G,SAAS8H,UAAUqE,WAAWzQ,EAAI5hB,EAAM8M,EAAQwlB,KAG7DG,SAAU,SAAS7Q,EAAI5hB,EAAM0yB,GACzB,IAAI1d,EAAU,IAAIvK,GAAG9F,QAarB,OAZA2a,EAAKkQ,uBAAuB,CACxBxvB,KAAM,WACNuK,SAAUE,GAAGxJ,KAAKqe,EAAK4G,SAAS8H,UAAUyE,SAAUnT,EAAMsC,EAAI5hB,GAC9D+e,UAAW/J,EAAQI,QACnB0J,UAAW,WACP4T,EAAyB9tB,MAAK,WAC1B0a,EAAKqT,UAAU/Q,EAAI5hB,MAEvBgV,EAAQE,WAEZya,WAAY/N,IAET5M,GAEX4d,aAAcnoB,GAAGxJ,KAAK4J,KAAKgoB,cAAehoB,MAC1CioB,SAAU,SAASlR,EAAI5hB,GACnBsf,EAAKyT,UAAUnR,EAAI5hB,GACnB,IAAIgzB,EAAiB1T,EAAK4G,SAAS8H,UAAU8E,SAASlR,EAAI5hB,GAC1D,OAAIyK,GAAG6T,iBAAiB0U,IACpB1T,EAAKrP,IAAIxF,GAAG4G,OAAO,+DAAgEuQ,IAC5EoR,IAEJ,IAAIvoB,GAAG9F,SAAUuQ,WAE5B+d,cAAe,SAASrR,EAAI5hB,EAAMkzB,GAC9B5T,EAAK6T,eAAevR,EAAIsR,GACxB,IAAIE,EAAsB9T,EAAK4G,SAAS8H,UAAUiF,cAAcrR,EAAI5hB,EAAMkzB,GAC1E,OAAIzoB,GAAG6T,iBAAiB8U,IACpB9T,EAAKrP,IAAIxF,GAAG4G,OAAO,uEAAwEuQ,EAAIsR,EAAUG,YAClGD,IAEJ,IAAI3oB,GAAG9F,SAAUuQ,WAE5Boe,qBAAsB,SAAS1R,EAAIsR,EAAWpmB,EAAQwlB,GAClDhT,EAAKiU,sBAAsB3R,EAAIsR,GAC/B5T,EAAK4G,SAAS8H,UAAUsF,qBAAqBltB,MAAMkZ,EAAM3d,YAE7D6xB,SAAU,SAAS5R,EAAI5hB,EAAMkzB,EAAWO,GACpC,OAAOnU,EAAK4G,SAAS8H,UAAUwF,SAAS5R,EAAI5hB,EAAMkzB,EAAWO,IAEjEC,YAAa,SAAS9R,EAAI5hB,EAAM2zB,EAAcrB,GAC1C,OAAOhT,EAAKsU,aAAaxtB,MAAMkZ,EAAM3d,YAEzCkyB,cAAe,SAASjS,EAAI+B,GACxBrE,EAAKrP,IAAI,sCAAwCqP,EAAK8K,QAAQxI,GAAM,SAAW+B,EAAU,KACzFrE,EAAK0N,QAAQpL,EAAI+B,IAErByD,QAAS3c,GAAGxJ,KAAKqe,EAAK8H,QAAS9H,GAC/B8K,QAAS3f,GAAGxJ,KAAKqe,EAAK8K,QAAS9K,GAC/BuK,QAASpf,GAAGxJ,KAAKqe,EAAKuK,QAASvK,GAC/BwU,QAASrpB,GAAGxJ,KAAKqe,EAAKyU,SAAUzU,GAChC0U,cAAe,SAAS9R,GACpB,OAAO5C,EAAKqK,WAAW,CACnBzH,KAAMA,KAGd+R,SAAU,SAASrS,GACf,IAAIG,EAASzC,EAAKqK,WAAW,CACzB/H,GAAIA,IACLG,OACH,OAAOA,IAAWtX,GAAGsX,OAAOyC,QAAUzC,IAAWtX,GAAGsX,OAAOuC,WAAavC,IAAWtX,GAAGsX,OAAO8C,iBAAmB9C,IAAWtX,GAAGsX,OAAO2C,QAEzIN,mBAAoB9E,EAAK6H,YAAY/C,mBACrCC,cAAe/E,EAAK6H,YAAY9C,cAChC6P,aAAc,SAAStS,GACnB,OAAOtC,EAAKqK,WAAW,CACnB/H,GAAIA,IACLG,SAAWtX,GAAGsX,OAAO4C,WAE5BwP,oBAAqB1pB,GAAGxJ,KAAKqe,EAAK8U,qBAAsB9U,GACxD+D,UAAW,SAASzB,EAAIG,GACpBzC,EAAK6H,YAAY9D,UAAUzB,EAAIG,KAYvC,OATAtX,GAAGyC,KAAKrC,KAAKqb,SAASsI,SAAS,SAAShZ,EAAM/N,GAC1CH,EAAQkO,GAAQ/N,KAEpBH,EAAQonB,cAAgB7jB,KAAKkhB,oBACzB6F,GACAnnB,GAAGyC,KAAK0kB,GAAmB,SAAS5wB,EAAKyG,GACrCH,EAAQtG,GAAOyG,KAGhB,IAAIgD,GAAG4pB,wBAAwB/sB,EAASuqB,IAEnDyC,oBAAqB,SAAS1S,GAC1B/W,KAAKsf,uBACLtf,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAOwC,WAE7CgQ,YAAa,SAAShgB,GAClB,GAAc,IAAVA,EACA,OAAOA,EAAQ1J,KAAKqb,SAAStY,KAAK4mB,YAAY,GAElD,IAAI/0B,GAAK,EACT,GACI8U,GAAgB,KAChB9U,UACK8U,EAAQ,MACjB,OAAOlQ,KAAKowB,IAAIlgB,EAAO,IAAImgB,QAAQ,GAAK7pB,KAAKqb,SAAStY,KAAK4mB,YAAY/0B,IAE3Ek1B,0BAA2B,WACvB,IAAIrV,EAAOzU,KACXA,KAAK+pB,kBAAoB,GACzBnqB,GAAGyC,KAAKrC,KAAKqb,SAAS2O,cAAc,SAAS1nB,EAAK2nB,GAC9C,IAAI5hB,EAAW4hB,EAAuB5hB,SAAU4d,EAAarmB,GAAG0B,OAAO,GAAImT,EAAK4G,SAAS4K,YAAY,GAAOiE,EAAkBtqB,GAAG0B,OAAO,GAAI2oB,QAC3H1yB,IAAb8Q,IACAA,EAAWoM,EAAK4G,SAAShT,UAEzB6hB,EAAgBjE,YAChBrmB,GAAG0B,OAAO2kB,EAAYgE,EAAuBhE,YAAY,GAE7DrmB,GAAG0B,OAAO4oB,EAAiB,CACvB7hB,SAAUA,EACV4d,WAAYA,IACb,GACHxR,EAAK0V,iBAAiBD,OAG9B5L,WAAY,SAAS9J,GACjB,IAAI4V,EAAmBpqB,KAAK+pB,kBAAkBvV,GAC9C,OAAI4V,EACOA,EAAiBntB,QACjBuX,IAAaxU,KAAKqqB,iBAClBrqB,KAAKqb,SAAS4E,YADlB,GAIXgD,aAAc,SAASqH,GACnB,IAAIC,EAAQC,EAAWC,EAAkBH,EAIzC,GAHIG,aAA2B7qB,GAAGwU,YAC9BqW,EAAkBA,EAAgBpW,eAElCoW,IAAoB7qB,GAAGmI,OAAO0iB,GAAkB,CAChD,GAAI7qB,GAAGmH,OAAO0jB,GACV,OAAOA,EAAgBzH,WACpB,GAA8C,UAA1CyH,EAAgB3iB,QAAQF,eAAoE,SAAvC6iB,EAAgBvqB,KAAK0H,cACjF,OAAO6iB,EAAgBlnB,aAAa3D,GAAG2U,aAAaY,qBASxD,GAPAoV,EAASE,EAAgBroB,qBAAqB,SAC9CxC,GAAGyC,KAAKkoB,GAAQ,SAASjoB,EAAK4F,GAC1B,GAAmC,SAA/BA,EAAM3E,aAAa,QAEnB,OADAinB,EAAYtiB,GACL,KAGXsiB,EACA,OAAOA,EAAUjnB,aAAa3D,GAAG2U,aAAaY,uBAI1DoU,qBAAsB,SAASjM,GAC3B,OAAOtd,KAAK0gB,uBAAuBjrB,IAAI6nB,IAE3CoN,gBAAiB,WACb,OAAO1qB,KAAKsc,YAAY1E,SAAS,CAC7BV,OAAQ,CAAEtX,GAAGsX,OAAO4C,UAAWla,GAAGsX,OAAO8C,gBAAiBpa,GAAGsX,OAAOyC,OAAQ/Z,GAAGsX,OAAOC,WAAYvX,GAAGsX,OAAOuC,UAAW7Z,GAAGsX,OAAO2C,UAClI1e,QAEPwvB,mBAAoB,SAASnW,GACzB,IAAI0V,EAAkBlqB,KAAK+pB,kBAAkBvV,GAC7C,OAAO0V,EAAkBA,EAAgBjE,WAAajmB,KAAKqb,SAAS4K,YAExE2E,yBAA0B,SAASC,GAC/B,OAAIA,EAAYtT,gBAAgB3X,GAAGwU,UACxB,CACHjf,KAAMyK,GAAGuP,YAAY0b,EAAYtT,KAAKlD,eACtCiD,KAAMuT,EAAYtT,KAAKlD,cAAciD,MAGtC,CACHniB,KAAM6K,KAAK8e,WAAW,CAClB/H,GAAI8T,EAAY9T,KACjB5hB,KACHmiB,KAAMtX,KAAK8e,WAAW,CAClB/H,GAAI8T,EAAY9T,KACjBO,OAGXwT,0BAA2B,SAASC,GAChC,IAAItW,EAAOzU,KAAMgrB,EAAkB,GAInC,OAHAprB,GAAGyC,KAAK0oB,GAAc,SAASzoB,EAAKuoB,GAChCG,EAAgBzoB,KAAKkS,EAAKmW,yBAAyBC,OAEhDG,GAEXC,oBAAqB,WACjB,GAAIjrB,KAAKqb,SAAS6P,OAAO3e,KAAO3M,GAAG2M,MAAO,CACtC,IAAgD0T,EAASjgB,KAAKqb,SAAS6P,OAAOjL,OAAQzL,EAAWyL,EAASjgB,KAAKijB,aAAahD,GAAUjgB,KAAKqqB,iBAAkBc,EAAanrB,KAAKqb,SAC3K7G,GAAYA,IAAaxU,KAAKqqB,mBAC9Bc,EAAanrB,KAAK+pB,kBAAkBvV,IAExC2W,EAAW9iB,UAAW,EACoB,OAAtC8iB,EAAWlF,WAAWtR,YACtBwW,EAAWlF,WAAWtR,YANJ,yBAQlBwW,EAAWlF,WAAWtR,aAAe,0BAEzC/U,GAAGyC,KAAKrC,KAAKggB,UAAU,SAAS1d,EAAK2d,GACjC,GAAIA,EAAOhK,gBAAkBzB,EAGzB,OAFAyL,EAAO7K,YAAY+V,EAAW9iB,UAC9B4X,EAAO5J,eAAe8U,EAAWxW,cAC1B,OAKvBgQ,uBAAwB,SAASyG,GAC7B,IAAI3W,EAAOzU,KAAMqrB,EAAiBD,EAAQ1rB,WAC1C,OAAIE,GAAG6T,iBAAiB4X,IACpBrrB,KAAKoF,IAAIgmB,EAAQj2B,KAAO,kBAAoBi2B,EAAQj2B,KAAO,gCAAkCi2B,EAAQtG,YAC9FuG,EAAetxB,MAAK,SAASuxB,GAChC7W,EAAKrP,IAAIgmB,EAAQj2B,KAAO,wBAA0Bi2B,EAAQtG,YAC1DsG,EAAQnX,UAAUqX,MACnB,WACKF,EAAQlX,WACRO,EAAKrP,IAAIgmB,EAAQj2B,KAAO,wBAA0Bi2B,EAAQtG,YAC1DsG,EAAQlX,aAERO,EAAKrP,IAAIgmB,EAAQj2B,KAAO,wBAA0Bi2B,EAAQtG,kBAI/C,IAAnBuG,EACAD,EAAQnX,UAAUoX,GAEdD,EAAQlX,WACRlU,KAAKoF,IAAIgmB,EAAQj2B,KAAO,mCAAqCi2B,EAAQtG,WAAa,iCAClFsG,EAAQlX,aAERlU,KAAKoF,IAAIgmB,EAAQj2B,KAAO,mCAAqCi2B,EAAQtG,WAAa,wBAGnFuG,IAEXjQ,eAAgB,SAAS7D,EAAMC,EAAS+T,GACpC,IAAI9W,EAAOzU,KAAMqX,EAAOzX,GAAGwL,cAAekM,GAAQ,EAAGniB,EAAOyK,GAAGuP,YAAYoI,GAAOiU,EAAajU,EAAKzN,MAAQyN,EAAMkU,EAAUzrB,KAAK0rB,sBAAwB1rB,KAAK0rB,sBAAwB9rB,GAAGxJ,KAAKqe,EAAKkX,sBAAuBlX,IACrN7U,GAAG2H,QAAQikB,IAAeA,EAAWlU,MAAQ,IAC9CA,EAAOkU,EAAWlU,MAEtBmU,EAAQD,EAAYr2B,EAAMkiB,EAAMC,EAAMiU,EAAoB/T,EAASxX,KAAKqb,SAASsI,QAAQC,SAAU,CAC/FvH,WAAY5H,EAAK6H,YACjBwH,YAAarP,EAAKyL,aAClB0L,iBAAkB,SAAS7U,EAAIQ,GAC3B9C,EAAK+H,SAASvO,IAAI8I,EAAIQ,GACtB9C,EAAK6K,uBACL7K,EAAKoX,aAAa9U,OAI9B4U,sBAAuB,SAASpU,EAAMpiB,EAAMkiB,EAAMC,EAAMwU,EAAUtU,GAC9D,IAAIT,EAAK/W,KAAKsc,YAAYtF,QAAQ,CAC9BK,KAAMA,EACNliB,KAAMA,EACNmiB,KAAMA,EACNE,QAASA,EACTD,KAAMA,IAEVvX,KAAKwc,SAASvO,IAAI8I,EAAIQ,GACtBvX,KAAK6rB,aAAa9U,GAClB/W,KAAKsf,uBACLwM,EAASvpB,KAAK,CACVwU,GAAIA,EACJQ,KAAMA,KAGdsN,oBAAqB,SAAS/a,EAAMiiB,GAChC,IAAIC,EAAYliB,EAAK5J,KAAKsE,MAAM,KAAK,GAAIrP,EAAO42B,EACpC,MAAR52B,IACAA,EAAO6K,KAAKqb,SAASoJ,MAAMlJ,aAE/BpmB,GAAQ,IAAM62B,EACdhsB,KAAK2a,SAAS,CACVxlB,KAAMA,EACN2U,KAAMA,KAGdmiB,qBAAsB,SAASlV,GAC3B,GAAI/W,KAAK8e,WAAW,CAChB/H,GAAIA,IACLG,SAAWtX,GAAGsX,OAAOmD,QAAS,CAC7B,IAAIllB,EAAO6K,KAAKuc,QAAQxF,GACxB/W,KAAKsf,uBACLtf,KAAKkf,eACLlf,KAAKwc,SAASoD,QAAQ7I,GACtB/W,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAOmD,SACzCra,KAAKoF,IAAI,uBAAyBjQ,EAAO,sBAGjD+2B,oBAAqB,SAASnV,EAAIqN,GAC9B,IAAIjvB,EAAO6K,KAAKuc,QAAQxF,GACxB/W,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAOiD,eACzCna,KAAKoF,IAAI,uBAAyBjQ,EAAO,gBAAiB,SACrDivB,QAAyC7sB,IAA7B6sB,EAASnT,gBAGtBjR,KAAKqb,SAAS8H,UAAUC,QAAQrM,EAAI5hB,EAAM,4CAA8CivB,EAASlN,OAAQkN,GAFzGpkB,KAAKqb,SAAS8H,UAAUC,QAAQrM,EAAI5hB,EAAM,wBAAyBivB,IAK3E+F,iBAAkB,SAASlT,GACvB,IAAIgJ,EAASjgB,KAAK+lB,oBAAoB,CAClCC,OAAQ/O,EAAKgP,WAAWtR,YACxBuR,kBAAmBjP,EAAKgP,WAAWC,kBACnCjpB,QAASga,EAAKha,QACd4X,QAASoC,EAAKpC,QACdxM,SAAU4O,EAAK5O,SACf4M,MAAOgC,EAAK2P,iBAEhB5mB,KAAK+pB,kBAAkB9J,EAAOhK,eAAiBgB,GAEnDkV,0BAA2B,WACvBnsB,KAAKosB,aAAexsB,GAAGysB,aAAe,IAAIzsB,GAAGysB,YAAYrsB,KAAKqb,SAAS5M,KAAM7O,GAAGxJ,KAAK4J,KAAKsiB,kBAAmBtiB,MAAOJ,GAAGxJ,KAAK4J,KAAKoF,IAAKpF,OAClIA,KAAKosB,cAAgBpsB,KAAKosB,aAAaE,gBACvCtsB,KAAKkgB,aAAelgB,KAAK+kB,aAAa/kB,KAAKqb,SAASsI,QAAQlJ,OAAQza,KAAKosB,aAAaG,uBACtFvsB,KAAKqb,SAASmR,WAAaxsB,KAAKosB,aAAaK,cACzCzsB,KAAKosB,aAAaM,cAClB1sB,KAAKqb,SAASsI,QAAQjJ,SAAW1a,KAAKosB,aAAaM,cAGvD1sB,KAAKkgB,aAAelgB,KAAK+kB,aAAa/kB,KAAKqb,SAASsI,QAAQlJ,SAGpEkS,kBAAmB,WACf,SAAK/sB,GAAG0jB,0BAA4BtjB,KAAKqb,SAAS2B,WAAWF,YAGzD9c,KAAKqb,SAAS2I,KAAK4I,aACfhtB,GAAGmQ,kBAAkBsC,sBAGrBzS,GAAGmQ,kBAAkBqC,oBAAqBpS,KAAKqb,SAAS2I,KAAK6I,aAOzEpG,oBAAqB,SAASqG,EAASzd,GACnC,IAAI0d,GAAQ,EACZ,OAAKD,EAAQ3xB,SAGbyE,GAAGyC,KAAKyqB,GAAS,SAASxqB,EAAK0qB,GAC3B,GAAIptB,GAAGuG,SAAS6mB,GAAa,CACzB,IAAIC,EAAW,IAAI1yB,OAAO,MAAQyyB,EAAa,IAAK,KACpD,GAAgC,MAA5B3d,EAASuC,MAAMqb,GAEf,OADAF,GAAQ,GACD,MAIZA,IAEXxK,WAAY,SAAS2K,EAAMC,EAAkBlnB,GACzC,IAAkNmnB,EAAsBC,EAApOhoB,EAAUrF,KAAKqb,SAASiS,SAASJ,GAAOhH,EAAoB,GAAIqH,EAAQ,GAAGxwB,OAAOowB,GAAmBh4B,EAAOo4B,EAAM,GAAI/Y,EAAWxU,KAAKijB,aAAahd,GAAOunB,EAAiBxtB,KAAK2qB,mBAAmBnW,GACvM,SAAS9e,EAAEP,EAAMs4B,GACbpoB,EAAUA,EAAQxD,QAAQ1M,EAAMs4B,GAmBpC,OAjBA7tB,GAAGyC,KAAKmrB,EAAetH,mBAAmB,SAAS5jB,EAAKorB,GAChD9tB,GAAGuG,SAASunB,IACZxH,EAAkB3jB,KAAKmrB,MAG/BN,EAAuBlH,EAAkB9X,KAAK,MAAMxG,cACpDlS,EAAE,SAAUsK,KAAKqb,SAASsS,eAAex4B,IACzCO,EAAE,eAAgB03B,GAClB13B,EAAE,cAAesK,KAAK0pB,YAAY8D,EAAeI,YACjDl4B,EAAE,iBAAkBsK,KAAK0pB,YAAY8D,EAAeK,eAE3B,QADzBR,EAAmBhoB,EAAQuM,MAAM,gBAE7BhS,GAAGyC,KAAKgrB,GAAkB,SAAS/qB,EAAKwrB,GACpCp4B,EAAEo4B,EAAaP,EAAMjrB,OAG7BtC,KAAKqb,SAAS8H,UAAUC,QAAQ,KAAMjuB,EAAMkQ,OAAS9N,GAC9C8N,GAEXub,aAAc,SAAS7J,EAAIrX,GACvB,GAAIM,KAAK+tB,qBAAqBhX,GAQ1B,OAPA/W,KAAKsf,uBACLtf,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAO8C,iBACrCta,EACAA,EAASqX,GAET/W,KAAKwc,SAASmE,MAAM5J,IAEjB,GAGf8O,kBAAmB,SAAS9O,EAAIG,GAC5B,IAAIzC,EAAOzU,KAAMguB,EAAchuB,KAAK0qB,kBAChCxT,IAAWtX,GAAGsX,OAAO+C,kBACrBja,KAAKugB,+BAA+Bhe,KAAKwU,GAClCG,IAAWtX,GAAGsX,OAAOgD,eAAiBhD,IAAWtX,GAAGsX,OAAOwC,UAAYxC,IAAWtX,GAAGsX,OAAO0C,UACnG5Z,KAAKwgB,4BAA4Bje,KAAKwU,GAEtB,IAAhBiX,IAAsBhuB,KAAKugB,+BAA+BplB,QAAU6E,KAAKwgB,4BAA4BrlB,SACrG2qB,YAAW,YACHrR,EAAK8L,+BAA+BplB,QAAUsZ,EAAK+L,4BAA4BrlB,SAC/EsZ,EAAKwZ,eAAexZ,EAAK8L,+BAAgC9L,EAAK+L,+BAEnE,IAGXxF,iCAAkC,WAC9B,IAAIvG,EAAOzU,KACX,GAAIA,KAAKqb,SAASiL,YAAY4H,mBAAqBtuB,GAAG8M,UAAY9M,GAAGgN,YAIjE,MAHAkZ,YAAW,WACPjhB,OAAOspB,MAAM1Z,EAAK4G,SAASiS,SAASc,gCACrC,GACG,IAAIxuB,GAAGlH,MAAMsH,KAAKqb,SAASiS,SAASc,+BAGlDC,8BAA+B,SAAStX,EAAI5hB,EAAMm5B,EAAU7G,GACxD,IAAK6G,EAASjkB,QACV,GAAIod,GAAsB,MAAfA,EAAIvQ,SAAmBoX,EAAS3lB,MACvC3I,KAAKqb,SAAS8H,UAAUC,QAAQrM,EAAI5hB,EAAM,8BAAgCsyB,EAAIvQ,OAAQuQ,OACnF,CACH,IAAI8G,EAAcD,EAAS3lB,MAAQ2lB,EAAS3lB,MAAQ3I,KAAKqb,SAAStY,KAAKyrB,qBACvExuB,KAAKqb,SAAS8H,UAAUC,QAAQrM,EAAI5hB,EAAMo5B,EAAa9G,KAInEgH,6CAA8C,SAASC,EAAW5lB,EAAOoP,EAAOuC,EAAQC,GACpF,IAAIjG,EAAOzU,KACX,GAAI8I,EAAM3N,OAAS+c,EACf,GAAIwW,IAAc1uB,KAAKqb,SAAS4K,WAAW0I,uBACvC7I,YAAW,WACP,IAAI8I,EAAuBna,EAAKmW,yBAAyB9hB,EAAMoP,IAAS1D,EAAWC,EAAKwO,aAAana,EAAMoP,GAAOX,MAAO0I,EAASxL,EAAK6J,WAAW9J,GAClJC,EAAKkQ,uBAAuB,CACxBxvB,KAAM,aACNuK,SAAUE,GAAGxJ,KAAKqe,EAAK4G,SAAS8H,UAAU0L,WAAYpa,EAAMma,EAAsB3O,GAClFhM,UAAWrU,GAAGxJ,KAAKqe,EAAKqa,2BAA4Bra,EAAM3L,EAAOoP,EAAOuC,EAAQC,GAChFxG,UAAWtU,GAAGxJ,KAAKqe,EAAKsa,2BAA4Bta,EAAM3L,EAAOoP,EAAOuC,EAAQC,GAChFoK,WAAY,SAAW8J,EAAqBz5B,KAAO,YAAcy5B,EAAqBtX,SAE3F,QACA,IAAKoX,EACR,KAAMxW,EAAQpP,EAAM3N,OAAQ+c,IACxBzD,EAAKgV,oBAAoB3gB,EAAMoP,GAAOnB,KAKtDkX,eAAgB,SAASe,EAAYC,GACjCjvB,KAAKygB,gBAAkBzgB,KAAKygB,eAAeyO,cAAcF,EAAYC,EAAQjvB,KAAK+f,iBAClF/f,KAAKqb,SAAS8H,UAAU+L,cAActvB,GAAG0B,OAAO,GAAI0tB,GAAapvB,GAAG0B,OAAO,GAAI2tB,IAC/EjvB,KAAKugB,+BAAiC,GACtCvgB,KAAKwgB,4BAA8B,IAEvCuI,aAAc,SAAShS,EAAI5hB,EAAM2zB,EAAcrB,EAAK/nB,GAChD,IAAI+U,EAAOzU,KAEX,GADAyU,EAAKsL,gBAAgBhJ,GAAM+R,EAAarU,EAAK4G,SAASsF,MAAMwG,8BACxD1S,EAAK0a,iBAAiBpY,GAAK,CAC3B,IAAIqY,EAAyD,IAAvC3a,EAAK4G,SAASsF,MAAM0O,iBAa1C,OAZA5a,EAAK4Z,8BAA8B9yB,MAAMkZ,EAAM3d,WAC/C2d,EAAK4G,SAAS8H,UAAU0F,YAAY9R,EAAI5hB,EAAMsf,EAAKoL,aAAa9I,IAChEtC,EAAK6a,mBAAmBvY,EAAI5hB,GAC5Bsf,EAAK6H,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAO8C,iBACzCvF,EAAKqL,eAAe/I,GAAM+O,YAAW,WACjCrR,EAAKrP,IAAI,sBAAwBjQ,EAAO,OACpCuK,EACAA,EAASqX,GAETtC,EAAK+H,SAASmE,MAAM5J,KAEzBqY,IACI,IAGfE,mBAAoB,SAASvY,EAAI5hB,GAC7B6K,KAAKoF,IAAI,WAAapF,KAAKqb,SAASsF,MAAM0O,iBAAmB,4BAA8Bl6B,EAAO,QAEtG44B,qBAAsB,SAAShX,GAC3B,IAAwC1H,EAApCkgB,EAAYvvB,KAAKqf,kBACrB,OAAIrf,KAAK+f,gBAAgBhJ,IACrB/W,KAAKoF,IAAI,gCAAkC2R,EAAI,SACxC,GACA/W,KAAKwc,SAASY,QAAQrG,IAC7B1H,EAAWrP,KAAKuc,QAAQxF,IACoC,IAAxD/W,KAAKqb,SAAS8H,UAAUqM,cAAczY,EAAI1H,KAG1CkgB,EAAY,GAAKvvB,KAAKsf,qBAAuB,EAAIiQ,GACjDvvB,KAAKuiB,WAAW,0BACT,IAEXviB,KAAKoF,IAAI,wBAA0BiK,EAAW,UAAY0H,EAAK,SACxD,MAEP/W,KAAKoF,IAAI,IAAM2R,EAAK,2BAA4B,UACzC,IAGf+Q,UAAW,SAAS/Q,EAAI5hB,GACpB6K,KAAKsf,uBACLmQ,aAAazvB,KAAK8f,eAAe/I,IACjC,IAAI2Y,EAAkB9vB,GAAG6E,QAAQzE,KAAKib,WAAYlE,IAC7C/W,KAAKqb,SAASmR,YAAckD,GAAmB,GAChD1vB,KAAKib,WAAWrC,OAAO8W,EAAiB,GAE5C1vB,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAO0C,WAE7C+N,YAAa,SAAS5Q,EAAI5hB,EAAM8M,EAAQwlB,GAepC,OAdKxlB,EAAOoI,SAOJpI,EAAO4gB,eACP7iB,KAAK8d,eAAe/G,GAAM9U,EAAO4gB,cAErC7iB,KAAKkf,eACLlf,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAO+C,qBAVzCja,KAAKsf,uBACLtf,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAOgD,gBACwB,IAA7DjY,EAAOjC,KAAKqb,SAASsF,MAAMwG,gCAC3BnnB,KAAK+f,gBAAgBhJ,IAAM,IASnC/W,KAAKquB,8BAA8BtX,EAAI5hB,EAAM8M,EAAQwlB,KAC9CxlB,EAAOoI,SAElB6Z,UAAW,SAASnN,GAChB/W,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAOkD,WAE7CgI,kBAAmB,SAASrL,EAAIqN,EAAUC,GAC3BrkB,KAAKuc,QAAQxF,GACpBsN,EACArkB,KAAKksB,oBAAoBnV,EAAIqN,GAE7BpkB,KAAKisB,qBAAqBlV,IAGlC4P,eAAgB,SAASze,GACrB,IAAIynB,EACJ,GAAI/vB,GAAGmQ,kBAAkBgC,cAAe,CACpC,IAAK4d,EAAY,EAAGA,EAAYznB,EAAM+T,MAAM9gB,OAAQw0B,IAChD3vB,KAAK8iB,sBAAsB5a,EAAM+T,MAAM0T,GAAYznB,GAEvDlI,KAAK2a,SAASzS,EAAM+T,YACb/T,EAAMrS,MAAMsF,OAAS,GAC5B6E,KAAK2a,SAASzS,GAElBtI,GAAGyC,KAAKrC,KAAKggB,UAAU,SAAS1d,EAAK2d,GACjCA,EAAO3J,YAGfiR,YAAa,SAASxQ,EAAI5hB,EAAMkyB,EAAQC,GACpCtnB,KAAKygB,gBAAkBzgB,KAAKygB,eAAemP,qBAAqB7Y,EAAIsQ,EAAQC,IAEhFuI,UAAW,SAAS9Y,EAAI5hB,KACxB26B,yBAA0B,SAAS/Y,EAAI5hB,GACnC6K,KAAK6vB,UAAUt0B,MAAMyE,KAAMlJ,WAC3BkJ,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAOuC,WACzCzZ,KAAK+vB,aAAax0B,MAAMyE,KAAMlJ,WAC1BkJ,KAAKqb,SAASmR,YACdxsB,KAAKqb,SAAS8H,UAAU6M,YAAYz0B,MAAMyE,KAAMlJ,WAChDkJ,KAAK+c,YAAYhG,KAEjB/W,KAAKiwB,eAAelZ,GACpB/W,KAAKqb,SAAS8H,UAAU6M,YAAYz0B,MAAMyE,KAAMlJ,aAGxDmmB,gBAAiB,SAASlG,EAAImZ,EAAmBC,GAC7C,IAA6BC,EAAzB/Y,EAAOrX,KAAKuf,QAAQxI,GAIxB,OAHImZ,IACAE,EAA4BxwB,GAAGxJ,KAAK85B,EAAmBlwB,KAAM+W,EAAIM,EAAM8Y,IAEvEnwB,KAAK2sB,qBACL3sB,KAAK2kB,uBAAuB,CACxBxvB,KAAM,iBACNuK,SAAUE,GAAGxJ,KAAK4J,KAAKqb,SAAS8H,UAAUkN,eAAgBrwB,KAAM+W,GAChE9C,UAAWmc,GAA6BxwB,GAAGxJ,KAAK4J,KAAKswB,eAAeC,WAAYvwB,KAAM+W,EAAIM,EAAM8Y,GAChGrL,WAAY/N,KAET,IAEP/W,KAAKoF,IAAI,iCAAmC2R,EAAK,wHAA8H,SACxK,IAGfgZ,aAAc,SAAShZ,KACvByZ,iBAAkB,SAASnJ,EAAQC,GAC/BtnB,KAAKqb,SAAS8H,UAAUsN,gBAAgBpJ,EAAQC,IAEpDU,cAAe,SAASjR,KACxBmR,UAAW,SAASnR,EAAI5hB,GACpB6K,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAO4C,YAE7CwO,eAAgB,SAASvR,EAAIsR,KAC7BK,sBAAuB,SAAS3R,EAAIsR,IAC3BroB,KAAK+f,gBAAgBhJ,IAAO/W,KAAKqb,SAASsF,MAAM+P,aACjD1wB,KAAK6f,aAAa9I,GAAM,IAGhC6O,sBAAuB,SAAS7O,EAAI2B,EAAWD,GACvCA,IAAc7Y,GAAGsX,OAAO2C,QACxB4V,aAAazvB,KAAK8f,eAAe/I,KAGzC4Z,gCAAiC,SAAS5F,GACtC,IAAItW,EAAOzU,KACXJ,GAAGyC,KAAK0oB,GAAc,SAASzoB,EAAKuoB,GAChCpW,EAAKgV,oBAAoBoB,EAAY9T,QAG7C6Z,gCAAiC,SAASC,EAAuB/nB,EAAO2R,EAAQC,EAAUuF,GACtF,IAAIoC,EAAckN,EAAYvvB,KAAKqf,kBAAmByR,EAAmC9wB,KAAKsf,qBAC5E,IAAdiQ,GAAmBuB,GAAoCvB,EACnDzmB,EAAM3N,OAAS,EACf6E,KAAK2kB,uBAAuB,CACxBxvB,KAAM,aACNuK,SAAUE,GAAGxJ,KAAK4J,KAAKqb,SAAS8H,UAAU0L,WAAY7uB,KAAM6wB,EAAsB,GAAI5Q,GACtFhM,UAAWrU,GAAGxJ,KAAK4J,KAAK8uB,2BAA4B9uB,KAAM8I,EAAO,EAAG2R,EAAQC,GAC5ExG,UAAWtU,GAAGxJ,KAAK4J,KAAK+uB,2BAA4B/uB,KAAM8I,EAAO,EAAG2R,EAAQC,GAC5EoK,WAAY,SAAWhc,EAAM,GAAGyO,KAAKpiB,KAAO,YAAc2T,EAAM,GAAGyO,KAAKD,OAG5EtX,KAAKuiB,WAAW,iBAGpBviB,KAAK2wB,gCAAgC7nB,GACrCuZ,EAAeriB,KAAKqb,SAASiS,SAASyD,kBAAkBlvB,QAAQ,gBAAiBivB,GAAkCjvB,QAAQ,iBAAkB0tB,GAC7IvvB,KAAKkjB,YAAYb,KAGzB0M,2BAA4B,SAASjmB,EAAOoP,EAAOuC,EAAQC,GACvD,IAAIsW,EAAY9Y,EAAQ,EACxBlY,KAAKypB,oBAAoB3gB,EAAMoP,GAAOnB,GAAIjO,EAAMoP,GAAOX,KAAKpiB,MAC5D6K,KAAKyuB,8CAA6C,EAAO3lB,EAAOkoB,EAAWvW,EAAQC,IAEvFoU,2BAA4B,SAAShmB,EAAOoP,EAAOuC,EAAQC,GACvD,IAAIjG,EAAOzU,KAAMgxB,EAAY9Y,EAAQ,EAAG0W,EAAuB5uB,KAAK4qB,yBAAyB9hB,EAAMoP,IACnGlY,KAAKixB,wBAAwBnoB,EAAMoP,GAAQ0W,GAAsB70B,MAAK,WAClE0a,EAAKyc,QAAQpoB,EAAMoP,GAAOnB,GAAI0D,EAAQC,GACtCjG,EAAKga,8CAA6C,EAAM3lB,EAAOkoB,EAAWvW,EAAQC,MACnF,WACCjG,EAAKga,8CAA6C,EAAO3lB,EAAOkoB,EAAWvW,EAAQC,OAG3FyB,uBAAwB,SAASrT,EAAO2R,EAAQC,GAC5C,GAAqB,IAAjB5R,EAAM3N,OAAV,CAIA,IAAI01B,EAAwB7wB,KAAK8qB,0BAA0BhiB,GAAQ0L,EAAWxU,KAAKijB,aAAana,EAAM,GAAGyO,MAAO0I,EAASjgB,KAAKse,WAAW9J,GACzIxU,KAAK2kB,uBAAuB,CACxBxvB,KAAM,kBACNuK,SAAUE,GAAGxJ,KAAK4J,KAAKqb,SAAS8H,UAAUgO,gBAAiBnxB,KAAM6wB,EAAuB5Q,GACxFhM,UAAWrU,GAAGxJ,KAAK4J,KAAK4wB,gCAAiC5wB,KAAM6wB,EAAuB/nB,EAAO2R,EAAQC,EAAUuF,GAC/G/L,UAAWtU,GAAGxJ,KAAK4J,KAAK2wB,gCAAiC3wB,KAAM8I,GAC/Dgc,WAAY,0BATZ9kB,KAAKuiB,WAAW,iBAYxB6O,wBAAyB,WACrB,IAAI3c,EAAOzU,KACXA,KAAK6mB,gBAAgB5mB,OAAO4E,OAAQ,gBAAgB,SAASxF,GACzD,GAAIoV,EAAKkK,gBAGL,OAFAtf,EAAIA,GAAKwF,OAAOwsB,OACdtkB,YAAc0H,EAAK4G,SAASiS,SAASgE,QAChC7c,EAAK4G,SAASiS,SAASgE,YAI1ChR,oBAAqB,WACjB,IAAI7L,EAAOzU,KAAMvD,EAAUuD,KAAKqb,SAAS+E,QACrCxgB,GAAG2xB,SAA6C,MAAlCvxB,KAAKqb,SAAS+E,QAAQ1F,WAC/B1a,KAAKwxB,WACN5xB,GAAG0B,OAAO7E,EAAS,CACfunB,KAAMhkB,KAAKqb,SAAS2I,OAExBvnB,EAAQ2I,IAAMxF,GAAGxJ,KAAK4J,KAAKoF,IAAKpF,MAChCvD,EAAQg1B,cAAgB7xB,GAAGxJ,KAAK4J,KAAK+a,eAAgB/a,MACrDA,KAAKwxB,SAAW,IAAI5xB,GAAG2xB,QAAQ90B,IAEnCqpB,YAAW,WACPrR,EAAK+c,SAASE,UAAU33B,MAAK,SAASu0B,EAAUlK,GAC5C3P,EAAKkd,0BACLld,EAAK4G,SAAS8H,UAAUyO,yBAAyBtD,GAAU,EAAMlK,MAClE,SAASkK,EAAUlK,GAClB3P,EAAK4G,SAAS8H,UAAUyO,yBAAyBtD,GAAU,EAAOlK,QAEvE,KAGXuN,wBAAyB,aACzBzI,SAAU,SAASnS,EAAIoC,GACnBnZ,KAAKsc,YAAYpD,WAAWnC,EAAIoC,GAChCnZ,KAAKygB,gBAAkBzgB,KAAKygB,eAAeoR,UAAU9a,IAEzDoY,iBAAkB,SAASpY,GACvB,IAAIsF,EAAarc,KAAKsc,YAAY1E,SAAS,CACvCb,GAAIA,IAER,UAAK/W,KAAK+f,gBAAgBhJ,IAAO/W,KAAKqb,SAASsF,MAAM+P,YAAcrU,EAAWnF,SAAWtX,GAAGsX,OAAO2C,cACjEtiB,IAA1ByI,KAAK6f,aAAa9I,KAClB/W,KAAK6f,aAAa9I,GAAM,GAExB/W,KAAK6f,aAAa9I,GAAM/W,KAAKqb,SAASsF,MAAMmR,oBAC5C9xB,KAAK6f,aAAa9I,IAAO,GAClB,IAKnBkZ,eAAgB,SAASlZ,GACrB/W,KAAKib,WAAW1Y,KAAKwU,IAEzB8U,aAAc,SAAS9U,GACnB,IAAIvC,GAEAA,EADA5U,GAAGmQ,kBAAkBgC,cACV/R,KAAKwc,SAASwB,QAAQjH,GAAIiM,WAE1BhjB,KAAKijB,aAAajjB,KAAKwc,SAASxG,SAASe,OAGpD/W,KAAKue,qBAAqBxH,GAAMvC,IAGxCsN,4BAA6B,SAASiQ,GAClC/xB,KAAKqb,SAAS5M,KAAKxR,QAAU80B,EAC7B/xB,KAAKosB,aAAexsB,GAAGysB,aAAe,IAAIzsB,GAAGysB,YAAYrsB,KAAKqb,SAAS5M,KAAM7O,GAAGxJ,KAAK4J,KAAKsiB,kBAAmBtiB,MAAOJ,GAAGxJ,KAAK4J,KAAKoF,IAAKpF,OAClIA,KAAKosB,cAAgBpsB,KAAKosB,aAAaE,iBACvCtsB,KAAKkgB,aAAawF,YAAY,KAAM1lB,KAAKosB,aAAaG,uBACtDvsB,KAAKqb,SAASmR,WAAaxsB,KAAKosB,aAAaK,cACzCzsB,KAAKosB,aAAaM,aAClB1sB,KAAK2hB,YAAY3hB,KAAKosB,aAAaM,eAI/CwE,QAAS,SAASna,EAAI0D,EAAQC,GAC1B,IAAIvlB,EAAO6K,KAAKuc,QAAQxF,GACpB0D,GACAza,KAAKkiB,UAAUzH,EAAQ1D,GAEvB2D,GACA1a,KAAK2hB,YAAYjH,EAAU3D,GAE/B/W,KAAK2kB,uBAAuB,CACxBxvB,KAAM,WACNuK,SAAUE,GAAGxJ,KAAK4J,KAAKqb,SAAS8H,UAAU6O,SAAUhyB,KAAM+W,EAAI5hB,GAC9D8e,UAAWrU,GAAGxJ,KAAK4J,KAAK8vB,yBAA0B9vB,KAAM+W,EAAI5hB,GAC5D+e,UAAWtU,GAAGxJ,KAAK4J,KAAKypB,oBAAqBzpB,KAAM+W,EAAI5hB,GACvD2vB,WAAY/N,KAGpBgG,YAAa,SAAShG,GACb/W,KAAKwc,SAAShU,OAAOuO,IACtB/W,KAAKsc,YAAY9D,UAAUzB,EAAInX,GAAGsX,OAAOyC,SAGjD6I,mBAAoB,WAEhB,IADA,IAAIyP,EAAYC,EAAiBzd,EAAOzU,KACjCA,KAAKib,WAAW9f,QACnB82B,EAAajyB,KAAKib,WAAWvL,QAC7B1P,KAAK+c,YAAYkV,IAErBC,EAAkBlyB,KAAK8e,WAAW,CAC9B5H,OAAQtX,GAAGsX,OAAOC,aACnBhc,UAECyE,GAAGwF,IAAI,qBAAuB8sB,EAAkB,yEAChDpM,YAAW,WACPrR,EAAK+N,uBACN,OAGXyO,wBAAyB,SAASpG,EAAa+D,GAC3C,IAAIna,EAAOzU,KAAMuX,EACTsT,EAAYtT,gBAAgB3X,GAAGwU,UACxByW,EAAYtT,KAAKlD,cAErBwW,EAAYtT,KAClBpiB,EAAOy5B,EAAqBz5B,KAAMmiB,EAAOsX,EAAqBtX,KAAM9C,EAAWxU,KAAKijB,aAAa4H,EAAYtT,MAAOiW,EAAiBxtB,KAAK2qB,mBAAmBnW,GAAW2d,EAAkB,IAAIvyB,GAAG9F,QAItM,OAHAq4B,EAAgBp4B,MAAK,eAAe,WAChC0a,EAAKgV,oBAAoBoB,EAAY9T,GAAI5hB,MAEzCyK,GAAGyH,cAAckQ,KAAUvX,KAAKymB,oBAAoB+G,EAAetH,kBAAmB/wB,IACtF6K,KAAKuiB,WAAW,YAAaptB,EAAMoiB,GAC5B4a,EAAgB5nB,WAEtBvK,KAAKqb,SAAS4K,WAAWmM,YAAuB,IAAT9a,EAIxCA,EAAO,GAAKkW,EAAeI,WAAatW,EAAOkW,EAAeI,WAC9D5tB,KAAKuiB,WAAW,YAAaptB,EAAMoiB,GAC5B4a,EAAgB5nB,WAEvB+M,EAAO,GAAKA,EAAOkW,EAAeK,cAClC7tB,KAAKuiB,WAAW,eAAgBptB,EAAMoiB,GAC/B4a,EAAgB5nB,YAEvB3K,GAAGyyB,iBAAmBzyB,GAAGmQ,kBAAkB4C,eAAiB/S,GAAGmH,OAAOwQ,GACtE,IAAI3X,GAAGyyB,gBAAgB9a,EAAM3X,GAAGxJ,KAAKqe,EAAKrP,IAAKqP,IAAO6d,SAAS9E,EAAe+E,OAAOx4B,KAAKo4B,EAAgB9nB,SAAS,SAASmoB,GACxH/d,EAAK8N,WAAWiQ,EAAY,aAAcr9B,EAAMoiB,GAChD4a,EAAgB5nB,aAGpB4nB,EAAgB9nB,UAEb8nB,IAnBHnyB,KAAKuiB,WAAW,aAAcptB,EAAMoiB,GAC7B4a,EAAgB5nB,YAoB/BkoB,eAAgB,WACZ,IAAIhe,EAAMie,EAAc/nB,EAWxB,IAAKA,KAVL8J,EAAOzU,KACP0yB,EAAe,SAASv9B,EAAMuK,EAAUd,GACpC,IAAI+zB,EACJ,IACI,OAAOjzB,EAASnE,MAAMkZ,EAAM7V,GAC9B,MAAOg0B,GACLD,EAAWC,EAAUvtB,SAAWutB,EAAUl5B,WAC1C+a,EAAKrP,IAAI,wBAA0BjQ,EAAO,gBAAkBw9B,EAAU,WAGjE3yB,KAAKqb,SAAS8H,WACvB,WACI,IAAI0P,EAAcC,EAClBD,EAAeloB,EACfmoB,EAAere,EAAK4G,SAAS8H,UAAU0P,GACvCpe,EAAK4G,SAAS8H,UAAU0P,GAAgB,WACpC,OAAOH,EAAaG,EAAcC,EAAch8B,YALxD,KAl3ChB,GA83CA,WACI,aACA8I,GAAGmzB,kBAAoB,SAAS19B,GAC5B,IAAIof,EAAOzU,KACXA,KAAKqb,SAAW,CACZqE,OAAO,EACPO,OAAQ,KACR5X,UAAU,EACVob,eAAgB,EAChBuP,6BAA6B,EAC7BxG,YAAY,EACZyG,kBAAkB,EAClBtP,QAAS,CACLE,cAAe,GACfnJ,SAAU,iBACVwY,cAAe,aACfC,gBAAgB,EAChBzM,UAAW,SACXnD,OAAQ,OACR6P,mBAAmB,EACnB3Y,OAAQ,GACR4Y,cAAc,EACdC,oBAAoB,EACpBC,kBAAmB,kBACnB3P,SAAU,UAEdqC,WAAY,CACRC,kBAAmB,GACnB0H,UAAW,EACXC,aAAc,EACd0B,UAAW,EACXZ,wBAAwB,EACxBha,YAAa,KACb4d,MAAO,CACHiB,UAAW,EACXC,SAAU,EACVC,UAAW,EACXC,SAAU,GAEdvB,YAAY,GAEhBjP,UAAW,CACP6O,SAAU,SAASjb,EAAI5hB,KACvB66B,YAAa,SAASjZ,EAAI5hB,KAC1BqyB,WAAY,SAASzQ,EAAI5hB,EAAM2zB,EAAc8K,KAC7C1E,cAAe,SAASF,EAAYC,KACpCrH,SAAU,SAAS7Q,EAAI5hB,KACvB8yB,SAAU,SAASlR,EAAI5hB,KACvBizB,cAAe,SAASrR,EAAI5hB,EAAMkzB,KAClCI,qBAAsB,SAAS1R,EAAIsR,EAAWS,EAAcrB,KAC5DkB,SAAU,SAAS5R,EAAI1H,EAAUgZ,EAAWO,KAC5CxB,WAAY,SAASrQ,EAAI5hB,EAAMkyB,EAAQC,KACvCmJ,gBAAiB,SAASpJ,EAAQC,KAClClE,QAAS,SAASrM,EAAI5hB,EAAMipB,EAAQyV,KACpChL,YAAa,SAAS9R,EAAI5hB,EAAM2+B,KAChCtE,cAAe,SAASzY,EAAI5hB,KAC5Bg8B,gBAAiB,SAAS4C,KAC1BlF,WAAY,SAASkF,KACrB1D,eAAgB,SAAStZ,KACzBkN,SAAU,SAASlN,KACnBoN,iBAAkB,SAASpN,EAAIqN,EAAUC,KACzCO,gBAAiB,SAAS9a,KAC1B6N,eAAgB,SAASZ,EAAI2B,EAAWD,KACxCmZ,yBAA0B,SAAStD,EAAUjkB,EAAS+Z,MAE1DkJ,SAAU,CACN0G,UAAW,qEACXC,UAAW,yDACXC,aAAc,4DACdC,WAAY,yDACZC,aAAc,sBACdrD,kBAAmB,6EACnBsD,oBAAqB,qBACrBC,mBAAoB,qBACpBC,oBAAqB,4BACrBC,mBAAoB,4BACpBC,sBAAuB,mDACvBnD,QAAS,8EACTlD,6BAA8B,6KAElCzN,MAAO,CACH+P,YAAY,EACZoB,gBAAiB,EACjBzC,iBAAkB,EAClBlI,6BAA8B,gBAElChB,QAAS,CACLE,YAAa,yBACbD,YAAa,0BAEjBlU,SAAU,CACN4K,SAAS,EACT4X,WAAY,CACR5X,SAAS,GAEb6X,WAAW,EACXC,WAAY,CACRpM,UAAW,cACXqM,eAAgB,mBAChBC,UAAW,cACXC,cAAe,kBACfC,WAAY,gBAEhBC,SAAU,SAASle,GACf,OAAO,KAEX1M,QAAS,CACLqQ,SAAU,KACVuG,QAAS,SAASlK,GACd,OAAO,MAEXme,aAAa,EACb3R,OAAQ,OACR9I,OAAQ,SAAS1D,GACb,OAAO,MAEXoe,cAAe,KAGvBniB,OAAQ,CACJ8J,SAAS,EACTsY,gBAAiB,EACjBR,WAAY,CACRS,SAAU,YAEdC,WAAY,SAAShY,GACjB,MAAO,KAGfqQ,eAAgB,SAAS4H,GACrB,OAAOA,GAEXxyB,KAAM,CACFyrB,qBAAsB,gCACtB5H,eAAgB,aAChB+C,YAAa,CAAE,KAAM,KAAM,KAAM,KAAM,KAAM,OAEjD3M,WAAY,CACRF,SAAS,EACTyG,OAAQ,SACR7I,SAAU,iBACVmJ,cAAe,GACfpJ,OAAQ,IAEZuJ,KAAM,CACF4I,UAAU,EACV4I,iBAAiB,EACjB3I,UAAU,GAEdvR,MAAO,CACHC,YAAa,aAEjBkJ,MAAO,CACHD,cAAe,KACfjJ,YAAa,gBAEjB2P,OAAQ,CACJ3e,KAAK,EACL0T,OAAQ,MAEZ+J,aAAc,GACd5J,QAAS,CACL1F,SAAU,KACVD,OAAQ,GACRoJ,cAAe,GACfxD,gBAAgB,GAEpB5R,KAAM,CACFxR,QAAS,UACTuvB,YAAY,EACZiJ,iBAAiB,GAErBxiB,QAAS,CACLyiB,cAAe,KACfC,cAAc,EACdC,QAAQ,EACRC,YAAa,KACbC,eAAgB,GAChBC,YAAa,kBACbC,aAAa,EACbC,MAAO,IAEX3P,YAAa,CACTE,gBAAgB,EAChB0H,mBAAmB,EACnB3H,kBAAkB,IAG1B3mB,GAAG0B,OAAOtB,KAAKqb,SAAUhmB,GAAG,GAC5B2K,KAAKggB,SAAW,GAChBhgB,KAAK+pB,kBAAoB,GACzB/pB,KAAKue,qBAAuB,GAC5Bve,KAAKyyB,iBACLzyB,KAAK6mB,gBAAkB,IAAIjnB,GAAG0P,eAC9BtP,KAAKib,WAAa,GAClBjb,KAAK6f,aAAe,GACpB7f,KAAK8f,eAAiB,GACtB9f,KAAK+f,gBAAkB,GACvB/f,KAAK8d,eAAiB,GACtB9d,KAAKsf,qBAAuB,EAC5Btf,KAAKkf,aAAe,EACpBlf,KAAKsc,YAActc,KAAK2lB,2BACxB3lB,KAAKmsB,4BACLnsB,KAAKkhB,oBAAsBlhB,KAAK+kB,aAAa/kB,KAAKqb,SAASsI,QAAQE,eACnE7jB,KAAKshB,8BAAgCthB,KAAK+kB,aAAa/kB,KAAKqb,SAAS2B,WAAW6G,eAChF7jB,KAAK0hB,uBAAyB1hB,KAAK+kB,aAAa/kB,KAAKqb,SAAS2B,WAAWvC,QACzEza,KAAKye,eAAiBze,KAAK+kB,aAAa/kB,KAAKqb,SAASsI,QAAQjJ,UAC9D1a,KAAKwhB,yBAA2BxhB,KAAK+kB,aAAa/kB,KAAKqb,SAAS2B,WAAWtC,UAC3E1a,KAAKwc,SAAWxc,KAAK8mB,uBACrB9mB,KAAKswB,eAAiB1wB,GAAG0jB,yBAA2BtjB,KAAKqjB,uBACrDrjB,KAAKqb,SAAS4E,SACdjgB,KAAKqqB,iBAAmBrqB,KAAK+lB,oBAAoB,CAC7C9oB,QAAS+C,KAAKqb,SAAS4E,OACvBhL,MAAOjV,KAAKqb,SAAStY,KAAK6jB,iBAC3B3Q,eAEPjW,KAAK8pB,4BACL9pB,KAAKirB,sBACDjrB,KAAKqb,SAASoJ,MAAMD,gBAChB5kB,GAAG2kB,aACHvkB,KAAKmgB,cAAgBngB,KAAKskB,sBAE1BtkB,KAAKoF,IAAI,iCAAkC,UAGnDpF,KAAKqb,SAAS4X,kBAAoBjzB,KAAKoxB,0BACvCpxB,KAAK6d,gBAAkBje,GAAGs2B,gBAAkB,IAAIt2B,GAAGs2B,eAAet2B,GAAGxJ,KAAK4J,KAAKoF,IAAKpF,OACpFA,KAAKsgB,sBACLtgB,KAAKugB,+BAAiC,GACtCvgB,KAAKwgB,4BAA8B,GACnCxgB,KAAKm2B,QAAUv2B,GAAGmhB,QAAU,IAAInhB,GAAGmhB,OAAO/gB,KAAKqb,SAASpI,QAASrT,GAAGxJ,KAAK4J,KAAKoF,IAAKpF,QAAU,GACzFA,KAAKm2B,QAAQrZ,UACb9c,KAAK0rB,sBAAwB9rB,GAAGxJ,KAAK4J,KAAKm2B,QAAQC,cAAep2B,KAAKm2B,UAEtEv2B,GAAGy2B,eAAiBz2B,GAAGmQ,kBAAkBgD,cACzC/S,KAAKygB,eAAiB,IAAI7gB,GAAGy2B,cAAcz2B,GAAGxJ,KAAK4J,KAAKwwB,iBAAkBxwB,OAAO,SAAS+W,GACtF,IAAIuf,EAAQ7hB,EAAK6H,YAAY1E,SAAS,CAClCb,GAAIA,IAER,OAAOuf,GAASA,EAAMhf,MAAQ,MAGtCtX,KAAKqf,kBAAoBrf,KAAKqb,SAAS4K,WAAWsJ,UAClDvvB,KAAK0gB,uBAAyB1gB,KAAK+kB,gBAEvCnlB,GAAGmzB,kBAAkBv8B,UAAYoJ,GAAG0a,cACpC1a,GAAG0B,OAAO1B,GAAGmzB,kBAAkBv8B,UAAWoJ,GAAG6iB,gBAtPjD,GAwPA7iB,GAAG22B,cAAgB,SAASlhC,GACxB,aACA,IAAI+P,EAAKoxB,EAA6BC,EAAQ,GAAIC,EAAc,GAAIj6B,EAAU,CAC1Ek6B,aAAc,KACdC,aAAc,CAAE,QAAS,OAAQ,OACjCrT,OAAQ,OACRsT,YAAa,oCACbpT,eAAgB,EAChBI,cAAe,GACfE,cAAe,GACfD,YAAa,GACbgT,eAAgB,GAChBC,oCAAoC,EACpCC,wBAAyB,CACrBC,OAAQ,CAAE,IAAK,IAAK,KACpBC,MAAO,CAAE,IAAK,IAAK,IAAK,IAAK,KAC7BC,KAAM,CAAE,IAAK,IAAK,IAAK,IAAK,KAC5BC,IAAK,CAAE,IAAK,IAAK,IAAK,IAAK,KAC3BC,IAAK,CAAE,MAEXrT,KAAM,CACF4I,UAAU,EACV4I,iBAAiB,GAErBpwB,IAAK,SAASqB,EAAKnB,KACnBgyB,OAAQ,SAASvgB,KACjByQ,WAAY,SAASzQ,EAAIqN,EAAUC,KACnC+C,WAAY,MAIhB,GAFAxnB,GAAG0B,OAAO7E,EAASpH,GACnB+P,EAAM3I,EAAQ2I,IACVxF,GAAG6E,QAAQhI,EAAQm6B,aAAcn6B,EAAQ8mB,QAAU,EACnD,MAAM,IAAI7qB,MAAM,IAAM+D,EAAQ8mB,OAAS,yDAe3C,SAASgU,EAAM9P,GACX,OAAOhrB,EAAQunB,KAAK4I,eAAoCr1B,IAAxBkwB,EAAIxW,gBAgBxC,SAASumB,EAAYzgB,EAAI0gB,GACrB,IAAIrT,EAAWsS,EAAY3f,IAAO2f,EAAY3f,GAAI0Q,IAalD,OAZKrD,IAEGA,EADAqT,IAGIh7B,EAAQunB,KAAK4I,SApB7B,WACI,IAAIxI,EAWJ,OAVIvf,OAAO4D,gBAAkB5D,OAAO6D,qBAECnR,KADjC6sB,EAAWxkB,GAAG2I,qBACD0I,mBACTmT,EAAW,IAAIjT,gBACN/G,OAAS,aAClBga,EAAS9Z,QAAU,aACnB8Z,EAASsT,UAAY,aACrBtT,EAASuT,WAAa,cAGvBvT,EASgBwT,GAEAh4B,GAAG2I,qBAGtBmuB,EAAY3f,GAAI0Q,IAAMrD,GAEnBA,EAEX,SAASyT,EAAQ9gB,GACb,IAAIniB,EAAIgL,GAAG6E,QAAQgyB,EAAO1f,GAAK6S,EAAMntB,EAAQgnB,sBACtCiT,EAAY3f,GACnB0f,EAAM7d,OAAOhkB,EAAG,GACZ6hC,EAAMt7B,QAAUyuB,GAAOh1B,EAAIg1B,GAE3BkO,EADSrB,EAAM7M,EAAM,IAI7B,SAASpC,EAAWzQ,EAAIghB,GACpB,IAuH0BC,EAvHtBvQ,EAAM+P,EAAYzgB,GAAKwM,EAAS9mB,EAAQ8mB,OAAQc,GAAuB,IAAb0T,EAC9DF,EAAQ9gB,GACJsN,EACAjf,EAAIme,EAAS,gBAAkBxM,EAAK,cAAe,SAC3CwgB,EAAM9P,KAmHQuQ,EAnHsBvQ,EAAIvQ,OAoH7CtX,GAAG6E,QAAQhI,EAAQu6B,wBAAwBv6B,EAAQ8mB,QAASyU,IAAiB,KAnHhF3T,GAAU,EACVjf,EAAIme,EAAS,gBAAkBxM,EAAK,+BAAiC0Q,EAAIvQ,OAAQ,UAErFza,EAAQ+qB,WAAWzQ,EAAI0Q,EAAKpD,GAqBhC,SAASyT,EAAY/gB,EAAIkhB,GACrB,IAAuHC,EAAnHzQ,EAAM+P,EAAYzgB,EAAIkhB,GAAS1U,EAAS9mB,EAAQ8mB,OAAQ9I,EApBhE,SAAmB1D,GACf,IAAgG0D,EAA5F0d,EAAiBzB,EAAY3f,GAAIqhB,iBAAkBtB,EAAiBr6B,EAAQq6B,eAgBhF,OAfIr6B,EAAQqnB,YAAYruB,MACpBglB,EAAShe,EAAQqnB,YAAYruB,IAAIshB,IAEjCohB,GACAv4B,GAAGyC,KAAK81B,GAAgB,SAAShjC,EAAMyH,IACnC6d,EAASA,GAAU,IACZtlB,GAAQyH,KAGnBk6B,GACAl3B,GAAGyC,KAAKy0B,GAAgB,SAAS3hC,EAAMyH,IACnC6d,EAASA,GAAU,IACZtlB,GAAQyH,KAGhB6d,EAG8D4d,CAAUthB,GAAKuhB,EAAU5B,EAAY3f,GAAIuhB,QA2B9G,OA1BA77B,EAAQ66B,OAAOvgB,GACfmhB,EA2BJ,SAAmBnhB,EAAI0D,EAAQ8d,GAC3B,IAAI7d,EAAWje,EAAQsnB,cAActuB,IAAIshB,GAAKyhB,EAAY9B,EAAY3f,GAAIyhB,UACzDjhC,MAAbihC,IACA9d,GAAY,IAAM8d,GAElBhC,GAA+B/b,IAC/BC,EAAW9a,GAAG+N,QAAQ8M,EAAQC,IAE9B6d,IACA7d,EAAW9a,GAAG+N,QAAQ4qB,EAAuB7d,IAEjD,OAAOA,EAtCD+d,CAAU1hB,EAAI0D,EAAQic,EAAY3f,GAAIwhB,uBACxChB,EAAM9P,IACNA,EAAIrd,OAuDZ,SAA2B2M,GACvB,OAAO,WACHyQ,EAAWzQ,IAzDE2hB,CAAkB3hB,GAC/B0Q,EAAInd,QA2DZ,SAA4ByM,GACxB,OAAO,WACHyQ,EAAWzQ,GAAI,IA7DD4hB,CAAmB5hB,IAEjC0Q,EAAImR,mBAmCZ,SAAuC7hB,GACnC,OAAO,WACgC,IAA/BygB,EAAYzgB,GAAI8hB,YAChBrR,EAAWzQ,IAtCU+hB,CAA8B/hB,GA0C/D,SAAmCA,GAC/B,IAAIqQ,EAAa3qB,EAAQ2qB,WACrBA,IACAoQ,EAAYzgB,GAAIvO,OAAOmvB,WAAa,SAASt4B,GACrCA,EAAE05B,kBACF3R,EAAWrQ,EAAI1X,EAAEgoB,OAAQhoB,EAAEioB,SA7CvC0R,CAA0BjiB,GAC1B0Q,EAAIwR,KAAK1V,EAAQ2U,GAAK,GAClBz7B,EAAQunB,KAAK4I,UAAYnwB,EAAQunB,KAAKwR,kBAAoB+B,EAAM9P,KAChEA,EAAIxW,iBAAkB,GAyD9B,SAAoB8F,GAChB,IAAI0Q,EAAM+P,EAAYzgB,GAAK8M,EAAgBpnB,EAAQonB,cAAeqV,EAAkBxC,EAAY3f,GAAIoiB,mBAAqB,GAAI5V,EAAS9mB,EAAQ8mB,OAAQ6V,EAAa,GAC9J7B,EAAM9P,KACPhrB,EAAQk6B,cAAgBlP,EAAI4R,iBAAiB,SAAU58B,EAAQk6B,cAC3Dl6B,EAAQs6B,qCACHt6B,EAAQunB,KAAK4I,UA/JnBhtB,GAAG6E,QAAQ,CAAE,MAAO,OAAQ,QAAUhI,EAAQ8mB,SAAW,IAG5D+V,GAAoB,EACxB15B,GAAGyC,KAAKi3B,GAAmB,SAASh3B,EAAKi3B,GACrC,GAAI35B,GAAG6E,QAAQ,CAAE,SAAU,kBAAmB,mBAAoB,gBAAkB80B,GAAU,EAE1F,OADAD,GAAoB,GACb,MAGRA,KAsJK7R,EAAI4R,iBAAiB,mBAAoB,kBACzC5R,EAAI4R,iBAAiB,gBAAiB,eAG1C58B,EAAQo6B,aAA2B,SAAXtT,GAAgC,QAAXA,GAC7CkE,EAAI4R,iBAAiB,eAAgB58B,EAAQo6B,aAEjDj3B,GAAG0B,OAAO83B,EAAYx5B,GAAG8F,WAAWme,GAAiBA,EAAc9M,GAAM8M,GACzEjkB,GAAG0B,OAAO83B,EAAYF,GACtBt5B,GAAGyC,KAAK+2B,GAAY,SAASjkC,EAAMyH,GAC/B6qB,EAAI4R,iBAAiBlkC,EAAMyH,OAxKvC,IACQ08B,EAgGJE,CAAWziB,GACX3R,EAAI,WAAame,EAAS,gBAAkBxM,GACxCuhB,EACA7Q,EAAIgS,KAAKnB,GACF9B,IAAgC/b,EACvCgN,EAAIgS,OACGhf,GAAUhe,EAAQo6B,aAAep6B,EAAQo6B,YAAYjvB,cAAcnD,QAAQ,sCAAwC,EAC1HgjB,EAAIgS,KAAK75B,GAAG+N,QAAQ8M,EAAQ,KACrBA,GAAUhe,EAAQo6B,aAAep6B,EAAQo6B,YAAYjvB,cAAcnD,QAAQ,qBAAuB,EACzGgjB,EAAIgS,KAAKpgC,KAAKqgC,UAAUjf,IAExBgN,EAAIgS,KAAKhf,GAENgN,EA8EX+O,EAAiD,QAAnB/5B,EAAQ8mB,QAAuC,WAAnB9mB,EAAQ8mB,OAClE3jB,GAAG0B,OAAOtB,KAAM,CACZ25B,cAAe,SAAS5iB,GACpB,IAAI6iB,EAAMnf,EAAQwG,EAASqX,EAASuB,EAAatB,EACjD,MAAO,CACHuB,SAAU,SAASC,GAEf,OADAH,EAAOG,EACA/5B,MAEXg6B,WAAY,SAAS5B,GAEjB,OADA3d,EAAS2d,EACFp4B,MAEXi6B,gBAAiB,SAASC,GAEtB,OADA3B,EAAwB2B,EACjBl6B,MAEXm6B,YAAa,SAAShB,GAElB,OADAlY,EAAUkY,EACHn5B,MAEXo6B,YAAa,SAASC,GAElB,OADA/B,EAAU+B,EACHr6B,MAEXs6B,gBAAiB,WAEb,OADAT,GAAc,EACP75B,MAEXy5B,KAAM,SAASxB,GAIX,OAHI4B,GAAej6B,GAAG6E,QAAQ,CAAE,MAAO,UAAYhI,EAAQ8mB,SAAW,IAClE9I,EAAO8f,aAAc,IAAIliC,MAAOmiC,WA5CpD,SAAuBzjB,EAAIkhB,EAAQO,EAAWJ,EAAkBG,EAAuBY,EAAmBb,GAStG,GARA5B,EAAY3f,GAAM,CACdyhB,UAAWA,EACXJ,iBAAkBA,EAClBG,sBAAuBA,EACvBY,kBAAmBA,EACnBb,QAASA,GAEH7B,EAAMl0B,KAAKwU,IACVta,EAAQgnB,eACf,OAAOqU,EAAY/gB,EAAIkhB,GAoCRwC,CAAc1jB,EAAIkhB,EAAQ2B,EAAMnf,EAAQ8d,EAAuBtX,EAASqX,MAI3FoC,SAAU,SAAS3jB,GACf8gB,EAAQ9gB,OAIpBnX,GAAG+6B,cAAgB,SAAS1jB,GACxB,aACA,IAAI2jB,EAAQ3jB,EAAK2jB,MAAOC,EAAY,GAAIjT,EAAWgT,EAAMhT,SAAUrL,EAAUqe,EAAMre,QACnF3c,GAAG0B,OAAOtB,KAAM,CACZiO,IAAK,SAAS8I,EAAI+jB,GACdD,EAAU9jB,GAAM+jB,EAChBD,EAAU9jB,GAAIlJ,KAAO,IAEzBuO,OAAQ,SAASrF,GACb,IAAItC,EAAOzU,KAAM6nB,EAA2B,IAAIjoB,GAAG9F,QAA4B8tB,EAAS7Q,EAAIwF,EAAQxF,GAAK8Q,GAC1F9tB,MAAK,WACZ0a,EAAK2I,QAAQrG,KACb8jB,EAAU9jB,GAAI2jB,UAAW,EACzBjmB,EAAKmL,QAAQ7I,IAEjB8Q,EAAyBxd,cAGjCuV,QAAS,SAAS7I,UACP8jB,EAAU9jB,IAErBgkB,oBAAqB,SAAShkB,GAC1B,OAAO8jB,EAAU9jB,GAAI5gB,KAEzBinB,QAAS,SAASrG,GACd,YAAyBxf,IAAlBsjC,EAAU9jB,IAErBT,MAAO,WACHukB,EAAY,IAEhBG,cAAe,SAASjkB,GACpB,OAAO8jB,EAAU9jB,IAErBkkB,qBAAsB,SAASlkB,EAAImkB,GAC/BL,EAAU9jB,GAAI5gB,IAAM+kC,GAExBC,aAAc,SAASpkB,GACnB,QAAS8jB,EAAU9jB,GAAI2jB,aAInC96B,GAAG4pB,wBAA0B,SAASn0B,EAAG2xB,GACrC,aACA,IAA+FoU,EAAsBh2B,EAAKqmB,EAuflH6C,EAvfJ+M,EAAar7B,KAAMs7B,GAAmB,EAAOC,GAA6B,EAAqD9+B,EAAU,CACzIqnB,YAAa,GACbL,eAAgB,EAChBvR,SAAU,CACN4K,SAAS,EACTzU,SAAU,CACNyU,SAAS,IAGjB1X,IAAK,SAASqB,EAAKnB,KACnB8hB,WAAY,SAASrQ,EAAI1H,EAAUgY,EAAQC,KAC3CE,WAAY,SAASzQ,EAAI1H,EAAUif,EAAU7G,KAC7CG,SAAU,SAAS7Q,EAAI1H,KACvB0Y,aAAc,SAAShR,KACvBkR,SAAU,SAASlR,EAAI1H,KACvB+Y,cAAe,SAASrR,EAAI1H,EAAUgZ,KACtCI,qBAAsB,SAAS1R,EAAIsR,EAAWiG,EAAU7G,KACxDoB,YAAa,SAAS9R,EAAI1H,EAAUif,EAAU7G,KAC9CkB,SAAU,SAAS5R,EAAI1H,EAAUgZ,EAAWO,KAC5CI,cAAe,SAASjS,EAAI+B,KAC5ByD,QAAS,SAASxF,KAClBkS,QAAS,SAASlS,EAAIoC,KACtBiQ,SAAU,SAASrS,KACnBwC,mBAAoB,SAASxC,KAC7ByC,cAAe,SAASzC,KACxBsS,aAAc,SAAStS,MACxBykB,EAAU,CACTrnB,KAAM,SAAS4C,EAAI0kB,EAAUnN,EAAU7G,GACnC,IAAIY,EAAYoD,EAAQiQ,cAAc3kB,EAAI0kB,GAC1ChQ,EAAQuP,cAAcjkB,GAAI4kB,kBAAmB,SACtClQ,EAAQuP,cAAcjkB,GAAIlJ,KAAK+tB,cAAcH,GACpDhQ,EAAQuP,cAAcjkB,GAAIsQ,QAAUgB,EAAU/Q,KAC9C7a,EAAQgsB,qBAAqB1R,EAAI0U,EAAQoQ,yBAAyBxT,GAAYiG,EAAU7G,IAE5FqU,SAAU,SAAS/kB,GACf,IAAIO,EAAO7a,EAAQuiB,QAAQjI,GAAK5hB,EAAOsH,EAAQ8f,QAAQxF,GACvD3R,EAAI,qCAAuC2R,EAAK,qBAChD0U,EAAQsQ,eAAehlB,GAAIhd,MAAK,SAASu0B,EAAU7G,GAC/CriB,EAAI,2BAA6B2R,GACjC,IAAIilB,EAAoBxzB,EAAOyzB,kBAAkB3N,GAAU,GAC3D7xB,EAAQ2qB,WAAWrQ,EAAI5hB,EAAMmiB,EAAMA,GACnCmU,EAAQyQ,+BAA+BnlB,GACvCvO,EAAO2zB,QAAQplB,EAAIilB,EAAmBvU,MACvC,SAAS6G,EAAU7G,GAClB,IAAI2U,EAAqB5zB,EAAOyzB,kBAAkB3N,GAAU,GAC5DlpB,EAAI,yCAA2C2R,EAAK,MAAQqlB,EAAmBzzB,MAAO,UAClFyzB,EAAmB9lB,OAASmR,GAAOhrB,EAAQyV,SAAS7H,QAAQ8qB,cAAc1wB,QAAQgjB,EAAIvQ,SAAW,IACjGskB,EAAQllB,MAAMS,GAEbta,EAAQosB,YAAY9R,EAAI5hB,EAAMinC,EAAoB3U,IACnDjf,EAAO2zB,QAAQplB,EAAIqlB,EAAoB3U,OAInD4U,cAAe,SAASZ,EAAU1kB,EAAIuX,EAAU7G,GAC5C,IAAItyB,EAAOsH,EAAQ8f,QAAQxF,GAC3B3R,EAAI,qCAAuC2R,EAAK,WAAa0kB,GAC7DhQ,EAAQ6Q,iBAAiBvlB,EAAI0kB,GAC7B,IAAkEc,EAA9DC,EAAmBh0B,EAAOyzB,kBAAkB3N,GAAU,GAC1D,GAAIkO,EAAiBlmB,MACjBklB,EAAQllB,MAAMS,OACX,CACH,IAAI0lB,EAAwBhR,EAAQuP,cAAcjkB,GAAI7E,SAASwqB,YAC/DH,EAAgBE,EAAwB78B,GAAG6E,QAAQg4B,EAAuBhB,IAAa,IAClE,IACjBhQ,EAAQuP,cAAcjkB,GAAI7E,SAASwqB,WAAW9jB,OAAO2jB,EAAe,GACpE9Q,EAAQuP,cAAcjkB,GAAI7E,SAASyqB,UAAUC,QAAQnB,IAGxDhQ,EAAQuP,cAAcjkB,GAAIlJ,KAAKgvB,gBAC5BtB,IACA9P,EAAQuP,cAAcjkB,GAAIlJ,KAAKgvB,eAAgB,EAC/Cz3B,EAAIxF,GAAG4G,OAAO,mFAAoFnN,KAAKqgC,UAAUpkC,OAAOyC,KAAK0zB,EAAQqR,SAAS/lB,KAAO1d,KAAKqgC,UAAUjO,EAAQuP,cAAcjkB,GAAI7E,SAASwqB,cACvM98B,GAAGyC,KAAKopB,EAAQqR,SAAS/lB,IAAK,SAASgmB,EAAMC,GACzC53B,EAAIxF,GAAG4G,OAAO,sDAAuDuQ,EAAIgmB,EAAMC,EAAMnE,aACrFmE,EAAMC,QACND,EAAME,YAAa,KAEvBzR,EAAQ0R,0BAA0BpmB,GAClCqmB,EAAkBC,KAAKtmB,GAAI,IAE1Bta,EAAQosB,YAAY9R,EAAI5hB,EAAMqnC,EAAkB/U,IACjDjf,EAAO2zB,QAAQplB,EAAIylB,EAAkB/U,KAIjD6V,aAAc,SAASvmB,GACnB,QAAS0U,EAAQuP,cAAcjkB,GAAI7E,SAASyqB,UAAUxhC,QAE1DoiC,SAAU,SAASxmB,GACf,IAAIymB,EAAU/R,EAAQuP,cAAcjkB,GAAI7E,SAASyqB,UAAUjtB,QAI3D,OAHI8tB,GAAW/R,EAAQgS,gBAAgB1mB,KACnCymB,EAAU,MAEPA,GAEXlnB,MAAO,SAASS,GACZ3R,EAAI,8FAAgG2R,EAAI,SACxG0U,EAAQyQ,+BAA+BnlB,GACvC0U,EAAQiS,mBAAmB3mB,GAC3B0U,EAAQuP,cAAcjkB,GAAIsQ,OAAS,EACnCoE,EAAQuP,cAAcjkB,GAAI4kB,kBAAmB,GAEjDgC,SAAU,SAAS5mB,GACf,IAAIO,EAAO7a,EAAQuiB,QAAQjI,GAAK5hB,EAAOsH,EAAQ8f,QAAQxF,GAAK0kB,EAAWD,EAAQ+B,SAASxmB,GAAKsR,EAAYoD,EAAQiQ,cAAc3kB,EAAI0kB,GAAWZ,EAAYpP,EAAQuP,cAAcjkB,GAAKse,EAAWwF,EAAUc,iBAAkBiC,EAAmB/C,EAAU3oB,SAASwqB,YAAc,IACxP,MAApB7B,EAAUxT,SACVwT,EAAUxT,OAAS,GAEnBgO,IAAkF,IAAtE54B,EAAQksB,SAAS5R,EAAI5hB,EAAMkzB,EAAWwS,EAAUjS,oBAC5D4S,EAAQllB,MAAMS,GACd0kB,EAAWD,EAAQ+B,SAASxmB,GAC5BsR,EAAYoD,EAAQiQ,cAAc3kB,EAAI0kB,GACtCpG,GAAW,GAEC,MAAZoG,GAAgD,IAA5BmC,EAAiBziC,QACrCqgC,EAAQM,SAAS/kB,IAEjB6mB,EAAiBr7B,KAAKk5B,GACtBhQ,EAAQuP,cAAcjkB,GAAI7E,SAASwqB,WAAakB,EAC5CrC,GACA6B,EAAkBnE,KAAKliB,EAAI0kB,GAE3BF,GAA8B6B,EAAkBS,aAAepS,EAAQuP,cAAcjkB,GAAI7E,SAASyqB,UAAUxhC,QAC5GqgC,EAAQmC,SAAS5mB,GAEO,IAAxBsR,EAAUve,KAAKwN,OACflS,EAAIxF,GAAG4G,OAAO,+DAAgEi1B,EAAU1kB,GAAK,SAC7FykB,EAAQa,cAAcZ,EAAU1kB,EAAI,8BAA+B,OAE5Cta,EAAQ2rB,cAAcrR,EAAI5hB,EAAMs2B,EAAQoQ,yBAAyBxT,IACvEtuB,MAAK,SAAS+jC,GAC/B,GAAKrhC,EAAQ4sB,aAAatS,GAEnB,CACH3R,EAAIxF,GAAG4G,OAAO,oEAAqEuQ,EAAI0kB,EAAUpT,EAAU/e,MAAQ,EAAG+e,EAAU9e,IAAK+N,IACrI,IAAIymB,EAAkB,CAClBtC,SAAUA,EACV1kB,GAAIA,EACJinB,UAAWF,EACXzI,SAAUA,GAEd5J,EAAQwS,YAAYF,GAAiBhkC,MAAK,SAAiBu0B,EAAU7G,GACjEriB,EAAI,wCAA0C2R,EAAK,WAAa0kB,GAChEhQ,EAAQ6Q,iBAAiBvlB,EAAI0kB,GAC7B,IAAImC,EAAmBnS,EAAQuP,cAAcjkB,GAAI7E,SAASwqB,YAAc,GAAIF,EAAmBh0B,EAAOyzB,kBAAkB3N,GAAU,GAAO4P,EAAqBt+B,GAAG6E,QAAQm5B,EAAkBnC,GAC3Lr2B,EAAIxF,GAAG4G,OAAO,8CAA+Ci1B,EAAU1kB,IACvEykB,EAAQrnB,KAAK4C,EAAI0kB,EAAUe,EAAkB/U,GACzCyW,GAAsB,GACtBN,EAAiBhlB,OAAOslB,EAAoB,GAEhDzS,EAAQ0S,0BAA0BpnB,GAC7BykB,EAAQ8B,aAAavmB,IAAmC,IAA5B6mB,EAAiBziC,OAEvCqgC,EAAQ8B,aAAavmB,GAC5BykB,EAAQmC,SAAS5mB,GAEjB3R,EAAIxF,GAAG4G,OAAO,oGAAqGuQ,EAAI1d,KAAKqgC,UAAUkE,KAJtIpC,EAAQM,SAAS/kB,MAMtB,SAAiBuX,EAAU7G,GAC1B+T,EAAQa,cAAcZ,EAAU1kB,EAAIuX,EAAU7G,MAC/CtT,MAAK,WACJsX,EAAQ2S,SAASrnB,EAAI0kB,WA7BzBr2B,EAAIxF,GAAG4G,OAAO,6EAA8EuQ,EAAI0kB,OAgCrG,SAAS9yB,GACR6yB,EAAQa,cAAcZ,EAAU1kB,EAAIpO,EAAO,YAIxDy0B,EAAoB,CACnBiB,MAAO,GACPC,YAAa,GACbC,SAAU,GACVV,UAAW,WACP,IAAIjU,EAAMntB,EAAQgnB,eAAgB+a,EAAwB,EAAGC,EAAkB,EAK/E,OAJA7+B,GAAGyC,KAAK+6B,EAAkBkB,aAAa,SAAShhB,EAAQohB,GACpDF,IACAC,GAAmBC,EAAiBvjC,UAEjCyuB,GAAOwT,EAAkBiB,MAAMljC,OAASqjC,EAAwBC,IAE3EpB,KAAM,SAAStmB,EAAI4nB,GACf,IAAuJC,EAAnJC,GAAaF,EAAeG,EAAel/B,GAAG6E,QAAQ24B,EAAkBmB,SAAUxnB,GAAKgoB,EAAmBn/B,GAAG6E,QAAQ24B,EAAkBiB,MAAOtnB,UAC3IqmB,EAAkBkB,YAAYvnB,GACjCvO,EAAOw2B,eAAejoB,aAAenX,GAAGwU,YACxChP,EAAI,uCAAyC2R,EAAK,sCAC3C0U,EAAQuP,cAAcjkB,GAAIQ,MAEjCunB,GAAgB,EAChB1B,EAAkBmB,SAAS3lB,OAAOkmB,EAAc,GACzCD,GAAaE,GAAoB,IACxC3B,EAAkBiB,MAAMzlB,OAAOmmB,EAAkB,IACjDH,EAASxB,EAAkBmB,SAAS7uB,UACtB,IACV0tB,EAAkBiB,MAAM97B,KAAKq8B,GAC7Bp2B,EAAOc,MAAMs1B,MAIzBK,sBAAuB,WACnB,IAAIC,EAAqB,GAYzB,OAXAt/B,GAAGyC,KAAK+6B,EAAkBkB,aAAa,SAAShhB,EAAQ6hB,GAChDA,GAAUA,EAAOhkC,QACjB+jC,EAAmB38B,KAAK1I,SAASyjB,OAGzC1d,GAAGyC,KAAK+6B,EAAkBiB,OAAO,SAAS/7B,EAAKgb,GACtC8f,EAAkBkB,YAAYhhB,IAC/B4hB,EAAmB38B,KAAK1I,SAASyjB,OAGzC4hB,EAAqBA,EAAmBniC,OAAOqgC,EAAkBmB,WAGrEa,kBAAmB,SAASroB,GACxB,OAAOnX,GAAG6E,QAAQ24B,EAAkBiB,MAAOtnB,IAAO,GAEtDkiB,KAAM,SAASliB,EAAI0kB,GAIf,OAHgB,MAAZA,GACA2B,EAAkBmB,SAASh8B,KAAKwU,KAEhCqmB,EAAkBS,cACF,MAAZpC,GACA2B,EAAkBmB,SAASc,MAC3BjC,EAAkBiB,MAAM97B,KAAKwU,MAGrBuoB,EAAkBlC,EAAkBkB,YAAYvnB,IAAO,IAC3CxU,KAAKk5B,GACrB2B,EAAkBkB,YAAYvnB,GAAMuoB,IAGrC,GANH,IACQA,GASpBhpB,MAAO,WACH8mB,EAAkBmB,SAAW,GAC7BnB,EAAkBiB,MAAQ,KAE/BkB,EACO,SAASxoB,EAAI5hB,GACf,IAAI0lC,EAAYpP,EAAQuP,cAAcjkB,GACjC8jB,GAILA,EAAUxT,OAAS,EACnBjiB,EAAI,qCAAuC2R,GAC3C0U,EAAQ+T,WAAWzoB,GAAIhd,MAAK,SAASu0B,EAAU2J,GAC3C7yB,EAAI,uCAAyC2R,GAC7C,IAAIylB,EAAmBh0B,EAAOyzB,kBAAkB3N,GAAU,GAAOhX,EAAO7a,EAAQuiB,QAAQjI,GACxFta,EAAQ2qB,WAAWrQ,EAAI5hB,EAAMmiB,EAAMA,GACnC9O,EAAOi3B,aAAa1oB,EAAIylB,GACxBh0B,EAAO2zB,QAAQplB,EAAIylB,EAAkBvE,MACtC,SAAS3J,EAAU2J,GAClB7yB,EAAI,oCAAsC2R,GAC1C,IAAIylB,EAAmBh0B,EAAOyzB,kBAAkB3N,GAAU,GACrD7xB,EAAQosB,YAAY9R,EAAI5hB,EAAMqnC,EAAkBvE,IACjDzvB,EAAO2zB,QAAQplB,EAAIylB,EAAkBvE,OAfzC7yB,EAAI,yEAA2E2R,EAAI,SAmB5FvO,EAAS,CACR4T,OAAQ,SAASrF,GACb3R,EAAI,cAAgB2R,GACpBta,EAAQqnB,YAAY/iB,OAAOgW,GAC3BqmB,EAAkBC,KAAKtmB,IAE3BolB,QAAS,SAASplB,EAAIuX,EAAU2J,GAC5B,IAAI9iC,EAAOsH,EAAQ8f,QAAQxF,GAC3Bta,EAAQ+qB,WAAWzQ,EAAI5hB,EAAMm5B,EAAU2J,GACnCxM,EAAQuP,cAAcjkB,IACtB0U,EAAQiU,YAAcjU,EAAQiU,WAAW3oB,GAE7CqmB,EAAkBC,KAAKtmB,IAE3BioB,eAAgB,SAASjoB,GACrB,OAAO0U,EAAQkU,UAAYlU,EAAQkU,SAAS5oB,IAAO0U,EAAQzN,SAAWyN,EAAQzN,QAAQjH,IAE1F6oB,YAAa,WACT,IAAIC,EAAc7Y,EAAYpnB,GAAGonB,GAAapnB,GAAGkgC,YAAaC,EAAuBngC,GAAGmQ,kBAAkBgC,cAAgB,MAAQ,QAClI0Z,EAAU,IAAIoU,EAAYE,EAAuB,iBAAiBtjC,EAAS,CACvE6sB,oBAAqB7sB,EAAQ6sB,oBAC7BH,cAAe1sB,EAAQ0sB,cACvB5M,QAAS9f,EAAQ8f,QACjByC,QAASviB,EAAQuiB,QACjBO,QAAS9iB,EAAQ8iB,QACjBna,IAAKA,EACLwiB,SAAUnrB,EAAQmrB,SAClBR,WAAY3qB,EAAQ2qB,WACpB4B,cAAevsB,EAAQusB,cACvBgX,aAAc,SAASjpB,GACnBta,EAAQ+b,UAAUzB,EAAInX,GAAGsX,OAAO6C,uBAG5BkmB,+BACRxU,EAAQwU,iCAGhBC,4BAA6B,SAASnpB,GAClC,OAAOta,EAAQ2sB,SAASrS,IAE5BopB,WAAY,SAASppB,EAAIjN,GACrB,OAAIA,IAAS2hB,EAAQzN,QAAQjH,IAAOjN,aAAgBlK,GAAGwU,WACnD3X,EAAQsrB,aAAahR,GACrB3R,EAAI,+CAAiD2R,GACrDjN,EAAK5T,SAAS6D,MAAK,SAASqmC,GACxBh7B,EAAI,mCAAqC2R,GACzC0U,EAAQ4U,WAAWtpB,EAAIqpB,GACvB3jC,EAAQwsB,QAAQlS,EAAIqpB,EAAc9oB,MAClCmU,EAAQiS,mBAAmB3mB,GAC3BvO,EAAO83B,uBAAuBvpB,MAC/B,SAASsL,GACR,IAAIke,EAAgB,GAChBle,IACAke,EAAc53B,MAAQ0Z,GAE1Bjd,EAAIxF,GAAG4G,OAAO,yDAA0DuQ,EAAIsL,GAAe,SAC3F5lB,EAAQ+qB,WAAWzQ,EAAIta,EAAQ8f,QAAQxF,GAAKnX,GAAG0B,OAAOi/B,EAAenF,GAAuB,MAC5F5yB,EAAO83B,uBAAuBvpB,GAC9BqmB,EAAkBC,KAAKtmB,OAKxB,GAFIvO,EAAO83B,uBAAuBvpB,IAI7CupB,uBAAwB,SAASvpB,GAC7B,IAAIypB,EAAa/jC,EAAQ8c,mBAAmBxC,GAAK0pB,GAAiB,EAelE,OAdID,GAAcA,EAAWrlC,QACzBiK,EAAI,0CAA4C2R,GAChDnX,GAAGyC,KAAKm+B,GAAY,SAASl+B,EAAKo+B,GAC9B,GAAIl4B,EAAO03B,4BAA4BQ,IAAgBjV,EAAQzN,QAAQ0iB,GACnED,EAAiBC,IAAc3pB,EAC/BvO,EAAOm4B,IAAID,QACR,GAAIl4B,EAAO03B,4BAA4BQ,GAC1C,OAAO,OAIfD,GAAiB,EACjBj4B,EAAOm4B,IAAI5pB,IAER0pB,GAEXhB,aAAc,SAAS1oB,EAAIuX,QACE/2B,IAArB+2B,EAASxV,SACTrc,EAAQusB,cAAcjS,EAAIuX,EAASxV,UAG3CmjB,kBAAmB,SAAS2E,EAAkB5R,GAC1C,IAAIV,EAAWsS,EAQf,OAPKhhC,GAAG4F,SAASo7B,KACbtS,EAAW,GACP1uB,GAAGuG,SAASy6B,KAAsB5R,IAClCV,EAAS3lB,MAAQi4B,IAGzBtS,EAASjkB,QAAU2kB,EACZV,GAEXqS,IAAK,SAAS5pB,GACV,IAAI5hB,EAAOsH,EAAQ8f,QAAQxF,GAC3B,IAAKskB,EAAWje,QAAQrG,GACpB,MAAM,IAAInX,GAAGlH,MAAMqe,EAAK,sCAE5Bta,EAAQwrB,SAASlR,EAAI5hB,GAAM4E,MAAK,SAASu0B,GACjCA,GAAYA,EAASxb,OACrBrW,EAAQ+b,UAAUzB,EAAInX,GAAGsX,OAAO2C,QAChC4R,EAAQ3Y,MAAMiE,GACdqmB,EAAkBC,KAAKtmB,IAEnBukB,GAAoB7P,EAAQoV,qBAAqB9pB,GACjDykB,EAAQmC,SAAS5mB,GAEjBwoB,EAAYxoB,EAAI5hB,MAGzB,SAASwT,GAGR,GADAvD,EAAI2R,EAAK,sEADTpO,EAAQA,GAAS,IACsE,UAClFlM,EAAQosB,YAAY9R,EAAI5hB,EAAMwT,EAAMmgB,cAAgB,IAAK,CAC1D,IAAIwF,EAAW9lB,EAAOyzB,kBAAkBtzB,EAAMmgB,cAAc,GAC5DtgB,EAAO2zB,QAAQplB,EAAIuX,QAI/BhlB,MAAO,SAASyN,GACZ,IAAI+pB,EAAet4B,EAAOw2B,eAAejoB,GACzC,OAAI+pB,EACOt4B,EAAO23B,WAAWppB,EAAI+pB,IAE7Bt4B,EAAOm4B,IAAI5pB,IACJ,KAInBnX,GAAG0B,OAAOtB,KAAM,CACZiO,IAAK,SAAS8I,EAAIQ,GACdkU,EAAQxd,IAAI1S,MAAMyE,KAAMlJ,YAE5B0R,OAAQ,SAASuO,GACb,QAAIqmB,EAAkBnE,KAAKliB,IAChBvO,EAAOc,MAAMyN,IAI5B4J,MAAO,SAAS5J,GAIZ,OAHIwkB,IACA9P,EAAQuP,cAAcjkB,GAAIlJ,KAAKgvB,eAAgB,GAE/CO,EAAkBgC,kBAAkBroB,GAC7BvO,EAAOc,MAAMyN,GAEbskB,EAAW7yB,OAAOuO,IAGjCqF,OAAQ,SAASrF,GACb,IAAIgqB,EAAetV,EAAQrP,OAAOrF,GAC9BnX,GAAG6T,iBAAiBstB,GACpBA,EAAahnC,MAAK,WACdyO,EAAO4T,OAAOrF,OAEM,IAAjBgqB,GACPv4B,EAAO4T,OAAOrF,IAGtB0F,UAAW,WACP,IAAoE7nB,EAAhEsqC,EAAqB9B,EAAkB6B,wBAC3C,GAAIC,EAAmB/jC,OACnB,IAAKvG,EAAIsqC,EAAmB/jC,OAAS,EAAGvG,GAAK,EAAGA,IAC5CymC,EAAWjf,OAAO8iB,EAAmBtqC,IAG7CwoC,EAAkB9mB,SAEtB0H,QAAS,SAASjH,GACd,OAAI0U,EAAQkU,UAAYlU,EAAQkU,SAAS5oB,GAC9B0U,EAAQkU,SAAS5oB,GAAI1C,cAEzBoX,EAAQzN,SAAWyN,EAAQzN,QAAQjH,IAE9CiqB,UAAW,SAASjqB,GAChB,SAAU0U,EAAQkU,WAAYlU,EAAQkU,SAAS5oB,KAEnDf,SAAU,SAASe,GACf,GAAI0U,EAAQzV,SACR,OAAOyV,EAAQzV,SAASe,IAGhCT,MAAO,WACHlR,EAAI,4BACJi2B,EAAW5e,YACX2gB,EAAkB9mB,QAClBmV,EAAQnV,SAEZsJ,QAAS,SAAS7I,GACd,GAAIskB,EAAWje,QAAQrG,GACnB,OAAO0U,EAAQ7L,QAAQ7I,IAG/BqG,QAAS,SAASrG,GACd,OAAO0U,EAAQrO,QAAQrG,IAE3B0I,gBAAiB,SAAS1I,GACtB,IAAI5gB,EAAMs1B,EAAQrO,QAAQrG,IAAO0U,EAAQwV,oBAAsBxV,EAAQwV,mBAAmBlqB,GAC1F,QAAI5gB,KACSsb,aAAanE,QAAQnX,IAItC4oB,sBAAuB,WACnB,OAAI0M,EAAQ1M,sBACD0M,EAAQ1M,wBAEZ,IAEXgc,oBAAqB,SAAShkB,GAC1B,GAAIskB,EAAWje,QAAQrG,GACnB,OAAO0U,EAAQsP,oBAAoBhkB,IAG3CjE,MAAO,SAASiE,GACZ,SAAIskB,EAAW7b,YAAYzI,IAAO0U,EAAQ3Y,OAASuoB,EAAWje,QAAQrG,IAAO0U,EAAQ3Y,MAAMiE,MACvFqmB,EAAkBC,KAAKtmB,GACvB0U,EAAQ0R,0BAA0BpmB,IAC3B,IAIfmqB,mBAAoB,SAASnqB,GACzB,QAAS0U,EAAQyV,oBAAsBzV,EAAQyV,mBAAmBnqB,IAEtEyI,YAAa,SAASzI,GAClB,QAAS0U,EAAQjM,aAAeiM,EAAQjM,YAAYzI,MAG5DnX,GAAG0B,OAAO7E,EAASpH,GACnB+P,EAAM3I,EAAQ2I,IACdk2B,EAAmB7+B,EAAQyV,SAAS4K,SAAWld,GAAGmQ,kBAAkBmC,SACpEqpB,EAA6BD,GAAoB7+B,EAAQyV,SAASwiB,WAAW5X,SAErEwR,EAAW,IACN7xB,EAAQyqB,oBAAqB,EAF1CkU,EAGW9M,EAEX9lB,EAAOo3B,eAEXhgC,GAAGuhC,qBAAuB,SAAS9rC,GAC/B,aACA,IAEG+rC,EAA2B,GAC9BxhC,GAAG0B,OAHW,CACV8D,IAAK,SAASC,EAASC,MAERjQ,GACnBuK,GAAG0B,OAAOtB,KAAM,CACZqhC,eAAgB,SAAStqB,EAAIrX,GAIrBmF,OAAOgN,YACPuvB,EAAyBrqB,GAAMnX,GAAGiF,QAAQ5E,OAAO,WAJtB,SAASoxB,GACpC3xB,EAAS2xB,EAAMhtB,SAKfe,IAAI,wDAAyD,UAGrEk8B,sBAAuB,SAASvqB,GAC5B,GAAIlS,OAAOgN,YAAa,CACpB,IAAI0vB,EAAWH,EAAyBrqB,GACpCwqB,GACAA,SAMpB3hC,GAAG4hC,kBAAoB,SAASvqB,GAC5B,aACA,IAAIxa,EAAUwa,EAAKxa,QAASgvB,EAAUzrB,KAAM46B,EAAQ3jB,EAAK2jB,MAAO6G,EAAwB7hC,GAAGwL,cAAes2B,EAAkB,GAAIC,EAAmB,GAAIC,EAA4B,GAAIC,EAASplC,EAAQolC,OAAQnb,EAAYjqB,EAAQiqB,UAAWnH,EAAUqb,EAAMrb,QAASna,EAAMw1B,EAAMx1B,IAAK08B,EAAsB,IAAIliC,GAAGuhC,qBAAqB,CACvU/7B,IAAKA,IAeT,SAAS28B,EAAuBC,GAC5B,OAAOA,EAAWx9B,MAAM,KAAK,GAyCjC5E,GAAG0B,OAAOtB,KAAM,IAAIJ,GAAG+6B,cAAc1jB,IACrCrX,GAAGgL,SAAS5K,MAAM,SAAS8K,GACvB,MAAO,CACHmD,IAAK,SAAS8I,EAAIyT,GACd1f,EAAOmD,IAAI8I,EAAI,CACX7O,MAAOsiB,IAEXA,EAAU9b,aAAa,OAAQgY,GAC3B8D,EAAU1pB,YACVlB,GAAG4qB,GAAWzpB,UAGtB6e,QAAS,SAAS7I,IAnE1B,SAAqBA,UACV4qB,EAAiB5qB,GACpB8qB,IACApS,aAAamS,EAA0B7qB,WAChC6qB,EAA0B7qB,GACjC+qB,EAAoBR,sBAAsBvqB,IAE9C,IAAIkrB,EAAS95B,SAAS+5B,eAAezW,EAAQ0W,eAAeprB,IACxDkrB,IACAA,EAAOvzB,aAAa,MAAO,qBAC3B9O,GAAGqiC,GAAQlhC,UA0DPqhC,CAAYrrB,GACZjM,EAAO8U,QAAQ7I,IAEnBqG,QAAS,SAASrG,GACd,OAAOjM,EAAOsS,QAAQrG,SAA2Cxf,IAApCk0B,EAAQuP,cAAcjkB,GAAI7O,WAInEtI,GAAG0B,OAAOtB,KAAM,CACZgW,SAAU,SAASe,GACf,OAAO0U,EAAQuP,cAAcjkB,GAAI7O,OAErCm6B,iBAAkB,SAASJ,EAAQviC,GAC/B,IAAI4iC,EACAT,EA3DZ,SAAqCI,EAAQviC,GACzC,IAAIsiC,EAAaC,EAAOlrB,GAAIuG,EAASykB,EAAuBC,GAAa3qB,EAAOkI,EAAQjC,GACxFokB,EAAgBrqB,GAAQ3X,EACxBiiC,EAAiBrkB,GAAU1d,GAAGqiC,GAAQhiC,OAAO,QAAQ,WAC7CwrB,EAAQzV,SAASsH,KACjBlY,EAAI,mEAAqE48B,EAAa,KACtFJ,EAA0BI,GAAclc,YAAW,WAC/C,IAAIzD,EAAe,gEAAkE2f,EACrF58B,EAAIid,EAAc,SAClB3iB,EAAS,CACLiJ,MAAO0Z,MAEZ,SAGXyf,EAAoBT,eAAeW,GAAY,SAAS38B,GACpDD,EAAI,2CAA6CC,EAAU,KAC9C08B,EAAuBC,GAApC,IAAuHO,EAAtEjU,EAAW7C,EAAQ+W,mBAAmBn9B,GAAUgS,EAAOiX,EAASjX,KAC7GA,GAAQqqB,EAAgBrqB,IACxBjS,EAAI,qCAAuC48B,GAC3CvS,aAAamS,EAA0BI,WAChCJ,EAA0BI,GACjCvW,EAAQgX,iBAAiBT,GACzBO,EAAiBb,EAAgBrqB,UAC1BqqB,EAAgBrqB,GACvByqB,EAAoBR,sBAAsBU,GAC1CO,EAAejU,IACPjX,GACRjS,EAAI,IAAMC,EAAU,4CAgCpBq9B,CAA4BT,EAAQviC,GAEpCiiC,EAAiBM,EAAOlrB,IAAMnX,GAAGqiC,GAAQhiC,OAAO,QAAQ,WAEpD,GADAmF,EAAI,yBAA2B68B,EAAOlrB,IACjCkrB,EAAOnhC,WAAZ,CAGA,IACI,GAAImhC,EAAOU,iBAAmBV,EAAOU,gBAAgBC,MAAiD,SAAzCX,EAAOU,gBAAgBC,KAAK11B,UACrF,OAEN,MAAOvE,GACLvD,EAAI,8EAAgFuD,EAAMtD,QAAU,IAAK,SACzGi9B,EAAqB,CACjBj4B,SAAS,GAGjB3K,EAAS4iC,QAIrBO,cAAe,SAAS9rB,GAEpB,OA1FR,SAA6B5hB,GACzB,IAAI8sC,EAASriC,GAAGoN,UAAU,yCAA2C7X,EAAO,QAI5E,OAHA8sC,EAAOvzB,aAAa,KAAMvZ,GAC1B8sC,EAAOniC,MAAMC,QAAU,OACvBoI,SAASy6B,KAAKj0B,YAAYszB,GACnBA,EAqFIa,CADUrX,EAAQ0W,eAAeprB,KAG5C0rB,iBAAkB,SAAS1rB,QACMxf,IAAzBoqC,EAAiB5qB,KACjB4qB,EAAiB5qB,YACV4qB,EAAiB5qB,KAGhCorB,eAAgB,SAAS7kB,GACrB,OAAOA,EAAS,IAAMmkB,GAE1BsB,mBAAoB,SAAS9rB,GACzB,IAAIsM,EAAStM,EAAKsM,OAAQ7I,EAAWzD,EAAKyD,SAAUD,EAASxD,EAAKwD,OAAQ4Y,EAAepc,EAAKoc,aAAc2P,EAAa/rB,EAAK+rB,WAAYv0B,EAAO7O,GAAGoN,UAAU,iBAAmBuW,EAAS,2CAA4C2U,EAAMxd,EAU5O,OATI2Y,EACAzzB,GAAG4O,WAAWiM,EAAQhM,GAEtBypB,EAAMt4B,GAAG+N,QAAQ8M,EAAQC,GAE7BjM,EAAKC,aAAa,SAAUwpB,GAC5BzpB,EAAKC,aAAa,SAAUs0B,GAC5Bv0B,EAAK3O,MAAMC,QAAU,OACrBoI,SAASy6B,KAAKj0B,YAAYF,GACnBA,GAEX+zB,mBAAoB,SAASS,GACzB,IAAI3U,EAAW,GACf,IACIA,EAAW1uB,GAAGgP,UAAUq0B,GAC1B,MAAOt6B,GACLvD,EAAI,0DAA4DuD,EAAMtD,QAAU,IAAK,SAEzF,OAAOipB,MAInB1uB,GAAGsjC,iBAAmB,SAASjsB,GAC3B,aACA,IAAIwU,EAAUzrB,KAAMgnB,EAAY/P,EAAKxa,QAAQuqB,UAAW4T,EAAQ3jB,EAAK2jB,MAAO1oB,EAAW+E,EAAKxa,QAAQyV,SAAUixB,EAAe,SAASpsB,GAClI,IAAI8jB,EAAYpP,EAAQuP,cAAcjkB,GACtC,GAAI8jB,EAAU/F,UACV,OAAO+F,EAAU/F,UAEjB,IAAIA,EAAY5iB,EAAS+iB,SAKzB,OAJIr1B,GAAG8F,WAAWovB,KACdA,EAAYA,EAAU/d,EAAIiI,EAAQjI,KAEtC8jB,EAAU/F,UAAYA,EACfA,GAEZ9hB,EAASiE,EAAKxa,QAAQuW,OAAQowB,EAAalxB,GAAY+E,EAAKxa,QAAQyV,SAAS4K,SAAWld,GAAGmQ,kBAAkBmC,SAAUmxB,EAAgBrwB,GAAUiE,EAAKxa,QAAQuW,OAAO8J,SAAWsmB,GAAcxjC,GAAGmQ,kBAAkBiD,OAAQuJ,EAAUqe,EAAMre,QAASyC,EAAU4b,EAAM5b,QAASO,EAAUqb,EAAMrb,QAASf,EAAcoc,EAAMpc,YAAa2K,EAAgByR,EAAMzR,cAAeH,EAAgB4R,EAAM5R,cAAe5B,EAAawT,EAAMxT,WAAYhiB,EAAMw1B,EAAMx1B,IAAKkkB,EAAsBsR,EAAMtR,oBAChe,SAAS2T,EAAMlmB,GACXnX,GAAGyC,KAAKopB,EAAQqR,SAAS/lB,IAAK,SAASusB,EAAO7b,GAC1C,IAAI8b,EAAgB9X,EAAQ+X,kBAAkBzsB,EAAIusB,GAClD7b,EAAImR,mBAAqB,KACzBnR,EAAIjf,OAAOmvB,WAAa,KACxBlQ,EAAIwV,QACJsG,GAAiBA,EAAc7I,UAAY6I,EAAc7I,SAAS3jB,MAG1EnX,GAAG0B,OAAOtB,KAAM,IAAIJ,GAAG+6B,cAAc1jB,IACrCrX,GAAGgL,SAAS5K,MAAM,SAAS8K,GACvB,MAAO,CACHmD,IAAK,SAAS8I,EAAI0sB,GACd,GAAI7jC,GAAGmH,OAAO08B,IAAgB7jC,GAAGmI,OAAO07B,GACpC34B,EAAOmD,IAAI8I,EAAI,CACXQ,KAAMksB,QAEP,MAAIA,aAAuB7jC,GAAGwU,WAKjC,MAAM,IAAI1b,MAAM,4CAJhBoS,EAAOmD,IAAI8I,EAAI,CACX6jB,MAAO6I,IAKfhY,EAAQiY,eAAe3sB,GACvBssB,GAAiB5X,EAAQkY,uBAAuB5sB,IAEpD6I,QAAS,SAAS7I,GACdkmB,EAAMlmB,GACN0U,EAAQyQ,+BAA+BnlB,GACvC0U,EAAQiU,WAAW3oB,GACnBjM,EAAO8U,QAAQ7I,QAI3BnX,GAAG0B,OAAOtB,KAAM,CACZs8B,iBAAkB,SAASvlB,EAAI0kB,GAC3B,IAAIZ,EAAYpP,EAAQuP,cAAcjkB,GAClC8jB,UACOA,EAAUhtB,KAAK+1B,aAAanI,IAG3C2C,SAAU,SAASrnB,EAAI0kB,GACnB,IAAIoI,EAAYpY,EAAQuP,cAAcjkB,GAAIlJ,KACtCg2B,EAAUC,aACHD,EAAUC,KAAKrI,GAEtBoI,EAAUE,uBACHF,EAAUE,eAAetI,IAGxCM,eAAgB,SAAShlB,EAAIitB,GACzB,IAAIC,EAAexY,EAAQgS,gBAAgB1mB,GAAM,EAAG0Q,EAAMgE,EAAQyY,QAAQntB,EAAIktB,GAC9E,OAAID,GACO,IAAIpkC,GAAG9F,SAAUuQ,QAAQ25B,EAAevc,GAAMA,IAElD,IAAI7nB,GAAG9F,SAAUuQ,QAAQ,GAAIod,IAExCzJ,QAAS,SAASjH,GACd,OAAO0U,EAAQrO,QAAQrG,IAAO0U,EAAQuP,cAAcjkB,GAAIQ,MAE5DooB,SAAU,SAAS5oB,GACf,OAAO0U,EAAQrO,QAAQrG,IAAO0U,EAAQuP,cAAcjkB,GAAI6jB,OAE5D7b,sBAAuB,WACnB,IAAIolB,EAAqB,GAiBzB,OAhBA1Y,EAAQ2Y,uBAAsB,SAASjuC,EAAKkmB,GACxCoP,EAAQ0R,0BAA0B,KAAM9gB,EAAWnK,SAASwqB,WAAYrgB,EAAWnK,SAASyqB,WAC5F,IAAIt4B,EAAO,CACPlP,KAAMknB,EAAWlnB,KACjBwnC,UAAWtgB,EAAWnK,SAASyqB,UAC/BrlB,KAAM+E,EAAW/E,KACjBD,KAAMgF,EAAWhF,MAEjBgF,EAAWlmB,MACXkO,EAAKlO,IAAMkmB,EAAWlmB,KAEtBkmB,EAAWuM,mBACXvkB,EAAKukB,iBAAmBvM,EAAWuM,kBAEvCub,EAAmB5hC,KAAK8B,MAErB8/B,GAEXjD,mBAAoB,SAASnqB,GACzB,OAAO0U,EAAQuP,cAAcjkB,GAAI4kB,kBAErCnc,YAAa,SAASzI,GAClB,QAAS7E,GAAYuZ,EAAQrO,QAAQrG,KAAQ0U,EAAQuP,cAAcjkB,GAAIstB,cAE3ElH,0BAA2B,SAASpmB,EAAIutB,EAAeC,GACnD,IAAiDC,GAAjC/Y,EAAQuP,cAAcjkB,IAAO,IAA8B7E,UAAY,GAAIwqB,EAAa4H,GAAiBE,EAAc9H,WAAYC,EAAY4H,GAAgBC,EAAc7H,UACzLD,IACAt3B,EAAIxF,GAAG4G,OAAO,yDAA0DnN,KAAKqgC,UAAUgD,KACvFA,EAAW+H,UACX7kC,GAAGyC,KAAKq6B,GAAY,SAASp6B,EAAKm5B,GAC9BkB,EAAUC,QAAQnB,MAEtBiB,EAAWvhC,OAAS,IAG5B2X,MAAO,SAASiE,GACZ,GAAI0U,EAAQrO,QAAQrG,GAIhB,OAHA3R,EAAIxF,GAAG4G,OAAO,4DAA6DuQ,EAAIwF,EAAQxF,KACvF0U,EAAQuP,cAAcjkB,GAAI2tB,QAAS,EACnCzH,EAAMlmB,IACC,GAGf2mB,mBAAoB,SAAS3mB,GACzB,GAAI7E,GAAYuZ,EAAQrO,QAAQrG,GAAK,CACjC,IAAuC4tB,EAAa/vC,EAAhDof,EAAQyX,EAAQuP,cAAcjkB,GAIlC,UAHO/C,EAAM9B,SACb8B,EAAM9B,SAAW,IACjByyB,EAAclZ,EAAQgS,gBAAgB1mB,IACpB,GAAK7E,EAASyiB,UAAW,CAIvC,IAHA3gB,EAAM9B,SAAS4K,SAAU,EACzB9I,EAAM9B,SAAS0yB,MAAQD,EACvB3wB,EAAM9B,SAASyqB,UAAY,GACtB/nC,EAAI,EAAGA,EAAI+vC,EAAa/vC,IACzBof,EAAM9B,SAASyqB,UAAUp6B,KAAK3N,GAElC62B,EAAQiY,eAAe3sB,QAEvB/C,EAAM9B,SAAS4K,SAAU,IAIrCujB,WAAY,SAAStpB,EAAI8tB,GACjBpZ,EAAQrO,QAAQrG,KAChB0U,EAAQuP,cAAcjkB,GAAIQ,KAAOstB,IAGzCnF,WAAY,SAAS3oB,GACjB,IAAI8sB,EAAYpY,EAAQuP,cAAcjkB,GAAIlJ,KAC1CjO,GAAGyC,KAAKwhC,EAAUE,gBAAgB,SAASe,UAChCjB,EAAUE,eAAee,MAEpCllC,GAAGyC,KAAKwhC,EAAUC,MAAM,SAASgB,UACtBjB,EAAUC,KAAKgB,OAG9BC,WAAY,SAAShuB,EAAIiuB,GACrB,OAAOvZ,EAAQwZ,aAAaluB,EAAIiuB,EAAaplC,GAAG2I,sBAEpDi7B,kBAAmB,SAASzsB,EAAIiuB,GAC5B,IAAIvJ,EAA0B,MAAfuJ,GAAuB,EAAIA,EAC1C,OAAOvZ,EAAQuP,cAAcjkB,GAAIlJ,KAAKk2B,eAAetI,IAEzDC,cAAe,SAAS3kB,EAAImuB,GACxB,IAAIpQ,EAAYqO,EAAapsB,GAAKouB,EAAWnmB,EAAQjI,GAAK1N,EAAaoiB,EAAQzN,QAAQjH,GAAKquB,EAAatQ,EAAYoQ,EAAYG,EAAWD,EAAatQ,GAAaqQ,EAAWA,EAAWC,EAAatQ,EAAW6P,EAAclZ,EAAQgS,gBAAgB1mB,GAAK6sB,EAAe5jC,KAAKg7B,cAAcjkB,GAAIlJ,KAAK+1B,aAAc95B,EAAO85B,EAAasB,IAAetlC,GAAGwJ,UAAUC,EAAY+7B,EAAYC,GAEhY,OADAzB,EAAasB,GAAcp7B,EACpB,CACHw7B,KAAMJ,EACN57B,MAAO87B,EACP77B,IAAK87B,EACLE,MAAOZ,EACP76B,KAAMA,EACNwN,KAAM+tB,EAAWD,IAGzBvJ,yBAA0B,SAASxT,GAC/B,MAAO,CACHG,UAAWH,EAAUid,KACrBE,UAAWnd,EAAU/e,MAAQ,EAC7Bm8B,QAASpd,EAAU9e,IACnByrB,WAAY3M,EAAUkd,QAG9BtE,mBAAoB,SAASlqB,GACzB,IAA2B5hB,EAAOonB,EAAQxF,GAAKO,EAAO0H,EAAQjI,GAAK+d,EAAYqO,EAAapsB,GAAK2D,EAAW8D,EAAYzH,GAAKue,EAAatiB,EAAOsiB,WAAWve,GAAK2uB,EAAiB9lC,GAAG4G,OAAO,2BAA4BwgB,EAApM,MAA8N7xB,EAAMmiB,EAAMwd,EAAWpa,GAIzQ,OAHA4a,EAAWx9B,SAAQ,SAAS3B,GACxBuvC,GAAkB,IAAMvvC,KAErBuvC,GAEXC,aAAc,SAAS5uB,GACnB,OAAO0U,EAAQzN,QAAQjH,GAAI7W,MAE/B0lC,oBAAqB,SAAS7uB,GAC1B,OAAO0U,EAAQuP,cAAcjkB,GAAI7E,UAErCurB,gBAAiB,SAAS1mB,GACtB,GAAI7E,EAAU,CACV,IAAIizB,EAAWnmB,EAAQjI,GAAK+d,EAAYqO,EAAapsB,GACrD,OAAOvd,KAAKqsC,KAAKV,EAAWrQ,KAGpCoP,QAAS,SAASntB,EAAIiuB,GAClB,IAAIvJ,EAA0B,MAAfuJ,GAAuB,EAAIA,EAC1C,OAAOvZ,EAAQuP,cAAcjkB,GAAIlJ,KAAKi2B,KAAKrI,IAE/CqB,SAAU,SAAS/lB,GACf,OAAO0U,EAAQuP,cAAcjkB,GAAIlJ,KAAKi2B,MAE1CM,sBAAuB,SAAS1kC,GACxB2jC,GACAzjC,GAAGyC,KAAKoP,cAAc,SAAStb,EAAK8P,GAChC,GAAwD,IAApD9P,EAAIsO,QAAQ7E,GAAG4G,OAAO,aAAcwgB,IAAmB,CACvD,IAAI3K,EAAahjB,KAAKC,MAAM2M,GAC5BvG,EAASvJ,EAAKkmB,QAK9BqnB,eAAgB,SAAS3sB,GACrB0U,EAAQuP,cAAcjkB,GAAIlJ,KAAO,CAC7Bk2B,eAAgB,GAChBnI,cAAe,GACfkI,KAAM,GACNF,aAAc,KAGtBkC,kBAAmB,SAAS/uB,GACxB0U,EAAQuP,cAAcjkB,GAAIstB,cAAe,GAE7CnI,+BAAgC,SAASnlB,GACrC,IAAI2uB,EACJ,SAAIrC,GAAiB5X,EAAQjM,YAAYzI,KACrC2uB,EAAiBja,EAAQwV,mBAAmBlqB,KACtBtF,aAAanE,QAAQo4B,MACvCj0B,aAAas0B,WAAWL,IACjB,IAKnB/B,uBAAwB,SAAS5sB,GAC7B,IAAuC2uB,EAAgBM,EAAnDhyB,EAAQyX,EAAQuP,cAAcjkB,GAC9BssB,QAA+B9rC,IAAdyc,EAAM7d,MACvBuvC,EAAiBja,EAAQwV,mBAAmBlqB,IAC5CivB,EAAgBv0B,aAAanE,QAAQo4B,MAEjCM,EAAgB3sC,KAAKC,MAAM0sC,GACvB7c,EAAc6c,EAAc3uB,MAC5BoU,EAAQqa,kBAAkB/uB,IAE1B3R,EAAIxF,GAAG4G,OAAO,0DAA2DuQ,EAAIwF,EAAQxF,KACrFiS,EAAcjS,EAAIivB,EAAc3uB,MAChCrD,EAAM7d,IAAM6vC,EAAc7vC,IAC1B6d,EAAM9B,SAAW8zB,EAAc9zB,SAC/B8B,EAAMqT,OAAS2e,EAAc3e,OAC7BrT,EAAM4U,iBAAmBod,EAAcpd,iBACvC5U,EAAM2nB,kBAAmB,EACzBlQ,EAAQ0R,0BAA0BpmB,OAKlDonB,0BAA2B,SAASpnB,GAChC,IAAuC2uB,EAAgBM,EAAnDhyB,EAAQyX,EAAQuP,cAAcjkB,GAClC,GAAIssB,GAAiB5X,EAAQjM,YAAYzI,GAAK,CAC1C,IAAI6R,EAAmBU,EAAoBvS,GAC3C2uB,EAAiBja,EAAQwV,mBAAmBlqB,GAC5CivB,EAAgB,CACZ7wC,KAAMonB,EAAQxF,GACdO,KAAM0H,EAAQjI,GACdM,KAAMkI,EAAQxI,GACd5gB,IAAK6d,EAAM7d,IACX+b,SAAU8B,EAAM9B,SAChBmV,OAAQrT,EAAMqT,OACd4e,YAAa5tC,KAAKsoC,OAElB/X,IACAod,EAAcpd,iBAAmBA,GAErC,IACInX,aAAaC,QAAQg0B,EAAgBrsC,KAAKqgC,UAAUsM,IACtD,MAAOr9B,GACLvD,EAAIxF,GAAG4G,OAAO,0DAA2DuQ,EAAIpO,EAAMjP,YAAa,WAI5GwsC,yBAA0B,SAASnvB,EAAI0kB,EAAU3G,GAC7C,IAAIrN,EAAMgE,EAAQyY,QAAQntB,EAAI0kB,GAAWtmC,EAAOonB,EAAQxF,GAAKovB,EAAqB,CAC9E5G,OAAQ,SAASlY,EAAQC,GACrB,IAAI6d,EAAWnmB,EAAQjI,GAEnBqQ,EAAWrQ,EAAI5hB,EADfkyB,IAAWC,EACU6d,EAEA9d,GAAU8d,EAAWA,EAAW,EAAI9d,EAF1B8d,IAKvC3J,QAAS,SAASnU,EAAQC,GACtB,IAAIsU,EAAgBnQ,EAAQuP,cAAcjkB,GAAIlJ,KAAK+tB,cAAewK,EAAiC3a,EAAQuP,cAAcjkB,GAAIsQ,OAAQgf,EAAmBhf,EAAQif,EAAkBhf,EAAOyN,EAAgB/V,EAAQjI,GAAKwvB,EAAuBF,GAAoBC,EAAkBxR,GAAY0R,EAAqBJ,EACpTxK,EAAcH,GAAY8K,EAC1B3mC,GAAGyC,KAAKu5B,GAAe,SAASH,EAAUgL,GACtCD,GAAsBC,KAE1Brf,EAAWrQ,EAAI5hB,EAAMqxC,EAAoBzR,KAGjDtN,EAAIjf,OAAOmvB,WAAa,SAASt4B,GACzBA,EAAE05B,kBAEFoN,EADwB,MAAbrR,EAAoB,SAAW,WACjBz1B,EAAEgoB,OAAQhoB,EAAEioB,SAIjD2d,aAAc,SAASluB,EAAIiuB,EAAavd,EAAKif,GACzC,IAAIC,EAAwB,MAAf3B,GAAuB,EAAIA,EAAanB,EAAYpY,EAAQuP,cAAcjkB,GAAIlJ,KAO3F,OANAg2B,EAAUC,KAAOD,EAAUC,MAAQ,GACnCD,EAAUE,eAAiBF,EAAUE,gBAAkB,GACvDF,EAAUC,KAAK6C,GAAUlf,EACrBif,IACA7C,EAAUE,eAAe4C,GAAUD,GAEhCjf,GAEXwY,8BAA+B,WAC3B,IAAI2G,EAAiB5zB,EAAOoiB,gBAC5B3J,EAAQ2Y,uBAAsB,SAASjuC,EAAKkmB,GACxC,IAAIwqB,EAAiB,IAAIxuC,KAAKgkB,EAAW4pB,aACzCY,EAAeC,QAAQD,EAAeE,UAAYH,GAC9CC,EAAerM,WAAaniC,KAAKsoC,QACjCv7B,EAAI,2CAA6CjP,GACjDsb,aAAas0B,WAAW5vC,QAIpC0qC,qBAAsB,SAAS9pB,GAC3B,IAAI/C,EAAQyX,EAAQuP,cAAcjkB,GAClC,GAAI/C,EAIA,OAHKA,EAAM9B,UACPuZ,EAAQiS,mBAAmB3mB,GAExB/C,EAAM9B,SAAS4K,YAKtCld,GAAG0jB,wBAA0B,SAASjuB,GAClC,aACA,IAAI2xC,EAAWvqC,EAAU,CACrB8mB,OAAQ,SACRG,cAAe,SACfK,cAAe,GACfN,eAAgB,EAChBI,cAAe,SAAS9M,GACpB,MAAO,IAEX+M,YAAa,GACbE,KAAM,CACF4I,UAAU,EACV4I,iBAAiB,GAErBpwB,IAAK,SAASqB,EAAKnB,KACnB2e,SAAU,SAASlN,KACnBoN,iBAAkB,SAASpN,EAAIqN,EAAUC,MAE7CzkB,GAAG0B,OAAO7E,EAASpH,GASnB2xC,EAAYpnC,GAAG0B,OAAOtB,KAAM,IAAIJ,GAAG22B,cAAc,CAC7CI,aAAc,mBACdC,aAAc,CAAE,OAAQ,UACxBrT,OAAQ9mB,EAAQ8mB,OAChBQ,cAAetnB,EAAQsnB,cACvBD,YAAarnB,EAAQqnB,YACrBgT,eAbqC,SAAjCr6B,EAAQ8mB,OAAOC,cACR,CACHyjB,QAAS,UAGV,GASPxjB,eAAgBhnB,EAAQgnB,eACxBI,cAAe,SAAS9M,GACpB,OAAOta,EAAQonB,cAAcpuB,IAAIshB,IAErC3R,IAAK3I,EAAQ2I,IACbkyB,OAAQ76B,EAAQwnB,SAChBuD,WAAY/qB,EAAQ0nB,iBACpBH,KAAMvnB,EAAQunB,QAElBpkB,GAAG0B,OAAOtB,KAAM,CACZuwB,WAAY,SAASxZ,EAAIM,EAAM8Y,GAC3B,IAAIpJ,EAAoBoJ,GAA4B,GACpD1zB,EAAQ2I,IAAI,sCAAwC2R,GAC7B,WAAnBta,EAAQ8mB,OACRyjB,EAAUrN,cAAc5iB,GAAI+iB,SAASziB,GAAM2iB,WAAWjT,GAAmB0S,QAEzE1S,EAAkBtqB,EAAQinB,eAAiBrM,EAC3C2vB,EAAUrN,cAAc5iB,GAAIijB,WAAWjT,GAAmB0S,YAK1E,WAkDI,SAASyN,EAAoBC,EAAKr9B,EAAMnG,EAAQlH,EAAS2qC,GACrD,IAA8JC,EAA1JC,EAAKH,EAAII,aAAcC,EAAKL,EAAIM,cAAeC,EAAQjrC,EAAQirC,MAAO7xB,EAASpZ,EAAQoZ,OAAQ8xB,EAAMhkC,EAAOikC,WAAW,MAAOz9B,EAAU,IAAIvK,GAAG9F,QAEnJ,OADA6tC,EAAIE,OACAprC,EAAQqrC,OAyDhB,SAA8CC,GAC1C,IAAIj+B,EAAOi+B,EAAWj+B,KAAMyoB,EAAQwV,EAAWxV,MAAOyV,EAAcD,EAAWC,YAAaC,EAAaF,EAAWE,WAAYC,EAAcH,EAAWG,YAAa/9B,EAAU,IAAIvK,GAAG9F,QAAWguC,EAASC,EAAWD,OAAQK,EAAehgC,SAASC,cAAc,UAAWggC,EAAsBD,EAAaP,WAAW,MAAOS,EAAeN,EAAWpkC,OAAQ2kC,EAAeP,EAAWO,aAAcC,EAAcR,EAAWQ,YAgBva,OAfAC,EAAoBL,EAAcF,EAAYD,EAAaE,GAC3DG,EAAaxyB,OAASyyB,EACtBD,EAAaX,MAAQa,EACrBH,EAAoBK,UAAUlW,EAAO,EAAG,GACxCuV,EAAO,CACHh+B,KAAMA,EACN+L,OAAQyyB,EACR/V,MAAOA,EACP4V,aAAcA,EACdE,aAAcA,EACdX,MAAOa,IACRxuC,MAAK,WACJsuC,EAAaK,iBAAmBL,EAAaK,kBAC7Cv+B,EAAQE,YACTF,EAAQI,SACJJ,EAzEIw+B,CAAqC,CACxC7+B,KAAMA,EACNnG,OAAQA,EACR4uB,MAAO4U,EACPa,YAAaR,EACbS,WAAYX,EACZY,YAAazrC,EAAQyrC,YACrBJ,OAAQrrC,EAAQqrC,OAChBQ,aAAczyB,EACd0yB,YAAab,KAGhB9nC,GAAGmQ,kBAAkBoD,2BACtBk0B,EA7BR,SAA6CpwB,GAEzC,IAAKrX,GAAG2M,MACJ,MAAM,IAAI3M,GAAGlH,MAAM,mEAEvB,GAAIue,EAAK2xB,WAAa3xB,EAAK4xB,UAJX,OAKZ,MAAO,CACHC,UAAWtvC,KAAK6H,MAAM7H,KAAKuvC,KAAkB9xB,EAAK2xB,WAAa3xB,EAAK4xB,UAN5D,SAORG,SAAUxvC,KAAK6H,MAAM7H,KAAKuvC,KAAkB9xB,EAAK4xB,UAAY5xB,EAAK2xB,WAP1D,UA4BSK,CAAoC,CACrDJ,UAAWnB,EACXkB,WAAY/yB,OAGZjW,GAAGwF,IAAIxF,GAAG4G,OAAO,iFAAkFkhC,EAAO7xB,EAAQwxB,EAAmB2B,SAAU3B,EAAmByB,WAAY,QAC9KpB,EAAQL,EAAmB2B,SAC3BnzB,EAASwxB,EAAmByB,WAGpCN,EAAoB7kC,EAAQ+jC,EAAO7xB,EAAQpZ,EAAQyrC,aAC/CtoC,GAAG2M,MACH,YA9ER,SAA2B46B,GACvB,IAA8FQ,EAA1FL,EAAKH,EAAII,aAAcC,EAAKL,EAAIM,cAAe9jC,EAASwE,SAASC,cAAc,UACnF,OAAIk/B,EAAKE,EAAK,UACV7jC,EAAO+jC,MAAQ/jC,EAAOkS,OAAS,GAC/B8xB,EAAMhkC,EAAOikC,WAAW,OACpBa,UAAUtB,EAAW,EAALG,EAAQ,GACoB,IAAzCK,EAAIuB,aAAa,EAAG,EAAG,EAAG,GAAG7kC,KAAK,KAyEjC8kC,CAAkBhC,KAClBG,GAAM,EACNE,GAAM,GAEV,IAAmO4B,EAAQC,EAAIC,EAA3Op0C,EAAI,KAAMq0C,EAAYphC,SAASC,cAAc,UAAWohC,EAAkBpC,EAxE1F,SAA8BD,EAAKG,EAAIE,GACnC,IAAyEG,EAAKtjC,EAAaolC,EAAvF9lC,EAASwE,SAASC,cAAc,UAAWshC,EAAK,EAAGC,EAAKnC,EAAIoC,EAAKpC,EAMrE,IALA7jC,EAAO+jC,MAAQ,EACf/jC,EAAOkS,OAAS2xB,GAChBG,EAAMhkC,EAAOikC,WAAW,OACpBa,UAAUtB,EAAK,EAAG,GACtB9iC,EAAOsjC,EAAIuB,aAAa,EAAG,EAAG,EAAG1B,GAAInjC,KAC9BulC,EAAKF,GAEM,IADNrlC,EAAgB,GAAVulC,EAAK,GAAS,GAExBD,EAAKC,EAELF,EAAKE,EAETA,EAAKD,EAAKD,GAAM,EAGpB,OAAiB,KADjBD,EAAQG,EAAKpC,GACQ,EAAIiC,EAuDwEI,CAAqB1C,EAAKG,EAAIE,GAAM,EAAGsC,EAAKtwC,KAAKqsC,KAAK3wC,EAAIwyC,EAAQJ,GAAKyC,EAAKvwC,KAAKqsC,KAAK3wC,EAAI2gB,EAAS2xB,EAAKgC,GAAkBE,EAAK,EAAGM,EAAK,EAGhO,IAFAT,EAAU7B,MAAQ6B,EAAU1zB,OAAS3gB,EACrCk0C,EAASG,EAAU3B,WAAW,MACvB8B,EAAKlC,GAAI,CAGZ,IAFA6B,EAAK,EACLC,EAAK,EACED,EAAK/B,GACR8B,EAAOa,UAAU,EAAG,EAAG/0C,EAAGA,GAC1Bk0C,EAAOX,UAAUtB,GAAMkC,GAAKK,GAC5B/B,EAAIc,UAAUc,EAAW,EAAG,EAAGr0C,EAAGA,EAAGo0C,EAAIU,EAAIF,EAAIC,GACjDV,GAAMn0C,EACNo0C,GAAMQ,EAEVJ,GAAMx0C,EACN80C,GAAMD,EAEVpC,EAAIuC,UACJX,EAAYH,EAAS,KAtBzB,GAyBAzB,EAAIc,UAAUtB,EAAK,EAAG,EAAGO,EAAO7xB,GAEpClS,EAAO+kC,iBAAmB/kC,EAAO+kC,kBACjCv+B,EAAQE,UACDF,GAqBX,SAASq+B,EAAoB7kC,EAAQ+jC,EAAO7xB,EAAQqyB,GAChD,OAAQA,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACHvkC,EAAO+jC,MAAQ7xB,EACflS,EAAOkS,OAAS6xB,EAChB,MAEF,QACE/jC,EAAO+jC,MAAQA,EACf/jC,EAAOkS,OAASA,EAEpB,IAAI8xB,EAAMhkC,EAAOikC,WAAW,MAC5B,OAAQM,GACN,KAAK,EACHP,EAAIwC,UAAUzC,EAAO,GACrBC,EAAI5pB,OAAO,EAAG,GACd,MAEF,KAAK,EACH4pB,EAAIwC,UAAUzC,EAAO7xB,GACrB8xB,EAAIyC,OAAO5wC,KAAK6wC,IAChB,MAEF,KAAK,EACH1C,EAAIwC,UAAU,EAAGt0B,GACjB8xB,EAAI5pB,MAAM,GAAI,GACd,MAEF,KAAK,EACH4pB,EAAIyC,OAAO,GAAK5wC,KAAK6wC,IACrB1C,EAAI5pB,MAAM,GAAI,GACd,MAEF,KAAK,EACH4pB,EAAIyC,OAAO,GAAK5wC,KAAK6wC,IACrB1C,EAAIwC,UAAU,GAAIt0B,GAClB,MAEF,KAAK,EACH8xB,EAAIyC,OAAO,GAAK5wC,KAAK6wC,IACrB1C,EAAIwC,UAAUzC,GAAQ7xB,GACtB8xB,EAAI5pB,OAAO,EAAG,GACd,MAEF,KAAK,EACH4pB,EAAIyC,QAAQ,GAAK5wC,KAAK6wC,IACtB1C,EAAIwC,WAAWzC,EAAO,IAO9B,SAAS4C,EAAaC,EAAUC,GAC5B,IAAI/1B,EAAOzU,KACP6E,OAAOM,MAAQolC,aAAoBplC,MACnC,WACI,IAAIgiC,EAAM,IAAIsD,MAASC,EAAM7lC,OAAO6lC,KAAO7lC,OAAO6lC,IAAIC,gBAAkB9lC,OAAO6lC,IAAM7lC,OAAO+lC,WAAa/lC,OAAO+lC,UAAUD,gBAAkB9lC,OAAO+lC,UAAY,KAC/J,IAAKF,EACD,MAAMhyC,MAAM,wDAEhByuC,EAAI0D,IAAMH,EAAIC,gBAAgBJ,GAC9B91B,EAAK3K,KAAOygC,EACZA,EAAWpD,EAPf,GAUCoD,EAAShD,cAAiBgD,EAAS9C,gBACpC8C,EAASngC,OAAS,WACd,IAAI0gC,EAAYr2B,EAAKs2B,mBACjBD,IACAr2B,EAAKs2B,mBAAqB,KAC1BjlB,YAAW,WACP,IAAK,IAAIlxB,EAAI,EAAGuW,EAAM2/B,EAAU3vC,OAAQvG,EAAIuW,EAAKvW,IAC7Ck2C,EAAUl2C,OAEf,KAGX21C,EAASjgC,QAAUkgC,EACnBxqC,KAAK+qC,mBAAqB,IAE9B/qC,KAAKuqC,SAAWA,EAEpBD,EAAa9zC,UAAUw0C,OAAS,SAASlvC,EAAQW,GAC7CA,EAAUA,GAAW,GACrB,IAA+SwuC,EA+BnSC,EA/BRz2B,EAAOzU,KAAMmrC,EAAWnrC,KAAKuqC,SAAShD,aAAc6D,EAAYprC,KAAKuqC,SAAS9C,cAAeC,EAAQjrC,EAAQirC,MAAO7xB,EAASpZ,EAAQoZ,OAAQ4d,EAAWh3B,EAAQg3B,SAAUD,EAAY/2B,EAAQ+2B,UAAW4T,GAAYpnC,KAAK8J,MAA2B,eAAnB9J,KAAK8J,KAAK5J,KAAuB4H,EAAUhM,EAAOgM,QAAQF,cAC5R5H,KAAK+qC,mBACL/qC,KAAK+qC,mBAAmBxoC,MAAK,WACzBkS,EAAKu2B,OAAOlvC,EAAQW,OAIxBirC,IAAU7xB,EACVA,EAASu1B,EAAY1D,EAAQyD,GAAY,EAClCt1B,IAAW6xB,EAClBA,EAAQyD,EAAWt1B,EAASu1B,GAAa,GAEzC1D,EAAQyD,EACRt1B,EAASu1B,GAET3X,GAAYiU,EAAQjU,IAEpB5d,EAASu1B,GADT1D,EAAQjU,GACqB0X,GAAY,GAEzC3X,GAAa3d,EAAS2d,IAEtBkU,EAAQyD,GADRt1B,EAAS2d,GACmB4X,GAAa,GAE7CH,EAAM,CACFvD,MAAOA,EACP7xB,OAAQA,GACTjW,GAAGyC,KAAK5F,GAAS,SAAS4uC,EAAYC,GACrCL,EAAII,GAAcC,KAEN,QAAZxjC,GAEQojC,EAAepvC,EAAO+uC,IAzNtC,SAA8B1D,EAAKr9B,EAAMrN,EAAS2qC,GAC9C,IAAIzjC,EAASwE,SAASC,cAAc,UAAWxE,EAAOnH,EAAQmH,MAAQ,aAAcuG,EAAU,IAAIvK,GAAG9F,QAIrG,OAHAotC,EAAoBC,EAAKr9B,EAAMnG,EAAQlH,EAAS2qC,GAAUrtC,MAAK,WAC3DoQ,EAAQE,QAAQ1G,EAAOI,UAAUH,EAAMnH,EAAQoH,SAAW,QAEvDsG,EAqNCohC,CAAqB92B,EAAK81B,SAAU91B,EAAK3K,KAAMmhC,EAAK7D,GAAUrtC,MAAK,SAASiK,GACxElI,EAAO+uC,IAAM7mC,EACbknC,IAAiBpvC,EAAO+uC,KAAO/uC,EAAOsO,QAAUtO,EAAOsO,aAG5C,WAAZtC,GACPo/B,EAAoBlnC,KAAKuqC,SAAUvqC,KAAK8J,KAAMhO,EAAQmvC,EAAK7D,GAElC,mBAAlBpnC,KAAKwrC,UACZxrC,KAAKwrC,SAAS1vC,KAGtB8D,GAAG0qC,aAAeA,EArQtB,GAuQA1qC,GAAGs2B,eAAiB,SAAS9wB,GACzB,aACA,SAASqmC,EAAMC,GACX,MAAoC,QAA7BA,EAAG5jC,QAAQF,cAEtB,SAAS+jC,EAASD,GACd,MAAoC,WAA7BA,EAAG5jC,QAAQF,cAStB,SAASgkC,EAAwBC,GAC7B,IAAIC,EAAeD,EAAarnC,MAAM,KAAMrP,EAAO22C,EAAaA,EAAa3wC,OAAS,GAAGqJ,MAAM,KAAK,GAAIwnB,EAAYpsB,GAAGkP,aAAa3Z,GAEpI,OADA62B,EAAYA,GAAaA,EAAUpkB,eAEjC,IAAK,OACL,IAAK,MACH,MAAO,aAET,IAAK,MACH,MAAO,YAET,IAAK,MACH,MAAO,YAET,IAAK,MACH,MAAO,YAET,IAAK,OACL,IAAK,MACH,MAAO,cAGf,SAASmkC,EAAc7T,GACnB,IAAgD8T,EAAgBC,EAAgBC,EAA5EC,EAAehkC,SAASC,cAAc,KAK1C,OAJA+jC,EAAaC,KAAOlU,EACpB8T,EAAiBG,EAAaE,SAC9BH,EAAaC,EAAaG,KAC1BL,EAAiBE,EAAaI,SAC1BP,EAAepkC,gBAAkB/C,OAAO2nC,SAASH,SAASzkC,gBAG1DqkC,EAAerkC,gBAAkB/C,OAAO2nC,SAASD,SAAS3kC,eAG1DskC,IAAernC,OAAO2nC,SAASF,OAAS1sC,GAAG0L,MAuBnD,SAASmhC,EAAkClvB,EAAapT,GACpD,IAAIuiC,EAAajB,EAAMluB,IAAgBouB,EAASpuB,GAShD,OARIkuB,EAAMluB,GApBd,SAAkC4pB,EAAKh9B,GACnCg9B,EAAI/8B,OAAS,WACT+8B,EAAI/8B,OAAS,KACb+8B,EAAI78B,QAAU,KACdH,EAAQE,QAAQ88B,IAEpBA,EAAI78B,QAAU,WACV68B,EAAI/8B,OAAS,KACb+8B,EAAI78B,QAAU,KACdlF,EAAI,6BAA8B,SAClC+E,EAAQI,QAAQ48B,EAAK,+BAWrBwF,CAAyBpvB,EAAapT,GAC/BwhC,EAASpuB,GATxB,SAAyC5Z,EAAQwG,GAC7CxG,EAAO+kC,gBAAkB,WACrBv+B,EAAQE,QAAQ1G,IAQhBipC,CAAgCrvB,EAAapT,IAE7CA,EAAQI,QAAQgT,GAChBnY,EAAIxF,GAAG4G,OAAO,iDAAkD+W,EAAYzV,SAAU,UAEnF4kC,EAyCX,SAASG,EAAyB3U,EAAK4U,EAAaC,EAAMvvB,EAASE,GAC/D,IAAIsvB,EAAU,IAAIvC,MAASwC,EAAgB,IAAIrtC,GAAG9F,QAClD2yC,EAAkCO,EAASC,GACvClB,EAAc7T,KACd8U,EAAQE,YAAc,aAE1BF,EAAQnC,IAAM3S,EACd+U,EAAclzC,MAAK,WACf0yC,EAAkCK,EAAaC,GACnC,IAAIntC,GAAG0qC,aAAa0C,GAC1BhC,OAAO8B,EAAa,CACtBrZ,SAAUjW,EACVgW,UAAWhW,EACX5Z,KAAMgoC,EAAwB1T,GAC9B4P,OAAQpqB,MAEbqvB,EAAKxiC,SAEZ,SAAS4iC,EAA+BjV,EAAKiP,EAAK4F,EAAMvvB,GACpDivB,EAAkCtF,EAAK4F,GACvCntC,GAAGunC,GAAKlmC,IAAI,CACRwyB,SAAUjW,EAAU,KACpBgW,UAAWhW,EAAU,OAEzB2pB,EAAI0D,IAAM3S,EAEd,SAASkV,EAAYlV,EAAKja,EAAWxhB,GACjC,IA1IIkH,EA0IAopC,EAAO,IAAIntC,GAAG9F,QAAWikB,EAAQthB,EAAQshB,MAAOP,EAAUO,EAAQthB,EAAQ+gB,QAAU,KAgBxF,OAfIO,GAAS0tB,EAAMxtB,IA3Ifta,EAASwE,SAASC,cAAc,WACtBw/B,YAAcjkC,EAAOikC,WAAW,MA4IlCmE,EAAc7T,SAhJS3gC,KAA5B,IAAIkzC,OAAQyC,YAiJPC,EAA+BjV,EAAKja,EAAW8uB,EAAMvvB,GAErDqvB,EAAyB3U,EAAKja,EAAW8uB,EAAMvvB,GAGnD2vB,EAA+BjV,EAAKja,EAAW8uB,EAAMvvB,GAElDmuB,EAAS1tB,GAChB4uB,EAAyB3U,EAAKja,EAAW8uB,EAAMvvB,GACxCivB,EAAkCxuB,EAAW8uB,KACpD9uB,EAAU4sB,IAAM3S,GAEb6U,EAEXntC,GAAG0B,OAAOtB,KAAM,CACZke,SAAU,SAASmvB,EAAepvB,EAAWxhB,GACzC,OAAImD,GAAGuG,SAASknC,IACZjoC,EAAI,4DACGgoC,EAAYC,EAAepvB,EAAWxhB,GAAW,MAExD2I,EAAI,iDA1FhB,SAAciE,EAAY4U,EAAWxhB,GACjC,IAAI6wC,EAAc,IAAI1tC,GAAG9F,QAAWgrB,EAAa,IAAIllB,GAAG2tC,SAASlkC,EAAYjE,GAAMoY,EAAU/gB,EAAQ+gB,QAASoY,EAA2B,MAAlBn5B,EAAQm5B,QAAwBn5B,EAAQm5B,OAAQ4X,EAAsB,WACzLvvB,EAAU3T,QAAU,KACpB2T,EAAU7T,OAAS,KACnBhF,EAAI,mDAAoD,SACxDkoC,EAAY/iC,QAAQ0T,EAAW,iCAgCnC,OA9BA6G,EAAW2oB,gBAAgB1zC,MAAK,SAAS6J,GACrC,IAAI8pC,EAAY,CACZp0C,MAAO,WACH,OAAO,IAAIsG,GAAG9F,SAAUuQ,YAE7BsjC,EAAO/X,EAAS,IAAIh2B,GAAGguC,KAAKvkC,EAAYjE,GAAOsoC,EAAWG,EAAQ,IAAIjuC,GAAG0qC,aAAajhC,EAAYmkC,GACjGf,EAAkCxuB,EAAWqvB,IAC7CK,EAAKr0C,QAAQS,MAAK,SAAS4zC,GACvB,IAAIzF,EAAcyF,GAAQA,EAAKG,YAC/BD,EAAM7C,OAAO/sB,EAAW,CACpBwV,SAAUjW,EACVgW,UAAWhW,EACX0qB,YAAaA,EACbtkC,KAAMA,EACNkkC,OAAQrrC,EAAQihB,0BAErB,SAASqwB,GACR3oC,EAAIxF,GAAG4G,OAAO,iEAAkEunC,IAChFF,EAAM7C,OAAO/sB,EAAW,CACpBwV,SAAUjW,EACVgW,UAAWhW,EACX5Z,KAAMA,EACNkkC,OAAQrrC,EAAQihB,6BAI7B,WACCtY,EAAI,mBACJkoC,EAAY/iC,QAAQ0T,EAAW,sBAE5BqvB,EAsDQP,CAAKM,EAAepvB,EAAWxhB,GAAW,QAI7DuD,KAAKguC,SAAW,GAChBhuC,KAAKguC,SAASvC,MAAQA,EACtBzrC,KAAKguC,SAASrC,SAAWA,EACzB3rC,KAAKguC,SAASjC,cAAgBA,EAC9B/rC,KAAKguC,SAASpC,wBAA0BA,GAE5ChsC,GAAGguC,KAAO,SAASvkC,EAAYjE,GAC3B,aACA,IAAI6oC,EAAU,CAAE,KAAOC,EAAW,CAC9BC,IAAK,CACDh5C,KAAM,cACNuU,MAAO,IAGf,SAAS0kC,EAAkBC,GAEvB,IADA,IAAIpsC,EAAS,EAAGqsC,EAAM,EACfD,EAAIlzC,OAAS,GAChB8G,GAAUpI,SAASw0C,EAAIxnC,UAAU,EAAG,GAAI,IAAMrN,KAAK80C,IAAI,EAAGA,GAC1DD,EAAMA,EAAIxnC,UAAU,EAAGwnC,EAAIlzC,QAC3BmzC,GAAO,EAEX,OAAOrsC,EAuBX,SAASssC,IACL,IAAIpkC,EAAU,IAAIvK,GAAG9F,QAYrB,OAXA8F,GAAGiK,cAAcR,EAAY,EAAG,GAAGtP,MAAK,SAASs0C,GACjB,IAAxBA,EAAI5pC,QAAQ,QACZ0F,EAAQI,QAAQ,qBAzB5B,SAASikC,EAAWC,EAAQtkC,GACxB,IAAIukC,EAAYD,EAAQE,EAAaxkC,EAkBrC,YAjBkB5S,IAAdm3C,IACAA,EAAY,EACZC,EAAa,IAAI/uC,GAAG9F,SAExB8F,GAAGiK,cAAcR,EAAYqlC,EAAW,GAAG30C,MAAK,SAASs0C,GACrD,IAAqCO,EAAjCh9B,EAAQ,cAActO,KAAK+qC,GAC3Bz8B,EACiB,MAAbA,EAAM,IACNg9B,EAAgB/0C,SAASw0C,EAAI/vC,MAAM,EAAG,GAAI,IAC1CkwC,EAAWE,EAAYE,EAAgB,EAAGD,IAE1CA,EAAWtkC,QAAQqkC,GAGvBC,EAAWpkC,QAAQ,kCAGpBokC,EAQCH,GAAaz0C,MAAK,SAAS00C,GACvBtkC,EAAQE,QAAQokC,MACjB,SAAS9lC,GACRwB,EAAQI,QAAQ5B,SAIrBwB,EAiDXvK,GAAG0B,OAAOtB,KAAM,CACZ1G,MAAO,WACH,IAAIu1C,EAAS,IAAIjvC,GAAG9F,QAAWg1C,EAAiB,SAASzpC,GACrDD,EAAIxF,GAAG4G,OAAO,kCAAmCnB,IACjDwpC,EAAOtkC,QAAQlF,IAgBnB,OAdAkpC,IAAgBx0C,MAAK,SAASg1C,GArDtC,IAAwBC,EAChB7kC,EAqDI/E,EAAIxF,GAAG4G,OAAO,wDAAwEjP,IAApB8R,EAAWlU,KAAqB,OAASkU,EAAWlU,QAtD1G65C,EAuDGD,EAtDnB5kC,EAAU,IAAIvK,GAAG9F,QACrB8F,GAAGiK,cAAcR,EAAY2lC,EAAY,GAAI,GAAGj1C,MAAK,SAASs0C,GAC1DlkC,EAAQE,QAAgB,SAARgkC,MAEblkC,GAkD4BpQ,MAAK,SAASk1C,GACrC7pC,EAAIxF,GAAG4G,OAAO,+BAAgCyoC,EAAe,SAAW,QAjDxF,SAA0BD,EAAWC,GACjC,IAAI9kC,EAAU,IAAIvK,GAAG9F,QAQrB,OAPA8F,GAAGiK,cAAcR,EAAY2lC,EAAY,GAAI,GAAGj1C,MAAK,SAASs0C,GAC1D,GAAIY,EACA,OAAO9kC,EAAQE,QAAQ+jC,EAAkBC,IAEzClkC,EAAQE,QAAQxQ,SAASw0C,EAAK,QAG/BlkC,EAyCK+kC,CAAiBH,EAAYE,GAAcl1C,MAAK,SAASo1C,GACrD/pC,EAAIxF,GAAG4G,OAAO,kCAAmC2oC,IAxCrE,SAAgBH,EAAWI,GACvB,IAAIX,EAASO,EAAY,GAAItlC,EAAqB,GAAb0lC,EACrC,OAAOxvC,GAAGiK,cAAcR,EAAYolC,EAAQ/kC,GAuC5B2lC,CAAON,EAAYI,GAAep1C,MAAK,SAASu1C,GAC5C,IAAIF,EAtC5B,SAAuBE,GAEnB,IADA,IAAIz3C,EAAU,GAAI42C,EAAS,EACpBA,EAAS,IAAMa,EAAOn0C,QACzBtD,EAAQ0K,KAAK+sC,EAAOhxC,MAAMmwC,EAAQA,EAAS,KAC3CA,GAAU,GAEd,OAAO52C,EAgC8B03C,CAAcD,GAASE,EA9BhE,SAAsBP,EAAcG,GAChC,IAAyBK,EAAa7vC,GAAG0B,OAAO,GAAI2sC,GAAUyB,EAAO,GAcrE,OAbA9vC,GAAGyC,KAAK+sC,GAAY,SAAS9sC,EAAKg0B,GAC9B,IAA2IqZ,EAAW7nC,EAAS8nC,EAA3JC,EAAQvZ,EAAMh4B,MAAM,EAAG,GAAIyY,EAAKk4B,EAAeb,EAAkByB,GAASh2C,SAASg2C,EAAO,IAAKC,EAAgBL,EAAWhrC,QAAQsS,GAQtI,GAPI+4B,GAAiB,IACjBhoC,EAAUomC,EAASn3B,GAAI5hB,KACvBy6C,EAAe1B,EAASn3B,GAAIrN,MAC5BimC,EAAYrZ,EAAMh4B,MANL,MAM2D,EAAfsxC,GACzDF,EAAK5nC,GAAWmnC,EAAeb,EAAkBuB,GAAa91C,SAAS81C,EAAW,IAClFF,EAAW72B,OAAOk3B,EAAe,IAEX,IAAtBL,EAAWt0C,OACX,OAAO,KAGRu0C,EAeiEK,CAAad,EAAcG,GAC/EhqC,EAAI,sCACJypC,EAAOxkC,QAAQmlC,KAChBV,KACJA,KACJA,KACJA,GACID,KAGf7uC,KAAKguC,SAAW,GAChBhuC,KAAKguC,SAASI,kBAAoBA,GAEtCxuC,GAAG2tC,SAAW,SAASlkC,EAAYjE,GAC/B,aAWAxF,GAAG0B,OAAOtB,KAAM,CACZytC,cAAe,WACX,IAAIh5B,EAAOzU,KAAM8kB,EAAa,IAAIllB,GAAG9F,QAAWk2C,GAAc,EAAO76C,OAA2BoC,IAApB8R,EAAWlU,KAAqB,OAASkU,EAAWlU,KA0BhI,OAzBAiQ,EAAIxF,GAAG4G,OAAO,gEAAiErR,IAC/EiQ,EAAI,oDACApF,KAAKiwC,qBACL7qC,EAAI,sDACJxF,GAAGiK,cAAcR,EAAY,EAAG,GAAGtP,MAAK,SAASs0C,GAC7CzuC,GAAGyC,KAAKoS,EAAKy7B,wBAAwB,SAAStsC,EAAM8F,GAChD,GAnBgBymC,EAmBU9B,EAlBtC+B,GAAe,EAAOC,EAAoB,GAAGtzC,OAkBd2M,GAjBnC9J,GAAGyC,KAAKguC,GAAmB,SAAS/tC,EAAKguC,GACrC,GAAwD,IAApDH,EAAkB1rC,QAAQ6rC,GAE1B,OADAF,GAAe,GACR,KAGRA,EAgBa,OAJa,eAATxsC,GAAyBhE,GAAGmQ,kBAAkBmD,gBAC9C88B,GAAc,EACdlrB,EAAWza,QAAQzG,KAEhB,EAxB/B,IAAoCusC,EAC5BC,EAAsBC,KA0BdjrC,EAAIxF,GAAG4G,OAAO,iDAAkDrR,EAAM66C,EAAc,GAAK,QACpFA,GACDlrB,EAAWva,aAEhB,WACCnF,EAAI,+BAAiCjQ,EAAO,gDAC5C2vB,EAAWva,cAGfua,EAAWva,UAERua,GAEXmrB,kBAAmB,WACf,IAAIM,EAAWlnC,EAAWnJ,KAAMswC,EAAoB5wC,GAAG6E,QAAQnP,OAAOyC,KAAKiI,KAAKkwC,wBAAyBK,IAAa,EAAGP,GAAc,EAAO76C,OAA2BoC,IAApB8R,EAAWlU,KAAqB,OAASkU,EAAWlU,KASzM,OARIq7C,IAEIR,EADa,eAAbO,GACc3wC,GAAGmQ,kBAAkBmD,eAK1C88B,GAAe5qC,EAAIjQ,EAAO,gEACpB66C,MAInBpwC,GAAG2tC,SAAS/2C,UAAU05C,uBAAyB,CAC3C,aAAc,SACd,YAAa,SACb,YAAa,SACb,YAAa,OACb,aAAc,CAAE,WAAY,aAEhCtwC,GAAGyyB,gBAAkB,SAASvoB,EAAM1E,GAChC,aA0DApF,KAAKsyB,SAAW,SAASme,GACrB,IA/CIC,EA+CAC,EAAmB,IAAI/wC,GAAG9F,QAc9B,OAbAsL,EAAI,kCA3DR,SAA0BqrC,GACtB,IAAIG,GAAa,EAOjB,OANAhxC,GAAGyC,KAAKouC,GAAQ,SAASI,EAAOh7C,GAC5B,GAAIA,EAAQ,EAER,OADA+6C,GAAa,GACN,KAGRA,EAoDHE,CAAiBL,GAUjBE,EAAiBtmC,WA3DjBqmC,EAAoB,IAAI9wC,GAAG9F,QAC/B,IAAI8F,GAAG2tC,SAASzjC,EAAM1E,GAAKqoC,gBAAgB1zC,MAAK,WAC5C,IAAIw4B,EAAQ,IAAIkY,MAASvS,EAAMrzB,OAAO6lC,KAAO7lC,OAAO6lC,IAAIC,gBAAkB9lC,OAAO6lC,IAAM7lC,OAAO+lC,WAAa/lC,OAAO+lC,UAAUD,gBAAkB9lC,OAAO+lC,UAAY,KAC7J1S,GACA3F,EAAMjoB,QAAU,WACZlF,EAAI,4DAA6D,SACjEsrC,EAAkBnmC,WAEtBgoB,EAAMnoB,OAAS,WACXsmC,EAAkBrmC,QAAQ,CACtBq9B,MAAO1nC,KAAK0nC,MACZ7xB,OAAQ7V,KAAK6V,UAGrB0c,EAAMsY,IAAM3S,EAAIyS,gBAAgB7gC,KAEhC1E,EAAI,+DAAgE,SACpEsrC,EAAkBnmC,aAEvBmmC,EAAkBnmC,SACdmmC,GA8Bc32C,MAAK,SAASg3C,GAC3B,IAAIC,EA7BhB,SAAyBP,EAAQM,GAC7B,IAAIC,EAqBJ,OApBApxC,GAAGyC,KAAKouC,GAAQ,SAASQ,EAAWC,GAChC,GAAIA,EAAa,EAAG,CAChB,IAAIC,EAAe,0BAA0B7tC,KAAK2tC,GAAYG,EAAoBD,EAAa,GAAG5jC,OAAO,GAAG3F,cAAgBupC,EAAa,GAAG7yC,MAAM,GAAI+yC,EAAcN,EAAWK,GAC/K,OAAQD,EAAa,IACnB,IAAK,MACH,GAAIE,EAAcH,EAEd,OADAF,EAAeC,GACR,EAEX,MAEF,IAAK,MACH,GAAII,EAAcH,EAEd,OADAF,EAAeC,GACR,OAMhBD,EAOoBM,CAAgBb,EAAQM,GACvCC,EACAL,EAAiBpmC,QAAQymC,GAEzBL,EAAiBtmC,YAEtBsmC,EAAiBtmC,SAIjBsmC,IAGf/wC,GAAG2xB,QAAU,SAASta,GAClB,aACA,IAAIxa,EAAU,CACVie,SAAU,KACVD,OAAQ,GACRoJ,cAAe,GACfG,KAAM,GACNyN,cAAe,SAAS/O,KACxBtd,IAAK,SAASC,EAASC,MAS3B,SAASisC,EAAgBC,EAAWnnC,EAAS+Z,EAAUja,GACnD,IAAIsnC,GAAmB,GACvBpnC,EAAUA,GARd,SAA6BikB,GACzB,GAAI1uB,GAAG/C,QAAQyxB,GACX,OAAO,EAEX7xB,EAAQ2I,IAAI,oCAAqC,SAI5BssC,CAAoBF,KAErC5xC,GAAGyC,KAAKmvC,GAAW,SAASlvC,EAAKw4B,GAC7B,GAAqB,MAAjBA,EAASzjB,KACTo6B,GAAmB,EACnBh1C,EAAQ2I,IAAIxF,GAAG4G,OAAO,oEAAqElE,GAAM,cAC9F,GAAqB,MAAjBw4B,EAAS3lC,KAChBs8C,GAAmB,EACnBh1C,EAAQ2I,IAAIxF,GAAG4G,OAAO,oEAAqElE,GAAM,cAEjG,IAEI,OADA7F,EAAQg1B,cAAcqJ,IACf,EACT,MAAO6W,GACLF,GAAmB,EACnBh1C,EAAQ2I,IAAIusC,EAAItsC,QAAS,SAGjC,OAAO,KAGf8E,EAAQE,IAAYonC,EAAmB,UAAY,WAAWD,EAAWptB,GA9B7ExkB,GAAG0B,OAAO7E,EAASwa,GAAM,GAgCzBjX,KAAK0xB,QAAU,WACX,IAAIkgB,EAAgB,IAAIhyC,GAAG9F,QAExB+3C,EAAmBjyC,GAAG0B,OAAO,GAAI7E,GAIpC,OAJ0D,IAAImD,GAAGkyC,qBAAqBlyC,GAAG0B,OAAOuwC,EAAkB,CAC9GrqB,WAH4D,SAAS8G,EAAUjkB,EAAS+Z,GACxFmtB,EAAgBjjB,EAAUjkB,EAAS+Z,EAAUwtB,OAIvCG,cACHH,IAGfhyC,GAAGkyC,qBAAuB,SAAS76B,GAC/B,aACA,IAAI+vB,EAAWvqC,EAAU,CACrBie,SAAU,KACVmJ,cAAe,GACfpJ,OAAQ,GACRuJ,KAAM,CACF4I,UAAU,EACV4I,iBAAiB,GAErBhO,WAAY,SAAS8G,EAAUjkB,EAAS+Z,KACxChf,IAAK,SAASqB,EAAKnB,MAEvB1F,GAAG0B,OAAO7E,EAASwa,GAanB+vB,EAAYpnC,GAAG0B,OAAOtB,KAAM,IAAIJ,GAAG22B,cAAc,CAC7CI,aAAc,mBACdC,aAAc,CAAE,OAChBrT,OAAQ,MACRQ,cAAe,CACXtuB,IAAK,WACD,OAAOgH,EAAQie,WAGvBmJ,cAAepnB,EAAQonB,cACvBze,IAAK3I,EAAQ2I,IACboiB,WAvBJ,SAAoBzQ,EAAIqN,EAAUC,GAC9B,IAAIiK,EAAW,KACf,GAA6B,MAAzBlK,EAAS4tB,aACT,IACI1jB,EAAW1uB,GAAGgP,UAAUwV,EAAS4tB,cACnC,MAAOL,GACLl1C,EAAQ2I,IAAI,qCAAuCusC,EAAItsC,QAAS,SAChEgf,GAAU,EAGlB5nB,EAAQ+qB,WAAW8G,GAAWjK,EAASD,IAcvCJ,KAAMvnB,EAAQunB,QAElBpkB,GAAG0B,OAAOtB,KAAM,CACZ+xC,YAAa,WACT,IAAIt3B,EAAS7a,GAAG0B,OAAO,GAAI7E,EAAQge,QACnChe,EAAQ2I,IAAI,0BACZ4hC,EAAUrN,cAAc,kBAAkBK,WAAWvf,GAAQ6f,kBAAkBb,WAI3F75B,GAAGmhB,OAAS,SAAS9J,EAAM7R,GACvB,aACA,IAAiBsY,EAAuBzG,EAAKye,cAAeuc,EAAkBh7B,EAAK0e,aAAcC,EAAS3e,EAAK2e,OAAQC,EAAc5e,EAAK4e,YAAaC,EAAiB7e,EAAK6e,eAAiB,IAAKoc,EAAoBj7B,EAAK8e,YAAaC,EAAc/e,EAAK+e,YAAaC,EAAQj2B,KAAKmyC,gBAAgBl7B,EAAKgf,OAC3Sr2B,GAAG0B,OAAOtB,KAAM,CACZ8c,QAASld,GAAGmQ,kBAAkBkD,SAAWgjB,EAAM96B,OAAS,EACxDi3C,eAAgB,SAASC,EAAkBC,EAAkBC,GACzD,IAAI99B,EAAOzU,KAAMwyC,EAAU,GAAIC,EAAeF,EAAuBzoC,KAAOyoC,EAAuBzoC,KAAOyoC,EAyC1G,OAzC+I,IAAI3yC,GAAG2tC,SAASkF,EAAcrtC,GAC9J6qC,qBACXrwC,GAAGyC,KAAK4zB,GAAO,SAAS3zB,EAAKowC,GACzB,IAAIC,EAAal+B,EAAKm+B,qBAAqB,CACvC/c,YAAaA,EACbgd,cAAeH,EAAWxyC,KAC1B4yC,QAASL,EAAavyC,OAE1BsyC,EAAQjwC,KAAK,CACT8U,KAAMzX,GAAGwL,cACTjW,KAAMsf,EAAKs+B,SAAST,EAAkB,CAClCn9C,KAAMu9C,EAAWv9C,KACjB+K,KAAMyyC,EACNG,QAASL,EAAavyC,OAE1B4J,KAAM,IAAIlK,GAAGwU,UAAUq+B,EAAc7yC,GAAGxJ,KAAKqe,EAAKu+B,qBAAsBv+B,EAAM,CAC1EiJ,qBAAsBA,EACtBF,QAASk1B,EAAWl1B,QACpBoY,OAAQA,EACR11B,KAAMyyC,EACN9uC,QAASiyB,EACTmd,WAAYf,EACZlc,YAAaA,EACb5wB,IAAKA,UAIjBotC,EAAQjwC,KAAK,CACT8U,KAAMg7B,EACNl9C,KAAMm9C,EACNh7B,KAAMm7B,EAAan7B,KACnBxN,KAAMmoC,EAAkBQ,EAAe,QAG3CD,EAAQjwC,KAAK,CACT8U,KAAMg7B,EACNl9C,KAAMm9C,EACNh7B,KAAMm7B,EAAan7B,KACnBxN,KAAM2oC,IAGPD,GAEXpc,cAAe,SAAS7e,EAAMpiB,EAAMkiB,EAAMC,EAAMwU,EAAUtU,EAASkM,EAAewvB,GAClD37B,EAAKyL,YAAczL,EAAKzN,MAAQyN,EAAKzN,KAAKkZ,WAAtE,IA8CgBmwB,EA9CkEC,EAAY,GAAIC,EAAa,KAAMznB,EAAmBsnB,EAAItnB,iBAAkBvP,EAAa62B,EAAI72B,WAAYyH,EAAcovB,EAAIpvB,YAAarM,EAAe7X,GAAGwL,cAC5OxL,GAAGyC,KADQrC,KACEoyC,eAAe/6B,EAAMliB,EAAMoiB,IAAO,SAASjV,EAAKiW,GACzD,IAA4BxB,EAAxBu8B,EAAW/6B,EAAOjB,KAClBiB,EAAOzO,gBAAgBlK,GAAGwU,YAC1Bk/B,GAAY,GAEhBv8B,EAAKsF,EAAWrF,QAAQ,CACpBK,KAAMkB,EAAOlB,KACbliB,KAAMojB,EAAOpjB,KACbmiB,KAAMg8B,EACN97B,QAASA,EACTC,aAAcA,IAEdc,EAAOzO,gBAAgBlK,GAAGwU,UAC1Bg/B,EAAU7wC,KAAKwU,GAEfs8B,EAAat8B,EAEbwB,EAAOzO,MACP8hB,EAAiB7U,EAAIwB,EAAOzO,MAC5BgiB,EAASvpB,KAAK,CACVwU,GAAIA,EACJQ,KAAMgB,EAAOzO,QAGjBuS,EAAW7D,UAAUzB,EAAInX,GAAGsX,OAAOwC,aAGxB,OAAf25B,IACAzzC,GAAGyC,KAAK+wC,GAAW,SAAS9wC,EAAKixC,GAC7B,IAAI94B,EAAS,CACT+4B,aAAcn3B,EAAWzE,SAAS,CAC9Bb,GAAIs8B,IACLh8B,KACHo8B,aAAcp3B,EAAWzE,SAAS,CAC9Bb,GAAIs8B,IACL/7B,MAEPmD,EAAOiJ,GAAiBrH,EAAWzE,SAAS,CACxCb,GAAIw8B,IACLl8B,KACHgF,EAAWjD,YAAYm6B,EAAUF,GACjCvvB,EAAY4B,YAAY6tB,EAAU94B,MAElC24B,EAAUj4C,UAEFg4C,EAAQ,IACNzvB,GAAiBrH,EAAWzE,SAAS,CACvCb,GAAIs8B,IACLh8B,KACHyM,EAAY4B,YAAY2tB,EAAYF,SAO5DvzC,GAAG0B,OAAO1B,GAAGmhB,OAAOvqB,UAAW,CAC3BqqB,WAAY,SAAS9J,EAAI+J,EAAOoyB,GAC5B,aACA,IAAKtzC,GAAGmQ,kBAAkBkD,QACtB,MAAM,IAAIrT,GAAGlH,MAAM,6CAEvB,IAAIg7C,EAAgB,IAAI9zC,GAAG9F,QAAWsL,EAAM8tC,EAAI9tC,IAAKmS,EAAO27B,EAAIl1B,QAAQjH,GAAKsF,EAAa62B,EAAI72B,WAAWzE,SAAS,CAC9Gb,GAAIA,IACJ5hB,EAAOknB,GAAcA,EAAWlnB,KAAMkiB,EAAOgF,GAAcA,EAAWhF,KAAMs8B,EAAiB,CAC7Fje,cAAe5U,EAAM4U,cACrBC,cAAc,EACdC,OAAQ9U,EAAM8U,OACdC,YAAa/U,EAAM5gB,MAAQ,KAC3B41B,eAAgBhV,EAAMjd,QACtBquC,kBAAmB,kBACnBjc,MAAO,CAAE,CACL9gC,KAAM,GACNqoB,QAASsD,EAAMtD,WAEpBo2B,EAAS,IAAIh0C,GAAGmhB,OAAO4yB,EAAgBvuC,GAe1C,OAdKxF,GAAGmhB,QAAWnhB,GAAGmQ,kBAAkB4C,eAAkB4E,EAItD3X,GAAGxJ,MAAK,WACJ,IAAImiB,EAASq7B,EAAOxB,eAAe/6B,EAAMliB,EAAMoiB,GAAM,GACjDgB,GAAUA,EAAOzO,gBAAgBlK,GAAGwU,UACpCmE,EAAOzO,KAAK5T,SAAS6D,KAAK25C,EAAcrpC,QAASqpC,EAAcnpC,UAE/DnF,EAAI2R,EAAK,4BAA6B,SACtC28B,EAAcnpC,aAEnBvK,KARHJ,IAHA8zC,EAAcnpC,UACdnF,EAAI,iDAAmD2R,EAAK,uFAA6F,UAYtJ28B,GAEXd,qBAAsB,SAAS37B,GAC3B,aACA,IAAI47B,EAAgB57B,EAAK47B,cAAehd,EAAc5e,EAAK4e,YAAage,EAAgB58B,EAAK67B,QAC7F,OAAKjd,GAAgBgd,EAMhBA,GAGDjzC,GAAG6E,QAAQnP,OAAOyC,KAAK6H,GAAG2tC,SAAS/2C,UAAU05C,wBAAyB2C,IAAkB,EAClE,eAAlBA,EACOjzC,GAAGmQ,kBAAkBmD,aAAe2/B,EAAgBhd,EAExDgd,EANAhd,EANe,eAAlBge,EACO,YAEJA,GAafd,SAAU,SAAS37B,EAAc08B,GAC7B,aACA,IAAIC,EAAa38B,EAAanI,YAAY,KAAM+kC,EAAcF,EAAwB5zC,MAAQ,YAAa2zC,EAAgBC,EAAwBhB,QAASmB,EAAa,GAAIC,EAAYt0C,GAAGkP,aAAasI,GAAe+8B,EAAgB,GAaxO,OAZIL,EAAwB3+C,MAAQ2+C,EAAwB3+C,KAAKoR,OAAOpL,SACpEg5C,EAAgB,KAAOL,EAAwB3+C,KAAO,KAEtD4+C,GAAc,GACdE,EAAa78B,EAAalI,OAAO,EAAG6kC,GAChCF,IAAkBG,IAClBE,EAAYF,EAAYxvC,MAAM,KAAK,IAEvCyvC,GAAcE,EAAgB,IAAMD,GAEpCD,EAAa78B,EAAe+8B,EAEzBF,GAEX9B,gBAAiB,SAASlc,GACtB,aAEA,OADAA,EAAQr2B,GAAG0B,OAAO,GAAI20B,IACTme,MAAK,SAASC,EAAGC,GAC1B,OAAID,EAAE72B,QAAU82B,EAAE92B,QACP,EAEP62B,EAAE72B,QAAU82B,EAAE92B,SACN,EAEL,MAGfw1B,qBAAsB,SAAS/7B,EAAMs9B,GACjC,aACA,IAAI9/B,EAAOzU,KAAM0d,EAAuBzG,EAAKyG,qBAAsBtY,EAAM6R,EAAK7R,IAAKoY,EAAUvG,EAAKuG,QAASoY,EAAS3e,EAAK2e,OAAQ11B,EAAO+W,EAAK/W,KAAM2D,EAAUoT,EAAKpT,QAASovC,EAAah8B,EAAKg8B,WAAYjd,EAAc/e,EAAK+e,aAAmC,eAApBue,EAAWr0C,MAAkC,eAATA,EAAuBwzC,EAAgB,IAAI9zC,GAAG9F,QAAW06C,EAAiB,IAAI50C,GAAGs2B,eAAe9wB,GAAMzB,EAASwE,SAASC,cAAc,UA2BrZ,OA1BAhD,EAAI,6CAA+CmvC,EAAWp/C,MAC9Dq/C,EAAet2B,SAASq2B,EAAY5wC,EAAQ,CACxC6Z,QAASA,EACToY,OAAQA,EACRlY,qBAAsBA,IACvB3jB,MAAK,WACJ,IAAI06C,EAAqB9wC,EAAOI,UAAU7D,EAAM2D,GAAU6wC,EAAgB,WACtEtvC,EAAI,yCAA2CmvC,EAAWp/C,MAC1D,IAAI2U,EAAOlK,GAAGkE,cAAc2wC,GAC5Bf,EAAcrpC,QAAQP,IAEtBksB,EACAvhB,EAAKkgC,kBAAkBJ,EAAYE,EAAoBrvC,GAAKrL,MAAK,SAAS66C,GACtEH,EAAqBG,EACrBF,OACD,WACCtvC,EAAI,wFAAyF,SAC7FsvC,OAGJA,OAEL,WACCtvC,EAAI,iDAAmDmvC,EAAWp/C,KAAM,SACxEu+C,EAAcnpC,QAAQ0oC,MAEnBS,GAEXiB,kBAAmB,SAASE,EAAeJ,EAAoBrvC,GAC3D,aACA,IAAI0vC,EAAS,IAAI5qC,WAAc6qC,EAAkB,IAAIn1C,GAAG9F,QAAWk7C,EAAuB,GAU1F,OATAF,EAAO1qC,OAAS,WACZ4qC,EAAuBF,EAAO7yC,OAC9B8yC,EAAgB1qC,QAAQzK,GAAG4D,aAAa0mC,QAAQ8K,EAAsBP,KAE1EK,EAAOxqC,QAAU,WACblF,EAAI,mBAAqByvC,EAAc1/C,KAAO,2DAA4D,SAC1G4/C,EAAgBxqC,WAEpBuqC,EAAOG,cAAcJ,GACdE,GAEXG,eAAgB,SAASlxC,GACrB,aACA,IAAIE,EAAYE,EAAYH,EAAaE,EAYzC,OAVID,EADAF,EAAQQ,MAAM,KAAK,GAAGC,QAAQ,WAAa,EAC9BC,KAAKV,EAAQQ,MAAM,KAAK,IAExBlM,UAAU0L,EAAQQ,MAAM,KAAK,IAE9CJ,EAAaJ,EAAQQ,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAC5DP,EAAc,IAAIrM,YAAYsM,EAAW/I,QACzCgJ,EAAW,IAAI1M,WAAWwM,GAC1BrE,GAAGyC,KAAK6B,GAAY,SAAS5B,EAAKqC,GAC9BR,EAAS7B,GAAOqC,EAAUC,WAAW,MAElC5E,KAAKm1C,YAAYlxC,EAAaG,IAEzC+wC,YAAa,SAAS9wC,EAAMT,GACxB,aACA,IAAIU,EAAcO,OAAOP,aAAeO,OAAOC,mBAAqBD,OAAOE,gBAAkBF,OAAOG,cAAeT,EAAcD,GAAe,IAAIA,EACpJ,OAAIC,GACAA,EAAYU,OAAOZ,GACZE,EAAYW,QAAQtB,IAEpB,IAAIuB,KAAK,CAAEd,GAAQ,CACtBnE,KAAM0D,OAKtBhE,GAAG4D,cACKA,aAAe,CACnBA,QAAuB,oEACvBA,SAAwB,SAAS0E,GAC7B,IAAiBktC,EAAMC,EAAiBC,EAAMC,EAAMC,EAAhDC,EAAS,GAAgBC,EAAO,GAAsBC,EAAO,GAAI/gD,EAAI,EACzE,GAII0gD,GAHAF,EAAOltC,EAAMtT,OAGE,EACf2gD,GAAe,EAAPH,IAAa,GAHrBC,EAAOntC,EAAMtT,OAGoB,EACjC4gD,GAAe,GAAPH,IAAc,GAHtBK,EAAOxtC,EAAMtT,OAGqB,EAClC+gD,EAAc,GAAPD,EACHt8C,MAAMi8C,GACNG,EAAOG,EAAO,GACPv8C,MAAMs8C,KACbC,EAAO,IAEXF,EAASA,EAASz1C,KAAK41C,QAAQroC,OAAO+nC,GAAQt1C,KAAK41C,QAAQroC,OAAOgoC,GAAQv1C,KAAK41C,QAAQroC,OAAOioC,GAAQx1C,KAAK41C,QAAQroC,OAAOooC,GAC1HP,EAAOC,EAAOK,EAAO,GACrBJ,EAAOC,EAAOC,EAAOG,EAAO,SACvB/gD,EAAIsT,EAAM/M,QACnB,OAAOs6C,GAEXjyC,QAAuB,SAASqyC,EAAgBC,GAE5C,IAAKD,EAAejkC,MADO,2BAEvB,OAAOkkC,EAEX,IAAIC,EAAW/1C,KAAKg2C,SAASH,EAAeh0C,QAJjB,0BAI+C,KACtEo0C,EAAWj2C,KAAKk2C,eAAeH,GAC/BxjB,EAAQvyB,KAAKm2C,iBAAiBL,EAAmBG,GACrD,MAP2B,0BAOGj2C,KAAKo2C,SAAS7jB,IAEhD/uB,iBAAgC,SAASsyC,EAAmBG,GACxD,IAAII,EAAYr2C,KAAKs2C,aAAaL,GAAWM,EAAgBv2C,KAAKw2C,WAAWV,EAAmBO,GAChG,OADsH,IAAI5+C,WAAW8+C,IAGzI/yC,aAA4B,SAASyyC,GAEjC,IADA,IAAIQ,EACKr/C,EAAI,EAAGA,EAAI6+C,EAAS96C,OAAQ/D,IAEjC,GAAc,MADdq/C,EAAMR,EAAS7+C,IACP,GAAsB,KAAVq/C,EAAI,GACpB,OAAOA,EAGf,MAAO,IAEXjzC,WAA0B,SAASsyC,EAAmBO,GAClD,IAAIK,EAAYZ,EAAkBj0C,QAAQ,0BAA2B,IAAK80C,EAAM32C,KAAKg2C,SAASU,GAAYE,EAAgBD,EAAIlyC,QAAQ,IAAK,GAAIoyC,EAAMF,EAAIr4C,MAAM,EAAGs4C,GAAgBE,EAAMH,EAAIr4C,MAAMs4C,GAAgB34C,EAAQ44C,EAG1N,OADA54C,GADAA,EAAQA,EAAMlB,OAAOs5C,IACPt5C,OAAO+5C,IAGzBtzC,eAA8B,SAASuzC,GAEnC,IADA,IAAIC,EAAO,EAAGf,EAAW,KAEM,KAAvBc,EAAcC,GAA0C,KAA3BD,EAAcC,EAAO,KADhD,CAIN,GAA2B,KAAvBD,EAAcC,GAA0C,KAA3BD,EAAcC,EAAO,GAClDA,GAAQ,MACL,CACH,IAAsEC,EAAWD,GAA1C,IAA1BD,EAAcC,EAAO,GAAWD,EAAcC,EAAO,IAA+B,EAAGP,EAAMM,EAAcz4C,MAAM04C,EAAMC,GACpIhB,EAAS1zC,KAAKk0C,GACdO,EAAOC,EAEX,GAAID,EAAOD,EAAc57C,OACrB,MAGR,OAAO86C,GAEXzyC,SAAwB,SAAS0E,GAC7B,IAAiBktC,EAAMC,EAAuBE,EAAMC,EAAvBE,EAAO,GAAsBC,EAAO,GAAI/gD,EAAI,EAAG+hD,EAAM,GAElF,GADiB,sBACFrzC,KAAK4E,GAChB,MAAM,IAAIxP,MAAM,wHAEpBwP,EAAQA,EAAMrG,QAAQ,sBAAuB,IAC7C,GAKIuzC,EAJOp1C,KAAK41C,QAAQnxC,QAAQyD,EAAMqF,OAAO3Y,OAI1B,GAHf2gD,EAAOv1C,KAAK41C,QAAQnxC,QAAQyD,EAAMqF,OAAO3Y,QAGd,EAC3BygD,GAAe,GAAPE,IAAc,GAHtBC,EAAOx1C,KAAK41C,QAAQnxC,QAAQyD,EAAMqF,OAAO3Y,QAGP,EAClC8gD,GAAe,EAAPF,IAAa,GAHrBG,EAAO31C,KAAK41C,QAAQnxC,QAAQyD,EAAMqF,OAAO3Y,OAIzC+hD,EAAIp0C,KAAK6yC,GACG,IAARI,GACAmB,EAAIp0C,KAAK8yC,GAED,IAARM,GACAgB,EAAIp0C,KAAKmzC,GAEbN,EAAOC,EAAOK,EAAO,GACdH,EAAOC,EAAOG,EAAO,SACvB/gD,EAAIsT,EAAM/M,QACnB,OAAOw7C,IAEJnzC,cAEX5D,GAAGy2B,cAAgB,SAAS32B,EAAUsf,GAClC,aACA,IAAIk4B,EAAkB,GAAIC,EAAc,EAAGC,EAAY,EAAGC,GAAkB,EAAGC,GAAiB,EAAGC,EAAgB,SAASlwB,EAAQC,GAC5HD,IAAWgwB,GAAkB/vB,IAAUgwB,GACvC53C,EAAS2nB,EAAQC,GAErB+vB,EAAiBhwB,EACjBiwB,EAAgBhwB,GAkBjBkwB,EAAQ,SAASzgC,GAChB,IAAIO,EAAO0H,EAAQjI,GACfO,EAAO,IACPmgC,EAAoB1gC,EAAI,EAAGO,GAC3B4/B,EAAgBngC,GAAM,CAClBsQ,OAAQ,EACRC,MAAOhQ,KAGhBmgC,EAAsB,SAAS1gC,EAAI2gC,EAAWC,GAC7C,IAAIC,EAAYV,EAAgBngC,GAAMmgC,EAAgBngC,GAAIsQ,OAAS,EAAGwwB,EAAWX,EAAgBngC,GAAMmgC,EAAgBngC,GAAIuQ,MAAQ,GAChH,IAAfowB,IAAkC,IAAdC,GACpBR,GAAeS,EACfR,GAAaS,IAETH,IACAP,GAAeO,EAAYE,GAE3BD,IACAP,GAAaO,EAAWE,IAGhCN,EAAcJ,EAAaC,IAE/Bx3C,GAAG0B,OAAOtB,KAAM,CACZkvB,cA9Be,SAASF,EAAYC,EAAQ6oB,IACtB,IAAlB7oB,EAAO9zB,QAbO,SAAS8zB,EAAQ6oB,GACnC,IAAIC,GAAO,EAOX,OANAn4C,GAAGyC,KAAK4sB,GAAQ,SAAS3sB,EAAK01C,GAC1B,GAAIp4C,GAAG6E,QAAQqzC,EAAWE,IAAa,EAEnC,OADAD,GAAO,GACA,KAGRA,EAKoBE,CAAiBhpB,EAAQ6oB,MAChDP,EAAcH,EAAWA,GACzBp3C,KAAKsW,UA4BTqB,eAAgB,SAASZ,EAAI2B,EAAWD,GAChCA,IAAc7Y,GAAGsX,OAAO0C,UAAYnB,IAAc7Y,GAAGsX,OAAOwC,SAnC1D,SAAS3C,GACnB0gC,EAAoB1gC,GAAK,GAAI,UACtBmgC,EAAgBngC,GAkCf6Q,CAAS7Q,GACF0B,IAAc7Y,GAAGsX,OAAOC,YAC/BqgC,EAAMzgC,IAGd6Y,qBAAsB,SAAS7Y,EAAIsQ,EAAQC,GACvCmwB,EAAoB1gC,EAAIsQ,EAAQC,GAChC4vB,EAAgBngC,GAAM,CAClBsQ,OAAQA,EACRC,MAAOA,IAGfuK,UAAW,SAAS9a,GAChBygC,EAAMzgC,IAEVT,MAAO,WACH4gC,EAAkB,GAClBC,EAAc,EACdC,EAAY,MAIxBx3C,GAAG2kB,aAAe,SAASlvB,GACvB,aACA,IAAIoH,EAASy7C,EACbz7C,EAAU,CACN+nB,cAAe,KACfrB,UAAW,CACP/d,IAAK,SAASC,EAASC,KACvBof,cAAe,SAAS5a,OAwBhClK,GAAG0B,OAAO7E,EAASpH,GAjBf6iD,EAAqBt4C,GAAGnD,EAAQ+nB,eAAevkB,OAAO,SAAS,SAASoxB,GACpE,IAAI8mB,EAAgB9mB,EAAM8mB,cACtBA,GACAv4C,GAAGyC,KAAK81C,EAAcrvC,OAAO,SAASxG,EAAK2D,GACvC,GARhB,SAAiBA,GACb,OAAOA,EAAK/F,MAAwC,IAAhC+F,EAAK/F,KAAKuE,QAAQ,UAOtB2zC,CAAQnyC,GAAO,CACf,IAAI6D,EAAO7D,EAAKoyC,YAChB57C,EAAQ0mB,UAAUuB,cAAc5a,UAapDlK,GAAG0B,OAAOtB,KAAM,CACZsW,MAAO,WAPH4hC,GACAA,QAWZt4C,GAAGysB,YAAc,SAAS5vB,EAAS67C,EAAalzC,GAC5C,aACA,IAAIqP,EAAOzU,KAAMy1B,EAAkBh5B,EAAQg5B,gBAAiB8iB,EAAS97C,EAAQQ,QAASuvB,EAAa/vB,EAAQ+vB,WAiB3G,SAASgsB,EAAaD,EAAQE,GAC1B,IAAIF,EAAOG,eAAkBH,EAAOG,gBAIhC,OAAO,EAHPtzC,EAAI,yDAA0D,SAC9DqzC,IAnBR74C,GAAG0B,OAAOtB,KAAM,CACZ0sB,YAAa,KACbD,cAAeD,EACfF,gBAAgB,EAChBC,sBAAuB,WACnB,OAAc,MAAVgsB,EACO,KAEJ9jC,EAAKkkC,UAAUJ,MA4C9BA,EAbA,SAAyBA,GAWrB,OAVIA,IACI34C,GAAGuG,SAASoyC,KACZA,EAASpwC,SAAS+5B,eAAeqW,IAEjCA,IACAnzC,EAAI,8BAlChB,SAA8BmzC,GACtBA,EAAOh1C,aAAa,YACpBkR,EAAKiY,YAAc6rB,EAAOh1C,aAAa,WAiCnCq1C,CAAqBL,GACrB9iB,GAvBZ,SAA6B8iB,GACzB,IAAIE,EAAeF,EAAOM,OAC1Bj5C,GAAG24C,GAAQt4C,OAAO,UAAU,SAASoxB,IACjCA,EAAQA,GAASxsB,OAAOwsB,OACdvkB,eACNukB,EAAMvkB,iBAENukB,EAAMtkB,aAAc,EAExByrC,EAAaD,EAAQE,IAAiBH,OAE1CC,EAAOM,OAAS,WACZL,EAAaD,EAAQE,IAAiBH,KAWfQ,CAAoBP,KAGxCA,EAEFQ,CAAgBR,GACzBv4C,KAAKssB,iBAAmBisB,GAE5B34C,GAAG0B,OAAO1B,GAAGysB,YAAY71B,UAAW,CAChCmiD,UAAW,SAASlqC,GAChB,aACA,IAAIb,EAAM,GAKPorC,EAAc,SAAStN,GACtB,OAH0BxrC,EAGNwrC,EAAGxrC,KAFhBN,GAAG6E,QAAQ,CAAE,WAAY,SAAWvE,EAAK0H,gBAAkB,IAEjC8jC,EAAGuN,SAG7BvN,EAAGp6B,UAAsC,WAA1Bo6B,EAAGxrC,KAAK0H,cANb,IAAS1H,GA2B9B,OAVAN,GAAGyC,KAAKoM,EAAKyqC,UAAU,SAAS52C,EAAKopC,GACjC,IAAK9rC,GAAG2H,QAAQmkC,GAAI,IAAsC,aAA7BA,EAAG5jC,QAAQF,iBArBD1H,EAqBoDwrC,EAAGxrC,KAnBvFN,GAAG6E,QADY,CAAE,SAAU,QAAS,QAAS,UACjBvE,EAAK0H,eAAiB,KAmB+CoxC,EAAYtN,GAChH99B,EAAI89B,EAAGv2C,MAAQu2C,EAAG71C,WACf,GAAiC,WAA7B61C,EAAG5jC,QAAQF,gBAA+BoxC,EAAYtN,GAAK,CAClE,IAAI71C,EAdK,SAASsjD,GACtB,IAAItjD,EAAQ,KAOZ,OANA+J,GAAGyC,KAAKzC,GAAGu5C,GAAQ12C,YAAY,SAASH,EAAKI,GACzC,GAAoC,WAAhCA,EAAMoF,QAAQF,eAA8BlF,EAAM02C,SAElD,OADAvjD,EAAQ6M,EAAM7M,OACP,KAGRA,EAMSwjD,CAAY3N,GACV,OAAV71C,IACA+X,EAAI89B,EAAGv2C,MAAQU,GA1BO,IAASqK,KA8BpC0N,KAGfhO,GAAGkgC,YAAclgC,GAAGkgC,aAAe,GACnClgC,GAAGkgC,YAAY0B,kBAAoB,SAAS/kC,EAASm+B,GACjD,aACA,IAAInP,EAAUzrB,KAAMuc,EAAUqe,EAAMre,QAASgD,EAAUqb,EAAMrb,QAASna,EAAMw1B,EAAMx1B,IAgClFpF,KAAKw/B,WAAa,SAASzoB,GACvB,IAAkGtI,EAA9FvG,EAAQujB,EAAQzV,SAASe,GAAKkrB,EAASxW,EAAQoX,cAAc9rB,GAAK5M,EAAU,IAAIvK,GAAG9F,QAmBvF,OAlBA2U,EAdJ,SAAoBsI,EAAIkrB,GACpB,IAAIxnB,EAAShe,EAAQqnB,YAAYruB,IAAIshB,GAAKwM,EAA0C,QAAjC9mB,EAAQ8mB,OAAO3b,cAA0B,MAAQ,OAAQ8S,EAAWje,EAAQsnB,cAActuB,IAAIshB,GAAK5hB,EAAOonB,EAAQxF,GAGrK,OAFA0D,EAAOhe,EAAQmnB,UAAYrE,EAAQxI,GACnC0D,EAAOhe,EAAQy2B,eAAiB/9B,EACzBs2B,EAAQsX,mBAAmB,CAC9Bxf,OAAQA,EACR7I,SAAUA,EACVD,OAAQA,EACR4Y,aAAc52B,EAAQ42B,aACtB2P,WAAYf,EAAO9sC,OAKhBmkD,CAAWviC,EAAIkrB,IACjBtzB,YAAYzG,GACjBujB,EAAQ4W,iBAAiBJ,GAAQ,SAASsX,GACtCn0C,EAAI,iBACJ,IAAIkpB,EAAWirB,GArCvB,SAA8BxiC,EAAIkrB,GAC9B,IAAI3T,EAAUkrB,EAAKC,EACnB,IAEIA,GADAD,EAAMvX,EAAOU,iBAAmBV,EAAOyX,cAAcvxC,UACrCy6B,KAAK11B,UACrB9H,EAAI,yCACJA,EAAI,eAAiBq0C,GACjBA,GAAaA,EAAU7nC,MAAM,YAC7B6nC,EAAYD,EAAI5W,KAAKjgC,WAAWA,WAAWg3C,WAE/CrrB,EAAW7C,EAAQ+W,mBAAmBiX,GACxC,MAAO9wC,GACLvD,EAAI,wDAA0DuD,EAAMtD,QAAU,IAAK,SACnFipB,EAAW,CACPjkB,SAAS,GAGjB,OAAOikB,EAoBwDsrB,CAAqB7iC,EAAIkrB,GACpFxW,EAAQgX,iBAAiB1rB,GACpBta,EAAQunB,KAAK4I,UACdhtB,GAAGqiC,GAAQlhC,SAEXutB,EAASjkB,QACTF,EAAQE,QAAQikB,GAEhBnkB,EAAQI,QAAQ+jB,MAGxBlpB,EAAI,8BAAgC2R,GACpCtI,EAAKoqC,SACLj5C,GAAG6O,GAAM1N,SACFoJ,GAEXvK,GAAG0B,OAAOtB,KAAM,IAAIJ,GAAG4hC,kBAAkB,CACrC/kC,QAAS,CACLolC,OAAQplC,EAAQunB,KAAK4I,SACrBlG,UAAWjqB,EAAQiqB,WAEvBkU,MAAO,CACHhT,SAAUnrB,EAAQmrB,SAClBrL,QAASA,EACTgD,QAASA,EACTna,IAAKA,OAIjBxF,GAAGkgC,YAAclgC,GAAGkgC,aAAe,GACnClgC,GAAGkgC,YAAYoD,iBAAmB,SAASjsB,EAAM2jB,GAC7C,aACA,IAAInP,EAAUzrB,KAAMuc,EAAUqe,EAAMre,QAASyC,EAAU4b,EAAM5b,QAASO,EAAUqb,EAAMrb,QAASna,EAAMw1B,EAAMx1B,IAAKy0C,EAAY5iC,EAAKkc,gBAAkBlc,EAAKoc,aAYrJymB,EAAyB,IAAIl6C,GAAGkgC,YAAYia,2BAA2B,CACtE/1B,KAAM/M,EAAK+M,KACXtJ,SAAUzD,EAAK/E,SAAS7H,QAAQqQ,SAChCuG,QAAShK,EAAK/E,SAAS7H,QAAQ4W,QAC/BiU,YAAaje,EAAK/E,SAAS7H,QAAQ6qB,YACnC9vB,IAAKA,EACLme,OAAQtM,EAAK/E,SAAS7H,QAAQkZ,OAC9B9I,OAAQxD,EAAK/E,SAAS7H,QAAQoQ,SAC9Bu/B,EAAiC,SAASjjC,EAAI0Q,GAC9C,IAAItd,EAAU,IAAIvK,GAAG9F,QAWrB,OAVA2tB,EAAImR,mBAAqB,WACrB,GAAuB,IAAnBnR,EAAIoR,WAAkB,CACtB,IAAI52B,EAASg4C,EAAwBljC,EAAI0Q,GACrCxlB,EAAOoI,QACPF,EAAQE,QAAQpI,EAAOqsB,SAAU7G,GAEjCtd,EAAQI,QAAQtI,EAAOqsB,SAAU7G,KAItCtd,GAQR+vC,EAAwB,SAASzyB,EAAK6G,GACrC,OAAO1uB,GAAG6E,QAAQ,CAAE,IAAK,IAAK,IAAK,IAAK,KAAOgjB,EAAIvQ,QAAU,GAAKD,EAAKqc,qBAAuBhF,EAASjkB,SAAWikB,EAAShY,OAC5H2jC,EAA0B,SAASljC,EAAI0Q,GACtC,IAAI6G,EAIJ,OAHAlpB,EAAI,sCAAwC2R,GAC5C3R,EAAI,kBAAoBqiB,EAAIuqB,cAC5B1jB,EAAW6rB,GAAc,EAAM1yB,GACxB,CACHpd,SAAU6vC,EAAsBzyB,EAAK6G,GACrCA,SAAUA,IAEf6rB,EAAgB,SAAS3xC,EAAQif,GAChC,IAAI6G,EAAW,GACf,IACIlpB,EAAIxF,GAAG4G,OAAO,4CAA6CihB,EAAIvQ,OAAQuQ,EAAIuqB,eAC3E1jB,EAAW1uB,GAAGgP,UAAU6Y,EAAIuqB,cAC9B,MAAOrpC,GACLH,GAAUyO,EAAKqc,oBAAsBluB,EAAI,qDAAuDuD,EAAMtD,QAAU,IAAK,SAEzH,OAAOipB,GACR8rB,EAA4B,SAASrjC,GACpC,IAAI5M,EAAU,IAAIvK,GAAG9F,QAMrB,OALAggD,EAAuBO,SAAStjC,EAAI0U,EAAQsZ,WAAWhuB,GA7B9B,SAASA,GAClC,IAAI0D,EAASxD,EAAK6M,YAAYruB,IAAIshB,GAAK5hB,EAAOonB,EAAQxF,GAAKO,EAAO0H,EAAQjI,GAK1E,OAJA0D,EAAOxD,EAAK2M,UAAYrE,EAAQxI,GAChC0D,EAAOxD,EAAKic,eAAiB/9B,EAC7BslB,EAAOxD,EAAKsc,mBAAqBjc,EACjCmD,EAAOxD,EAAK/E,SAAS0iB,WAAWI,YAAcvJ,EAAQgS,gBAAgB1mB,GAC/D0D,EAuBqD6/B,CAAwBvjC,GAAKE,EAAK4M,cAAcpuB,IAAIshB,IAAKhd,MAAK,SAAS0tB,GAC/Htd,EAAQE,QAAQ8vC,GAAc,EAAO1yB,GAAMA,MAC5C,SAASA,GACRtd,EAAQI,QAAQ4vC,GAAc,EAAO1yB,GAAMA,MAExCtd,GACRowC,EAA8B,SAASC,GACtC,IAOI//B,EAPApR,EAAamxC,EAAmBnxC,WAChC0N,EAAKyjC,EAAmBzjC,GACxB0Q,EAAM+yB,EAAmB/yB,IACzBgzB,EAAeD,EAAmBC,cAAgB,GAClDC,EAAeF,EAAmBE,cAAgB,GAClDC,EAAgBH,EAAmB//B,QAAU,GAC7CmgC,EAAoBH,EAAahgC,QAAU,GAE3CnM,EAAWurC,EAAY,IAAIvxC,SAAa,KAAMib,EAASk3B,EAAal3B,QAAUtM,EAAKsM,OAAQ7I,EAAW+/B,EAAa//B,UAAYzD,EAAK8M,cAActuB,IAAIshB,GAAK5hB,EAAOonB,EAAQxF,GAAKO,EAAO0H,EAAQjI,GAuBlM,OAtBIE,EAAKmc,mBACL3Y,EAAS7a,GAAG0B,OAAO,GAAIo5C,GACvB96C,GAAG0B,OAAOmZ,EAAQmgC,KAElBngC,EAAS7a,GAAG0B,OAAO,GAAIo5C,GACvB96C,GAAG0B,OAAOmZ,EAAQmgC,GAClBh7C,GAAG0B,OAAOmZ,EAAQkgC,GAClBlgC,EAAOxD,EAAK2M,UAAYrE,EAAQxI,GAChC0D,EAAOxD,EAAKic,eAAiB/9B,EACzB0kD,EACAp/B,EAAOxD,EAAKsc,mBAAqBjc,EACzBL,EAAKoc,eACb5Y,EAAOxD,EAAKyP,WAAavxB,IAG5B8hB,EAAKoc,eACN3Y,EAAW9a,GAAG+N,QAAQ8M,EAAQC,IAElC+M,EAAIwR,KAAK1V,EAAQ7I,GAAU,GACvBzD,EAAK+M,KAAK4I,UAAY3V,EAAK+M,KAAKwR,kBAChC/N,EAAIxW,iBAAkB,GAEtB4oC,GACI5iC,EAAKoc,cACLzzB,GAAGyO,aAAaoM,EAAQnM,GAE5BA,EAASrJ,OAAOgS,EAAKyP,UAAWrd,GACzBiF,GAEJjF,GACRwxC,EAAmB,SAASC,GAC3B,IAAIC,EAAkBD,EAAeC,gBACjChkC,EAAK+jC,EAAe/jC,GACpB0Q,EAAMqzB,EAAerzB,IACzB,GAAIszB,EACAn7C,GAAGyC,KAAK04C,GAAiB,SAASC,EAAYC,GAC1CxzB,EAAI4R,iBAAiB2hB,EAAYC,UAElC,CACH,IAAIC,EAAejkC,EAAK4M,cAAcpuB,IAAIshB,GAAK1N,EAAaoiB,EAAQzN,QAAQjH,GAC5E0Q,EAAI4R,iBAAiB,SAAU,oBAC/B5R,EAAI4R,iBAAiB,mBAAoB,kBACzC5R,EAAI4R,iBAAiB,gBAAiB,YACjCwgB,IACDpyB,EAAI4R,iBAAiB,eAAgB,4BACrC5R,EAAI4R,iBAAiB,cAAehwB,EAAWnJ,OAEnDN,GAAGyC,KAAK64C,GAAc,SAAS/lD,EAAMyH,GACjC6qB,EAAI4R,iBAAiBlkC,EAAMyH,QAIvCgD,GAAG0B,OAAOtB,KAAM,CACZi+B,YAAa,SAASkd,GAClB,IAI6FhxC,EAASixC,EAAQV,EAJ1G3jC,EAAKokC,EAAkBpkC,GACvB0kB,EAAW0f,EAAkB1f,SAC7BuC,EAAYmd,EAAkBnd,WAAa,GAC3C3I,EAAW8lB,EAAkB9lB,SAC7BhN,EAAYoD,EAAQiQ,cAAc3kB,EAAI0kB,GAAWhU,EAAMgE,EAAQsZ,WAAWhuB,EAAI0kB,GAA0ChhB,EAAS,GAsBrI,OArBAtQ,EAAU6vC,EAA+BjjC,EAAI0Q,GAC7CgE,EAAQya,yBAAyBnvB,EAAI0kB,EAAUpT,EAAU/Q,MACzDojC,EAAezjC,EAAK6M,YAAYruB,IAAIshB,GA3IsJ,SAASA,EAAI0D,EAAQ4N,GACnN,IAAI/Q,EAAO0H,EAAQjI,GAAK5hB,EAAOonB,EAAQxF,GAClCE,EAAKmc,oBACN3Y,EAAOxD,EAAK/E,SAAS0iB,WAAWpM,WAAaH,EAAUid,KACvD7qB,EAAOxD,EAAK/E,SAAS0iB,WAAWC,gBAAkBxM,EAAU/e,MAC5DmR,EAAOxD,EAAK/E,SAAS0iB,WAAWE,WAAazM,EAAU/Q,KACvDmD,EAAOxD,EAAK/E,SAAS0iB,WAAWI,YAAc3M,EAAUkd,MACxD9qB,EAAOxD,EAAKsc,mBAAqBjc,GAEjCuiC,IAAc5iC,EAAKmc,oBACnB3Y,EAAOxD,EAAKic,eAAiB/9B,GAkI7BkmD,CAA0BtkC,EAAI0D,EAAQ4N,GAClCgN,IACA5a,EAAOxD,EAAKjE,OAAO4hB,WAAWS,WAAY,GAE9C+lB,EAASb,EAA4B,CACjClxC,WAAYgf,EAAUve,KACtBiN,GAAIA,EACJ2jC,aAAcA,EACdjgC,OAAQA,EACRgN,IAAKA,EACLgzB,aAAczc,IAElB6c,EAAiB,CACbE,gBAAiB/c,EAAU/c,QAC3BlK,GAAIA,EACJ0Q,IAAKA,IAETA,EAAIgS,KAAK2hB,GACFjxC,GAEXq1B,WAAY,SAASzoB,GACjB,IAAsC5M,EAASsd,EAAKizB,EAAcU,EAA9D/xC,EAAaoiB,EAAQzN,QAAQjH,GAgBjC,OAfA0Q,EAAMgE,EAAQsZ,WAAWhuB,GACzB0U,EAAQya,yBAAyBnvB,GACjC5M,EAAU6vC,EAA+BjjC,EAAI0Q,GAC7CizB,EAAezjC,EAAK6M,YAAYruB,IAAIshB,GACpCqkC,EAASb,EAA4B,CACjClxC,WAAYA,EACZ0N,GAAIA,EACJ2jC,aAAcA,EACdjzB,IAAKA,IAETozB,EAAiB,CACb9jC,GAAIA,EACJ0Q,IAAKA,IAETA,EAAIgS,KAAK2hB,GACFjxC,KAGfvK,GAAG0B,OAAOtB,KAAM,IAAIJ,GAAGsjC,iBAAiB,CACpCzmC,QAASmD,GAAG0B,OAAO,CACf0lB,UAAW,eACZ/P,GACH2jB,MAAOh7B,GAAG0B,OAAO,CACbkd,YAAavH,EAAK8M,cAActuB,KACjCmlC,MAEPh7B,GAAGgL,SAAS5K,MAAM,SAAS8K,GACvB,MAAO,CACHixB,eAAgB,SAAShlB,GAErB,OADA6jB,EAAMoF,aAAajpB,GACfE,EAAK/E,SAAS7H,QAAQqQ,SACf0/B,EAA0BrjC,GAE1BjM,EAAOixB,eAAehlB,EAAInX,GAAGxJ,KAAK+jD,EAAen6C,MAAM,UAMlFJ,GAAGkgC,YAAYia,2BAA6B,SAAS1kD,GACjD,aACA,IAAI2xC,EAAWvqC,EAAU,CACrBunB,KAAM,CACF6I,UAAU,EACVD,UAAU,EACV4I,iBAAiB,GAErB9a,SAAU,KACVtV,IAAK,SAASqB,EAAKnB,KACnBie,OAAQ,QACT+3B,EAAW,GAAIC,EAAkB,CAChC9lD,IAAK,SAASshB,GACV,OAAInX,GAAG8F,WAAWjJ,EAAQie,UACfje,EAAQie,SAAS3D,GAErBta,EAAQie,WAGvB9a,GAAG0B,OAAO7E,EAASpH,GACnB2xC,EAAYpnC,GAAG0B,OAAOtB,KAAM,IAAIJ,GAAG22B,cAAc,CAC7CI,aAAc,mBACdE,YAAap6B,EAAQy4B,YAAc,mBAAqB,oCACxD0B,aAAc,CAAEn6B,EAAQ8mB,QACxBA,OAAQ9mB,EAAQ8mB,OAChBQ,cAAew3B,EACfxkB,oCAAoC,EACpC/S,KAAMvnB,EAAQunB,KACd5e,IAAK3I,EAAQ2I,IACboiB,WAAY,SAASzQ,EAAI0Q,EAAKpD,GAC1B,IAAIla,EAAUmxC,EAASvkC,UAChBukC,EAASvkC,GACZsN,EACAla,EAAQI,QAAQkd,GAEhBtd,EAAQE,QAAQod,OAI5B7nB,GAAG0B,OAAOtB,KAAM,CACZq6C,SAAU,SAAStjC,EAAI0Q,EAAKhN,EAAQwG,GAChC,IAAI9W,EAAU,IAAIvK,GAAG9F,QAIrB,OAHA2C,EAAQ2I,IAAI,0CAA4C2R,GACxDukC,EAASvkC,GAAM5M,EACf68B,EAAUrN,cAAc5iB,GAAIijB,WAAWv9B,EAAQge,OAAO1D,IAAO0D,GAAQ0f,YAAY19B,EAAQwkB,QAAQlK,IAAOkK,GAASwY,KAAKhS,GAC/Gtd,MA1oLvB,CA8oLGtF,S,gBC/oLH,IAAI22C,EAAW,EAAQ,IACnBC,EAAkB,WAatB9mD,EAAOD,QAAU,SAASoH,EAAQ4/C,GAChC,SAASt8C,EAAKs8C,GACZ,IAAIz5C,EAASu5C,EAASE,EAAS5/C,EAAQ2/C,GAGvC,OAAOx5C,GAAUA,EAAO9G,QAAU,EAGpC,OAAOugD,EAAUt8C,EAAKs8C,EAAQl3C,MAAM,KAAK,IAAMpF,I,6BCpBjD,IAAIrH,EAAO,EAAQ,GACff,EAA+B,mBAAXrB,QAAkD,iBAAlBA,OAAO,OAE3D2J,EAAQhK,OAAOkB,UAAUkD,SACzBqD,EAASpF,MAAMnB,UAAUuG,OACzB4+C,EAAqBrmD,OAAOC,eAmB5BqmD,EAAsBD,GAbY,WACrC,IAAI/tC,EAAM,GACV,IAGC,IAAK,IAAInQ,KAFTk+C,EAAmB/tC,EAAK,IAAK,CAAEpY,YAAY,EAAOK,MAAO+X,IAE3CA,EACb,OAAO,EAER,OAAOA,EAAIxW,IAAMwW,EAChB,MAAOvO,GACR,OAAO,GAGuCw8C,GAE5CtmD,EAAiB,SAAUe,EAAQnB,EAAMU,EAAO8J,GAnBnC,IAAUQ,EAoBtBhL,KAAQmB,IAnBS,mBADK6J,EAoBSR,IAnBmB,sBAAnBL,EAAMvK,KAAKoL,KAmBIR,OAG9Ci8C,EACHD,EAAmBrlD,EAAQnB,EAAM,CAChC2mD,cAAc,EACdtmD,YAAY,EACZK,MAAOA,EACPkmD,UAAU,IAGXzlD,EAAOnB,GAAQU,IAIbmmD,EAAmB,SAAU1lD,EAAQ0G,GACxC,IAAIi/C,EAAanlD,UAAUqE,OAAS,EAAIrE,UAAU,GAAK,GACnDolD,EAAQnkD,EAAKiF,GACbhG,IACHklD,EAAQn/C,EAAOhI,KAAKmnD,EAAO5mD,OAAO6H,sBAAsBH,KAEzD,IAAK,IAAIpI,EAAI,EAAGA,EAAIsnD,EAAM/gD,OAAQvG,GAAK,EACtCW,EAAee,EAAQ4lD,EAAMtnD,GAAIoI,EAAIk/C,EAAMtnD,IAAKqnD,EAAWC,EAAMtnD,MAInEonD,EAAiBJ,sBAAwBA,EAEzCjnD,EAAOD,QAAUsnD,G,6BCvDjB,IAAI18C,EAAQhK,OAAOkB,UAAUkD,SAE7B/E,EAAOD,QAAU,SAAqBmB,GACrC,IAAI4Q,EAAMnH,EAAMvK,KAAKc,GACjB0I,EAAiB,uBAARkI,EASb,OARKlI,IACJA,EAAiB,mBAARkI,GACE,OAAV5Q,GACiB,iBAAVA,GACiB,iBAAjBA,EAAMsF,QACbtF,EAAMsF,QAAU,GACa,sBAA7BmE,EAAMvK,KAAKc,EAAMsmD,SAEZ59C,I,6BCba,EAAQ,EAE7B69C,GAEA,IAAIC,EAAK,EAAQ,IACbC,EAAe,EAAQ,GACvBlmD,EAAO,EAAQ,GAEf4D,EAAM5D,EAAKrB,KAAKgE,SAAShE,KAAMunD,EAAa,kBAC5CriD,EAAS7D,EAAKrB,KAAKgE,SAAShE,KAAMunD,EAAa,qBAEnD3nD,EAAOD,QAAU,SAAoB6nD,GACpC,IAAIC,EAAIx8C,KACR,GAAmB,WAAfq8C,EAAGI,KAAKD,GACX,MAAM,IAAIzlD,UAAU,kCAErB,OAAOiD,EAAIwiD,EAAG7kD,MAAM+D,KAAK6gD,GAAU,SAAUt2C,GAC5C,IAMIy2C,EAAcL,EAAGM,eAAeH,EAAGv2C,GACvC,IACC,OAAOy2C,EAAY3iD,MARJ,SAAUlE,GACzB,MAAO,CAAEqhB,OAAQ,YAAarhB,MAAOA,MAEvB,SAAUuoB,GACxB,MAAO,CAAElH,OAAQ,WAAYkH,OAAQA,MAKpC,MAAO/e,GACR,OAAOpF,EAAOuiD,EAAGn9C,U,gBC7BpB,IAAIu9C,EAAwB,mBAARrjD,KAAsBA,IAAI/C,UAC1CqmD,EAAoBvnD,OAAOuB,0BAA4B+lD,EAAStnD,OAAOuB,yBAAyB0C,IAAI/C,UAAW,QAAU,KACzHsmD,EAAUF,GAAUC,GAAsD,mBAA1BA,EAAkBpnD,IAAqBonD,EAAkBpnD,IAAM,KAC/GsnD,EAAaH,GAAUrjD,IAAI/C,UAAUsB,QACrCklD,EAAwB,mBAARxiD,KAAsBA,IAAIhE,UAC1CymD,EAAoB3nD,OAAOuB,0BAA4BmmD,EAAS1nD,OAAOuB,yBAAyB2D,IAAIhE,UAAW,QAAU,KACzHyyB,EAAU+zB,GAAUC,GAAsD,mBAA1BA,EAAkBxnD,IAAqBwnD,EAAkBxnD,IAAM,KAC/GynD,EAAaF,GAAUxiD,IAAIhE,UAAUsB,QACrCqlD,EAAiBhlD,QAAQ3B,UAAUmD,QACnCyjD,EAAiB9nD,OAAOkB,UAAUkD,SAClC2jD,EAAkC,mBAAXC,OAAwBA,OAAO9mD,UAAUmD,QAAU,KAE1E4jD,EAAgB,EAAQ,IAAkBC,OAC1CC,EAAiBF,GAAiBG,EAASH,GAAkBA,EAAgB,KAwHjF,SAASI,EAAYhnD,EAAGinD,EAAcC,GAClC,IAAIC,EAAkD,YAArCD,EAAKE,YAAcH,GAA6B,IAAM,IACvE,OAAOE,EAAYnnD,EAAImnD,EAG3B,SAASE,EAAOrnD,GACZ,OAAO+D,OAAO/D,GAAGkL,QAAQ,KAAM,UAGnC,SAAShF,EAAS+Q,GAAO,MAAsB,mBAAftO,EAAMsO,GAItC,SAAS8vC,EAAU9vC,GAAO,MAAsB,oBAAftO,EAAMsO,GAnIvCjZ,EAAOD,QAAU,SAASupD,EAAUrwC,EAAKiwC,EAAMK,EAAOC,GAGlD,GAFKN,IAAMA,EAAO,IAEdliD,EAAIkiD,EAAM,eAAsC,WAApBA,EAAKE,YAA+C,WAApBF,EAAKE,WACjE,MAAM,IAAIhnD,UAAU,oDAGxB,QAAmB,IAAR6W,EACP,MAAO,YAEX,GAAY,OAARA,EACA,MAAO,OAEX,GAAmB,kBAARA,EACP,OAAOA,EAAM,OAAS,QAG1B,GAAmB,iBAARA,EACP,OAwLR,SAAwBnH,EAAKo3C,GAEzB,OAAOF,EADCl3C,EAAI5E,QAAQ,WAAY,QAAQA,QAAQ,eAAgBu8C,GAC3C,SAAUP,GA1LpBQ,CAAczwC,EAAKiwC,GAE9B,GAAmB,iBAARjwC,EACT,OAAY,IAARA,EACK0wC,IAAW1wC,EAAM,EAAI,IAAM,KAE7BlT,OAAOkT,GAEhB,GAAmB,iBAARA,EACT,OAAOlT,OAAOkT,GAAO,IAGvB,IAAI2wC,OAAiC,IAAfV,EAAKK,MAAwB,EAAIL,EAAKK,MAE5D,QADqB,IAAVA,IAAuBA,EAAQ,GACtCA,GAASK,GAAYA,EAAW,GAAoB,iBAAR3wC,EAC5C,MAAO,WAGX,QAAoB,IAATuwC,EAAsBA,EAAO,QACnC,GAmHT,SAAkBK,EAAIpnD,GAClB,GAAIonD,EAAG/5C,QAAS,OAAO+5C,EAAG/5C,QAAQrN,GAClC,IAAK,IAAIxC,EAAI,EAAGC,EAAI2pD,EAAGrjD,OAAQvG,EAAIC,EAAGD,IAClC,GAAI4pD,EAAG5pD,KAAOwC,EAAG,OAAOxC,EAE5B,OAAQ,EAxHC6P,CAAQ05C,EAAMvwC,IAAQ,EAC3B,MAAO,aAGX,SAAS6wC,EAAS5oD,EAAO6F,GAKrB,OAJIA,IACAyiD,EAAOA,EAAK7/C,SACPiE,KAAK7G,GAEPuiD,EAASpoD,EAAOgoD,EAAMK,EAAQ,EAAGC,GAG5C,GAAmB,mBAARvwC,EAAoB,CAC3B,IAAIzY,EAgGZ,SAAiBupD,GACb,GAAIA,EAAEvpD,KAAM,OAAOupD,EAAEvpD,KACrB,IAAIH,EAAI0F,OAAOgkD,GAAG9sC,MAAM,wBACxB,GAAI5c,EAAG,OAAOA,EAAE,GAnGD2pD,CAAO/wC,GAClB,MAAO,aAAezY,EAAO,KAAOA,EAAO,IAAM,IAErD,GAAIuoD,EAAS9vC,GAAM,CACf,IAAIgxC,EAAYjpD,OAAOa,UAAUkD,SAAS3E,KAAK6Y,GAC/C,MAAsB,iBAARA,EAAmBixC,EAAUD,GAAaA,EAE5D,GAuIJ,SAAoBxnD,GAChB,IAAKA,GAAkB,iBAANA,EAAgB,OAAO,EACxC,GAA2B,oBAAhB0nD,aAA+B1nD,aAAa0nD,YACnD,OAAO,EAEX,MAA6B,iBAAf1nD,EAAE2nD,UACiB,mBAAnB3nD,EAAEmM,aA7IZy7C,CAAUpxC,GAAM,CAGhB,IAFA,IAAIjX,EAAI,IAAM+D,OAAOkT,EAAImxC,UAAUn3C,cAC/Bq3C,EAAQrxC,EAAIsxC,YAAc,GACrBtqD,EAAI,EAAGA,EAAIqqD,EAAM9jD,OAAQvG,IAC9B+B,GAAK,IAAMsoD,EAAMrqD,GAAGO,KAAO,IAAMwoD,EAAWK,EAAMiB,EAAMrqD,GAAGiB,OAAQ,SAAUgoD,GAKjF,OAHAlnD,GAAK,IACDiX,EAAIuxC,YAAcvxC,EAAIuxC,WAAWhkD,SAAQxE,GAAK,OAClDA,GAAK,KAAO+D,OAAOkT,EAAImxC,UAAUn3C,cAAgB,IAGrD,GAAI/K,EAAQ+Q,GACR,OAAmB,IAAfA,EAAIzS,OAAqB,KACtB,KAAOikD,EAAWxxC,EAAK6wC,GAASrwC,KAAK,MAAQ,KAExD,GA0DJ,SAAkBR,GAAO,MAAsB,mBAAftO,EAAMsO,GA1D9ByW,CAAQzW,GAER,OAAqB,KADjBg3B,EAAQwa,EAAWxxC,EAAK6wC,IAClBtjD,OAAqB,IAAMT,OAAOkT,GAAO,IAC5C,MAAQlT,OAAOkT,GAAO,KAAOg3B,EAAMx2B,KAAK,MAAQ,KAE3D,GAAmB,iBAARR,EAAkB,CACzB,GAAI6vC,GAA+C,mBAAvB7vC,EAAI6vC,GAC5B,OAAO7vC,EAAI6vC,KACR,GAA2B,mBAAhB7vC,EAAI6wC,QAClB,OAAO7wC,EAAI6wC,UAGnB,GA4EJ,SAAgBrnD,GACZ,IAAK0lD,EACD,OAAO,EAEX,IACIA,EAAQ/nD,KAAKqC,GACb,IACI6xB,EAAQl0B,KAAKqC,GACf,MAAOT,GACL,OAAO,EAEX,OAAOS,aAAamC,IACtB,MAAO8F,IACT,OAAO,EAzFHggD,CAAMzxC,GAAM,CACZ,IAAIg3B,EAAQ,GAIZ,OAHAmY,EAAWhoD,KAAK6Y,GAAK,SAAU/X,EAAOM,GAClCyuC,EAAMriC,KAAKk8C,EAAQtoD,EAAKyX,GAAO,OAAS6wC,EAAQ5oD,EAAO+X,OAEpD0xC,EAAa,MAAOxC,EAAQ/nD,KAAK6Y,GAAMg3B,GAElD,GAqFJ,SAAgBxtC,GACZ,IAAK6xB,EACD,OAAO,EAEX,IACIA,EAAQl0B,KAAKqC,GACb,IACI0lD,EAAQ/nD,KAAKqC,GACf,MAAOpC,GACL,OAAO,EAEX,OAAOoC,aAAaoD,IACtB,MAAO6E,IACT,OAAO,EAlGHkgD,CAAM3xC,GAAM,CACRg3B,EAAQ,GAIZ,OAHAsY,EAAWnoD,KAAK6Y,GAAK,SAAU/X,GAC3B+uC,EAAMriC,KAAKk8C,EAAQ5oD,EAAO+X,OAEvB0xC,EAAa,MAAOr2B,EAAQl0B,KAAK6Y,GAAMg3B,GAElD,GAmCJ,SAAmBh3B,GAAO,MAAsB,oBAAftO,EAAMsO,GAnC/B4xC,CAAS5xC,GACT,OAAOixC,EAAUJ,EAAQhlD,OAAOmU,KAEpC,GAiCJ,SAAmBA,GAAO,MAAsB,oBAAftO,EAAMsO,GAjC/B6xC,CAAS7xC,GACT,OAAOixC,EAAUJ,EAAQpB,EAActoD,KAAK6Y,KAEhD,GA+BJ,SAAoBA,GAAO,MAAsB,qBAAftO,EAAMsO,GA/BhC8xC,CAAU9xC,GACV,OAAOixC,EAAU1B,EAAepoD,KAAK6Y,IAEzC,GAyBJ,SAAmBA,GAAO,MAAsB,oBAAftO,EAAMsO,GAzB/BzH,CAASyH,GACT,OAAOixC,EAAUJ,EAAQ/jD,OAAOkT,KAEpC,IAkBJ,SAAiBA,GAAO,MAAsB,kBAAftO,EAAMsO,GAlB5B+xC,CAAO/xC,KAmBhB,SAAmBA,GAAO,MAAsB,oBAAftO,EAAMsO,GAnBdgyC,CAAShyC,GAAM,CAChC,IAAI4wC,EAAKY,EAAWxxC,EAAK6wC,GACzB,OAAkB,IAAdD,EAAGrjD,OAAqB,KACrB,KAAOqjD,EAAGpwC,KAAK,MAAQ,KAElC,OAAO1T,OAAOkT,IAsBlB,IAAIiyC,EAASvqD,OAAOkB,UAAUC,gBAAkB,SAAUN,GAAO,OAAOA,KAAO6J,MAC/E,SAASrE,EAAKiS,EAAKzX,GACf,OAAO0pD,EAAO9qD,KAAK6Y,EAAKzX,GAG5B,SAASmJ,EAAOsO,GACZ,OAAOwvC,EAAeroD,KAAK6Y,GAgE/B,SAASwwC,EAASnpD,GACd,IAAIoB,EAAIpB,EAAE2P,WAAW,GACjBxN,EAAI,CAAE0oD,EAAG,IAAKC,EAAG,IAAKC,GAAI,IAAKC,GAAI,IAAKC,GAAI,KAAM7pD,GACtD,OAAIe,EAAU,KAAOA,EACd,OAASf,EAAI,GAAO,IAAM,IAAMA,EAAEqD,SAAS,IAGtD,SAASmlD,EAAWp4C,GAChB,MAAO,UAAYA,EAAM,IAG7B,SAAS64C,EAAcp/C,EAAMoX,EAAMzf,GAC/B,OAAOqI,EAAO,KAAOoX,EAAO,MAAQzf,EAAQuW,KAAK,MAAQ,IAG7D,SAASgxC,EAAYxxC,EAAK6wC,GACtB,IAAI0B,EAAQtjD,EAAQ+Q,GAChB4wC,EAAK,GACT,GAAI2B,EAAO,CACP3B,EAAGrjD,OAASyS,EAAIzS,OAChB,IAAK,IAAIvG,EAAI,EAAGA,EAAIgZ,EAAIzS,OAAQvG,IAC5B4pD,EAAG5pD,GAAK+G,EAAIiS,EAAKhZ,GAAK6pD,EAAQ7wC,EAAIhZ,GAAIgZ,GAAO,GAGrD,IAAK,IAAIzX,KAAOyX,EACPjS,EAAIiS,EAAKzX,KACVgqD,GAASzlD,OAAOjB,OAAOtD,MAAUA,GAAOA,EAAMyX,EAAIzS,SAClD,SAASiE,KAAKjJ,GACdqoD,EAAGj8C,KAAKk8C,EAAQtoD,EAAKyX,GAAO,KAAO6wC,EAAQ7wC,EAAIzX,GAAMyX,IAErD4wC,EAAGj8C,KAAKpM,EAAM,KAAOsoD,EAAQ7wC,EAAIzX,GAAMyX,MAG/C,OAAO4wC,I,cC/PX7pD,EAAOD,QAAU,SAAqBmB,GACrC,OAAiB,OAAVA,GAAoC,mBAAVA,GAAyC,iBAAVA,I,6BCCjE,IAAIwF,EAAe,EAAQ,GAEvB+kD,EAAa/kD,EAAa,eAC1BglD,EAAehlD,EAAa,iBAE5BM,EAAM,EAAQ,GAEdsgD,EAAa,CAEhB,sBAAuB,SAA8BI,EAAIiE,GACxD,GAAsB,WAAlBjE,EAAGI,KAAK6D,GACX,OAAO,EAER,IAAIxzB,EAAU,CACb,oBAAoB,EACpB,kBAAkB,EAClB,WAAW,EACX,WAAW,EACX,aAAa,EACb,gBAAgB,GAGjB,IAAK,IAAI32B,KAAOmqD,EACf,GAAI3kD,EAAI2kD,EAAMnqD,KAAS22B,EAAQ32B,GAC9B,OAAO,EAIT,IAAIoqD,EAAS5kD,EAAI2kD,EAAM,aACnBE,EAAa7kD,EAAI2kD,EAAM,YAAc3kD,EAAI2kD,EAAM,WACnD,GAAIC,GAAUC,EACb,MAAM,IAAIJ,EAAW,sEAEtB,OAAO,IAITzrD,EAAOD,QAAU,SAAsB2nD,EAAIoE,EAAYC,EAAc7qD,GACpE,IAAI8J,EAAYs8C,EAAWwE,GAC3B,GAAyB,mBAAd9gD,EACV,MAAM,IAAI0gD,EAAa,wBAA0BI,GAElD,IAAK9gD,EAAU08C,EAAIxmD,GAClB,MAAM,IAAIuqD,EAAWM,EAAe,cAAgBD,K,6BC3CtD9rD,EAAOD,QAAU+E,OAAOL,OAAS,SAAei7C,GAC/C,OAAOA,GAAMA,I,6BCDd,IAAIsM,EAASlnD,OAAOL,OAAS,SAAUi7C,GAAK,OAAOA,GAAMA,GAEzD1/C,EAAOD,QAAU+E,OAAON,UAAY,SAAU/B,GAAK,MAAoB,iBAANA,IAAmBupD,EAAOvpD,IAAMA,IAAMknD,KAAYlnD,KAAOknD,M,6BCF1H3pD,EAAOD,QAAU,SAAcksD,GAC9B,OAAOA,GAAU,EAAI,GAAK,I,6BCD3BjsD,EAAOD,QAAU,SAAaksD,EAAQC,GACrC,IAAIC,EAASF,EAASC,EACtB,OAAOrnD,KAAKunD,MAAMD,GAAU,EAAIA,EAASA,EAASD,K,6BCFnD,IAAIxlD,EAAe,EAAQ,GAEvBM,EAAM,EAAQ,GACdykD,EAAa/kD,EAAa,eAE9B1G,EAAOD,QAAU,SAA8B2nD,EAAIiE,GAClD,GAAsB,WAAlBjE,EAAGI,KAAK6D,GACX,OAAO,EAER,IAAIxzB,EAAU,CACb,oBAAoB,EACpB,kBAAkB,EAClB,WAAW,EACX,WAAW,EACX,aAAa,EACb,gBAAgB,GAGd,IAAK,IAAI32B,KAAOmqD,EAClB,GAAI3kD,EAAI2kD,EAAMnqD,KAAS22B,EAAQ32B,GAC9B,OAAO,EAIT,GAAIkmD,EAAG2E,iBAAiBV,IAASjE,EAAG4E,qBAAqBX,GACxD,MAAM,IAAIF,EAAW,sEAEtB,OAAO,I,6BC3BR,IAAIhE,EAAiB,EAAQ,GAEzB3gD,EAAiB,EAAQ,IAE7B9G,EAAOD,QAAU,WAEhB,OADA0nD,IACqC,mBAAvBtiD,QAAQonD,WAA4BpnD,QAAQonD,WAAazlD,I,6CCRxE,mCACA,SAAUqD,QACN,IAAIc,GAAK,SAALA,EAAc3C,GACd,aACA,MAAO,CACH4C,KAAM,WAEF,OADA5C,EAAQ6C,MAAMC,QAAU,OACjBC,MAEXC,OAAQ,SAASC,EAAMC,GAMnB,OALIlD,EAAQmD,iBACRnD,EAAQmD,iBAAiBF,EAAMC,GAAI,GAC5BlD,EAAQoD,aACfpD,EAAQoD,YAAY,KAAOH,EAAMC,GAE9B,WACHP,EAAG3C,GAASqD,OAAOJ,EAAMC,KAGjCG,OAAQ,SAASJ,EAAMC,GAMnB,OALIlD,EAAQsD,oBACRtD,EAAQsD,oBAAoBL,EAAMC,GAAI,GAC/BlD,EAAQoD,aACfpD,EAAQuD,YAAY,KAAON,EAAMC,GAE9BH,MAEXS,SAAU,SAASC,GACf,QAAKA,IAGDzD,IAAYyD,IAGZzD,EAAQwD,SACDxD,EAAQwD,SAASC,MAEgC,EAA9CA,EAAWC,wBAAwB1D,OAGrD2D,aAAc,SAASC,GAEnB,OADAA,EAASC,WAAWF,aAAa3D,EAAS4D,GACnCb,MAEXe,OAAQ,WAEJ,OADA9D,EAAQ6D,WAAWE,YAAY/D,GACxB+C,MAEXiB,IAAK,SAASC,GACV,GAAqB,MAAjBjE,EAAQ6C,MACR,MAAM,IAAIF,EAAGlH,MAAM,8EAQvB,OANsB,MAAlBwI,EAAOC,SAC8B,iBAA1BlE,EAAQ6C,MAAMqB,cAAmD,IAApBlE,EAAQmE,UAC5DF,EAAO9D,OAAS,iBAAmB5D,KAAK6H,MAAM,IAAMH,EAAOC,SAAW,KAG9EvB,EAAG0B,OAAOrE,EAAQ6C,MAAOoB,GAClBlB,MAEXuB,SAAU,SAASpM,EAAMqM,GACrB,IAAIC,EAAK,IAAIlH,OAAO,QAAUpF,EAAO,SACrC,OAAOsM,EAAGrC,KAAKnC,EAAQyE,eAAiBF,IAAkBC,EAAGrC,KAAKnC,EAAQ6D,WAAWY,aAEzFC,SAAU,SAASxM,GAIf,OAHKyK,EAAG3C,GAASsE,SAASpM,KACtB8H,EAAQyE,WAAa,IAAMvM,GAExB6K,MAEX4B,YAAa,SAASzM,GAClB,IAAIsM,EAAK,IAAIlH,OAAO,QAAUpF,EAAO,SAErC,OADA8H,EAAQyE,UAAYzE,EAAQyE,UAAUG,QAAQJ,EAAI,KAAKI,QAAQ,aAAc,IACtE7B,MAEX8B,WAAY,SAASJ,EAAWK,GAC5B,IAAIC,EAAYC,EAAS,GACzB,OAAIF,GAAS9E,EAAQiF,cACVjF,EAAQiF,cAAc,IAAMR,GAC5BzE,EAAQkF,iBACRlF,EAAQkF,iBAAiB,IAAMT,IAE1CM,EAAa/E,EAAQmF,qBAAqB,KAC1CxC,EAAGyC,KAAKL,GAAY,SAASM,EAAK1F,GAC1BgD,EAAGhD,GAAK2E,SAASG,IACjBO,EAAOM,KAAK3F,MAGbmF,EAAQE,EAAO,GAAKA,IAE/BO,gBAAiB,SAASd,GACtB,OAAO9B,EAAG3C,GAAS6E,WAAWJ,GAAW,IAE7Ce,SAAU,WAEN,IADA,IAAIA,EAAW,GAAIC,EAAQzF,EAAQ0F,WAC5BD,GACoB,IAAnBA,EAAME,UACNH,EAASF,KAAKG,GAElBA,EAAQA,EAAMG,YAElB,OAAOJ,GAEXK,QAAS,SAASC,GAGd,OAFA9F,EAAQ+F,UAAYD,EACpB9F,EAAQgG,YAAcF,EACf/C,MAEXkD,UAAW,WACP,OAAOtD,EAAG3C,GAAS6F,QAAQ,KAE/BK,aAAc,SAASC,GACnB,IAAIC,EACJ,OAAIpG,EAAQkG,eACHlG,EAAQkG,aAAaC,IAGgC,MAAnD,WAAWE,KAAKrG,EAAQsG,aAAaH,SAG5B7L,KADhB8L,EAAUpG,EAAQmG,KAIiB,MAA5B,WAAWE,KAAKD,OAKvC,WACI,aAqRe,IACPI,IArRR7D,GAAG8D,aAAe,SAASC,EAAQC,EAAMC,GACrC,OAAOjE,GAAGkE,cAAcH,EAAOI,UAAUH,EAAMC,KAEnDjE,GAAGkE,cAAgB,SAASE,GACxB,IAAIC,EAAaC,EAUdC,EAAUC,EAVsCC,EAAMT,EACjDU,EAA+GC,EAqBvH,OAVIL,EADAF,EAAQQ,MAAM,KAAK,GAAGC,QAAQ,WAAa,EAC9BC,KAAKV,EAAQQ,MAAM,KAAK,IAExBlM,UAAU0L,EAAQQ,MAAM,KAAK,IAE9CJ,EAAaJ,EAAQQ,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAC5DP,EAAc,IAAIrM,YAAYsM,EAAW/I,QACzCgJ,EAAW,IAAI1M,WAAWwM,GAC1BrE,GAAGyC,KAAK6B,GAAY,SAAS5B,EAAKqC,GAC9BR,EAAS7B,GAAOqC,EAAUC,WAAW,MApBUP,EAsBjCJ,EAtBuCL,EAsB1BQ,EArBvBE,EAAcO,OAAOP,aAAeO,OAAOC,mBAAqBD,OAAOE,gBAAkBF,OAAOG,eAAeT,EAAcD,GAAe,IAAIA,IAEhJC,EAAYU,OAAOZ,GACZE,EAAYW,QAAQtB,IAEpB,IAAIuB,KAAK,CAAEd,GAAQ,CACtBnE,KAAM0D,KAiBtBhE,GAAGwF,IAAM,SAASC,EAASC,GACnBT,OAAOU,UACFD,GAAmB,SAAVA,EAGNT,OAAOU,QAAQD,GACfT,OAAOU,QAAQD,GAAOD,GAEtBR,OAAOU,QAAQH,IAAI,IAAME,EAAQ,KAAOD,GAL5CR,OAAOU,QAAQH,IAAIC,KAU/BzF,GAAG4F,SAAW,SAASC,GACnB,OAAOA,IAAaA,EAAS7C,UAAyD,oBAA7CtN,OAAOkB,UAAUkD,SAAS3E,KAAK0Q,IAE5E7F,GAAG8F,WAAa,SAASD,GACrB,MAA2B,mBAAbA,GAElB7F,GAAG/C,QAAU,SAAShH,GAClB,MAAiD,mBAA1CP,OAAOkB,UAAUkD,SAAS3E,KAAKc,IAA+BA,GAASgP,OAAOjN,aAAe/B,EAAM8P,QAAU9P,EAAM8P,OAAOC,cAAgBhO,aAErJgI,GAAGiG,WAAa,SAASC,GACrB,MAAyD,kCAAlDxQ,OAAOkB,UAAUkD,SAAS3E,KAAK+Q,IAE1ClG,GAAGmG,WAAa,SAASC,GACrB,MAAyD,sBAAlD1Q,OAAOkB,UAAUkD,SAAS3E,KAAKiR,IAA0CA,EAAcC,MAAQD,EAAcE,WAExHtG,GAAGuG,SAAW,SAASC,GACnB,MAAuD,oBAAhD9Q,OAAOkB,UAAUkD,SAAS3E,KAAKqR,IAE1CxG,GAAGyG,QAAU,SAASC,GAClB,OAAI5L,OAAOlE,UAAU+P,KACVD,EAAOC,OAEXD,EAAOzE,QAAQ,aAAc,KAExCjC,GAAG4G,OAAS,SAASC,GACjB,IAAI7H,EAAOjH,MAAMnB,UAAU8H,MAAMvJ,KAAK+B,UAAW,GAAI4P,EAASD,EAAKE,EAAmBD,EAAOjC,QAAQ,MASrG,OARA7E,GAAGyC,KAAKzD,GAAM,SAAS0D,EAAK1F,GACxB,IAAIgK,EAAYF,EAAOG,UAAU,EAAGF,GAAmBG,EAAWJ,EAAOG,UAAUF,EAAmB,GAGtG,IADAA,GADAD,EAASE,EAAYhK,EAAMkK,GACDrC,QAAQ,KAAMkC,EAAmB/J,EAAIzB,SACxC,EACnB,OAAO,KAGRuL,GAEX9G,GAAGmH,OAAS,SAASC,GACjB,OAAOnC,OAAOoC,MAAsD,kBAA9C3R,OAAOkB,UAAUkD,SAAS3E,KAAKiS,IAEzDpH,GAAGsH,WAAa,SAASC,GACrB,OAAOtC,OAAOuC,UAA8D,sBAAlD9R,OAAOkB,UAAUkD,SAAS3E,KAAKoS,IAE7DvH,GAAGyH,cAAgB,SAASC,GACxB,OAAO1H,GAAGmH,OAAOO,IAAqB1H,GAAG2H,QAAQD,IAErD1H,GAAG2H,QAAU,SAASC,EAAYC,GAC9B,IAAIC,EAAe,SAASxH,GACxB,IAAIyH,EAAiBzH,EAAK0H,cAC1B,OAAIH,EAC0B,SAAnBE,EAEe,SAAnBA,GAEX,SAAI9C,OAAOgD,kBAC4C,8BAA/CvS,OAAOkB,UAAUkD,SAAS3E,KAAKyS,IAC3BA,EAAWtH,MAAQwH,EAAaF,EAAWtH,WAKnDsH,EAAWM,SAC8B,UAArCN,EAAWM,QAAQF,eACfJ,EAAWtH,MAAQwH,EAAaF,EAAWtH,QAO3DN,GAAGmI,OAAS,SAASC,GACjB,GAAInD,OAAOM,MAAsD,kBAA9C7P,OAAOkB,UAAUkD,SAAS3E,KAAKiT,GAC9C,OAAO,GAGfpI,GAAGqI,qBAAuB,WACtB,IAAIC,EAAQC,SAASC,cAAc,SAEnC,OADAF,EAAMhI,KAAO,YACa3I,IAAnB2Q,EAAMG,UAA0C,oBAATpB,MAA4C,oBAAbqB,eAAqE,IAAlC1I,GAAG2I,oBAAoBC,QAE3I5I,GAAG2I,kBAAoB,WACnB,GAAI1D,OAAO4D,eACP,OAAO,IAAIA,eAEf,IACI,OAAO,IAAIC,cAAc,sBAC3B,MAAOC,GAEL,OADA/I,GAAGwF,IAAI,wCAAyC,SACzC,OAGfxF,GAAGgJ,sBAAwB,SAASC,GAChC,OAAOA,EAAaC,OAASD,EAAaC,MAAM3N,OAAS,GAAK0N,EAAaC,MAAM,GAAGC,kBAExFnJ,GAAGoJ,wBAA0B,WACzB,OAAQpJ,GAAGqJ,gBAAkBrJ,GAAGqI,8BAAoD1Q,IAAzB0P,KAAKzQ,UAAU8H,YAAsD/G,IAA/B0P,KAAKzQ,UAAU0S,kBAAyD3R,IAA5B0P,KAAKzQ,UAAU2S,WAEhKvJ,GAAGwJ,UAAY,SAASC,EAAYC,EAAOC,GAEvC,OADaF,EAAW/K,OAAS+K,EAAWF,UAAYE,EAAWH,aACrDnU,KAAKsU,EAAYC,EAAOC,IAE1C3J,GAAG4J,iBAAmB,SAAS7D,GAC3B,IAAI8D,EAAa,GAAIC,EAAQ,IAAIjS,WAAWkO,GAQ5C,OAPA/F,GAAGyC,KAAKqH,GAAO,SAASpH,EAAKqH,GACzB,IAAIC,EAAeD,EAAIjQ,SAAS,IAC5BkQ,EAAazO,OAAS,IACtByO,EAAe,IAAMA,GAEzBH,GAAcG,KAEXH,GAEX7J,GAAGiK,cAAgB,SAASC,EAAMC,EAAa5O,GAC3C,IAAI6O,EAAcpK,GAAGwJ,UAAUU,EAAMC,EAAaA,EAAc5O,GAAS8O,EAAa,IAAIC,WAAcC,EAAU,IAAIvK,GAAG9F,QAMzH,OALAmQ,EAAWG,OAAS,WAChBD,EAAQE,QAAQzK,GAAG4J,iBAAiBS,EAAWhI,UAEnDgI,EAAWK,QAAUH,EAAQI,QAC7BN,EAAWO,kBAAkBR,GACtBG,GAEXvK,GAAG0B,OAAS,SAASS,EAAO0I,EAAQC,GAWhC,OAVA9K,GAAGyC,KAAKoI,GAAQ,SAASE,EAAM/N,GACvB8N,GAAgB9K,GAAG4F,SAAS5I,SACRrF,IAAhBwK,EAAM4I,KACN5I,EAAM4I,GAAQ,IAElB/K,GAAG0B,OAAOS,EAAM4I,GAAO/N,GAAK,IAE5BmF,EAAM4I,GAAQ/N,KAGfmF,GAEXnC,GAAGgL,SAAW,SAAS9O,EAAQ+O,GAC3B,IAAIC,EAAS,GAAI/O,EAAS8O,EAASC,GAOnC,OANAlL,GAAGyC,KAAKtG,GAAQ,SAASgP,EAAaC,QACNzT,IAAxBuE,EAAOiP,KACPD,EAAOC,GAAejP,EAAOiP,IAEjCjP,EAAOiP,GAAeC,KAEnBlP,GAEX8D,GAAG6E,QAAU,SAASwG,EAAKC,EAAKxP,GAC5B,GAAIuP,EAAIxG,QACJ,OAAOwG,EAAIxG,QAAQyG,EAAKxP,GAE5BA,EAAOA,GAAQ,EACf,IAAIyP,EAAMF,EAAI9P,OAId,IAHIO,EAAO,IACPA,GAAQyP,GAENzP,EAAOyP,EAAKzP,GAAQ,EACtB,GAAIuP,EAAIxU,eAAeiF,IAASuP,EAAIvP,KAAUwP,EAC1C,OAAOxP,EAGf,OAAQ,GAEZkE,GAAGwL,YAAc,WACb,MAAO,uCAAuCvJ,QAAQ,SAAS,SAAS5M,GACpE,IAAIS,EAAoB,GAAhB8D,KAAK6R,SAAgB,EAC7B,OADyC,KAALpW,EAAWS,EAAQ,EAAJA,EAAQ,GAClDgE,SAAS,QAG1BkG,GAAG0L,GAAK,WACJ,OAAgD,IAAzCC,UAAUC,UAAU/G,QAAQ,UAA8D,IAA5C8G,UAAUC,UAAU/G,QAAQ,YAErF7E,GAAG6L,IAAM,WACL,OAAkD,IAA3CF,UAAUC,UAAU/G,QAAQ,WAEvC7E,GAAG8L,IAAM,WACL,OAAkD,IAA3CH,UAAUC,UAAU/G,QAAQ,WAEvC7E,GAAG+L,KAAO,WACN,OAAmD,IAA5CJ,UAAUC,UAAU/G,QAAQ,YAEvC7E,GAAGgM,KAAO,WACN,OAAOhM,GAAG0L,OAAkD,IAA1CC,UAAUC,UAAU/G,QAAQ,UAElD7E,GAAGiM,KAAO,WACN,OAAON,UAAUC,UAAU/G,QAAQ,SAAW,GAElD7E,GAAGkM,OAAS,WACR,YAA4BvU,IAArBgU,UAAUQ,SAA+D,IAAvCR,UAAUQ,OAAOtH,QAAQ,UAEtE7E,GAAGoM,OAAS,WACR,YAA4BzU,IAArBgU,UAAUQ,SAAgE,IAAxCR,UAAUQ,OAAOtH,QAAQ,WAEtE7E,GAAGqM,MAAQ,WACP,YAA4B1U,IAArBgU,UAAUQ,SAA+D,IAAvCR,UAAUQ,OAAOtH,QAAQ,UAEtE7E,GAAGsM,QAAU,WACT,OAAQtM,GAAGiM,SAAWjM,GAAGgM,SAAsD,IAA5CL,UAAUC,UAAU/G,QAAQ,iBAA0ClN,IAArBgU,UAAUQ,QAA6C,KAArBR,UAAUQ,QAEpInM,GAAGuM,QAAU,WACT,MAA8B,UAAvBZ,UAAUa,UAErBxM,GAAGyM,QAAU,WACT,OAAiE,IAA1Dd,UAAUC,UAAU5D,cAAcnD,QAAQ,YAErD7E,GAAGqJ,aAAe,WACd,OAAOrJ,GAAGyM,WAAad,UAAUC,UAAU5D,cAAcnD,QAAQ,UAAY,GAAK8G,UAAUC,UAAU5D,cAAcnD,QAAQ,WAAa,GAE7I7E,GAAG0M,KAAO,WACN,OAAO1M,GAAG2M,QAAoD,IAA3ChB,UAAUC,UAAU/G,QAAQ,WAEnD7E,GAAG4M,KAAO,WACN,OAAO5M,GAAG2M,QAAoD,IAA3ChB,UAAUC,UAAU/G,QAAQ,WAEnD7E,GAAG6M,KAAO,WACN,OAAO7M,GAAG2M,QAAoD,IAA3ChB,UAAUC,UAAU/G,QAAQ,WAEnD7E,GAAG8M,OAAS,WACR,OAAO9M,GAAG2M,QAAsD,IAA7ChB,UAAUC,UAAU/G,QAAQ,aAEnD7E,GAAG2M,IAAM,WACL,OAAgD,IAAzChB,UAAUC,UAAU/G,QAAQ,UAA2D,IAAzC8G,UAAUC,UAAU/G,QAAQ,UAA6D,IAA3C8G,UAAUC,UAAU/G,QAAQ,WAEnI7E,GAAG+M,UAAY,WACX,OAAO/M,GAAG2M,QAAmD,IAA1ChB,UAAUC,UAAU/G,QAAQ,UAEnD7E,GAAGgN,UAAY,WACX,OAAOhN,GAAG2M,QAAU3M,GAAG+M,cAA0D,IAA3CpB,UAAUC,UAAU/G,QAAQ,WAEtE7E,GAAGiN,iBAAmB,WAClB,OAAOjN,GAAG2M,QAAU3M,GAAG+M,cAAgB/M,GAAGgN,aAE9ChN,GAAGkN,eAAiB,SAASzN,GACrBA,EAAEyN,eACFzN,EAAEyN,iBAEFzN,EAAE0N,aAAc,GAGxBnN,GAAGoN,WACKvJ,IAAM0E,SAASC,cAAc,OAC1B,SAAS6E,GACZxJ,IAAIyJ,UAAYD,EAChB,IAAIhQ,EAAUwG,IAAId,WAElB,OADAc,IAAIzC,YAAY/D,GACTA,IAGf2C,GAAGyC,KAAO,SAAS8K,EAAczN,GAC7B,IAAI0N,EACJ,GAAID,EACA,GAAItI,OAAOwI,SAAWF,EAAavH,cAAgBf,OAAOwI,QACtD,IAAKD,EAAa,EAAGA,EAAaD,EAAahS,SAE5B,IADNuE,EAASyN,EAAahX,IAAIiX,GAAaD,EAAaG,QAAQH,EAAahX,IAAIiX,KADnCA,UAMpD,GAAIxN,GAAG/C,QAAQsQ,IAAiBvN,GAAGiG,WAAWsH,IAAiBvN,GAAGmG,WAAWoH,GAChF,IAAKC,EAAa,EAAGA,EAAaD,EAAahS,SAE5B,IADNuE,EAAS0N,EAAYD,EAAaC,IADQA,UAMpD,GAAIxN,GAAGuG,SAASgH,GACnB,IAAKC,EAAa,EAAGA,EAAaD,EAAahS,SAE5B,IADNuE,EAAS0N,EAAYD,EAAaI,OAAOH,IADCA,UAOvD,IAAKA,KAAcD,EACf,GAAI7X,OAAOkB,UAAUC,eAAe1B,KAAKoY,EAAcC,KAEpC,IADN1N,EAAS0N,EAAYD,EAAaC,IAEvC,OAOxBxN,GAAGxJ,KAAO,SAASoX,EAASC,GACxB,GAAI7N,GAAG8F,WAAW8H,GAAU,CACxB,IAAI5O,EAAOjH,MAAMnB,UAAU8H,MAAMvJ,KAAK+B,UAAW,GACjD,OAAO,WACH,IAAI4W,EAAU9N,GAAG0B,OAAO,GAAI1C,GAI5B,OAHI9H,UAAUqE,SACVuS,EAAUA,EAAQ3Q,OAAOpF,MAAMnB,UAAU8H,MAAMvJ,KAAK+B,aAEjD0W,EAAQjS,MAAMkS,EAASC,IAGtC,MAAM,IAAIhV,MAAM,wCAEpBkH,GAAG+N,QAAU,SAASC,EAAKC,EAAMC,GAC7B,IAAIC,EAAa,GAAIC,EAAS,IAAKC,EAAM,SAASC,EAAStZ,GACvD,IAAIuZ,EAAWN,EAAO,QAAQzO,KAAKyO,GAAQA,EAAOA,EAAO,IAAMjZ,EAAI,IAAMA,EACxD,cAAbuZ,GAAkC,cAANvZ,GAC5BmZ,EAAWxL,KAAwB,iBAAZ2L,EAAuBtO,GAAG+N,QAAQO,EAASC,GAAU,GAAoD,sBAA5C7Y,OAAOkB,UAAUkD,SAAS3E,KAAKmZ,GAAmCzV,mBAAmB0V,GAAY,IAAM1V,mBAAmByV,KAAazV,mBAAmB0V,GAAY,IAAM1V,mBAAmByV,KAkB3R,OAfKJ,GAAcD,GACfG,EAAS,KAAK5O,KAAKyO,GAAQ,MAAMzO,KAAKyO,GAAQ,GAAK,IAAM,IACzDE,EAAWxL,KAAKsL,GAChBE,EAAWxL,KAAK3C,GAAG+N,QAAQC,KACoB,mBAAxCtY,OAAOkB,UAAUkD,SAAS3E,KAAK6Y,SAA4C,IAARA,EAC1EhO,GAAGyC,KAAKuL,GAAK,SAAStL,EAAK1F,GACvBqR,EAAIrR,EAAK0F,MAEN,MAAOsL,GAAsD,iBAARA,EAC5DhO,GAAGyC,KAAKuL,GAAK,SAASjD,EAAM/N,GACxBqR,EAAIrR,EAAK+N,MAGboD,EAAWxL,KAAK9J,mBAAmBoV,GAAQ,IAAMpV,mBAAmBmV,IAEpEC,EACOE,EAAWK,KAAKJ,GAEhBD,EAAWK,KAAKJ,GAAQnM,QAAQ,KAAM,IAAIA,QAAQ,OAAQ,MAGzEjC,GAAGyO,aAAe,SAAST,EAAKU,EAAUC,GActC,OAbKD,IACDA,EAAW,IAAIhG,UAEnB1I,GAAGyC,KAAKuL,GAAK,SAASzX,EAAKyG,GACvBzG,EAAMoY,EAAeA,EAAe,IAAMpY,EAAM,IAAMA,EAClDyJ,GAAG4F,SAAS5I,GACZgD,GAAGyO,aAAazR,EAAK0R,EAAUnY,GACxByJ,GAAG8F,WAAW9I,GACrB0R,EAASrJ,OAAO9O,EAAKyG,KAErB0R,EAASrJ,OAAO9O,EAAKyG,MAGtB0R,GAEX1O,GAAG4O,WAAa,SAASZ,EAAKa,GAC1B,IAAIvG,EAYJ,OAXKuG,IACDA,EAAOtG,SAASC,cAAc,SAElCxI,GAAGyO,aAAaT,EAAK,CACjB3I,OAAQ,SAAS9O,EAAKyG,IAClBsL,EAAQC,SAASC,cAAc,UACzBsG,aAAa,OAAQvY,GAC3B+R,EAAMwG,aAAa,QAAS9R,GAC5B6R,EAAKE,YAAYzG,MAGlBuG,GAEX7O,GAAGgP,UAAY,SAASC,MACpB,OAAIhK,OAAOxL,MAAQuG,GAAG8F,WAAWrM,KAAKC,OAC3BD,KAAKC,MAAMuV,MAEXlW,KAAK,IAAMkW,KAAO,MAGjCjP,GAAGkP,aAAe,SAASC,GACvB,IAAIC,EAASD,EAASE,YAAY,KAAO,EACzC,GAAID,EAAS,EACT,OAAOD,EAASG,OAAOF,EAAQD,EAAS5T,OAAS6T,IAGzDpP,GAAGuP,YAAc,SAASC,GACtB,OAAIxP,GAAG2H,QAAQ6H,GACJA,EAAgBvZ,MAAMgM,QAAQ,YAAa,IAC3CjC,GAAGmH,OAAOqI,IACgB,OAA7BA,EAAgBC,eAAkD9X,IAA7B6X,EAAgBC,SAC9CD,EAAgBC,SAGxBD,EAAgBja,MAE3ByK,GAAG0P,eAAiB,WAChB,IAAIC,EAAY,GAChB,MAAO,CACHC,QAAS,WACL,IAAIC,EACJ,IACIA,EAAWF,EAAUG,UAEjBD,UAECA,IAEbxP,OAAQ,WACJ,IAAIrB,EAAO9H,UACXkJ,KAAK2P,YAAY/P,GAAGhB,EAAK,IAAIqB,OAAO1E,MAAMyE,KAAMrI,MAAMnB,UAAU8H,MAAMvJ,KAAK+B,UAAW,MAE1F6Y,YAAa,SAASC,GAClBL,EAAUhN,KAAKqN,MAnb/B,GAwbA,WACI,kBAEU,KAANC,yCACI,OAAOjQ,IADL,kGAHd,GAYAA,GAAGkQ,QAAU,QACblQ,GAAGmQ,kBAAoB,WACnB,aACA,IAAIC,EAAmBC,EAAwBC,EAAkBC,EAA2BC,EAAoBC,EAAkBC,EAAgBC,EAAwBC,EAAoBC,EAAuBC,EAA2BC,EAAwBC,EAAyBC,EAAuBC,EA6ChTC,EAQA7I,EAnCR,SAAS8I,IACL,QAAInM,OAAO4D,qBAEwBlR,IADrBqI,GAAG2I,oBACF0I,gBAInB,SAASC,IACL,YAAiC3Z,IAA1BsN,OAAOsM,eA8ClB,OAxBAnB,EA/CA,WACI,IAAsBoB,EAAlBC,GAAY,EAChB,KACID,EAAYjJ,SAASC,cAAc,UACzBlI,KAAO,OACjBN,GAAGwR,GAAWvR,OACVuR,EAAUE,WACVD,GAAY,GAElB,MAAOE,GACLF,GAAY,EAEhB,OAAOA,EAmCSG,GAEpBvB,GADAE,EAA4BH,GAAqBpQ,GAAGqI,0BACGrI,GAAGqJ,eAE1DmH,GADAF,EAAmBC,KALP,cADJY,EAAO5I,SAASC,cAAc,UACH,gBAAiB2I,GAAQ,WAAYA,KAAUnR,GAAGyM,YAAczM,GAAG2M,WAO9FrE,EAAQC,SAASC,cAAc,UAC7BlI,KAAO,UACH,oBAAsBgI,GAASC,SAAShG,iBAAiB,oBAAoB,MAE3FkO,EAAmBF,GAA6BvQ,GAAGoJ,0BACnDsH,EAAiBH,GAA6BE,GArB9C,WACI,IACI,QAASxL,OAAO4M,cAAgB7R,GAAG8F,WAAWb,OAAO4M,aAAaC,SACpE,MAAO/I,GACL,OAAO,GAiBmDgJ,GAClEpB,EAAyBJ,IA3CbvQ,GAAGoM,UAAYpM,GAAGqM,eAAiF1U,IAArEgU,UAAUC,UAAUoG,MAAM,uCA4CpEpB,EAAqBR,SAA6CzY,IAAvBsN,OAAOgN,aAA6B1B,GAC/EO,EAA4BM,IAC5BP,EAAwBS,IACxBP,IAlCQK,KAGGE,IAgCXN,OA7B+DrZ,IAApD4Q,SAASC,cAAc,SAAS0J,gBA8B3CjB,EAAwBV,QAAmD5Y,IAAtBsN,OAAOqF,WAC5D4G,IACQX,IACQvQ,GAAGqJ,iBAAmBrJ,GAAG+M,YAIlC,CACHoF,cAAe5B,EACf6B,cAAe/B,EACfgC,iBAAkB9B,EAClB+B,SAAU7B,EACV8B,eAAgBxB,EAChByB,kBAAmB3B,EACnB4B,kBAAmB3B,EACnB4B,gBAAiBzN,OAAO0N,kBACxBC,SAAUtC,EACVuC,WAAYrC,EACZsC,gBAAiB9B,EACjB+B,cAAe9B,EACf+B,gBAAiB/B,EACjBgC,mBAAoB1C,EACpB2C,MAAOzC,EACP0C,YAAajC,EACbkC,OAAQ1C,EACR2C,QAASpC,GAAyBZ,EAClCiD,aAActT,GAAGkM,SACjBqH,0BAA2BvT,GAAG2M,MAC9B6G,UAAWpD,EACXqD,WAAY7C,EACZ8C,oBAAqBnD,EACrBoD,mBAAoBpD,EACpBqD,eAAgBjD,GAnGD,GAsGvB3Q,GAAG6T,iBAAmB,SAASC,GAC3B,aACA,SAAUA,GAAgBA,EAAa3Z,MAAQ6F,GAAG8F,WAAWgO,EAAa3Z,QAE9E6F,GAAG9F,QAAU,WACT,aACA,IAAI6Z,EAAaC,EAAaC,EAAmB,GAAIC,EAAmB,GAAIC,EAAgB,GAAIC,EAAQ,EACxGpU,GAAG0B,OAAOtB,KAAM,CACZjG,KAAM,SAASka,EAAWC,GAatB,OAZc,IAAVF,GACIC,GACAJ,EAAiBtR,KAAK0R,GAEtBC,GACAJ,EAAiBvR,KAAK2R,KAER,IAAXF,EACPE,GAAaA,EAAU3Y,MAAM,KAAMqY,GAC5BK,GACPA,EAAU1Y,MAAM,KAAMoY,GAEnB3T,MAEXmU,KAAM,SAASzU,GAMX,OALc,IAAVsU,EACAD,EAAcxR,KAAK7C,GAEnBA,EAASnE,MAAM,UAAsBhE,IAAhBqc,EAA4BD,EAAcC,GAE5D5T,MAEXqK,QAAS,WAaL,OAZA2J,EAAQ,EACRL,EAAc7c,UACV+c,EAAiB1Y,QACjByE,GAAGyC,KAAKwR,GAAkB,SAASvR,EAAK5C,GACpCA,EAASnE,MAAM,KAAMoY,MAGzBI,EAAc5Y,QACdyE,GAAGyC,KAAK0R,GAAe,SAASzR,EAAK5C,GACjCA,EAASnE,MAAM,KAAMoY,MAGtB3T,MAEXuK,QAAS,WAaL,OAZAyJ,GAAS,EACTJ,EAAc9c,UACVgd,EAAiB3Y,QACjByE,GAAGyC,KAAKyR,GAAkB,SAASxR,EAAK5C,GACpCA,EAASnE,MAAM,KAAMqY,MAGzBG,EAAc5Y,QACdyE,GAAGyC,KAAK0R,GAAe,SAASzR,EAAK5C,GACjCA,EAASnE,MAAM,KAAMqY,MAGtB5T,SAInBJ,GAAGuhD,YAAc,SAAS9rD,GACtB,aACA,IAAIoH,EAuJI2kD,EAAsCC,EAvJjCC,EAAwB,eAAgBC,EAAyB,mBAAoBC,EAAkB,GAAIC,EAAe,GAAI/sC,EAAiB,IAAI9U,GAAG0P,eAgBnK,SAASoyC,EAAiBprB,GACtB,IAAIqrB,EAAoB,IAAI/hD,GAAG9F,QA6B/B,OA5BIw8B,EAAMvvB,OACNuvB,EAAM/e,MAAK,SAASA,GAChBA,EAAKqqC,OAASC,EAAqBvrB,GACnCmrB,EAAal/C,KAAKgV,GAClBoqC,EAAkBt3C,aACnB,SAASy3C,GACRrlD,EAAQ0mB,UAAU4+B,QAAQ,oBAAsBzrB,EAAM0rB,SAAW,sBAAwBF,EAAU50B,KAAO,IAAK,SAC/Gy0B,EAAkBp3C,aAEf+rB,EAAM2rB,aA6BrB,SAASC,EAAoB5rB,EAAOwe,EAAQqN,EAAcC,GACtD,IAAIj4C,EAAUi4C,GAAmB,IAAIxiD,GAAG9F,QAAWuoD,EAAYvN,GAAUxe,EAAMgsB,eAC/ED,EAAUE,aAAY,SAAqB1qD,GACvC,IAAI2qD,EAAaL,EAAeA,EAAaplD,OAAOlF,GAAWA,EAC3DA,EAAQsD,OACR2qB,YAAW,WACPo8B,EAAoB5rB,EAAO+rB,EAAWG,EAAYr4C,KACnD,GAEHA,EAAQE,QAAQm4C,KAErBr4C,EAAQI,SACX,OAAOJ,EAxCH+3C,CAAoB5rB,GAAOv8B,MAAK,SAAwBlC,GACpD,IAAI4qD,EAAc5qD,EAAQsD,OAC1ByE,GAAGyC,KAAKxK,GAAS,SAASyK,EAAKg0B,GAC3BorB,EAAiBprB,GAAOniB,MAAK,WAEL,KADpBsuC,GAAe,IAEXd,EAAkBt3C,gBAIzBxS,EAAQsD,QACTwmD,EAAkBt3C,aAEvB,SAAqBy3C,GACpBrlD,EAAQ0mB,UAAU4+B,QAAQ,oBAAsBzrB,EAAM0rB,SAAW,sBAAwBF,EAAU50B,KAAO,IAAK,SAC/Gy0B,EAAkBp3C,aAGnBo3C,EAEX,SAASE,EAAqBvrB,GAC1B,IAAInhC,EAAOmhC,EAAMnhC,KAAM6sD,EAAW1rB,EAAM0rB,SAAUU,EAAwBV,EAAS/yC,YAAY9Z,GAK/F,MAH2B,OAD3B6sD,EAAWA,EAAS9yC,OAAO,EAAGwzC,IACjBn1C,OAAO,KAChBy0C,EAAWA,EAAS9yC,OAAO,IAExB8yC,EAoDX,SAASW,EAAcC,GACnB,IAAIC,EAAW,IAAIjjD,GAAGkjD,eAAe,CACjCxB,sBAAuBA,EACvBrkD,QAAS2lD,EACTG,QAAS,SAAS1jD,GACdO,GAAGgjD,GAAUjhD,SAASlF,EAAQ0pB,QAAQ68B,YACtCvmD,EAAQ0mB,UAAU8/B,YAClB5jD,EAAE6jD,mBAENC,sBAAuB,SAAS9jD,GAC5BO,GAAGgjD,GAAUhhD,YAAYnF,EAAQ0pB,QAAQ68B,YACzCvmD,EAAQ0mB,UAAUigC,aAEtBC,OAAQ,SAAShkD,GAjDzB,IAA4BwJ,EAAcy6C,EAClCC,EAA4BC,GADR36C,EAkDGxJ,EAAEwJ,aAlDSy6C,EAkDKT,EAjDvCU,EAAwB,GAAIC,EAA4B,IAAI5jD,GAAG9F,QACnE2C,EAAQ0mB,UAAUsgC,yBAClBH,EAAeI,cAAa,GACxB76C,EAAaoT,MAAM9gB,OAAS,IAAMsB,EAAQknD,oBAC1ClnD,EAAQ0mB,UAAUygC,+BAA+B,IACjDnnD,EAAQ0mB,UAAU0gC,UAAU,oBAAqB,IACjDP,EAAeI,cAAa,GAC5BF,EAA0Bj5C,YAE1Bk3C,EAAe,GACX7hD,GAAGgJ,sBAAsBC,GACzBjJ,GAAGyC,KAAKwG,EAAaC,OAAO,SAASxG,EAAK2D,GACtC,IAAIqwB,EAAQrwB,EAAK8C,mBACbutB,IACIA,EAAMvvB,OACN06C,EAAal/C,KAAK0D,EAAKoyC,aAEvBkL,EAAsBhhD,KAAKm/C,EAAiBprB,GAAOniB,MAAK,WACpDovC,EAAsBlkB,MACe,IAAjCkkB,EAAsBpoD,QACtBqoD,EAA0Bn5C,kBAO9Co3C,EAAe54C,EAAaoT,MAEK,IAAjCsnC,EAAsBpoD,QACtBqoD,EAA0Bn5C,WAG3Bm5C,GAgB8CzpD,MAAK,YA9G9D,SAA4BkiB,EAAOqnC,GAC/B,IAAIQ,EAAensD,MAAMnB,UAAU8H,MAAMvJ,KAAKknB,GAC9Cxf,EAAQ0mB,UAAU4+B,QAAQ,WAAa9lC,EAAM9gB,OAAS,mBACtDmoD,EAAeI,cAAa,GAC5BjnD,EAAQ0mB,UAAUygC,+BAA+BE,EAAcR,EAAeS,cA2GlEC,CAAmBvC,EAAcoB,MAClC,WACCpmD,EAAQ0mB,UAAU4+B,QAAQ,sEAAuE,eAS7G,OALArtC,EAAe/E,aAAY,WACvBkzC,EAASrzC,aAEb5P,GAAGgjD,GAAUz/C,aAAao+C,IAA2B3hD,GAAGgjD,GAAU/iD,OAClE2hD,EAAgBj/C,KAAKsgD,GACdA,EAEX,SAASoB,EAAWC,GAChB,IAAIC,EAOJ,OANAvkD,GAAGyC,KAAK6hD,EAAUr7C,aAAau7C,OAAO,SAASjuD,EAAKyG,GAChD,GAAY,UAARA,EAEA,OADAunD,GAAW,GACJ,KAGRA,EA7IX1nD,EAAU,CACN4nD,iBAAkB,GAClBV,oBAAoB,EACpBx9B,QAAS,CACL68B,WAAY,MAEhB7/B,UAAW,IAAIvjB,GAAGuhD,YAAYh+B,WAElCvjB,GAAG0B,OAAO7E,EAASpH,GAAG,GA8Id+rD,EAAY3kD,EAAQ4nD,iBAAkBhD,EAAqB,WAC3Dv7B,YAAW,WACPlmB,GAAGyC,KAAK++C,GAAW,SAAS9+C,EAAKugD,GAC7BjjD,GAAGijD,GAAU1/C,aAAao+C,IAA2B3hD,GAAGijD,GAAUhjD,OAClED,GAAGijD,GAAUjhD,YAAYnF,EAAQ0pB,QAAQ68B,iBAE9C,KAEPpjD,GAAGyC,KAAK++C,GAAW,SAAS9+C,EAAKugD,GAC7B,IAAIS,EAAiBX,EAAcE,GAC/BzB,EAAUjmD,QAAUyE,GAAGmQ,kBAAkByC,UACzCkC,EAAezU,OAAOkI,SAAU,aAAa,SAAS9I,IAC7CikD,EAAeI,gBAAkBO,EAAW5kD,IAC7CO,GAAGyC,KAAK++C,GAAW,SAAS9+C,EAAKugD,GACzBA,aAAoB/D,aAAel/C,GAAGijD,GAAU1/C,aAAao+C,IAC7D3hD,GAAGijD,GAAU5hD,IAAI,CACblB,QAAS,mBAQrC2U,EAAezU,OAAOkI,SAAU,aAAa,SAAS9I,IA/B1D,SAA4BA,GACxB,OAAIO,GAAGkM,SACIzM,EAAEjI,EAAI,GAAKiI,EAAEilD,EAAI,EAEb,IAARjlD,EAAEjI,GAAmB,IAARiI,EAAEilD,GA4BdC,CAAmBllD,IACnBgiD,OAGR3sC,EAAezU,OAAOL,GAAGuI,UAAU1F,WAAW,GAAI,cAAc,SAASpD,GACrEgiD,OAEJ3sC,EAAezU,OAAOkI,SAAU,QAAQ,SAAS9I,GACzC4kD,EAAW5kD,KACXA,EAAEyN,iBACFu0C,QAGR3sC,EAAezU,OAAOkI,SAAUm5C,EAAuBD,GAG3DzhD,GAAG0B,OAAOtB,KAAM,CACZwkD,mBAAoB,SAASvnD,GACzBR,EAAQ4nD,iBAAiB9hD,KAAKtF,GAC9B0lD,EAAc1lD,IAElBwnD,eAAgB,SAASxnD,GACrB,IAAIrI,EAAG8vD,EAAMjoD,EAAQ4nD,iBACrB,IAAKzvD,KAAK8vD,EACN,GAAIA,EAAI9vD,KAAOqI,EACX,OAAOynD,EAAI9rC,OAAOhkB,EAAG,IAIjC4a,QAAS,WACLkF,EAAelF,UACf5P,GAAGyC,KAAKm/C,GAAiB,SAASl/C,EAAKugD,GACnCA,EAASrzC,gBAIrBxP,KAAKguC,SAAW,GAChBhuC,KAAKguC,SAAS6T,qBAAuBA,GAEzCjiD,GAAGuhD,YAAYh+B,UAAY,WACvB,aACA,MAAO,CACH8/B,UAAW,aACXG,UAAW,aACXK,uBAAwB,aACxBG,+BAAgC,SAAS3nC,EAAO0oC,KAChDd,UAAW,SAAS32B,EAAM03B,GACtBhlD,GAAGwF,IAAI,2BAA6B8nB,EAAO,2BAA6B03B,EAAiB,IAAK,UAElG7C,QAAS,SAAS18C,EAASC,GACvB1F,GAAGwF,IAAIC,EAASC,MAI5B1F,GAAGkjD,eAAiB,SAASztD,GACzB,aACA,IAA8CoH,EAASQ,EAAS4nD,EAAaC,EAAzEpwC,EAAiB,IAAI9U,GAAG0P,eAU5B,SAASy1C,IACL,OAAOnlD,GAAGkM,UAAYlM,GAAGsM,WAAatM,GAAGuM,UAmB7C,SAAS64C,EAAgB3lD,GACrB,IAAKO,GAAGmQ,kBAAkByC,SACtB,OAAO,EAEX,IAAIyyC,EAAYC,EAAK7lD,EAAEwJ,aAAcs8C,EAAWvlD,GAAGkM,SAEnD,OADAm5C,KAAarlD,GAAG0L,OAAQ1L,GAAGmQ,kBAAkByC,WAAuC,SAArB0yC,EAAGE,cAC3DF,GAAMD,IAAeC,EAAGjpC,OAASipC,EAAGjpC,MAAM9gB,SAAWgqD,GAAYD,EAAGd,MAAM3jD,UAAYykD,EAAGd,MAAM3jD,SAAS,UAAYykD,EAAGd,MAAMiB,UAAYH,EAAGd,MAAMiB,SAAS,UAEtK,SAASC,EAAoBC,GAIzB,YAHmBhuD,IAAfguD,IACAV,EAAcU,GAEXV,EAzCXpoD,EAAU,CACNQ,QAAS,KACT8lD,QAAS,SAAS1jD,KAClBiyB,QAAS,SAASjyB,KAClB8jD,sBAAuB,SAAS9jD,KAChCgkD,OAAQ,SAAShkD,MAErBO,GAAG0B,OAAO7E,EAASpH,GACnB4H,EAAUR,EAAQQ,QAKT6nD,IACGC,EACArwC,EAAezU,OAAOkI,SAAU,YAAY,SAAS9I,GACjDA,EAAEyN,oBAGN4H,EAAezU,OAAOkI,SAAU,YAAY,SAAS9I,GAC7CA,EAAEwJ,eACFxJ,EAAEwJ,aAAa28C,WAAa,OAC5BnmD,EAAEyN,qBAIdg4C,GAAsB,GAmC1BpwC,EAAezU,OAAOhD,EAAS,YAAY,SAASoC,GAChD,GAAK2lD,EAAgB3lD,GAArB,CAGA,IAAIomD,EAAS7lD,GAAG0L,MAAQ1L,GAAGmQ,kBAAkByC,SAAW,KAAOnT,EAAEwJ,aAAau8C,cAE1E/lD,EAAEwJ,aAAa28C,WADJ,SAAXC,GAAgC,aAAXA,EACO,OAEA,OAEhCpmD,EAAE6jD,kBACF7jD,EAAEyN,qBAEN4H,EAAezU,OAAOhD,EAAS,aAAa,SAASoC,GACjD,IAAKimD,IAAuB,CACxB,IAAKN,EAAgB3lD,GACjB,OAEJ5C,EAAQsmD,QAAQ1jD,OAGxBqV,EAAezU,OAAOhD,EAAS,aAAa,SAASoC,GACjD,GAAK2lD,EAAgB3lD,GAArB,CAGA5C,EAAQ60B,QAAQjyB,GAChB,IAAIqmD,EAAgBv9C,SAASw9C,iBAAiBtmD,EAAEumD,QAASvmD,EAAEwmD,SACvDjmD,GAAGI,MAAMS,SAASilD,IAGtBjpD,EAAQ0mD,sBAAsB9jD,OAElCqV,EAAezU,OAAOhD,EAAS,QAAQ,SAASoC,GAC5C,IAAKimD,IAAuB,CACxB,IAAKN,EAAgB3lD,GACjB,OAEJA,EAAEyN,iBACFzN,EAAE6jD,kBACFzmD,EAAQ4mD,OAAOhkD,GAzD3B,WACI,IAAIymD,EACJ,SAASC,KACLD,EAAiB39C,SAAS69C,YAAY,UACvBC,UAAUxpD,EAAQ6kD,uBAAuB,GAAM,GAElE,GAAIz8C,OAAOqhD,YACP,IACIJ,EAAiB,IAAII,YAAYzpD,EAAQ6kD,uBAC3C,MAAO3P,GACLoU,SAGJA,IAEJ59C,SAASg+C,cAAcL,GA2CfM,OAMZxmD,GAAG0B,OAAOtB,KAAM,CACZ0jD,aAAc,SAAS6B,GACnB,OAAOD,EAAoBC,IAE/B/1C,QAAS,WACLkF,EAAelF,WAEnBu0C,WAAY,WACR,OAAO9mD,KAGf+C,KAAKguC,SAAW,GAChBhuC,KAAKguC,SAASgX,gBAAkBA,GA3kCxC,CA6kCGngD,S,6BC5kCH,IAAIzO,EAAO,EAAQ,GACfyZ,EAAS,EAAQ,IAEjBusC,EAAiB,EAAQ,GACzB3gD,EAAiB,EAAQ,IACzB4qD,EAAc,EAAQ,IACtB1nD,EAAO,EAAQ,IAEnBy9C,IACA,IAAIkK,EAAQlwD,EAAKrB,KAAKgE,SAAShE,KAAMsxD,KAEjCE,EAAa,SAAoBhK,GAEpC,OAAO+J,OAAsB,IAATtmD,KAAuBlG,QAAUkG,KAAMu8C,IAG5D1sC,EAAO02C,EAAY,CAClBF,YAAaA,EACb5qD,eAAgBA,EAChBkD,KAAMA,IAGPhK,EAAOD,QAAU6xD,G,6BCMjB,SAASC,EAAgBzjD,EAAM0jD,GAC7BzmD,KAAK+C,KAAOA,EAAOA,GAAQ,GAC3B/C,KAAK0mD,SAAW3jD,EAAK0B,QAAQ,KAC7BzE,KAAKymD,UAAYA,EACjBzmD,KAAK4kC,MAAQ7hC,EAAKyB,MAAMiiD,GAG1BD,EAAgBhwD,UAAUob,MAAQ,SAAS1J,GACzC,IAEIy+C,EAEAC,EAJAC,GAAU,EACVjiB,EAAQ5kC,KAAK4kC,MAEbkiB,EAAaliB,EAAMzpC,OAGvB,GAAoB,iBAAT+M,GAAqBA,aAAiBxN,OAC/C,GAAKsF,KAAK0mD,SAAW1mD,KAAK+C,MAAQmF,EAE3B,CAEL,IADA0+C,GAAa1+C,GAAS,IAAI1D,MAAMxE,KAAKymD,WAChCE,EAAK,EAAGE,GAAWF,EAAKG,EAAYH,IACrB,MAAd/hB,EAAM+hB,KAGRE,EADSF,EAAKC,EAAUzrD,QACdypC,EAAM+hB,KAAQC,EAAUD,IAOtCE,EAAUA,GAAWD,OAdrBC,GAAU,OAiBT,GAA2B,mBAAhB3+C,EAAM0Q,OAGpB,IAFAiuC,EAAU,GAELF,EAAKz+C,EAAM/M,OAAQwrD,KAClB3mD,KAAK4R,MAAM1J,EAAMy+C,MACnBE,EAAQA,EAAQ1rD,QAAU+M,EAAMy+C,SAIjC,GAAoB,iBAATz+C,EAGd,IAAK,IAAI/R,KAFT0wD,EAAU,GAEM3+C,EACVlI,KAAK4R,MAAMzb,KACb0wD,EAAQ1wD,GAAO+R,EAAM/R,IAK3B,OAAO0wD,GAGTlyD,EAAOD,QAAU,SAASqO,EAAM3D,EAAMqnD,GACpC,IAAIM,EAAU,IAAIP,EAAgBzjD,EAAM0jD,GAAa,UACrD,YAAmB,IAARrnD,EACF2nD,EAAQn1C,MAAMxS,GAGhB2nD,I,iECvFT,IAAIC,EAAgB,kDAChB1oD,EAAQ3G,MAAMnB,UAAU8H,MACxBgB,EAAQhK,OAAOkB,UAAUkD,SAG7B/E,EAAOD,QAAU,SAAcuyD,GAC3B,IAAInrD,EAASkE,KACb,GAAsB,mBAAXlE,GAJA,sBAIyBwD,EAAMvK,KAAK+G,GAC3C,MAAM,IAAI/E,UAAUiwD,EAAgBlrD,GAyBxC,IAvBA,IAEIwqD,EAFA1nD,EAAON,EAAMvJ,KAAK+B,UAAW,GAG7BowD,EAAS,WACT,GAAIlnD,gBAAgBsmD,EAAO,CACvB,IAAIrkD,EAASnG,EAAOP,MAChByE,KACApB,EAAK7B,OAAOuB,EAAMvJ,KAAK+B,aAE3B,OAAIxB,OAAO2M,KAAYA,EACZA,EAEJjC,KAEP,OAAOlE,EAAOP,MACV0rD,EACAroD,EAAK7B,OAAOuB,EAAMvJ,KAAK+B,cAK/BqwD,EAAc3tD,KAAKowB,IAAI,EAAG9tB,EAAOX,OAASyD,EAAKzD,QAC/CisD,EAAY,GACPxyD,EAAI,EAAGA,EAAIuyD,EAAavyD,IAC7BwyD,EAAU7kD,KAAK,IAAM3N,GAKzB,GAFA0xD,EAAQvtD,SAAS,SAAU,oBAAsBquD,EAAUh5C,KAAK,KAAO,4CAA/DrV,CAA4GmuD,GAEhHprD,EAAOtF,UAAW,CAClB,IAAI6wD,EAAQ,aACZA,EAAM7wD,UAAYsF,EAAOtF,UACzB8vD,EAAM9vD,UAAY,IAAI6wD,EACtBA,EAAM7wD,UAAY,KAGtB,OAAO8vD,I,6BChDX,IAAI7nD,EACJ,IAAKnJ,OAAOyC,KAAM,CAEjB,IAAI4D,EAAMrG,OAAOkB,UAAUC,eACvB6I,EAAQhK,OAAOkB,UAAUkD,SACzB6E,EAAS,EAAQ,IACjB+oD,EAAehyD,OAAOkB,UAAU8G,qBAChCiqD,GAAkBD,EAAavyD,KAAK,CAAE2E,SAAU,MAAQ,YACxD8tD,EAAkBF,EAAavyD,MAAK,cAAgB,aACpD0yD,EAAY,CACf,WACA,iBACA,UACA,iBACA,gBACA,uBACA,eAEGC,EAA6B,SAAUryD,GAC1C,IAAIsyD,EAAOtyD,EAAEuQ,YACb,OAAO+hD,GAAQA,EAAKnxD,YAAcnB,GAE/BuyD,EAAe,CAClBC,mBAAmB,EACnBC,UAAU,EACVC,WAAW,EACXC,QAAQ,EACRC,eAAe,EACfC,SAAS,EACTC,cAAc,EACdC,aAAa,EACbC,wBAAwB,EACxBC,uBAAuB,EACvBC,cAAc,EACdC,aAAa,EACbC,cAAc,EACdC,cAAc,EACdC,SAAS,EACTC,aAAa,EACbC,YAAY,EACZC,UAAU,EACVC,UAAU,EACVC,OAAO,EACPC,kBAAkB,EAClBC,oBAAoB,EACpBC,SAAS,GAENC,EAA4B,WAE/B,GAAsB,oBAAXvkD,OAA0B,OAAO,EAC5C,IAAK,IAAIwkD,KAAKxkD,OACb,IACC,IAAK+iD,EAAa,IAAMyB,IAAM1tD,EAAI5G,KAAK8P,OAAQwkD,IAAoB,OAAdxkD,OAAOwkD,IAAoC,iBAAdxkD,OAAOwkD,GACxF,IACC3B,EAA2B7iD,OAAOwkD,IACjC,MAAOhqD,GACR,OAAO,GAGR,MAAOA,GACR,OAAO,EAGT,OAAO,EAhBuB,GA8B/BZ,EAAW,SAAcnI,GACxB,IAAIkP,EAAsB,OAAXlP,GAAqC,iBAAXA,EACrCoP,EAAoC,sBAAvBpG,EAAMvK,KAAKuB,GACxBgzD,EAAc/qD,EAAOjI,GACrB6P,EAAWX,GAAmC,oBAAvBlG,EAAMvK,KAAKuB,GAClCizD,EAAU,GAEd,IAAK/jD,IAAaE,IAAe4jD,EAChC,MAAM,IAAIvyD,UAAU,sCAGrB,IAAIyyD,EAAYhC,GAAmB9hD,EACnC,GAAIS,GAAY7P,EAAO6E,OAAS,IAAMQ,EAAI5G,KAAKuB,EAAQ,GACtD,IAAK,IAAI1B,EAAI,EAAGA,EAAI0B,EAAO6E,SAAUvG,EACpC20D,EAAQhnD,KAAK7H,OAAO9F,IAItB,GAAI00D,GAAehzD,EAAO6E,OAAS,EAClC,IAAK,IAAIsuD,EAAI,EAAGA,EAAInzD,EAAO6E,SAAUsuD,EACpCF,EAAQhnD,KAAK7H,OAAO+uD,SAGrB,IAAK,IAAIt0D,KAAQmB,EACVkzD,GAAsB,cAATr0D,IAAyBwG,EAAI5G,KAAKuB,EAAQnB,IAC5Do0D,EAAQhnD,KAAK7H,OAAOvF,IAKvB,GAAIoyD,EAGH,IAFA,IAAImC,EA3CqC,SAAUr0D,GAEpD,GAAsB,oBAAXwP,SAA2BukD,EACrC,OAAO1B,EAA2BryD,GAEnC,IACC,OAAOqyD,EAA2BryD,GACjC,MAAOgK,GACR,OAAO,GAmCesqD,CAAqCrzD,GAElD+yD,EAAI,EAAGA,EAAI5B,EAAUtsD,SAAUkuD,EACjCK,GAAoC,gBAAjBjC,EAAU4B,KAAyB1tD,EAAI5G,KAAKuB,EAAQmxD,EAAU4B,KACtFE,EAAQhnD,KAAKklD,EAAU4B,IAI1B,OAAOE,GAGT50D,EAAOD,QAAU+J,G,6BCvHjB,IAAIpD,EAAe,EAAQ,GAEvBtD,EAAO,EAAQ,GACf0mD,EAAU,EAAQ,IAElBmL,EAAS,EAAQ,IACjB/tD,EAAS,EAAQ,GACjB/D,EAAU,EAAQ,IAClB+xD,EAAW,EAAQ,GACnBC,EAAQ,EAAQ,IAEhBC,EAAU1uD,EAAa,YACvB2uD,EAAU3uD,EAAa,YACvB+kD,EAAa/kD,EAAa,eAC1B4uD,EAAU5uD,EAAa,YAEvB6uD,EAAe7uD,EAAa,qBAAqB,GACjD8uD,EAAiBD,EAAeL,EAASK,EAAavwD,SAAW,KACjEywD,EAAe/uD,EAAa,qBAC5BgvD,EAAUR,EAASO,EAAa78C,QAChC+8C,EAAWT,EAASO,EAAa9rD,OACjCisD,EAAWV,EAASO,EAAa3lD,SACjC+lD,EAAY3wD,SACZ4wD,EAAUZ,EAASI,EAAQzzD,UAAU4I,KAAM,WAE3CsrD,EAAsBrvD,EAAa,qBAAqB,GACxDsvD,EAAkBD,EAAsBb,EAASa,GAAuB,KAExEE,EAAgBf,EAASxuD,EAAa,qBAAqBiC,sBAC3DutD,EAAahB,EAAStuD,MAAMF,EAAa,oBAAoBkH,MAC7DuoD,EAAQX,EAAiBH,EAAQ7sD,sBAAwB,KAUzD4tD,EAASlvD,EAAOA,EAAO,GAAI+tD,GAAS,CACvCoB,2BAA4BpB,EAAOqB,wBAGnCC,gBAAiB,SAAyBr1D,GACzC,IAAKs0D,EACJ,MAAM,IAAIxvD,YAAY,mGAEvB,MAAyB,WAArBqF,KAAKy8C,KAAK5mD,GACNA,EAEDs0D,EAAet0D,IAIvBs1D,eAAgB,SAAwBz0D,EAAG00D,GAC1C,GAAqB,WAAjBprD,KAAKy8C,KAAK/lD,GACb,MAAM,IAAIK,UAAU,0CAGrB,GAAqB,WAAjBiJ,KAAKy8C,KAAK2O,GACb,MAAM,IAAIr0D,UAAU,0CAGrB,GAAIL,IAAM00D,GAAW,KAAN10D,EACd,OAAO,EAGR,IAAI20D,EAAU30D,EAAEyE,OAEhB,GAAIkwD,GADUD,EAAEjwD,OAEf,OAAO,EAKR,IAAK,IAAIvG,EAAI,EAAGA,EAAIy2D,EAASz2D,GAAK,EACjC,GAAIy1D,EAAQ3zD,EAAG9B,KAAOy1D,EAAQe,EAAGx2D,GAChC,OAAO,EAGT,OAAO,GAIR02D,eAAgB,SAAwBt2D,GACvC,GAAqB,WAAjBgL,KAAKy8C,KAAKznD,GACb,MAAM,IAAI+B,UAAU,0CAGrB,OAAOgzD,EAAQ/0D,IAIhBu2D,mBAAoB,SAA4BzvD,EAAQC,EAAQyvD,GAC/D,GAA0B,WAAtBxrD,KAAKy8C,KAAK3gD,GACb,MAAM,IAAI/E,UAAU,gDAGrB,IAAKiJ,KAAKyrD,QAAQD,GACjB,MAAM,IAAIz0D,UAAU,qEAErB,IAAK,IAAInC,EAAI,EAAGA,EAAI42D,EAAcrwD,OAAQvG,GAAK,EAC9C,IAAKoL,KAAK0rD,cAAcF,EAAc52D,IACrC,MAAM,IAAImC,UAAU,qEAItB,GAAI,MAAOgF,EACV,OAAOD,EAGR,IAAIugD,EAAKr8C,KAEL2rD,EAAUtP,EAAGuP,SAAS7vD,GAEtB8vD,EApFgB,SAAyBxP,EAAItgD,GAClD,IAAI+vD,EAAU/zD,EAAKgE,GAInB,OAHI+uD,GACHD,EAAWiB,EAAShB,EAAM/uD,IAEpB+vD,EA+EWC,CAAgB1P,EAAIsP,GAsBrC,OArBA7zD,EAAQ+zD,GAAY,SAAUG,GAC7B,IAAIC,GAAW,EAEfn0D,EAAQ0zD,GAAe,SAAUnsD,IACC,IAA7Bg9C,EAAG6P,UAAU7sD,EAAG2sD,KACnBC,GAAW,MAIb,IAAIz2D,EAAao1D,EAAce,EAASK,IAErB,iBAAXjwD,GACJiwD,GAAW,GACX3P,EAAG8P,UAAU9P,EAAG+P,SAASJ,IAE7B,IAAiB,IAAbC,GAAsBz2D,EAAY,CACrC,IAAI62D,EAAYhQ,EAAGiQ,IAAIX,EAASK,GAChC3P,EAAGkQ,mBAAmBzwD,EAAQkwD,EAASK,OAIlCvwD,GAIR6gD,eAAgB,SAAwBH,EAAGplD,GAC1C,IAAKuzD,EACJ,MAAM,IAAIhwD,YAAY,+CAEvB,OAAOgwD,EAAgBnO,EAAGplD,IAK3Bo1D,gBAAiB,SAAyBC,EAAShmD,EAAK4O,EAAUq3C,EAAUC,EAAel/B,GAC1F,GAA2B,WAAvBztB,KAAKy8C,KAAKgQ,GACb,MAAM,IAAIrM,EAAW,gDAEtB,IAAIwM,EAAcH,EAAQtxD,OAE1B,GAAuB,WAAnB6E,KAAKy8C,KAAKh2C,GACb,MAAM,IAAI25C,EAAW,4CAEtB,IAAIyM,EAAepmD,EAAItL,OAEvB,IAAK6E,KAAKmsD,UAAU92C,IAAaA,EAAW,GAAKA,EAAWw3C,EAC3D,MAAM,IAAIzM,EAAW,qHAAuH3B,EAAQppC,IAGrJ,IAAIgnC,EAAKr8C,KAET,IAAKA,KAAKyrD,QAAQiB,KAAc5C,EAAM4C,GADjB,SAAUI,EAAS50C,EAAOjN,GAAO,MAA4B,WAArBoxC,EAAGI,KAAKqQ,MAA2B50C,KAASjN,MAExG,MAAM,IAAIm1C,EAAW,+DAAiE3B,EAAQiO,IAG/F,GAA+B,WAA3B1sD,KAAKy8C,KAAKhvB,GACb,MAAM,IAAI2yB,EAAW,oDAGtB,IAAI2M,EAAU13C,EAAWu3C,EACrB53D,EAAI03D,EAASvxD,OACgB,cAA7B6E,KAAKy8C,KAAKkQ,KACbA,EAAgB3sD,KAAK4rD,SAASe,IAI/B,IADA,IAAI1qD,EAAS,GACJrN,EAAI,EAAGA,EAAI64B,EAAYtyB,OAAQvG,GAAK,EAAG,CAE/C,IAAIo4D,EAAUv/B,EAAY74B,GACtBq4D,EAAUr4D,EAAI,GAAM64B,EAAYtyB,OAChC+xD,EAAct4D,EAAI,GAAM64B,EAAYtyB,OACxC,GAAgB,MAAZ6xD,GAAoBC,EAqDvBhrD,GAAUwrB,EAAY74B,OArDS,CAC/B,IAAIwJ,EAAOqvB,EAAY74B,EAAI,GAC3B,GAAa,MAATwJ,EACH6D,GAAU,IACVrN,GAAK,OACC,GAAa,MAATwJ,EACV6D,GAAUwqD,EACV73D,GAAK,OACC,GAAa,MAATwJ,EACV6D,GAAuB,IAAboT,EAAiB,GAAKi1C,EAAS7jD,EAAK,EAAG4O,EAAW,GAC5DzgB,GAAK,OACC,GAAa,MAATwJ,EACV6D,GAAU8qD,GAAWF,EAAe,GAAKvC,EAAS7jD,EAAKsmD,GACvDn4D,GAAK,MACC,CACN,IAAIu4D,EAAWD,EAAa,KAAOz/B,EAAY74B,EAAI,GACnD,IAAI61D,EAAQrsD,IAAkB,MAATA,IAAiB8uD,GAAezC,EAAQ0C,GAMtD,GAAI1C,EAAQrsD,KAAU8uD,GAAczC,EAAQ0C,IAAY,CAE9D,IAAIC,EAAKhvD,EAAO+uD,EACZE,EAAM7C,EAAU4C,EAAI,IAAM,EAE9BnrD,GAAWmrD,GAAMp4D,GAAkC,cAA7BgL,KAAKy8C,KAAKiQ,EAASW,IAAyB,GAAKX,EAASW,GAChFz4D,GAAK,OACC,GAAa,MAATwJ,EAEV,GAAiC,cAA7B4B,KAAKy8C,KAAKkQ,GACb1qD,GAAU,KACVrN,GAAK,MACC,CACN,IAAI04D,EAAW/C,EAAS98B,EAAa,IAAK74B,GAE1C,GAAI04D,GAAY,EAAG,CAClB,IAAIC,EAAYjD,EAAS78B,EAAa74B,EAAG04D,GACrCR,EAAU9sD,KAAKssD,IAAIK,EAAeY,GAEX,cAAvBvtD,KAAKy8C,KAAKqQ,KACb7qD,GAAUjC,KAAKwtD,SAASV,IAEzBl4D,GAAK,KAAO24D,EAAY,IAAIpyD,aAI9B8G,GAAU,QAhC8D,CAExE,IAAI5L,EAAIm0D,EAAUpsD,EAAM,IAExB6D,GAAW5L,GAAKrB,GAAoC,cAA/BgL,KAAKy8C,KAAKiQ,EAASr2D,EAAI,IAAuB,GAAKq2D,EAASr2D,EAAI,GACrFzB,GAAK,KAmCT,OAAOqN,YAIF8oD,EAAOE,+BAEPF,EAAO0C,qBAEd94D,EAAOD,QAAUq2D,G,6CC5PjB,IAAI1vD,EAAe,EAAQ,GAEvBqyD,EAAS,EAAQ,IACjB7xD,EAAS,EAAQ,GACjB/D,EAAU,EAAQ,IAClB+xD,EAAW,EAAQ,GAEnBzJ,EAAa/kD,EAAa,eAC1BsyD,EAAStyD,EAAa,WACtBuvD,EAAgBf,EAASxuD,EAAa,qBAAqBiC,sBAC3DutD,EAAahB,EAAStuD,MAAMF,EAAa,oBAAoBkH,MAC7DqrD,EAAa/D,EAAS8D,EAAOn3D,UAAU+L,MAEvCqnD,EAAS/tD,EAAOA,EAAO,GAAI6xD,GAAS,CACvCG,QAAS,SAAiBh4D,GACzB,QAAqB,IAAVA,EACV,OAAO,EAER,IAAIi4D,EAAe9tD,KAAK+tD,UAAUl4D,GAClC,GAAIi4D,EAAe,EAClB,MAAM,IAAI1zD,WAAW,sBAEtB,IAAI8d,EAAQlY,KAAKguD,SAASF,GAC1B,IAAK9tD,KAAKiuD,cAAcH,EAAc51C,GACrC,MAAM,IAAI9d,WAAW,wCAEtB,OAAO8d,GAIR+yC,wBAAyB,SAAiCiD,EAAGC,GAC5D,IAAIp2D,EAAO21D,EAAOU,mBAAmBF,GACrC,GAAa,QAATC,EACH,OAAOp2D,EAER,GAAa,UAATo2D,GAA6B,cAATA,EAAsB,CAC7C,IAAIE,EAAU,GAQd,OAPAv2D,EAAQC,GAAM,SAAU5B,GACnBy0D,EAAcsD,EAAG/3D,IACpB00D,EAAWwD,EAAS,CACV,UAATF,EAAmBD,EAAE/3D,GAAO,CAACA,EAAK+3D,EAAE/3D,SAIhCk4D,EAER,MAAM,IAAIjO,EAAW,mEAAqE+N,IAI3FG,eAAgB,SAAwBxlD,EAAOya,GAI9C,IAHA,IAAItsB,EAAW+I,KAAKuuD,YAAYzlD,EAAOya,GACnCvrB,EAAS,GACToG,GAAO,EACJA,GAEN,GADAA,EAAO4B,KAAKwuD,aAAav3D,GACf,CACT,IAAIw3D,EAAYzuD,KAAK0uD,cAActwD,GACnCwvD,EAAW51D,EAAQy2D,GAGrB,OAAOz2D,YAIF4xD,EAAOwE,0BACPxE,EAAO+E,oBAEdh6D,EAAOD,QAAUk1D,G,6BCpEjB,IAEI+D,EAFe,EAAQ,EAEdtyD,CAAa,WAEtBrE,EAAa,EAAQ,EAAR,GAEb43D,EAAS,EAAQ,IACjB/yD,EAAS,EAAQ,GACjBguD,EAAW,EAAQ,GAEnB+D,EAAa/D,EAAS8D,EAAOn3D,UAAU+L,MACvCssD,EAAchF,EAAS8D,EAAOn3D,UAAU8H,OACxCwwD,EAAajF,EAAS8D,EAAOn3D,UAAU4X,MAEvCs/C,EAAS7xD,EAAOA,EAAO,GAAI+yD,GAAS,CAEvCG,mBAAoB,SAA4B33D,EAAGktD,GAClD,GAAiB,iBAANltD,UAAyBA,UAAaktD,EAChD,MAAM,IAAIvtD,UAAU,uEAErB,OAAOiJ,KAAKksD,UAAU90D,EAAGktD,IAI1BqK,oBAAqB,SAA6B7lD,GACjD,IAAIkmD,EACJ,GAAIh4D,EACHg4D,EAAgBhvD,KAAKivD,UAAUnmD,EAAOnT,OAAOsB,eACvC,GAAI+I,KAAKyrD,QAAQ3iD,GACvBkmD,EAAgB,WACf,IAAIp6D,GAAK,EACLqW,EAAMjL,KACV,MAAO,CACN5B,KAAM,WAEL,MAAO,CACN+V,MAFDvf,GAAK,IAEOqW,EAAI9P,OACftF,MAAOoV,EAAIrW,YAKT,GAAyB,WAArBoL,KAAKy8C,KAAK3zC,GAAqB,CACzC,IAAIuzC,EAAKr8C,KACTgvD,EAAgB,WACf,IAAIp6D,EAAI,EACR,MAAO,CACNwJ,KAAM,WACL,IAAI4yB,EAAYqrB,EAAG6S,mBAAmBpmD,EAAOlU,GAAG,GAC5CiB,EAAQi5D,EAAWD,EAAY/lD,EAAOlU,EAAGo8B,GAAY,IAEzD,OADAp8B,EAAIo8B,EACG,CACN7c,KAAM6c,EAAYloB,EAAM3N,OACxBtF,MAAOA,MAMZ,QAA6B,IAAlBm5D,EAA+B,CAIzC,IAHA,IAAI/3D,EAAW+I,KAAKuuD,YAAYzlD,EAAOkmD,GACnCh3D,EAAS,GACToG,GAAO,EACJA,GAEN,GADAA,EAAO4B,KAAKwuD,aAAav3D,GACf,CACT,IAAIw3D,EAAYzuD,KAAK0uD,cAActwD,GACnCwvD,EAAW51D,EAAQy2D,GAGrB,OAAOz2D,EAGR,OAAOgI,KAAK4rD,SAAS9iD,MAIvBnU,EAAOD,QAAUg5D,G,cC/EjB,IAAIyB,EAGJA,EAAI,WACH,OAAOnvD,KADJ,GAIJ,IAECmvD,EAAIA,GAAK,IAAIp2D,SAAS,cAAb,GACR,MAAOsG,GAEc,iBAAXwF,SAAqBsqD,EAAItqD,QAOrClQ,EAAOD,QAAUy6D,G,6BChBjBx6D,EAAOD,QAAU,WAChB,GAAsB,mBAAXiB,QAAiE,mBAAjCL,OAAO6H,sBAAwC,OAAO,EACjG,GAA+B,iBAApBxH,OAAOsB,SAAyB,OAAO,EAElD,IAAI2W,EAAM,GACNwhD,EAAMz5D,OAAO,QACb05D,EAAS/5D,OAAO85D,GACpB,GAAmB,iBAARA,EAAoB,OAAO,EAEtC,GAA4C,oBAAxC95D,OAAOkB,UAAUkD,SAAS3E,KAAKq6D,GAA8B,OAAO,EACxE,GAA+C,oBAA3C95D,OAAOkB,UAAUkD,SAAS3E,KAAKs6D,GAAiC,OAAO,EAY3E,IAAKD,KADLxhD,EAAIwhD,GADS,GAEDxhD,EAAO,OAAO,EAC1B,GAA2B,mBAAhBtY,OAAOyC,MAAmD,IAA5BzC,OAAOyC,KAAK6V,GAAKzS,OAAgB,OAAO,EAEjF,GAA0C,mBAA/B7F,OAAOg6D,qBAAiF,IAA3Ch6D,OAAOg6D,oBAAoB1hD,GAAKzS,OAAgB,OAAO,EAE/G,IAAIo0D,EAAOj6D,OAAO6H,sBAAsByQ,GACxC,GAAoB,IAAhB2hD,EAAKp0D,QAAgBo0D,EAAK,KAAOH,EAAO,OAAO,EAEnD,IAAK95D,OAAOkB,UAAU8G,qBAAqBvI,KAAK6Y,EAAKwhD,GAAQ,OAAO,EAEpE,GAA+C,mBAApC95D,OAAOuB,yBAAyC,CAC1D,IAAI24D,EAAal6D,OAAOuB,yBAAyB+W,EAAKwhD,GACtD,GAdY,KAcRI,EAAW35D,QAA8C,IAA1B25D,EAAWh6D,WAAuB,OAAO,EAG7E,OAAO,I,6BCtCR,IAAImG,EAAM,EAAQ,GACd8zD,EAAc,EAAQ,IACtB13D,EAAO,EAAQ,GACf0mD,EAAU,EAAQ,IAElBpjD,EAAe,EAAQ,GAEvB+kD,EAAa/kD,EAAa,eAC1Bq0D,EAAcr0D,EAAa,gBAC3BglD,EAAehlD,EAAa,iBAC5BsyD,EAAStyD,EAAa,WACtBs0D,EAAkBhC,EAAOn3D,UACzBuzD,EAAU1uD,EAAa,YACvB2uD,EAAU3uD,EAAa,YACvBu0D,EAAUv0D,EAAa,YACvBw0D,EAAUx0D,EAAa,YAAY,GACnC4uD,EAAU5uD,EAAa,YACvBy0D,EAAWz0D,EAAa,aAAa,GACrC00D,EAAqB/F,EAAQgG,kBAE7Bh5D,EAAa,EAAQ,EAAR,GAEbi5D,EAAe,EAAQ,IACvBtP,EAAS,EAAQ,IACjBuP,EAAY,EAAQ,IACpBC,EAAmB32D,KAAK80C,IAAI,EAAG,IAAM,EACrC8hB,EAAmBR,EAAQQ,kBAAoB52D,KAAK80C,IAAI,EAAG,IAAM,EAEjEzyC,EAAS,EAAQ,GACjBw0D,EAAO,EAAQ,IACfC,EAAM,EAAQ,IACdC,EAAc,EAAQ,IACtBz4D,EAAU,EAAQ,IAClBgyD,EAAQ,EAAQ,IAChB0G,EAA2B,EAAQ,IACnCC,EAAuB,EAAQ,IAC/BC,EAAe72D,SACfgwD,EAAW,EAAQ,GACnB8G,EAAeb,EAAWjG,EAASxuD,EAAa,wBAA0B,KAC1Eu1D,EAAa/G,EAAS8D,EAAOn3D,UAAU8H,OACvCgsD,EAAWT,EAASE,EAAQvzD,UAAU8H,OACtCuyD,EAAWhH,EAASI,EAAQzzD,UAAU4I,KAAM,cAC5C0xD,EAAUjH,EAASI,EAAQzzD,UAAU4I,KAAM,eAC3CqrD,EAAUZ,EAASI,EAAQzzD,UAAU4I,KAAM,WAC3C2xD,EAAYlH,EAASI,EAAQzzD,UAAU8M,MAEvC0tD,EAAa,IAAI/G,EAAQ,IADjB,CAAC,IAAU,IAAU,KAAU77C,KAAK,IACL,IAAK,KAC5C6iD,EAAWpH,EAASI,EAAQzzD,UAAU4I,KAAM4xD,GAE5CE,EAAsBrH,EAASI,EAAQzzD,UAAU4I,KAD7B,sBAEpB+xD,EAActH,EAASE,EAAQvzD,UAAUoO,YACzCgmD,EAAgBf,EAASG,EAAQxzD,UAAU8G,sBAE3CgC,EAAQuqD,EAASG,EAAQxzD,UAAUkD,UAEnC03D,EAAiBvH,EAASxuD,EAAa,qBAAqB1B,SAC5D03D,EAAkBxH,EAASxuD,EAAa,sBAAsB1B,SAC9D23D,EAAiBzH,EAASxuD,EAAa,qBAAqB1B,SAC5D43D,EAAe1H,EAASxuD,EAAa,mBAAmB1B,SACxD63D,EAAkBx6D,GAAc6yD,EAASxuD,EAAa,qBAAqB3B,UAE3E+3D,GAASj4D,KAAKunD,MACd2Q,GAAOl4D,KAAKm4D,IAEZC,GAAgB5H,EAAQ9zD,OACxB27D,GAAQ7H,EAAQnzD,yBAChBi7D,GAAQ9H,EAAQsF,oBAChBxE,GAAQd,EAAQ7sD,sBAChB40D,GAAgB/H,EAAQgI,aACxBC,GAAkBjI,EAAQz0D,eAC1B28D,GAAY58D,OAAO68D,iBAEtB,GAAG96D,YAAcM,MAAMnB,UACpB,KACA,SAAU03D,EAAGkE,GAEd,OADAlE,EAAE72D,UAAY+6D,EACPlE,IAINmE,GAAoB,SAA2BhW,EAAI6R,EAAGoE,EAAGC,GAC5D,IAAKN,GAAiB,CACrB,IAAK5V,EAAG2E,iBAAiBuR,GAExB,OAAO,EAER,IAAKA,EAAK,sBAAwBA,EAAK,gBACtC,OAAO,EAIR,GAAID,KAAKpE,GAAKtD,EAAcsD,EAAGoE,OAASC,EAAK,kBAE5C,OAAO,EAIR,IAAIC,EAAID,EAAK,aAEb,OADArE,EAAEoE,GAAKE,EACAnW,EAAG6P,UAAUgC,EAAEoE,GAAIE,GAG3B,OADAP,GAAgB/D,EAAGoE,EAAGjW,EAAGoW,uBAAuBF,KACzC,GAKJG,GAAK,CACR,qBACA,mBACA,gBACCtkD,KAAK,IACHukD,GAAY,IAAIp4D,OAAO,MAAQm4D,GAAK,SAAWA,GAAK,OAAQ,KAC5DE,GAAW/I,EAASE,EAAQvzD,UAAUqL,SAKtCgxD,GAAM,EAAQ,IAEdC,GAAmB,EAAQ,IAG3BC,GAAMl3D,EAAOA,EAAO,GAAIg3D,IAAM,CAGjCG,KAAM,SAAcC,EAAGT,GACtB,IAAI5zD,EAAO9H,UAAUqE,OAAS,EAAIrE,UAAU,GAAK,GACjD,IAAKkJ,KAAKkzD,WAAWD,GACpB,MAAM,IAAI7S,EAAW3B,EAAQwU,GAAK,sBAEnC,OAAOA,EAAE13D,MAAMi3D,EAAG5zD,IAInBu0D,YAAa1D,EAMbrD,SAAU,SAAkBgH,GAC3B,IAAIv9D,EAAQ06D,EAAY6C,GAAYA,EAAW3D,EAAY2D,EAAUxD,GACrE,GAAqB,iBAAV/5D,EACV,MAAM,IAAIuqD,EAAW,6CAEtB,GAAqB,iBAAVvqD,EAAoB,CAC9B,GAAIg7D,EAASh7D,GACZ,OAAOmK,KAAKosD,SAASsE,EAAapG,EAASz0D,EAAO,GAAI,IAChD,GAAIi7D,EAAQj7D,GAClB,OAAOmK,KAAKosD,SAASsE,EAAapG,EAASz0D,EAAO,GAAI,IAChD,GAAIo7D,EAASp7D,IAAUq7D,EAAoBr7D,GACjD,OAAOw9D,IAEP,IAAIC,EAxCG,SAAUz9D,GACpB,OAAO+8D,GAAS/8D,EAAO88D,GAAW,IAuCjBpsD,CAAK1Q,GACnB,GAAIy9D,IAAYz9D,EACf,OAAOmK,KAAKosD,SAASkH,GAIxB,OAAO1D,EAAQ/5D,IAahB09D,QAAS,SAAiBH,GACzB,IAAII,EAAWxzD,KAAKyzD,SAASL,GAC7B,OAAOI,GAAY,MAASA,EAAW,MAAUA,GAOlDE,OAAQ,SAAgBN,GACvB,IAAIO,EAAU3zD,KAAK4zD,QAAQR,GAC3B,OAAOO,GAAW,IAAOA,EAAU,IAAQA,GAI5CC,QAAS,SAAiBR,GACzB,IAAIxS,EAAS5gD,KAAKosD,SAASgH,GAC3B,GAAIzS,EAAOC,IAAsB,IAAXA,IAAiBsP,EAAUtP,GAAW,OAAO,EACnE,IAAIiT,EAASxD,EAAKzP,GAAU6Q,GAAOC,GAAK9Q,IACxC,OAAO0P,EAAIuD,EAAQ,MAIpBC,aAAc,SAAsBV,GACnC,IAAIxS,EAAS5gD,KAAKosD,SAASgH,GAC3B,GAAIzS,EAAOC,IAAWA,GAAU,EAAK,OAAO,EAC5C,GAAIA,GAAU,IAAQ,OAAO,IAC7B,IAAIlC,EAAI+S,GAAO2B,GACf,OAAI1U,EAAI,GAAMkC,EAAiBlC,EAAI,EAC/BkC,EAASlC,EAAI,GAAcA,EAC3BA,EAAI,GAAM,EAAYA,EAAI,EACvBA,GAIR8O,SAAU,SAAkB4F,GAC3B,GAAwB,iBAAbA,EACV,MAAM,IAAIhT,EAAW,6CAEtB,OAAO2J,EAAQqJ,IAIhBxH,SAAU,SAAkB/1D,GAE3B,OADAmK,KAAK+zD,uBAAuBl+D,GACrBm0D,EAAQn0D,IAIhBm+D,cAAe,SAAuBZ,GACrC,IAAIj9D,EAAM6J,KAAKmzD,YAAYC,EAAUrJ,GACrC,MAAsB,iBAAR5zD,EAAmBA,EAAM6J,KAAKwtD,SAASr3D,IAItD63D,SAAU,SAAkBoF,GAC3B,IAAIjoD,EAAMnL,KAAK+tD,UAAUqF,GACzB,OAAIjoD,GAAO,EAAY,EACnBA,EAAMilD,EAA2BA,EAC9BjlD,GAIR8oD,4BAA6B,SAAqCb,GACjE,GAAwB,oBAApB9zD,EAAM8zD,GACT,MAAM,IAAIhT,EAAW,oBAEtB,GAAiB,OAAbgT,EAAqB,OAAQ,EACjC,IAAI/8D,EAAI2J,KAAKosD,SAASgH,GACtB,OAAIpzD,KAAKksD,UAAUlsD,KAAKwtD,SAASn3D,GAAI+8D,GAAoB/8D,OAAzD,GAKD09D,uBAAwBlB,GAAIqB,qBAG5BzI,QAASkC,EAAO9wD,SAAW,SAAiBu2D,GAC3C,MAA2B,mBAApB9zD,EAAM8zD,IAOde,cAAe,SAAuBf,GACrC,MAA2B,mBAAbA,KAA6BA,EAAS58D,WAIrD49D,aAAcrE,EACX,SAAsBniD,GACvB,OAAI2iD,EAAY3iD,IAGTmkD,GAAcnkD,IAEpB,SAAsBA,GAAO,OAAO,GAGvCu+C,UAAW,SAAmBiH,GAC7B,GAAwB,iBAAbA,GAAyBzS,EAAOyS,KAAclD,EAAUkD,GAClE,OAAO,EAER,IAAIzB,EAAMD,GAAK0B,GACf,OAAO3B,GAAOE,KAASA,GAIxBjG,cAAe,SAAuB0H,GACrC,MAA2B,iBAAbA,GAA6C,iBAAbA,GAI/CiB,SAAU,SAAkBjB,GAC3B,IAAKA,GAAgC,iBAAbA,EACvB,OAAO,EAER,GAAIp8D,EAAY,CACf,IAAI4oD,EAAWwT,EAASvD,EAAQj+C,OAChC,QAAwB,IAAbguC,EACV,OAAOiT,GAAIyB,UAAU1U,GAGvB,OAAOkT,GAAiBM,IAOzBnF,cAAe,SAAuB72D,EAAGktD,GACxC,OAAQltD,IAAMktD,GAAO3D,EAAOvpD,IAAMupD,EAAO2D,IAU1CiQ,KAAM,SAAc/B,EAAGF,GAEtB,IAAKtyD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,kDAOtB,OAHQpgD,KAAK4rD,SAAS4G,GAGbF,IAYVrD,UAAW,SAAmBf,EAAGoE,GAEhC,IAAKtyD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,kDAItB,IAAIoU,EAAOx0D,KAAKu0D,KAAKrG,EAAGoE,GAGxB,GAAY,MAARkC,EAAJ,CAKA,IAAKx0D,KAAKkzD,WAAWsB,GACpB,MAAM,IAAIpU,EAAWkS,EAAI,qBAI1B,OAAOkC,IASRlI,IAAK,SAAa4B,EAAGoE,GAEpB,GAAqB,WAAjBtyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAGtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,uDAAyD3B,EAAQ6T,IAGvF,OAAOpE,EAAEoE,IAGV7V,KAAM,SAAcrlD,GACnB,MAAiB,iBAANA,EACH,SAEDy7D,GAAIpW,KAAKrlD,IAIjBq9D,mBAAoB,SAA4BvG,EAAGwG,GAClD,GAAqB,WAAjB10D,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAEtB,IAAI5D,EAAI0R,EAAEtoD,YACV,QAAiB,IAAN42C,EACV,OAAOkY,EAER,GAAqB,WAAjB10D,KAAKy8C,KAAKD,GACb,MAAM,IAAI4D,EAAW,kCAEtB,IAAIuU,EAAI39D,GAAc64D,EAAQ+E,QAAUpY,EAAEqT,EAAQ+E,cAAW,EAC7D,GAAS,MAALD,EACH,OAAOD,EAER,GAAI10D,KAAKm0D,cAAcQ,GACtB,OAAOA,EAER,MAAM,IAAIvU,EAAW,yBAItBqS,uBAAwB,SAAgCnS,GACvD,QAAoB,IAATA,EACV,OAAOA,EAGR2P,EAAajwD,KAAM,sBAAuB,OAAQsgD,GAElD,IAAI1yC,EAAM,GAmBV,MAlBI,cAAe0yC,IAClB1yC,EAAI/X,MAAQyqD,EAAK,cAEd,iBAAkBA,IACrB1yC,EAAImuC,SAAWuE,EAAK,iBAEjB,YAAaA,IAChB1yC,EAAInY,IAAM6qD,EAAK,YAEZ,YAAaA,IAChB1yC,EAAIuT,IAAMm/B,EAAK,YAEZ,mBAAoBA,IACvB1yC,EAAIpY,WAAa8qD,EAAK,mBAEnB,qBAAsBA,IACzB1yC,EAAIkuC,aAAewE,EAAK,qBAElB1yC,GAIRinD,2BAA4B,SAAoCvU,GAwB/D,OAvBA2P,EAAajwD,KAAM,sBAAuB,OAAQsgD,GAE9CtgD,KAAK80D,oBAAoBxU,IAAStgD,KAAKghD,iBAAiBV,IACtD3kD,EAAI2kD,EAAM,eACdA,EAAK,kBAAe,GAEhB3kD,EAAI2kD,EAAM,kBACdA,EAAK,iBAAkB,KAGnB3kD,EAAI2kD,EAAM,aACdA,EAAK,gBAAa,GAEd3kD,EAAI2kD,EAAM,aACdA,EAAK,gBAAa,IAGf3kD,EAAI2kD,EAAM,oBACdA,EAAK,mBAAoB,GAErB3kD,EAAI2kD,EAAM,sBACdA,EAAK,qBAAsB,GAErBA,GAIR9lD,IAAK,SAAa0zD,EAAGoE,EAAGE,EAAGuC,GAC1B,GAAqB,WAAjB/0D,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,uBAEtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,4BAEtB,GAAyB,YAArBpgD,KAAKy8C,KAAKsY,GACb,MAAM,IAAI3U,EAAW,2BAEtB,GAAI2U,EAEH,OADA7G,EAAEoE,GAAKE,GACA,EAEP,IACCtE,EAAEoE,GAAKE,EACN,MAAOnzD,GACR,OAAO,IAMV21D,eAAgB,SAAwB9G,EAAGoE,GAC1C,GAAqB,WAAjBtyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,uBAEtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,4BAEtB,OAAOzkD,EAAIuyD,EAAGoE,IAIf2C,YAAa,SAAqB/G,EAAGoE,GACpC,GAAqB,WAAjBtyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,uBAEtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,4BAEtB,OAAOkS,KAAKpE,GAIbgH,mBAAoB,SAA4BhH,GAC/C,GAAqB,WAAjBluD,KAAKy8C,KAAKyR,GACb,OAAO,EAER,GAAIl3D,GAAoD,iBAA/B64D,EAAQsF,mBAAiC,CACjE,IAAIC,EAAap1D,KAAKssD,IAAI4B,EAAGv4D,OAAOw/D,oBACpC,QAA0B,IAAfC,EACV,OAAOp1D,KAAKs0D,UAAUc,GAGxB,OAAOp1D,KAAKyrD,QAAQyC,IAIrBmH,OAAQ,SAAgBnH,EAAGoE,GAC1B,IAAKtyD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,4BAEtB,IAAIkV,EAAgB1E,EAAW95D,UAAW,GACtC09D,EAAOx0D,KAAKu0D,KAAKrG,EAAGoE,GACxB,OAAOtyD,KAAKgzD,KAAKwB,EAAMtG,EAAGoH,IAI3B/G,YAAa,SAAqB3gD,EAAK2V,GACtC,IAAIgyC,EAAehyC,EACnB,GAAIzsB,UAAUqE,OAAS,EAAG,CACzB,IAAKnE,EACJ,MAAM,IAAI2D,YAAY,4EAEvB46D,EAAev1D,KAAKivD,UAAUrhD,EAAKiiD,EAAQ54D,UAE5C,IAAIA,EAAW+I,KAAKgzD,KAAKuC,EAAc3nD,GACvC,GAA4B,WAAxB5N,KAAKy8C,KAAKxlD,GACb,MAAM,IAAImpD,EAAW,kCAGtB,OAAOnpD,GAIRu+D,aAAc,SAAsBv+D,EAAUpB,GAC7C,IAAIoM,EAASjC,KAAKq1D,OAAOp+D,EAAU,OAAQH,UAAUqE,OAAS,EAAI,GAAK,CAACtF,IACxE,GAA0B,WAAtBmK,KAAKy8C,KAAKx6C,GACb,MAAM,IAAIm+C,EAAW,uCAEtB,OAAOn+C,GAIRwzD,iBAAkB,SAA0BC,GAC3C,GAA8B,WAA1B11D,KAAKy8C,KAAKiZ,GACb,MAAM,IAAItV,EAAW,oDAEtB,OAAOpgD,KAAKs0D,UAAUt0D,KAAKssD,IAAIoJ,EAAY,UAI5ChH,cAAe,SAAuBgH,GACrC,GAA8B,WAA1B11D,KAAKy8C,KAAKiZ,GACb,MAAM,IAAItV,EAAW,oDAEtB,OAAOpgD,KAAKssD,IAAIoJ,EAAY,UAI7BlH,aAAc,SAAsBv3D,GACnC,IAAIgL,EAASjC,KAAKw1D,aAAav+D,GAE/B,OAAgB,IADL+I,KAAKy1D,iBAAiBxzD,IACFA,GAIhC0zD,cAAe,SAAuB1+D,EAAU2+D,GAC/C,GAA4B,WAAxB51D,KAAKy8C,KAAKxlD,GACb,MAAM,IAAImpD,EAAW,kDAEtB,IAAKpgD,KAAKkzD,WAAW0C,GACpB,MAAM,IAAIxV,EAAW,uEAEtB,IAQIyV,EARAC,EAAkBF,EAElBG,EAAiB/1D,KAAKivD,UAAUh4D,EAAU,UAE9C,QAA8B,IAAnB8+D,EACV,OAAOD,IAIR,IACC,IAAIE,EAAch2D,KAAKgzD,KAAK+C,EAAgB9+D,EAAU,IACrD,MAAOoI,GAQR,MAJAw2D,EAAmBC,IACnBA,EAAkB,KAGZz2D,EAKP,GAHAw2D,EAAmBC,IACnBA,EAAkB,KAEa,WAA3B91D,KAAKy8C,KAAKuZ,GACb,MAAM,IAAI5V,EAAW,0CAGtB,OAAOyV,GAIRI,uBAAwB,SAAgCpgE,EAAOse,GAC9D,GAAwB,YAApBnU,KAAKy8C,KAAKtoC,GACb,MAAM,IAAIisC,EAAW,+CAEtB,MAAO,CACNvqD,MAAOA,EACPse,KAAMA,IAKR+hD,WAAY,SAAoBC,EAAGxB,GAClC,GAAqB,WAAjB30D,KAAKy8C,KAAK0Z,GACb,MAAM,IAAI/V,EAAW,uBAEtB,GAAqB,WAAjBpgD,KAAKy8C,KAAKkY,GACb,MAAM,IAAIvU,EAAW,sBAEtB,IAAI98C,EAAOtD,KAAKssD,IAAI6J,EAAG,QACvB,GAAIn2D,KAAKkzD,WAAW5vD,GAAO,CAC1B,IAAIrB,EAASjC,KAAKgzD,KAAK1vD,EAAM6yD,EAAG,CAACxB,IACjC,GAAe,OAAX1yD,GAAyC,WAAtBjC,KAAKy8C,KAAKx6C,GAChC,OAAOA,EAER,MAAM,IAAIm+C,EAAW,iDAEtB,OAAO2Q,EAAUoF,EAAGxB,IAIrByB,mBAAoB,SAA4BC,EAAel7D,GAC9D,IAAK6E,KAAKmsD,UAAUhxD,IAAWA,EAAS,EACvC,MAAM,IAAIilD,EAAW,oDAEtB,IACI5D,EADArxC,EAAiB,IAAXhQ,EAAe,EAAIA,EAiB7B,GAfc6E,KAAKyrD,QAAQ4K,KAE1B7Z,EAAIx8C,KAAKssD,IAAI+J,EAAe,eAMP,WAAjBr2D,KAAKy8C,KAAKD,IAAmBxlD,GAAc64D,EAAQ+E,SAE5C,QADVpY,EAAIx8C,KAAKssD,IAAI9P,EAAGqT,EAAQ+E,YAEvBpY,OAAI,SAIU,IAANA,EACV,OAAOmR,EAAOxiD,GAEf,IAAKnL,KAAKm0D,cAAc3X,GACvB,MAAM,IAAI4D,EAAW,2BAEtB,OAAO,IAAI5D,EAAErxC,IAGdohD,mBAAoB,SAA4B2B,EAAGoE,EAAGE,GACrD,GAAqB,WAAjBxyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAEtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,kDAEtB,IAAIkW,EAAUzE,GAAM3D,EAAGoE,GACnBiE,EAAaD,GAAWt2D,KAAKo0D,aAAalG,GAE9C,QADgBoI,KAAaA,EAAQva,WAAaua,EAAQxa,gBACxCya,IAGXlE,GAAkBryD,KAAMkuD,EAAGoE,EAAG,CACpC,oBAAoB,EACpB,kBAAkB,EAClB,YAAaE,EACb,gBAAgB,KAKlBgE,0BAA2B,SAAmCtI,EAAGoE,EAAGE,GACnE,GAAqB,WAAjBxyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAEtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,kDAEtB,IAAI/1C,EAAUrK,KAAKusD,mBAAmB2B,EAAGoE,EAAGE,GAC5C,IAAKnoD,EACJ,MAAM,IAAI+1C,EAAW,kCAEtB,OAAO/1C,GAIRosD,aAAc,SAAsBrE,EAAOsE,GAC1C,GAAc,OAAVtE,GAAuC,WAArBpyD,KAAKy8C,KAAK2V,GAC/B,MAAM,IAAIhS,EAAW,qDAEtB,IAAIuW,EAAQ7/D,UAAUqE,OAAS,EAAI,GAAKu7D,EACxC,GAAIC,EAAMx7D,OAAS,EAClB,MAAM,IAAIklD,EAAa,mDAGxB,GAAc,OAAV+R,IAAmBR,GACtB,MAAM,IAAIvR,EAAa,mEAGxB,OAAOuR,GAAcQ,IAItBlD,mBAAoB,SAA4ByF,EAAGz8C,EAAO0+C,GACzD,GAAqB,WAAjB52D,KAAKy8C,KAAKkY,GACb,MAAM,IAAIvU,EAAW,sBAEtB,IAAKpgD,KAAKmsD,UAAUj0C,IAAUA,EAAQ,GAAKA,EAAQk4C,EAClD,MAAM,IAAIhQ,EAAW,iEAEtB,GAA2B,YAAvBpgD,KAAKy8C,KAAKma,GACb,MAAM,IAAIxW,EAAW,+CAEtB,IAAKwW,EACJ,OAAO1+C,EAAQ,EAGhB,GAAKA,EAAQ,GADAy8C,EAAEx5D,OAEd,OAAO+c,EAAQ,EAGhB,IAAInW,EAAQovD,EAAYwD,EAAGz8C,GAC3B,GAAInW,EAAQ,OAAUA,EAAQ,MAC7B,OAAOmW,EAAQ,EAGhB,IAAIzN,EAAS0mD,EAAYwD,EAAGz8C,EAAQ,GACpC,OAAIzN,EAAS,OAAUA,EAAS,MACxByN,EAAQ,EAGTA,EAAQ,GAIhB2+C,qBAAsB,SAA8B3I,EAAGoE,EAAGE,GACzD,GAAqB,WAAjBxyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAGtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,kDAStB,OAAOiS,GAAkBryD,KAAMkuD,EAAGoE,EANpB,CACb,oBAAoB,EACpB,kBAAkB,EAClB,YAAaE,EACb,gBAAgB,KAMlBsE,sBAAuB,SAA+B5I,EAAGoE,EAAGC,GAC3D,GAAqB,WAAjBvyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAGtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,kDAGtB,IAAIE,EAAOmQ,EAAqBzwD,KAAMuyD,GAAQA,EAAOvyD,KAAK+2D,qBAAqBxE,GAC/E,IAAK9B,EAAqBzwD,KAAMsgD,GAC/B,MAAM,IAAIF,EAAW,6DAGtB,OAAOiS,GAAkBryD,KAAMkuD,EAAGoE,EAAGhS,IAItC0W,sBAAuB,SAA+B9I,EAAGoE,GACxD,GAAqB,WAAjBtyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAGtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,kDAGtB,IAAI/1C,SAAiB6jD,EAAEoE,GACvB,IAAKjoD,EACJ,MAAM,IAAItT,UAAU,sCAErB,OAAOsT,GAIR+jD,mBAAoB,SAA4BF,GAC/C,GAAqB,WAAjBluD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAGtB,OAAOroD,EAAKm2D,IAIb+I,gBAAiB,SAAyBphE,GACzC,MAAyB,WAArBmK,KAAKy8C,KAAK5mD,GACNA,EAGDu7D,EAAev7D,IAIvBqhE,iBAAkB,SAA0BrhE,GAC3C,MAAyB,YAArBmK,KAAKy8C,KAAK5mD,GACNA,EAGDw7D,EAAgBx7D,IAIxBshE,gBAAiB,SAAyBthE,GACzC,MAAyB,WAArBmK,KAAKy8C,KAAK5mD,GACNA,EAGDy7D,EAAez7D,IAIvBuhE,cAAe,SAAuBvhE,GACrC,OAAO07D,EAAa17D,IAIrBwhE,kBAAmB,SAA2BnJ,EAAG5oD,GAChD,GAAqB,WAAjBtF,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAEtB,GAAc,WAAV96C,GAAgC,WAAVA,EACzB,MAAM,IAAI86C,EAAW,8DAEtB,IAAK2P,EACJ,MAAM,IAAI1P,EAAa,wEAGxB,IADa0P,EAAmB7B,GAE/B,OAAO,EAER,IAAK4D,GACJ,MAAM,IAAIzR,EAAa,0EAExB,IAAIkJ,EAAUuI,GAAM5D,GAChB7R,EAAKr8C,KAmBT,MAlBc,WAAVsF,EACHxN,EAAQyxD,GAAS,SAAUF,GAC1BhN,EAAGya,sBAAsB5I,EAAG7E,EAAG,CAAEvN,cAAc,OAE5B,WAAVx2C,GACVxN,EAAQyxD,GAAS,SAAUF,GAC1B,IAEKkJ,EAFD+E,EAAczF,GAAM3D,EAAG7E,QACA,IAAhBiO,IAGT/E,EADGlW,EAAG4E,qBAAqB5E,EAAG0a,qBAAqBO,IAC5C,CAAExb,cAAc,GAEhB,CAAEA,cAAc,EAAOC,UAAU,GAEzCM,EAAGya,sBAAsB5I,EAAG7E,EAAGkJ,QAI3B,GAIRgF,mBAAoB,SAA4BrJ,EAAG5oD,GAClD,GAAqB,WAAjBtF,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAEtB,GAAc,WAAV96C,GAAgC,WAAVA,EACzB,MAAM,IAAI86C,EAAW,8DAGtB,GADapgD,KAAKo0D,aAAalG,GAE9B,OAAO,EAER,IAAI3E,EAAUuI,GAAM5D,GAChB7R,EAAKr8C,KACT,OAA0B,IAAnBupD,EAAQpuD,QAAgB2uD,EAAMP,GAAS,SAAUF,GACvD,IAAIiO,EAAczF,GAAM3D,EAAG7E,GAC3B,QAA2B,IAAhBiO,EAA6B,CACvC,GAAIA,EAAYxb,aACf,OAAO,EAER,GAAc,WAAVx2C,GAAsB+2C,EAAG2E,iBAAiB3E,EAAG0a,qBAAqBO,KAAiBA,EAAYvb,SAClG,OAAO,EAGT,OAAO,MAKTyb,oBAAqB,SAA6Bhb,EAAG0R,GACpD,IAA2B,IAAvBluD,KAAKkzD,WAAW1W,GACnB,OAAO,EAER,GAAqB,WAAjBx8C,KAAKy8C,KAAKyR,GACb,OAAO,EAER,IAAIoE,EAAItyD,KAAKssD,IAAI9P,EAAG,aACpB,GAAqB,WAAjBx8C,KAAKy8C,KAAK6V,GACb,MAAM,IAAIlS,EAAW,+EAEtB,OAAO8N,aAAa1R,GAIrBib,oBAAqB,SAA6BvJ,EAAGoE,GACpD,GAAqB,WAAjBtyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAEtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,8CAEtB,OAAOkS,KAAKpE,GAIbwJ,mBAAoB,SAA4BxJ,EAAG1R,GAClD,GAAqB,WAAjBx8C,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAEtB,IAAIuX,EAAgB3gE,GAAc64D,EAAQ+H,YAAc53D,KAAKivD,UAAUzS,EAAGqT,EAAQ+H,kBAAe,EACjG,QAA6B,IAAlBD,EACV,OAAO33D,KAAKs0D,UAAUt0D,KAAKgzD,KAAK2E,EAAenb,EAAG,CAAC0R,KAEpD,IAAKluD,KAAKkzD,WAAW1W,GACpB,MAAM,IAAI4D,EAAW,uBAEtB,OAAOpgD,KAAKw3D,oBAAoBhb,EAAG0R,IAIpC2J,UAAW,SAAmBzgE,GAC7B,GAAqB,WAAjB4I,KAAKy8C,KAAKrlD,GACb,OAAO,EAER,IAAK04D,EACJ,OAAO,EAER,IACCa,EAAav5D,GACZ,MAAOiI,GACR,OAAO,EAER,OAAO,GAIR,+BAAgC,SAAoCjI,EAAGktD,GACtE,IAAIwT,EAAQ93D,KAAKy8C,KAAKrlD,GAClB2gE,EAAQ/3D,KAAKy8C,KAAK6H,GACtB,OAAIwT,IAAUC,EACN3gE,IAAMktD,EAEL,MAALltD,GAAkB,MAALktD,IAGH,WAAVwT,GAAgC,WAAVC,EAClB/3D,KAAK,gCAAgC5I,EAAG4I,KAAKosD,SAAS9H,IAEhD,WAAVwT,GAAgC,WAAVC,EAClB/3D,KAAK,gCAAgCA,KAAKosD,SAASh1D,GAAIktD,GAEjD,YAAVwT,EACI93D,KAAK,gCAAgCA,KAAKosD,SAASh1D,GAAIktD,GAEjD,YAAVyT,EACI/3D,KAAK,gCAAgC5I,EAAG4I,KAAKosD,SAAS9H,IAE/C,WAAVwT,GAAgC,WAAVA,GAAgC,WAAVA,GAAiC,WAAVC,EAG1D,WAAVD,IAAiC,WAAVC,GAAgC,WAAVA,GAAgC,WAAVA,IAC/D/3D,KAAK,gCAAgCA,KAAKmzD,YAAY/7D,GAAIktD,GAH1DtkD,KAAK,gCAAgC5I,EAAG4I,KAAKmzD,YAAY7O,MASlE0T,mCAAoC,SAA4C9J,EAAGoE,EAAGiE,EAAYjW,EAAM0M,GAEvG,IAAIiL,EAAQj4D,KAAKy8C,KAAKyR,GACtB,GAAc,cAAV+J,GAAmC,WAAVA,EAC5B,MAAM,IAAI7X,EAAW,sDAEtB,GAA8B,YAA1BpgD,KAAKy8C,KAAK8Z,GACb,MAAM,IAAInW,EAAW,kDAEtB,IAAKqQ,EAAqBzwD,KAAMsgD,GAC/B,MAAM,IAAIF,EAAW,wDAEtB,GAA2B,cAAvBpgD,KAAKy8C,KAAKuQ,KAA6ByD,EAAqBzwD,KAAMgtD,GACrE,MAAM,IAAI5M,EAAW,yEAEtB,GAAc,cAAV6X,IAA0Bj4D,KAAK0rD,cAAc4G,GAChD,MAAM,IAAIlS,EAAW,qEAEtB,GAA2B,cAAvBpgD,KAAKy8C,KAAKuQ,GAA0B,CACvC,IAAKuJ,EACJ,OAAO,EAER,GAAIv2D,KAAK80D,oBAAoBxU,IAAStgD,KAAKghD,iBAAiBV,GAC7C,cAAV2X,GACH5F,GAAkBryD,KAAMkuD,EAAGoE,EAAG,CAC7B,mBAAoBhS,EAAK,oBACzB,iBAAkBA,EAAK,kBACvB,YAAaA,EAAK,aAClB,eAAgBA,EAAK,sBAGjB,CACN,IAAKtgD,KAAKihD,qBAAqBX,GAC9B,MAAM,IAAIF,EAAW,wDAEtB,GAAc,cAAV6X,EACH,OAAO5F,GAAkBryD,KAAMkuD,EAAGoE,EAAGhS,GAGvC,OAAO,EAER,GAAItgD,KAAK80D,oBAAoBxU,MAAW,qBAAsBA,MAAW,mBAAoBA,GAC5F,OAAO,EAER,GAAIkQ,EAAyBxwD,KAAMsgD,EAAM0M,GACxC,OAAO,EAGR,IAAKA,EAAQ,oBAAqB,CACjC,GAAI1M,EAAK,oBACR,OAAO,EAER,GAAI,mBAAoBA,IAASA,EAAK,qBAAwB0M,EAAQ,kBACrE,OAAO,EAGT,GAAIhtD,KAAK80D,oBAAoBxU,SAEtB,GAAItgD,KAAKghD,iBAAiBgM,KAAahtD,KAAKghD,iBAAiBV,GAAO,CAC1E,IAAK0M,EAAQ,oBACZ,OAAO,EAEJhtD,KAAKghD,iBAAiBgM,GACX,cAAViL,GACH5F,GAAkBryD,KAAMkuD,EAAGoE,EAAG,CAC7B,mBAAoBtF,EAAQ,oBAC5B,iBAAkBA,EAAQ,kBAC1B,eAAWz1D,IAGO,cAAV0gE,GACV5F,GAAkBryD,KAAMkuD,EAAGoE,EAAG,CAC7B,mBAAoBtF,EAAQ,oBAC5B,iBAAkBA,EAAQ,kBAC1B,iBAAaz1D,SAGT,GAAIyI,KAAKghD,iBAAiBgM,IAAYhtD,KAAKghD,iBAAiBV,IAClE,IAAK0M,EAAQ,sBAAwBA,EAAQ,gBAC5C,QAAI,iBAAkB1M,GAAQA,EAAK,oBAG/B,cAAeA,IAAStgD,KAAKksD,UAAU5L,EAAK,aAAc0M,EAAQ,mBAKjE,KAAIhtD,KAAKihD,qBAAqB+L,KAAYhtD,KAAKihD,qBAAqBX,GAW1E,MAAM,IAAIF,EAAW,uGAVrB,IAAK4M,EAAQ,oBACZ,QAAI,YAAa1M,IAAStgD,KAAKksD,UAAU5L,EAAK,WAAY0M,EAAQ,gBAG9D,YAAa1M,IAAStgD,KAAKksD,UAAU5L,EAAK,WAAY0M,EAAQ,aAQpE,MAAc,cAAViL,GACI5F,GAAkBryD,KAAMkuD,EAAGoE,EAAGhS,IAMvC4X,0BAA2B,SAAmChK,EAAGoE,EAAGhS,GACnE,GAAqB,WAAjBtgD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,yCAEtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,8CAEtB,IAAKqQ,EAAqBzwD,KAAMsgD,GAC/B,MAAM,IAAIF,EAAW,wDAEtB,IAAImS,EAAOV,GAAM3D,EAAGoE,GAChBtF,EAAUuF,GAAQvyD,KAAK+2D,qBAAqBxE,GAC5CgE,EAAav2D,KAAKo0D,aAAalG,GACnC,OAAOluD,KAAKg4D,mCAAmC9J,EAAGoE,EAAGiE,EAAYjW,EAAM0M,IAIxEmL,uBAAwB,SAAgCjK,EAAGoE,GAC1D,GAAqB,WAAjBtyD,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,yCAEtB,IAAKpgD,KAAK0rD,cAAc4G,GACvB,MAAM,IAAIlS,EAAW,8CAEtB,GAAKzkD,EAAIuyD,EAAGoE,GAAZ,CAGA,IAAKT,GAAO,CAEX,IAAIuG,EAAcp4D,KAAKyrD,QAAQyC,IAAY,WAANoE,EACjC+F,EAAiBr4D,KAAKq0D,SAASnG,IAAY,cAANoE,EACzC,MAAO,CACN,qBAAsB8F,GAAeC,GACrC,iBAAkBzN,EAAcsD,EAAGoE,GACnC,YAAapE,EAAEoE,GACf,gBAAgB,GAGlB,OAAOtyD,KAAK+2D,qBAAqBlF,GAAM3D,EAAGoE,MAI3CgG,YAAa,SAAqBn9D,GACjC,IAAK6E,KAAKmsD,UAAUhxD,IAAWA,EAAS,EACvC,MAAM,IAAIilD,EAAW,6DAEtB,GAAIjlD,EAASg1D,EACZ,MAAM,IAAIT,EAAY,sCAEvB,IAAI0C,EAAQt7D,UAAUqE,OAAS,EAAIrE,UAAU,GAAK64D,EAC9C4I,EAAI,GACR,GAAInG,IAAUzC,EAAiB,CAC9B,IAAKuC,GACJ,MAAM,IAAI7R,EAAa,oJAExB6R,GAAUqG,EAAGnG,GAad,OAXe,IAAXj3D,IACHo9D,EAAEp9D,OAASA,GAULo9D,GAIRC,eAAgB,SAAwBD,EAAGjY,GAC1C,IAAKtgD,KAAKyrD,QAAQ8M,GACjB,MAAM,IAAInY,EAAW,wCAEtB,IAAKqQ,EAAqBzwD,KAAMsgD,GAC/B,MAAM,IAAIF,EAAW,wDAEtB,KAAM,cAAeE,GACpB,OAAOtgD,KAAKk4D,0BAA0BK,EAAG,SAAUjY,GAEpD,IAAImY,EAAa58D,EAAO,GAAIykD,GACxBoY,EAAS14D,KAAK24D,SAASrY,EAAK,cAEhC,GAAIoY,IADY14D,KAAKosD,SAAS9L,EAAK,cAElC,MAAM,IAAIoP,EAAY,wBAEvB+I,EAAW,aAAeC,EAC1B,IAAIE,EAAa54D,KAAKm4D,uBAAuBI,EAAG,UAChD,IAAKv4D,KAAKghD,iBAAiB4X,GAC1B,MAAM,IAAIxY,EAAW,oEAEtB,IAOIyY,EAPAC,EAASF,EAAW,aACxB,GAAIF,GAAUI,EACb,OAAO94D,KAAKk4D,0BAA0BK,EAAG,SAAUE,GAEpD,IAAKG,EAAW,gBACf,OAAO,EAUR,GAPM,iBAAkBH,IAAeA,EAAW,iBAGjDI,GAAc,EACdJ,EAAW,iBAAkB,GAH7BI,GAAc,GAKC74D,KAAKk4D,0BAA0BK,EAAG,SAAUE,GAE3D,OAAO,EAER,KAAOC,EAASI,GAAQ,CAGvB,GAFAA,GAAU,UACmBP,EAAEv4D,KAAKwtD,SAASsL,MAE5CL,EAAW,aAAeK,EAAS,GAC9BD,GAGJ,OAFAJ,EAAW,iBAAkB,EAC7Bz4D,KAAKk4D,0BAA0BK,EAAG,SAAUE,IACrC,EAIV,QAAKI,GACG74D,KAAKk4D,0BAA0BK,EAAG,SAAU,CAAE,gBAAgB,KAMvEQ,WAAY,SAAoBzyD,EAAQ0yD,EAAKC,EAAWpjE,GACvD,GAAuB,WAAnBmK,KAAKy8C,KAAKuc,IAA8C,WAAzBh5D,KAAKy8C,KAAKwc,GAC5C,MAAM,IAAI7Y,EAAW,2DAEtB,IAAI35C,EAAMzG,KAAK+zD,uBAAuBztD,GAClCquD,EAAI30D,KAAKwtD,SAAS/mD,GAClByyD,EAAK,IAAMF,EACf,GAAkB,KAAdC,EAAkB,CACrB,IAAIzG,EAAIxyD,KAAKwtD,SAAS33D,GAEtBqjE,GAAM,IAASD,EAAY,KADZrG,GAASJ,EAAG,QAAS,UACe,IAEpD,OAAO0G,EAAK,IAAMvE,EAAI,KAAOqE,EAAM,KAIpCG,mBAAoB,SAA4BjL,EAAGzR,GAClD,GAAqB,WAAjBz8C,KAAKy8C,KAAKyR,GACb,MAAM,IAAI9N,EAAW,2CAEtB,GAAa,WAAT3D,EACH,OAAOzlD,GAAc8zD,GAAQA,GAAMoD,GAAK,GAEzC,GAAa,WAATzR,EACH,OAAKqV,GAGEA,GAAM5D,GAFLn2D,EAAKm2D,GAId,MAAM,IAAI9N,EAAW,8DAItBgZ,wBAAyB,SAAiChK,GACzD,GAAuB,WAAnBpvD,KAAKy8C,KAAK2S,GACb,MAAM,IAAIhP,EAAW,4CAEtB,OAAOoR,EAAgBpC,IAKxB5C,gBAAiB,SAAyBC,EAAShmD,EAAK4O,EAAUq3C,EAAUj/B,GAC3E,GAA2B,WAAvBztB,KAAKy8C,KAAKgQ,GACb,MAAM,IAAIrM,EAAW,gDAEtB,IAAIwM,EAAcH,EAAQtxD,OAE1B,GAAuB,WAAnB6E,KAAKy8C,KAAKh2C,GACb,MAAM,IAAI25C,EAAW,4CAEtB,IAAIyM,EAAepmD,EAAItL,OAEvB,IAAK6E,KAAKmsD,UAAU92C,IAAaA,EAAW,GAAKA,EAAWw3C,EAC3D,MAAM,IAAIzM,EAAW,qHAAuH3B,EAAQppC,IAGrJ,IAAIgnC,EAAKr8C,KAET,IAAKA,KAAKyrD,QAAQiB,KAAc5C,EAAM4C,GADjB,SAAUI,EAAS50C,EAAOjN,GAAO,MAA4B,WAArBoxC,EAAGI,KAAKqQ,MAA2B50C,KAASjN,MAExG,MAAM,IAAIm1C,EAAW,+DAAiE3B,EAAQiO,IAG/F,GAA+B,WAA3B1sD,KAAKy8C,KAAKhvB,GACb,MAAM,IAAI2yB,EAAW,oDAOtB,IAJA,IAAI2M,EAAU13C,EAAWu3C,EACrB53D,EAAI03D,EAASvxD,OAEb8G,EAAS,GACJrN,EAAI,EAAGA,EAAI64B,EAAYtyB,OAAQvG,GAAK,EAAG,CAE/C,IAAIo4D,EAAUv/B,EAAY74B,GACtBq4D,EAAUr4D,EAAI,GAAM64B,EAAYtyB,OAChC+xD,EAAct4D,EAAI,GAAM64B,EAAYtyB,OACxC,GAAgB,MAAZ6xD,GAAoBC,EAmCvBhrD,GAAUwrB,EAAY74B,OAnCS,CAC/B,IAAIwJ,EAAOqvB,EAAY74B,EAAI,GAC3B,GAAa,MAATwJ,EACH6D,GAAU,IACVrN,GAAK,OACC,GAAa,MAATwJ,EACV6D,GAAUwqD,EACV73D,GAAK,OACC,GAAa,MAATwJ,EACV6D,GAAuB,IAAboT,EAAiB,GAAKi1C,EAAS7jD,EAAK,EAAG4O,EAAW,GAC5DzgB,GAAK,OACC,GAAa,MAATwJ,EACV6D,GAAU8qD,GAAWF,EAAe,GAAKvC,EAAS7jD,EAAKsmD,GACvDn4D,GAAK,MACC,CACN,IAAIu4D,EAAWD,EAAa,KAAOz/B,EAAY74B,EAAI,GACnD,IAAI61D,EAAQrsD,IAAkB,MAATA,IAAiB8uD,GAAezC,EAAQ0C,GAMtD,GAAI1C,EAAQrsD,KAAU8uD,GAAczC,EAAQ0C,IAAY,CAE9D,IAAIC,EAAKhvD,EAAO+uD,EACZE,EAAMqD,EAAatD,EAAI,IAAM,EAEjCnrD,GAAWmrD,GAAMp4D,GAAkC,cAA7BgL,KAAKy8C,KAAKiQ,EAASW,IAAyB,GAAKX,EAASW,GAChFz4D,GAAK,OAELqN,GAAU,QAd8D,CAExE,IAAI5L,EAAIq6D,EAAatyD,EAAM,IAE3B6D,GAAW5L,GAAKrB,GAAoC,cAA/BgL,KAAKy8C,KAAKiQ,EAASr2D,EAAI,IAAuB,GAAKq2D,EAASr2D,EAAI,GACrFzB,GAAK,KAiBT,OAAOqN,YAIF8wD,GAAImB,qBAEXv/D,EAAOD,QAAUq+D,I,6BCn2CjBp+D,EAAOD,QAAU,EAAQ,K,6BCAzB,IAAIsC,EAA+B,mBAAXrB,QAAoD,iBAApBA,OAAOsB,SAE3Ds5D,EAAc,EAAQ,IACtB8I,EAAa,EAAQ,GACrB1Z,EAAS,EAAQ,IACjBjC,EAAW,EAAQ,IAEnB4b,EAAsB,SAA6BpL,EAAGqL,GACzD,GAAI,MAAOrL,EACV,MAAM,IAAIn3D,UAAU,yBAA2Bm3D,GAEhD,GAAoB,iBAATqL,GAA+B,WAATA,GAA8B,WAATA,EACrD,MAAM,IAAIxiE,UAAU,qCAErB,IACIwsB,EAAQthB,EAAQrN,EADhB4kE,EAAuB,WAATD,EAAoB,CAAC,WAAY,WAAa,CAAC,UAAW,YAE5E,IAAK3kE,EAAI,EAAGA,EAAI4kE,EAAYr+D,SAAUvG,EAErC,GADA2uB,EAAS2qC,EAAEsL,EAAY5kE,IACnBykE,EAAW91C,KACdthB,EAASshB,EAAOxuB,KAAKm5D,GACjBqC,EAAYtuD,IACf,OAAOA,EAIV,MAAM,IAAIlL,UAAU,qBAGjBk4D,EAAY,SAAmBf,EAAGoE,GACrC,IAAIkC,EAAOtG,EAAEoE,GACb,GAAIkC,QAA8C,CACjD,IAAK6E,EAAW7E,GACf,MAAM,IAAIz9D,UAAUy9D,EAAO,0BAA4BlC,EAAI,cAAgBpE,EAAI,sBAEhF,OAAOsG,IAMT7/D,EAAOD,QAAU,SAAqBwT,GACrC,GAAIqoD,EAAYroD,GACf,OAAOA,EAER,IASIuxD,EATAF,EAAO,UAiBX,GAhBIziE,UAAUqE,OAAS,IAClBrE,UAAU,KAAO4D,OACpB6+D,EAAO,SACGziE,UAAU,KAAO2C,SAC3B8/D,EAAO,WAKLviE,IACCrB,OAAO85D,YACVgK,EAAexK,EAAU/mD,EAAOvS,OAAO85D,aAC7B/R,EAASx1C,KACnBuxD,EAAe9jE,OAAOa,UAAUmD,eAGN,IAAjB8/D,EAA8B,CACxC,IAAIx3D,EAASw3D,EAAa1kE,KAAKmT,EAAOqxD,GACtC,GAAIhJ,EAAYtuD,GACf,OAAOA,EAER,MAAM,IAAIlL,UAAU,gDAKrB,MAHa,YAATwiE,IAAuB5Z,EAAOz3C,IAAUw1C,EAASx1C,MACpDqxD,EAAO,UAEDD,EAAoBpxD,EAAgB,YAATqxD,EAAqB,SAAWA,K,6BCvEnE,IAAIG,EAASrhE,KAAK7B,UAAUkjE,OAUxBp6D,EAAQhK,OAAOkB,UAAUkD,SAEzB6F,EAAmC,mBAAX5J,QAAuD,iBAAvBA,OAAOC,YAEnEjB,EAAOD,QAAU,SAAsBmB,GACtC,MAAqB,iBAAVA,GAAgC,OAAVA,IAC1B0J,EAfY,SAAuB1J,GAC1C,IAEC,OADA6jE,EAAO3kE,KAAKc,IACL,EACN,MAAOwJ,GACR,OAAO,GAUgBs6D,CAAc9jE,GALvB,kBAKgCyJ,EAAMvK,KAAKc,M,6BChB3D,IAAIyJ,EAAQhK,OAAOkB,UAAUkD,SAG7B,GAFiB,EAAQ,EAAR,GAED,CACf,IAAIkgE,EAAWjkE,OAAOa,UAAUkD,SAC5BmgE,EAAiB,iBAQrBllE,EAAOD,QAAU,SAAkBmB,GAClC,GAAqB,iBAAVA,EACV,OAAO,EAER,GAA0B,oBAAtByJ,EAAMvK,KAAKc,GACd,OAAO,EAER,IACC,OAfmB,SAA4BA,GAChD,MAA+B,iBAApBA,EAAM8D,WAGVkgE,EAAez6D,KAAKw6D,EAAS7kE,KAAKc,IAWjCikE,CAAejkE,GACrB,MAAOwJ,GACR,OAAO,SAKT1K,EAAOD,QAAU,SAAkBmB,GAElC,OAAO,I,6BC9BTlB,EAAOD,QAAU,SAAqBmB,GACrC,OAAiB,OAAVA,GAAoC,mBAAVA,GAAyC,iBAAVA,I,6BCDjE,IAAIi0D,EAAQ,EAAQ,IAEpBn1D,EAAOD,QAAU,SAAkC2nD,EAAI0d,EAAIC,GAS1D,OAAOlQ,EARM,CACZ,mBACA,iBACA,UACA,UACA,YACA,iBAEoB,SAAUmQ,GAC9B,OAAKA,KAASF,GAASE,KAASD,GAGzB3d,EAAG6P,UAAU6N,EAAGE,GAAQD,EAAGC,S,6BCfpC,IAAI5+D,EAAe,EAAQ,GAEvB2uD,EAAU3uD,EAAa,YACvB+kD,EAAa/kD,EAAa,eAC1B0uD,EAAU1uD,EAAa,YACvBu0D,EAAUv0D,EAAa,YAEvB40D,EAAe,EAAQ,IACvBQ,EAAuB,EAAQ,IAC/B9P,EAAS,EAAQ,IACjBuP,EAAY,EAAQ,IAEpBG,EAAO,EAAQ,IACfC,EAAM,EAAQ,IAEd4C,EAAa,EAAQ,GACrBzD,EAAc,EAAQ,IAEtB9zD,EAAM,EAAQ,GAGd2uD,EADW,EAAQ,EACRT,CAASE,EAAQvzD,UAAU8H,OAEtC47D,EAAa,SAAoBlsD,EAAQ1H,GAC5C,OAAI0H,IAAW1H,KAGX0H,EAAO7S,OAASmL,EAAOnL,SAGpBmvD,EAAShkD,EAAQ,EAAG0H,EAAO7S,UAAY6S,GAI3C6kD,EAAM,CACTM,YAAa1D,EAEb6E,UAAW,SAAmBz+D,GAC7B,QAASA,GAEVu2D,SAAU,SAAkBv2D,GAC3B,OAAQA,GAETk4D,UAAW,SAAmBl4D,GAC7B,IAAI+qD,EAAS5gD,KAAKosD,SAASv2D,GAC3B,OAAI8qD,EAAOC,GAAkB,EACd,IAAXA,GAAiBsP,EAAUtP,GACxByP,EAAKzP,GAAUpnD,KAAKunD,MAAMvnD,KAAKm4D,IAAI/Q,IADOA,GAGlDuZ,QAAS,SAAiB/iE,GACzB,OAAO4I,KAAKosD,SAASh1D,IAAM,GAE5BuhE,SAAU,SAAkBvhE,GAC3B,OAAO4I,KAAKosD,SAASh1D,KAAO,GAE7Bq8D,SAAU,SAAkB59D,GAC3B,IAAI+qD,EAAS5gD,KAAKosD,SAASv2D,GAC3B,GAAI8qD,EAAOC,IAAsB,IAAXA,IAAiBsP,EAAUtP,GAAW,OAAO,EACnE,IAAIiT,EAASxD,EAAKzP,GAAUpnD,KAAKunD,MAAMvnD,KAAKm4D,IAAI/Q,IAChD,OAAO0P,EAAIuD,EAAQ,QAEpBrG,SAAU,SAAkB33D,GAC3B,OAAOk0D,EAAQl0D,IAEhB+1D,SAAU,SAAkB/1D,GAE3B,OADAmK,KAAKk0D,qBAAqBr+D,GACnBm0D,EAAQn0D,IAEhBq+D,qBAAsB,SAA8Br+D,EAAOukE,GAE1D,GAAa,MAATvkE,EACH,MAAM,IAAIuqD,EAAWga,GAAc,yBAA2BvkE,GAE/D,OAAOA,GAERq9D,WAAYA,EACZhH,UAAW,SAAmB90D,EAAGktD,GAChC,OAAIltD,IAAMktD,EACC,IAANltD,GAAkB,EAAIA,GAAM,EAAIktD,EAG9B3D,EAAOvpD,IAAMupD,EAAO2D,IAI5B7H,KAAM,SAAcrlD,GACnB,OAAU,OAANA,EACI,YAES,IAANA,EACH,YAES,mBAANA,GAAiC,iBAANA,EAC9B,SAES,iBAANA,EACH,SAES,kBAANA,EACH,UAES,iBAANA,EACH,cADR,GAMDq2D,qBAAsB,SAA8BnN,GACnD,OAAOmQ,EAAqBzwD,KAAMsgD,IAInCW,qBAAsB,SAA8BX,GACnD,YAAoB,IAATA,IAIX2P,EAAajwD,KAAM,sBAAuB,OAAQsgD,MAE7C3kD,EAAI2kD,EAAM,aAAe3kD,EAAI2kD,EAAM,cAQzCU,iBAAkB,SAA0BV,GAC3C,YAAoB,IAATA,IAIX2P,EAAajwD,KAAM,sBAAuB,OAAQsgD,MAE7C3kD,EAAI2kD,EAAM,eAAiB3kD,EAAI2kD,EAAM,mBAQ3CwU,oBAAqB,SAA6BxU,GACjD,YAAoB,IAATA,IAIX2P,EAAajwD,KAAM,sBAAuB,OAAQsgD,IAE7CtgD,KAAKihD,qBAAqBX,KAAUtgD,KAAKghD,iBAAiBV,KAQhEmS,uBAAwB,SAAgCnS,GACvD,QAAoB,IAATA,EACV,OAAOA,EAKR,GAFA2P,EAAajwD,KAAM,sBAAuB,OAAQsgD,GAE9CtgD,KAAKghD,iBAAiBV,GACzB,MAAO,CACNzqD,MAAOyqD,EAAK,aACZvE,WAAYuE,EAAK,gBACjB9qD,aAAc8qD,EAAK,kBACnBxE,eAAgBwE,EAAK,qBAEhB,GAAItgD,KAAKihD,qBAAqBX,GACpC,MAAO,CACN7qD,IAAK6qD,EAAK,WACVn/B,IAAKm/B,EAAK,WACV9qD,aAAc8qD,EAAK,kBACnBxE,eAAgBwE,EAAK,qBAGtB,MAAM,IAAIF,EAAW,qFAKvB2W,qBAAsB,SAA8BsD,GACnD,GAAuB,WAAnBr6D,KAAKy8C,KAAK4d,GACb,MAAM,IAAIja,EAAW,2CAGtB,IAAImS,EAAO,GAaX,GAZI52D,EAAI0+D,EAAK,gBACZ9H,EAAK,kBAAoBvyD,KAAKs0D,UAAU+F,EAAI7kE,aAEzCmG,EAAI0+D,EAAK,kBACZ9H,EAAK,oBAAsBvyD,KAAKs0D,UAAU+F,EAAIve,eAE3CngD,EAAI0+D,EAAK,WACZ9H,EAAK,aAAe8H,EAAIxkE,OAErB8F,EAAI0+D,EAAK,cACZ9H,EAAK,gBAAkBvyD,KAAKs0D,UAAU+F,EAAIte,WAEvCpgD,EAAI0+D,EAAK,OAAQ,CACpB,IAAIjlE,EAASilE,EAAI5kE,IACjB,QAAsB,IAAXL,IAA2B4K,KAAKkzD,WAAW99D,GACrD,MAAM,IAAI2B,UAAU,6BAErBw7D,EAAK,WAAan9D,EAEnB,GAAIuG,EAAI0+D,EAAK,OAAQ,CACpB,IAAIC,EAASD,EAAIl5C,IACjB,QAAsB,IAAXm5C,IAA2Bt6D,KAAKkzD,WAAWoH,GACrD,MAAM,IAAIla,EAAW,6BAEtBmS,EAAK,WAAa+H,EAGnB,IAAK3+D,EAAI42D,EAAM,YAAc52D,EAAI42D,EAAM,cAAgB52D,EAAI42D,EAAM,cAAgB52D,EAAI42D,EAAM,iBAC1F,MAAM,IAAInS,EAAW,gGAEtB,OAAOmS,GAIR,+BAAgC,SAAoCn7D,EAAGktD,GACtE,IAAIwT,EAAQ93D,KAAKy8C,KAAKrlD,GAClB2gE,EAAQ/3D,KAAKy8C,KAAK6H,GACtB,OAAIwT,IAAUC,EACN3gE,IAAMktD,EAEL,MAALltD,GAAkB,MAALktD,IAGH,WAAVwT,GAAgC,WAAVC,EAClB/3D,KAAK,gCAAgC5I,EAAG4I,KAAKosD,SAAS9H,IAEhD,WAAVwT,GAAgC,WAAVC,EAClB/3D,KAAK,gCAAgCA,KAAKosD,SAASh1D,GAAIktD,GAEjD,YAAVwT,EACI93D,KAAK,gCAAgCA,KAAKosD,SAASh1D,GAAIktD,GAEjD,YAAVyT,EACI/3D,KAAK,gCAAgC5I,EAAG4I,KAAKosD,SAAS9H,IAE/C,WAAVwT,GAAgC,WAAVA,GAAiC,WAAVC,EAGpC,WAAVD,IAAiC,WAAVC,GAAgC,WAAVA,IACzC/3D,KAAK,gCAAgCA,KAAKmzD,YAAY/7D,GAAIktD,GAH1DtkD,KAAK,gCAAgC5I,EAAG4I,KAAKmzD,YAAY7O,MASlE,6BAA8B,SAAkCltD,EAAGktD,GAClE,IAAIwT,EAAQ93D,KAAKy8C,KAAKrlD,GAEtB,OAAI0gE,IADQ93D,KAAKy8C,KAAK6H,KAIR,cAAVwT,GAAmC,SAAVA,GAGtB1gE,IAAMktD,IAKd,iCAAkC,SAAsCltD,EAAGktD,EAAGiW,GAC7E,GAA6B,YAAzBv6D,KAAKy8C,KAAK8d,GACb,MAAM,IAAIna,EAAW,0DAEtB,IAAIoa,EACA5wB,EASJ,GARI2wB,GACHC,EAAKx6D,KAAKmzD,YAAY/7D,EAAGw4D,GACzBhmB,EAAK5pC,KAAKmzD,YAAY7O,EAAGsL,KAEzBhmB,EAAK5pC,KAAKmzD,YAAY7O,EAAGsL,GACzB4K,EAAKx6D,KAAKmzD,YAAY/7D,EAAGw4D,MAEU,WAAlB5vD,KAAKy8C,KAAK+d,IAAsC,WAAlBx6D,KAAKy8C,KAAK7S,IACxC,CACjB,IAAI6wB,EAAKz6D,KAAKosD,SAASoO,GACnBE,EAAK16D,KAAKosD,SAASxiB,GACvB,GAAI+W,EAAO8Z,IAAO9Z,EAAO+Z,GACxB,OAED,QAAIxK,EAAUuK,KAAOvK,EAAUwK,IAAOD,IAAOC,MAGlC,IAAPD,GAAmB,IAAPC,KAGZD,IAAOnc,MAGPoc,IAAOpc,KAGPoc,KAAQpc,MAGRmc,KAAQnc,KAGLmc,EAAKC,MAEb,OAAIR,EAAWtwB,EAAI4wB,OAGfN,EAAWM,EAAI5wB,IAGZ4wB,EAAK5wB,KAIdj1C,EAAOD,QAAUm+D,G,6BC/TjB,IAAIvzD,EAAQhK,OAAOkB,UAAUkD,SAEzB62D,EAAc,EAAQ,IAEtB8I,EAAa,EAAQ,GAGrBsB,EACiB,SAAUzM,GAC7B,IAAI0M,EAOJ,IALCA,EADG9jE,UAAUqE,OAAS,EACTrE,UAAU,GAEQ,kBAAlBwI,EAAMvK,KAAKm5D,GAAyBxzD,OAASjB,UAGxCiB,QAAUkgE,IAAenhE,OAAQ,CACnD,IACI5D,EAAOjB,EADPimE,EAAUD,IAAelgE,OAAS,CAAC,WAAY,WAAa,CAAC,UAAW,YAE5E,IAAK9F,EAAI,EAAGA,EAAIimE,EAAQ1/D,SAAUvG,EACjC,GAAIykE,EAAWnL,EAAE2M,EAAQjmE,OACxBiB,EAAQq4D,EAAE2M,EAAQjmE,MACd27D,EAAY16D,IACf,OAAOA,EAIV,MAAM,IAAIkB,UAAU,oBAErB,MAAM,IAAIA,UAAU,2CAKtBpC,EAAOD,QAAU,SAAqBwT,GACrC,OAAIqoD,EAAYroD,GACRA,EAEJpR,UAAUqE,OAAS,EACfw/D,EAAqCzyD,EAAOpR,UAAU,IAEvD6jE,EAAqCzyD,K,6BCzC7C,IAAIvM,EAAM,EAAQ,GACdo1D,EAAYx2D,OAAO/D,UAAU8M,KAC7Bw3D,EAAOxlE,OAAOuB,yBAedyI,EAAQhK,OAAOkB,UAAUkD,SAEzB6F,EAAmC,mBAAX5J,QAAuD,iBAAvBA,OAAOC,YAEnEjB,EAAOD,QAAU,SAAiBmB,GACjC,IAAKA,GAA0B,iBAAVA,EACpB,OAAO,EAER,IAAK0J,EACJ,MARe,oBAQRD,EAAMvK,KAAKc,GAGnB,IAAI25D,EAAasL,EAAKjlE,EAAO,aAE7B,SAD+B25D,IAAc7zD,EAAI6zD,EAAY,WA1BvC,SAAsB35D,GAC5C,IACC,IAAIklE,EAAYllE,EAAMklE,UAItB,OAHAllE,EAAMklE,UAAY,EAElBhK,EAAUh8D,KAAKc,IACR,EACN,MAAOwJ,GACR,OAAO,EACN,QACDxJ,EAAMklE,UAAYA,GAqBZC,CAAiBnlE,K,6BCnCzB,IAAIumD,EAAiB,EAAQ,GAEzBiK,EAAc,EAAQ,IACtBx2C,EAAS,EAAQ,IAErBlb,EAAOD,QAAU,WAChB0nD,IAEA,IAAI6e,EAAW5U,IAMf,OALAx2C,EAAO/V,QAAS,CAAEonD,WAAY+Z,GAAY,CACzC/Z,WAAY,WACX,OAAOpnD,QAAQonD,aAAe+Z,KAGzBA,I,kCChBR,IAAIj+D,EAAM,CACT,WAAY,GACZ,WAAY,GACZ,gBAAiB,GACjB,cAAe,GACf,YAAa,GACb,YAAa,GACb,YAAa,GACb,aAAc,GACd,YAAa,GACb,aAAc,GACd,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,YAAa,GACb,gBAAiB,GACjB,cAAe,GACf,YAAa,GACb,YAAa,GACb,YAAa,IAId,SAASk+D,EAAeC,GACvB,IAAIpkD,EAAKqkD,EAAsBD,GAC/B,OAAO3mE,EAAoBuiB,GAE5B,SAASqkD,EAAsBD,GAC9B,IAAI3mE,EAAoBa,EAAE2H,EAAKm+D,GAAM,CACpC,IAAI97D,EAAI,IAAI3G,MAAM,uBAAyByiE,EAAM,KAEjD,MADA97D,EAAE6tB,KAAO,mBACH7tB,EAEP,OAAOrC,EAAIm+D,GAEZD,EAAenjE,KAAO,WACrB,OAAOzC,OAAOyC,KAAKiF,IAEpBk+D,EAAehhE,QAAUkhE,EACzBzmE,EAAOD,QAAUwmE,EACjBA,EAAenkD,GAAK,I,gBC9CpBpiB,EAAOD,QAAU,IAA0B,gB,gBCA3CC,EAAOD,QAAU,IAA0B,gB,gBCA3CC,EAAOD,QAAU,IAA0B,qB,gBCA3CC,EAAOD,QAAU,IAA0B,mB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,kB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,kB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,qB,gBCA3CC,EAAOD,QAAU,IAA0B,mB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,gBCA3CC,EAAOD,QAAU,IAA0B,iB,yFCK3C,MAAM2mE,EAAex2D,OAAOy2D,WAAWD,aAOvC,SAASE,IACL7iE,MAAM6C,MAAMyE,KAAMlJ,WAClBkJ,KAAK7K,KAAO,kBACRuD,MAAM8iE,kBACN9iE,MAAM8iE,kBAAkBx7D,KAAMu7D,GAE9Bv7D,KAAKy7D,OAAS,IAAI/iE,OAAS+iE,MAanC,SAASC,EAASz+D,EAASR,GACvBuD,KAAK27D,MAAQrmE,OAAOuG,OAAO,CACvBq8B,IAAK,GACL7vB,UAAU,EACVob,eAAgB,EAChBxD,OAAQ,KACR27C,UAAW,KACXnhD,OAAQ,KACRwL,WAAY,GACZ7kB,QAAS,IACV3E,GAEHuD,KAAK/C,QAAUA,EACf+C,KAAK67D,SAAW77D,KAAK87D,gBAgOzB,SAASC,EAAe9+D,GACpB,MAAMwd,EAAS,GACTuhD,EAAU/+D,EAAQ++D,QAMxB,OALA1mE,OAAOyC,KAAKikE,GAASlkE,SAAQ,SAAS3C,GAC9B,wBAAwBiK,KAAKjK,KAC7BslB,EAAOtlB,GAAQ6mE,EAAQ7mE,OAGxBslB,EA9PX8gD,EAAgB/kE,UAAYlB,OAAOY,OAAOwC,MAAMlC,WAyBhDklE,EAASllE,UAAYlB,OAAOY,OAAOmlE,EAAa7kE,WAEhDklE,EAASllE,UAAU6hC,UAAY,SAASthB,GACpC,MAAiC,mBAAtB/W,KAAK27D,MAAMlhD,OACXnlB,OAAOuG,OAAOkgE,EAAe/7D,KAAK/C,SAAU+C,KAAK27D,MAAMlhD,OAAO1lB,KAAKiL,KAAM+W,IAC5C,iBAAtB/W,KAAK27D,MAAMlhD,OAClBnlB,OAAOuG,OAAOkgE,EAAe/7D,KAAK/C,SAAU+C,KAAK27D,MAAMlhD,QAEvDshD,EAAe/7D,KAAK/C,UAInCy+D,EAASllE,UAAUylE,aAAe,SAASxhD,EAAQ1D,GAC/C,MAAMmlD,EAAe,GACrB,cAAyB5mE,OAAOuC,QAAQ4iB,GAAxC,eAAiD,YAAvCtkB,EAAuC,KAAlCN,EAAkC,KAEzCqmE,EAAa/lE,GADI,mBAAVN,EACaA,EAAMkhB,GAENlhB,EAG5B,OAAOqmE,GAGXR,EAASllE,UAAUslE,cAAgB,WAC/B,MAAMK,EAAQn8D,KAGd,IAAIo8D,GAAa,EAEbP,EAAW,IAAI9oC,oBAAkB,CACjC9S,OAAQjgB,KAAK27D,MAAM17C,OACnB5X,SAAUrI,KAAK27D,MAAMtzD,SACrBob,eAAgBzjB,KAAK27D,MAAMl4C,eAC3BE,QAAS,CACLjJ,SAAU1a,KAAK27D,MAAMzjC,KAEzBhmB,SAAU,CACN4K,SAAS,EACTmY,SAAU,QACVP,WAAY,CACR5X,SAAS,IAGjB/Z,KAAM,CACF6jB,eAAgB,IAEpBX,WAAY,CACR0I,wBAAwB,EACxBf,UAAWuuC,EAAMR,MAAM11C,WAAW2H,WAAa,EAC/CjZ,YAAawnD,EAAMR,MAAM11C,WAAWtR,aAAe,KACnDuR,kBAAmBi2C,EAAMR,MAAM11C,WAAWC,mBAAqB,IAEnEoH,SAAU,CACN0G,UAAW,uEACXC,UAAW,4DAEf9Q,UAAW,CACP6O,SAAU,SAASjb,GACf,MAAM8kD,EAAW77D,KACXuX,EAAOskD,EAAS79C,QAAQjH,GAE9B,GAAIqlD,IAAeD,EAAMR,MAAMtzD,SAC3B,OAAO,EAMX,GAJI+zD,GAAa,EAIbD,EAAMR,MAAMv6D,SAAW+6D,EAAMR,MAAMv6D,QAAQjG,OAC3C,IAAK,IAAI+c,EAAM,EAAGA,EAAMikD,EAAMR,MAAMv6D,QAAQjG,OAAQ+c,IAAS,CACzD,MAAM9a,EAAS++D,EAAMR,MAAMv6D,QAAQ8W,GACnC,IACI9a,EAAOrI,KAAK8mE,EAAU9kD,EAAIQ,GAC5B,MAAO5O,GAEL,OADAwzD,EAAME,QAAQ,QAAS,CAACtlD,EAAIpO,EAAMtD,WAC3B,GAKnB,MAAMi3D,EAAoBH,EAAMR,MAAM11C,WACtC,GAAIlf,iBAAOwQ,GAAO,CAEd,MAAMglD,EAAmBD,EAAkB3nD,YAC3C,GAAI4nD,GAAoBA,EAAiBphE,OAAQ,CAC7C,IAAI2xB,GAAU,EASd,GARIn1B,MAAMkF,QAAQ0/D,GACdzvC,EAAUyvC,EAAiBC,MAAK,SAASC,GACrC,OAAO7qD,IAAM2F,EAAKrX,KAAMu8D,MAEO,iBAArBF,IACdzvC,EAAUlb,IAAM2F,EAAKrX,KAAMq8D,KAG1BzvC,EAAS,CACV,MAAM1O,EAAU,KAAI7G,EAAKpiB,mCAAmCoiB,EAAKrX,QAEjE,OADAi8D,EAAME,QAAQ,QAAS,CAACtlD,EAAIqH,KACrB,GAKf,GAAIk+C,EAAkB/pC,MAClB,OAAO,IAAIz4B,SAAQ,SAASI,EAASD,GACjC,MAAMs4B,EAAQ,IAAIkY,MACZvS,EAAMrzB,OAAO6lC,KAAO7lC,OAAO6lC,IAAIC,gBAAkB9lC,OAAO6lC,IAAM7lC,OAAO+lC,WAAa/lC,OAAO+lC,UAAUD,gBAAkB9lC,OAAO+lC,UAAY,KAC1I1S,GACA3F,EAAMjoB,QAAU,WACZrQ,EAAO,gEAEXs4B,EAAMnoB,OAAS,WACXlQ,EAAQ,CACJwtC,MAAO1nC,KAAK0nC,MACZ7xB,OAAQ7V,KAAK6V,UAGrB0c,EAAMsY,IAAM3S,EAAIyS,gBAAgBpzB,IAEhCtd,EAAO,mEAEZF,MAAK,SAASud,GACb,GAAIglD,EAAkBI,eAAkBplD,EAAKowB,MAAQ40B,EAAkBI,cAAgB,CACnF,MAAMt+C,EAAU,KAAI7G,EAAKpiB,+CAA+CmnE,EAAkBI,kBAE1F,MADAP,EAAME,QAAQ,QAAS,CAACtlD,EAAIqH,IACtB,IAAI1lB,MAAM0lB,GAEpB,GAAIk+C,EAAkBK,gBAAmBrlD,EAAKzB,OAASymD,EAAkBK,eAAiB,CACtF,MAAMv+C,EAAU,KAAI7G,EAAKpiB,gDAAgDmnE,EAAkBK,mBAE3F,MADAR,EAAME,QAAQ,QAAS,CAACtlD,EAAIqH,IACtB,IAAI1lB,MAAM0lB,GAEpB,GAAIk+C,EAAkBM,eAAkBtlD,EAAKowB,MAAQ40B,EAAkBM,cAAgB,CACnF,MAAMx+C,EAAU,KAAI7G,EAAKpiB,wCAAwCmnE,EAAkBM,kBAEnF,MADAT,EAAME,QAAQ,QAAS,CAACtlD,EAAIqH,IACtB,IAAI1lB,MAAM0lB,GAEpB,GAAIk+C,EAAkBO,gBAAmBvlD,EAAKzB,OAASymD,EAAkBO,eAAiB,CACtF,MAAMz+C,EAAU,KAAI7G,EAAKpiB,yCAAyCmnE,EAAkBO,mBAEpF,MADAV,EAAME,QAAQ,QAAS,CAACtlD,EAAIqH,IACtB,IAAI1lB,MAAM0lB,OAMhC,IACI+9C,EAAME,QAAQ,SAAU,CAACtlD,IAC3B,MAAO1X,GACL,GAAe,oBAAXA,EAAElK,KACF,OAAO,EAEP,MAAMkK,IAIlB2wB,YAAa,SAASjZ,GAClBolD,EAAME,QAAQ,YAAa,CAACtlD,IAC5B,IAAI0D,EAAS0hD,EAAM9jC,UAAUthB,GACzB0D,IACAA,EAAS0hD,EAAMF,aAAaxhD,EAAQ1D,GACpC/W,KAAKkiB,UAAUzH,EAAQ1D,KAG/BkR,SAAU,SAASlR,GACfolD,EAAME,QAAQ,SAAU,CAACtlD,KAE7BqQ,WAAY,SAASrQ,EAAI5hB,EAAM2nE,EAAeC,GAC1C,MAAMC,EAAaxjE,KAAKqsC,KAAYi3B,EAAgBC,EAAvB,KAC7BZ,EAAME,QAAQ,WAAY,CAACtlD,EAAIimD,KAEnCp1C,SAAU,SAAS7Q,GACfolD,EAAME,QAAQ,SAAU,CAACtlD,KAE7ByQ,WAAY,SAASzQ,EAAI5hB,EAAMm5B,GACvBA,EAASjkB,SACT8xD,EAAME,QAAQ,WAAY,CAACtlD,EAAIuX,KAGvCY,cAAe,SAAS+tC,EAAWhuC,GAC/BmtC,GAAa,EACbD,EAAME,QAAQ,eAAgB,CAACY,EAAWhuC,KAE9C7L,QAAS,SAASrM,EAAI5hB,EAAMipB,EAAQqJ,GAChC,IAAI6G,EAAUhB,EACd,IACIgB,EAAWj1B,KAAKC,MAAMmuB,EAAIuqB,cAC5B,MAAOrpC,IAKL2kB,EADAgB,IACWA,EAAS4uC,QAAU5uC,EAAS3lB,QAE5ByV,EAGf+9C,EAAME,QAAQ,QAAS,CAACtlD,EAAIuW,QAoBxC,OAfIttB,KAAK27D,MAAMC,WAAa57D,KAAK27D,MAAMC,UAAUzgE,QAC7C,IAAIgmD,cAAY,CACZkD,iBAAkBrkD,KAAK27D,MAAMC,UAC7BjY,mBAAoB3jD,KAAK27D,MAAMtzD,SAC/B8d,QAAS,CACL68B,WAAY,wBAEhB7/B,UAAW,CACPygC,+BAAgC,SAAS3nC,GACrC4/C,EAASlhD,SAASsB,OAM3B4/C,GCvQX,MAAMsB,EAAUt4D,OAAOy2D,WAAW6B,QAElC,IAAIC,EAAU,GAGd,SAASC,EAAaH,GAClB,GAAIvlE,MAAMkF,QAAQqgE,GAAS,CACvB,GAAsB,IAAlBA,EAAO/hE,OACP,OAAO+hE,EAAO,GACX,CACH,IAAIznB,EAAS,CACR,uCACA,0BAEL,IAAK,IAAI7gD,EAAE,EAAGC,EAAEqoE,EAAO/hE,OAAQvG,EAAEC,EAAGD,IAChC6gD,EAAOlzC,KAAM,OAAM26D,EAAOtoE,WAI9B,OAFA6gD,EAAOlzC,KAAM,SACbkzC,EAASA,EAAOrnC,KAAK,OAI7B,OAAO8uD,EASX,SAASI,EAAU30D,GACfpD,QAAQma,MAAO,eAAc/W,KAC7Bmd,YAAW,WACPq3C,EAAQhvC,MAAM,CACVlZ,MAAO,QACP5P,QAASg4D,EAAa10D,QASlC,SAAS40D,EAAa50D,GAClBpD,QAAQma,MAAO,kBAAiB/W,KACX,iBAAVA,EACPy0D,EAAQ76D,KAAKoG,GACNhR,MAAMkF,QAAQ8L,KACrBy0D,EAAUA,EAAQrgE,OAAO4L,IAOjC,SAAS60D,IACAJ,GAAYA,EAAQjiE,QAIzB2qB,YAAW,WACFs3C,GAAYA,EAAQjiE,SAIzBgiE,EAAQhvC,MAAM,CACVlZ,MAAO,QACP5P,QAASg4D,EAAaD,KAG1BA,EAAU,OClElB,MAAM/B,EAAex2D,OAAOy2D,WAAWD,aACjC8B,EAAUt4D,OAAOy2D,WAAW6B,QAC5BM,EAAY54D,OAAOy2D,WAAWmC,UAC9BC,EAAY74D,OAAOy2D,WAAWoC,UAcpC,SAASC,EAAW1gE,EAASR,GAuBzB,GAnBAuD,KAAK27D,MAAQh/D,IAAU,CACnBuL,MAAO,GACP01D,aAAc,GACdC,aAAc,GACdC,aAAc,GACdC,aAAc,GAEdC,KAAM,GAENC,KAAM,CACFz1D,OAAQ,GACR01D,OAAQ,GACRC,OAAQ,KAEb1hE,GAAW,IAEduD,KAAK/C,QAAUA,EAEf+C,KAAKkI,MAAQlI,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMzzD,QAC9ClI,KAAKkI,MACN,MAAM,IAAIxP,MAAO,sBAAqBsH,KAAK27D,MAAMzzD,UAIrD,GADAlI,KAAK49D,aAAe59D,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMiC,eACrD59D,KAAK49D,aACN,MAAM,IAAIllE,MAAO,sBAAqBsH,KAAK27D,MAAMiC,iBAIrD,GADA59D,KAAK69D,aAAe79D,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMkC,eACrD79D,KAAK69D,aACN,MAAM,IAAInlE,MAAO,sBAAqBsH,KAAK27D,MAAMkC,iBAIrD,GADA79D,KAAK89D,aAAe99D,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMmC,eACrD99D,KAAK89D,aACN,MAAM,IAAIplE,MAAO,sBAAqBsH,KAAK27D,MAAMmC,iBAIrD,GADA99D,KAAK+9D,aAAe/9D,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMoC,eACrD/9D,KAAK+9D,aACN,MAAM,IAAIrlE,MAAO,sBAAqBsH,KAAK27D,MAAMoC,iBAIrD/9D,KAAKo+D,SAAU,EACfp+D,KAAKq+D,MAAQjlE,MAAM4G,KAAKs+D,YAExBt+D,KAAK67D,SAAW77D,KAAKu+D,eACrBv+D,KAAKw+D,eAGTb,EAAWnnE,UAAYlB,OAAOY,OAAOmlE,EAAa7kE,WAElDlB,OAAOC,eAAeooE,EAAWnnE,UAAW,aAAc,CACtDf,IAAK,WACD,OAAOoE,SAASmG,KAAKkI,MAAMrS,QAE/BsrB,IAAK,SAAStrB,GACVmK,KAAKkI,MAAMrS,MAAQgE,SAAShE,IAAU,MAI9CP,OAAOC,eAAeooE,EAAWnnE,UAAW,QAAS,CACjDf,IAAK,WACD,OAAO0C,QAAQ6H,KAAKy+D,SAExBt9C,IAAK,SAAStrB,GACV,MAAM6oE,EAAWvmE,QAAQtC,GACrB6oE,IAAavmE,QAAQ6H,KAAKy+D,UAG1BC,EACA1+D,KAAK/C,QAAQ0hE,UAAU1wD,IAAI,SAE3BjO,KAAK/C,QAAQ0hE,UAAU59D,OAAO,SAElCf,KAAKy+D,OAASC,MAItBppE,OAAOC,eAAeooE,EAAWnnE,UAAW,UAAW,CACnDf,IAAK,WACD,OAAO0C,QAAQ6H,KAAK4+D,WAExBz9C,IAAK,SAAStrB,GACV,MAAM6oE,EAAWvmE,QAAQtC,GACrB6oE,IAAavmE,QAAQ6H,KAAK4+D,YAG1BF,EACA1+D,KAAK/C,QAAQ0hE,UAAU1wD,IAAI,YAE3BjO,KAAK/C,QAAQ0hE,UAAU59D,OAAO,WAC9Bf,KAAK/C,QAAQ0hE,UAAU59D,OAAO,eAElCf,KAAK4+D,SAAWF,MAOxBf,EAAWnnE,UAAU+nE,aAAe,WAChC,MAAMpC,EAAQn8D,KACd,OAAO,IAAI07D,EAAS17D,KAAK/C,QAAS,CAC9Bi7B,IAAKl4B,KAAK27D,MAAMsC,KAAKz1D,OACrByX,OAAQjgB,KAAK49D,aACbhC,UAAW57D,KAAK/C,QAAQkF,iBAAiB,qBACzC8jB,WAAY5sB,KAAKC,MAAM0G,KAAK/C,QAAQ++D,QAAQ/1C,cAC7C44C,GAAG,aAAa,SAAS9nD,GACxBolD,EAAME,QAAQ,mBAAoB,CAACtlD,OACpC8nD,GAAG,UAAU,SAAS9nD,GACrBolD,EAAMiC,SAAU,EAEhB,MAAMrrD,EAAcopD,EAAMl/D,QAAQiF,cAAc,iBAChD6Q,IAAgBA,EAAYjT,MAAM4nC,MAAQ,IAC1Cy0B,EAAME,QAAQ,gBAAiB,CAACtlD,OACjC8nD,GAAG,YAAY,SAAS9nD,EAAIimD,GAC3B,MAAMjqD,EAAcopD,EAAMl/D,QAAQiF,cAAc,iBAChD6Q,IAAgBA,EAAYjT,MAAM4nC,MAAQs1B,EAAa,KAEnDA,GAAc,KACdb,EAAMl/D,QAAQ0hE,UAAU1wD,IAAI,iBAEjC4wD,GAAG,YAAY,SAAS9nD,EAAIuX,GAC3B6tC,EAAMkC,OAAQ,EACdlC,EAAMmC,WAAahwC,EAASvX,GAC5BolD,EAAME,QAAQ,kBAEd,MAAMhtD,EAAW8sD,EAAMl/D,QAAQiF,cAAc,cAC7CmN,IAAaA,EAASpM,YAAcqrB,EAASn5B,MAE7C,MAAM2pE,EAAW3C,EAAMl/D,QAAQiF,cAAc,cAC7C48D,IAAaA,EAAS77D,YAAcqrB,EAASywC,WAE7C,MAAMC,EAAc7C,EAAMl/D,QAAQiF,cAAci6D,EAAMR,MAAMqC,MAC5DgB,IAAgBA,EAAY5yB,KAAO9d,EAAS4J,KAE5CikC,EAAME,QAAQ,sBACfwC,GAAG,UAAU,SAAS9nD,GACrBolD,EAAME,QAAQ,gBAAiB,CAACtlD,OACjC8nD,GAAG,SAAS,SAAS9nD,EAAIuW,GACxBgwC,EAAUhwC,MACXuxC,GAAG,gBAAgB,WAClB1C,EAAMiC,SAAU,MASxBT,EAAWnnE,UAAUyoE,QAAU,SAASC,GACpC,GAAI9lE,MAAM4G,KAAKs+D,YACX,OAGJ,MAAMnC,EAAQn8D,KACRm/D,EAAQD,EAAQE,KAAK,QAC3BtlE,QAAQE,IAAI,CACRyjE,EAAU4B,OACVC,MAAMH,EAAMx0D,KAAK,UAAW,CACxB4Y,OAAQ,OACRg8C,YAAa,cACb38B,KAAM,IAAIt6B,SAAS62D,EAAM1pE,IAAI,QAElCsE,MAAK,SAAS/B,GACb,MAAMs2B,EAAWt2B,EAAO,GACxB,IAAKs2B,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAEV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,EAKV,GAFA80D,EAAU59D,OACV69D,EAAUgC,gBAAgBP,EAAM1pE,IAAI,IAChC64B,EAASqxC,YACTjC,EAAUkC,sBAAsBT,EAAM1pE,IAAI,GAAI64B,EAASqxC,iBACpD,CACHT,EAAQW,MAAM,QAEd,MAAMxwD,EAAW8sD,EAAMl/D,QAAQiF,cAAc,cAC7CmN,IAAaA,EAASpM,YAAcqrB,EAASn5B,MAE7C,MAAM2pE,EAAW3C,EAAMl/D,QAAQiF,cAAc,cAC7C48D,IAAaA,EAAS77D,YAAcqrB,EAASywC,WAE7C,MAAMC,EAAc7C,EAAMl/D,QAAQiF,cAAci6D,EAAMR,MAAMqC,MAC5DgB,IAAgBA,EAAY5yB,KAAO9d,EAAS4J,SAEjD4nC,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,OAStBg1D,EAAWnnE,UAAUupE,QAAU,WAC3B,GAAI3mE,MAAM4G,KAAKs+D,YACX,OAGJ,MAAMj6D,EAAO,IAAIiE,SACXmS,EAASshD,EAAe/7D,KAAK/C,SACnC3H,OAAOyC,KAAK0iB,GAAQ3iB,SAAQ,SAAS3C,GACjCkP,EAAKY,OAAO9P,EAAMslB,EAAOtlB,OAE7BkP,EAAKY,OAAO,cAAejF,KAAKs+D,WAAW5kE,YAE3C,MAAMyiE,EAAQn8D,KACdlG,QAAQE,IAAI,CACRyjE,EAAU4B,OACVC,MAAMt/D,KAAK27D,MAAMsC,KAAKE,OAAQ,CAC1B56C,OAAQ,OACRg8C,YAAa,cACb38B,KAAMv+B,MAEXtK,MAAK,SAAS/B,GACb,MAAMs2B,EAAWt2B,EAAO,GACxB,IAAKs2B,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAEV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,EAGV80D,EAAU59D,OACVs8D,EAAMkC,OAAQ,EACdlC,EAAMmC,WAAa,GAEnB,MAAMjvD,EAAW8sD,EAAMl/D,QAAQiF,cAAc,cAC7CmN,IAAaA,EAASpM,YAAc,IAEpC,MAAM67D,EAAW3C,EAAMl/D,QAAQiF,cAAc,cAC7C48D,IAAaA,EAAS77D,YAAc,IAEpCk5D,EAAME,QAAQ,qBACfyD,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,OAKtBg1D,EAAWnnE,UAAUgoE,aAAe,WAChC,MAAMrC,EAAQn8D,KAGdA,KAAK69D,aAAaz9D,iBAAiB,SAAS,SAASixB,GACjDA,EAAMvkB,iBACNqvD,EAAMiC,SAAU,EAChBjC,EAAMN,SAASA,SAASp/C,eAI5Bzc,KAAK+9D,aAAa39D,iBAAiB,SAAS,SAASixB,GACjDA,EAAMvkB,iBAENqwD,EAAQ6C,OAAO,CACX1oD,KAAM,QACNrC,MAAOgrD,QAAQ,gBACf56D,QAAS46D,QAAQ,qDACjBC,UAAU,EACVC,QAAS,CACL/jD,OAAQ,CACJgkD,MAAOH,QAAQ,UACfv+D,UAAW,oBAEf2+D,QAAS,CACLD,MAAOH,QAAQ,UACfv+D,UAAW,aACXhC,SAAU,WACNy8D,EAAM4D,kBAQ1B//D,KAAK89D,aAAa19D,iBAAiB,SAAS,SAASixB,GACjDA,EAAMvkB,iBAEN,MAAMzI,EAAO,IAAIiE,SACXmS,EAASshD,EAAeI,EAAMl/D,SACpC3H,OAAOyC,KAAK0iB,GAAQ3iB,SAAQ,SAAS3C,GACjCkP,EAAKY,OAAO9P,EAAMslB,EAAOtlB,OAE7BkP,EAAKY,OAAO,cAAek3D,EAAMmC,WAAW5kE,YAC5C,MAAM4mE,EAAc,IAAIC,gBAAgBl8D,GAAM3K,WAE9CI,QAAQE,IAAI,CACRyjE,EAAU4B,OACVC,MAAO,GAAEnD,EAAMR,MAAMsC,KAAKC,UAAUoC,IAAe,CAC/Cf,YAAa,kBAElBxlE,MAAK,SAAS/B,GACb,MAAMs2B,EAAWt2B,EAAO,GACxB,IAAKs2B,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAGV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,EAGV80D,EAAU59D,OACV,MAAMq/D,EAAU/B,EAAQ6C,OAAO,CAC3B/qD,MAAOgrD,QAAQ,aACf56D,QAASipB,EAAS7f,KAClByxD,UAAU,EACVC,QAAS,CACL/jD,OAAQ,CACJgkD,MAAOH,QAAQ,UACfv+D,UAAW,oBAEf89D,GAAI,CACAY,MAAOH,QAAQ,QACfv+D,UAAW,cACXhC,SAAU,WAEN,OADAy8D,EAAM8C,QAAQj/D,OACP,OAMTk/D,EAAQE,KAAK,QACrBP,GAAG,UAAU,WAEf,OADA1C,EAAM8C,QAAQC,IACP,QAEZY,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,U,MC9Y1B,MAAM63D,EAAe37D,OAAOy2D,WAAWkF,aACjCC,EAAW57D,OAAOy2D,WAAWmF,SAOnC,SAASC,EAAWzjE,GACZA,EAAQ0jE,QAAQ,gBAIpB,IAAIhD,EAAW1gE,EAAS,CACpBiL,MAAO,wBACP01D,aAAc,gCACdC,aAAc,gCACdC,aAAc,gCACdC,aAAc,gCACdC,KAAM,uBACNC,KAAM,CACFz1D,OAAQvL,EAAQ++D,QAAQ4E,UACxB1C,OAAQjhE,EAAQ++D,QAAQ6E,UACxB1C,OAAQlhE,EAAQ++D,QAAQ8E,aAMpC,SAASC,EAAYC,EAAO74D,SAASy6B,MAEjCo+B,EAAKna,QADe,mBACW6Z,EAAWM,GAC1CA,EAAK7+D,iBAFe,kBAEiBrK,QAAQ4oE,GAIjDF,EAAaO,GACbN,EAASQ,IAAIpC,GAAG,SAAUkC,G,MCrC1B,MAAMP,EAAe37D,OAAOy2D,WAAWkF,aACjCC,EAAW57D,OAAOy2D,WAAWmF,SAMnC,SAASC,EAAWzjE,GACZA,EAAQ0jE,QAAQ,gBAIpB,IAAIhD,EAAW1gE,EAAS,CACpBiL,MAAO,yBACP01D,aAAc,iCACdC,aAAc,iCACdC,aAAc,iCACdC,aAAc,iCACdC,KAAM,wBACNC,KAAM,CACFz1D,OAAQvL,EAAQ++D,QAAQ4E,UACxB1C,OAAQjhE,EAAQ++D,QAAQ6E,UACxB1C,OAAQlhE,EAAQ++D,QAAQ8E,aAMpC,SAASC,EAAYC,EAAO74D,SAASy6B,MAEjCo+B,EAAKna,QADe,oBACW6Z,EAAWM,GAC1CA,EAAK7+D,iBAFe,mBAEiBrK,QAAQ4oE,GAIjDF,EAAaO,GACbN,EAASQ,IAAIpC,GAAG,SAAUkC,G,2BC/B1B,MAAM1F,EAAex2D,OAAOy2D,WAAWD,aACjCmF,EAAe37D,OAAOy2D,WAAWkF,aACjCU,EAAWr8D,OAAOy2D,WAAW4F,SAC7B/D,EAAUt4D,OAAOy2D,WAAW6B,QAC5BsD,EAAW57D,OAAOy2D,WAAWmF,SAC7BhD,EAAY54D,OAAOy2D,WAAWmC,UAC9BC,EAAY74D,OAAOy2D,WAAWoC,UAiBpC,SAASyD,EAAWlkE,EAASR,GAwCzB,GApCAuD,KAAK27D,MAAQh/D,IAAU,CACnBuL,MAAO,qBACPk5D,cAAe,qBACfn7D,KAAM,oBACNo7D,aAAc,6BACdzD,aAAc,6BACdG,aAAc,6BACduD,cAAe,+BACfC,kBAAmB,8BAEnBC,YAAa,4BACbC,SAAU,yBACVC,aAAc,6BACdC,SAAU,yBACVC,iBAAkB,kCAClBC,iBAAkB,kCAClBC,iBAAkB,kCAClBC,qBAAsB,gCAEtBC,qBAAsB,oBACtBC,iBAAkB,4BAClBC,kBAAmB,6BAEnBjE,KAAM,CACFkE,iBAAkB,GAClBC,iBAAkB,GAClBC,WAAY,GACZC,WAAY,GACZC,WAAY,GACZC,UAAW,KAEhB/lE,GAAW,IAEduD,KAAK/C,QAAUA,EAEf+C,KAAKkI,MAAQlI,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMzzD,QAC9ClI,KAAKkI,MACN,MAAM,IAAIxP,MAAO,sBAAqBsH,KAAK27D,MAAMzzD,UAIrD,GADAlI,KAAKohE,cAAgBphE,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMyF,gBACtDphE,KAAKohE,cACN,MAAM,IAAI1oE,MAAO,sBAAqBsH,KAAK27D,MAAMyF,kBAIrD,GADAphE,KAAKqhE,aAAerhE,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAM0F,eACrDrhE,KAAKqhE,aACN,MAAM,IAAI3oE,MAAO,sBAAqBsH,KAAK27D,MAAM0F,iBAIrD,GADArhE,KAAK49D,aAAe59D,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMiC,eACrD59D,KAAK49D,aACN,MAAM,IAAIllE,MAAO,sBAAqBsH,KAAK27D,MAAMiC,iBAIrD,GADA59D,KAAK+9D,aAAe/9D,KAAK/C,QAAQiF,cAAclC,KAAK27D,MAAMoC,eACrD/9D,KAAK+9D,aACN,MAAM,IAAIrlE,MAAO,sBAAqBsH,KAAK27D,MAAMoC,iBAGrD/9D,KAAKyiE,OAyzBT,SAAS/B,EAAWzjE,GACZA,EAAQ0jE,QAAQ,gBAIpB,IAAIQ,EAAWlkE,EAAS,CACpBghE,KAAM,CACFkE,iBAAkBllE,EAAQ++D,QAAQ0G,oBAClCN,iBAAkBnlE,EAAQ++D,QAAQ2G,oBAClCN,WAAYplE,EAAQ++D,QAAQ4G,cAC5BN,WAAYrlE,EAAQ++D,QAAQ6G,cAC5BN,WAAYtlE,EAAQ++D,QAAQ8G,cAC5BN,UAAWvlE,EAAQ++D,QAAQ+G,gBAMvC,SAAShC,EAAYC,EAAO74D,SAASy6B,MAEjCo+B,EAAKna,QADe,gBACW6Z,EAAWM,GAC1CA,EAAK7+D,iBAFe,eAEiBrK,QAAQ4oE,GCx6BjD,IAAmBhrE,ED6FnByrE,EAAW3qE,UAAYlB,OAAOY,OAAOmlE,EAAa7kE,WAElDlB,OAAOC,eAAe4rE,EAAW3qE,UAAW,eAAgB,CACxDf,IAAK,WACD,OAAOoE,SAASmG,KAAKkI,MAAMrS,QAE/BsrB,IAAK,SAAStrB,GACV,MAAM6oE,EAAW7kE,SAAShE,GAC1B,GAAIuD,MAAMslE,GAAW,CAEjB1+D,KAAKkI,MAAMrS,MAAQ,GACnBmK,KAAKqhE,aAAa/vD,UAAW,EAC7BtR,KAAK49D,aAAatsD,UAAW,EAC7BtR,KAAK+9D,aAAazsD,UAAW,EAC7BtR,KAAK/C,QAAQ0hE,UAAU1wD,IAAIjO,KAAK27D,MAAMqG,sBAEtC,MAAMgB,EAAchjE,KAAK49D,aAAa17D,cAAc,sBACpD8gE,IAAgBA,EAAY1xD,UAAW,OACpC,CAEHtR,KAAKkI,MAAMrS,MAAQ6oE,EACnB1+D,KAAKqhE,aAAa/vD,UAAW,EAC7BtR,KAAK49D,aAAatsD,UAAW,EAC7BtR,KAAK+9D,aAAazsD,UAAW,EAC7BtR,KAAK/C,QAAQ0hE,UAAU59D,OAAOf,KAAK27D,MAAMqG,sBAEzC,MAAMgB,EAAchjE,KAAK49D,aAAa17D,cAAc,sBACpD8gE,IAAgBA,EAAY1xD,UAAW,OAKnDhc,OAAOC,eAAe4rE,EAAW3qE,UAAW,UAAW,CACnDf,IAAK,WACD,OAAO0C,QAAQ6H,KAAK4+D,WAExBz9C,IAAK,SAAStrB,GACV,MAAM6oE,EAAWvmE,QAAQtC,GACrB6oE,IAAavmE,QAAQ6H,KAAK4+D,YAG1BF,GACA1+D,KAAK/C,QAAQ0hE,UAAU1wD,IAAI,WAC3BjO,KAAK+9D,aAAazsD,UAAW,IAE7BtR,KAAK/C,QAAQ0hE,UAAU59D,OAAO,WAC9Bf,KAAK+9D,aAAazsD,UAAW,GAEjCtR,KAAK4+D,SAAWF,MAOxByC,EAAW3qE,UAAUisE,KAAO,WACxBziE,KAAK67D,SAAW77D,KAAKu+D,eACrBv+D,KAAKijE,SAAWjjE,KAAKkjE,eACrBljE,KAAKmjE,aAAenjE,KAAKkI,MAAMrS,MAC/BmK,KAAKo+D,SAAU,EACfp+D,KAAKw+D,gBAMT2C,EAAW3qE,UAAU+nE,aAAe,WAChC,MAAMpC,EAAQn8D,KACd,OAAO,IAAI07D,EAAS17D,KAAK/C,QAAS,CAC9Bi7B,IAAKl4B,KAAK27D,MAAMsC,KAAKoE,WACrBh6D,UAAU,EACVob,eAAgB,EAChBxD,OAAQjgB,KAAK49D,aACbhC,UAAW57D,KAAK/C,QAAQkF,iBAAiB,qBACzC8jB,WAAY5sB,KAAKC,MAAM0G,KAAK/C,QAAQ++D,QAAQ/1C,YAC5CxL,OAAQ,CACJ0oD,aAAc,WACV,OAAOhH,EAAMgH,cAEjBC,MAAO,SAASrsD,GACZ,MAAM0mD,EAAYtB,EAAMiF,cAAcl/D,cAAe,mBAAkB6U,KACvE,OAAOpf,MAAM+D,KAAKygE,EAAMiF,cAAc3+D,UAAUgC,QAAQg5D,OAGjEoB,GAAG,UAAU,WACZ,GAAIzlE,MAAM+iE,EAAMgH,cACZ,MAAM,IAAI5H,KAEfsD,GAAG,aAAa,SAAS9nD,GACxB,MAAM0lD,EAAWN,EAAMl/D,QAAQiF,cAAci6D,EAAMR,MAAM4F,mBACnD7kE,EAAQyL,SAASk7D,WAAW5G,EAAS6G,SAAS,GAE9C7F,EAAY/gE,EAAMwF,cAAci6D,EAAMR,MAAM11D,MAClDw3D,EAAUzB,QAAQuH,QAAUxsD,EAC5B0mD,EAAUkB,UAAU1wD,IAAK,kBAAiB8I,KAE1C,MAAMQ,EAAOvX,KAAK67D,SAAS79C,QAAQjH,GAC7B1H,EAAWouD,EAAUv7D,cAAci6D,EAAMR,MAAMgG,UACjDtyD,IACAA,EAAS4F,MAAQsC,EAAKpiB,KACtBka,EAASpM,YAAcsU,EAAKpiB,MAGhCgnE,EAAMiF,cAAcn8D,OAAOvI,GAE3By/D,EAAME,QAAQ,yBAA0B,CAACoB,EAAW1mD,OACrD8nD,GAAG,UAAU,SAAS9nD,GACrBolD,EAAMiC,SAAU,EAEhB,MAAMX,EAAYtB,EAAMiF,cAAcl/D,cAAe,mBAAkB6U,KACvEolD,EAAME,QAAQ,yBAA0B,CAACoB,EAAW1mD,OACrD8nD,GAAG,YAAY,SAAS9nD,EAAIimD,GAC3B,MAAMS,EAAYtB,EAAMiF,cAAcl/D,cAAe,mBAAkB6U,KACjEhE,EAAc0qD,EAAUv7D,cAAc,iBAC5C6Q,IAAgBA,EAAYjT,MAAM+V,OAASmnD,EAAa,KAEpDA,GAAc,KACdS,EAAUkB,UAAU1wD,IAAI,iBAE7B4wD,GAAG,YAAY,SAAS9nD,EAAIuX,GACvBl1B,MAAM+iE,EAAMgH,gBACZhH,EAAMgH,aAAe70C,EAAS60C,aAC9BhH,EAAME,QAAQ,uBAGlB,MAAMoB,EAAYtB,EAAMiF,cAAcl/D,cAAe,mBAAkB6U,KACvEolD,EAAME,QAAQ,2BAA4B,CAACoB,EAAW1mD,IAEtD,MAAMysD,EAAWl1C,EAASm1C,UACpBC,EAAmBvH,EAAMR,MAAMoG,qBAAqBlgE,QAAQ,KAAM2hE,GAClE/G,EAAWN,EAAMl/D,QAAQiF,cAAcwhE,GAC7C,GAAKjH,EAAL,CAGO,CACH,MAAM//D,EAAQyL,SAASk7D,WAAW5G,EAAS6G,SAAS,GAC9Cr9D,EAAOvJ,EAAMwF,cAAci6D,EAAMR,MAAM11D,MAC7CA,EAAKyI,aAAa,UAAW4f,EAASvX,IACtC9Q,EAAKyI,aAAa,iBAAkB80D,GAEpC,MAAMG,EAAUjnE,EAAMwF,cAAci6D,EAAMR,MAAM6F,aAChDmC,IAAYA,EAAQz2D,UAAYohB,EAASq1C,SAEzC,MAAM3E,EAActiE,EAAMwF,cAAci6D,EAAMR,MAAM8F,UACpDzC,IAAgBA,EAAY5yB,KAAO9d,EAAS4J,KAE5C,MAAM7oB,EAAW3S,EAAMwF,cAAci6D,EAAMR,MAAMgG,UAC7CtyD,IACAA,EAAS4F,MAAQqZ,EAASn5B,KAC1Bka,EAASpM,YAAcqrB,EAASn5B,MAGpCsoE,EAAUmG,OAAOlnE,GAGrB+gE,EAAU18D,cAvBNo7D,EAAME,QAAQ,QAAS,CAACtlD,EAAK,sBAAqBysD,SAwBvD3E,GAAG,UAAU,SAAS9nD,GACrB,MAAM0mD,EAAYtB,EAAMiF,cAAcl/D,cAAe,mBAAkB6U,KACvEolD,EAAME,QAAQ,yBAA0B,CAACoB,EAAW1mD,IAChD0mD,IAEAA,EAAUr9D,iBAAiB,gBAAgB,WACvCq9D,EAAU18D,YAEd08D,EAAUkB,UAAU1wD,IAAIkuD,EAAMR,MAAMuG,uBAEzCrD,GAAG,SAAS,SAAS9nD,EAAIuW,GACxBiwC,EAAajwC,GACb,MAAMmwC,EAAYtB,EAAMiF,cAAcl/D,cAAe,mBAAkB6U,KACnE0mD,IAEAA,EAAUr9D,iBAAiB,gBAAgB,WACvCq9D,EAAU18D,YAEd08D,EAAUkB,UAAU1wD,IAAIkuD,EAAMR,MAAMuG,uBAEzCrD,GAAG,gBAAgB,WAClB1C,EAAMiC,SAAU,EAChBZ,QAIR2D,EAAW3qE,UAAU0sE,aAAe,WAChC,MAAM/G,EAAQn8D,KACd,OAAOkhE,EAAShrE,OAAO8J,KAAKohE,cAAe,CACvCyC,UAAW,EACXC,UAAW9jE,KAAK27D,MAAM11D,KACtB7I,OAAQ4C,KAAK27D,MAAM2F,cACnByC,OAAQ,oBACRC,WAAY,iBACZC,MAAO,WACH,MACMb,EADQzrE,MAAM+D,KAAKygE,EAAMiF,cAAcj/D,iBAAiBg6D,EAAMR,MAAM11D,OACtDjJ,KAAI,SAASiJ,GAC7B,IAAKA,EAAK4gD,QAAQsV,EAAMR,MAAM2F,eAC1B,OAAOr7D,EAAK+1D,QAAQkI,MAEzB9mE,OAAOjF,SAEJkM,EAAO,IAAIiE,SACXmS,EAASshD,EAAeI,EAAMl/D,SACpC3H,OAAOyC,KAAK0iB,GAAQ3iB,SAAQ,SAAS3C,GACjCkP,EAAKY,OAAO9P,EAAMslB,EAAOtlB,OAE7BkP,EAAKY,OAAO,eAAgBk3D,EAAMgH,aAAazpE,YAC/C2K,EAAKY,OAAO,QAASm+D,EAAMh1D,KAAK,MAEhCkxD,MAAMnD,EAAMR,MAAMsC,KAAKuE,UAAW,CAC9Bj/C,OAAQ,OACRg8C,YAAa,cACb38B,KAAMv+B,IACPtK,MAAK,SAASu0B,GACb,IAAKA,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAEV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,MAEXm3D,OAAM,SAASn3D,GACQ,iBAAVA,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,UAU9Bw4D,EAAW3qE,UAAU2tE,WAAa,WAC9B,KAAOnkE,KAAKohE,cAAcz+D,YACtB3C,KAAKohE,cAAcpgE,YAAYhB,KAAKohE,cAAcz+D,aAS1Dw+D,EAAW3qE,UAAU4tE,kBAAoB,WACrC,IAAKhrE,MAAM4G,KAAKmjE,cACZ,OAAOrpE,QAAQG,OAAO,6BAG1B,MAAMoK,EAAO,IAAIiE,SACXmS,EAASshD,EAAe/7D,KAAK/C,SACnC3H,OAAOyC,KAAK0iB,GAAQ3iB,SAAQ,SAAS3C,GACjCkP,EAAKY,OAAO9P,EAAMslB,EAAOtlB,OAG7B,MAAMgnE,EAAQn8D,KACd,OAAOs/D,MAAMt/D,KAAK27D,MAAMsC,KAAKkE,iBAAkB,CAC3C5+C,OAAQ,OACRg8C,YAAa,cACb38B,KAAMv+B,IACPtK,MAAK,SAASu0B,GACb,IAAKA,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAEV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,EAGVwzD,EAAMgH,aAAe70C,EAAS+1C,cAC9BlI,EAAME,QAAQ,0BAUtB8E,EAAW3qE,UAAU8tE,YAAc,SAASr+D,GACxC,GAAI7M,MAAM4G,KAAKmjE,cACX,OAAOrpE,QAAQG,OAAO,uBAG1B,MAAMsqE,EAAc1qE,SAASoM,GAAQA,EAAK+1D,QAAQkI,IAClD,GAAI9qE,MAAMmrE,GACN,OAAOzqE,QAAQG,OAAO,cAG1B,MAAMoK,EAAO,IAAIiE,SACXmS,EAASshD,EAAe/7D,KAAK/C,SACnC3H,OAAOyC,KAAK0iB,GAAQ3iB,SAAQ,SAAS3C,GACjCkP,EAAKY,OAAO9P,EAAMslB,EAAOtlB,OAE7BkP,EAAKY,OAAO,eAAgBjF,KAAKmjE,aAAazpE,YAC9C2K,EAAKY,OAAO,cAAes/D,EAAY7qE,YACvC2K,EAAKY,OAAO,YAAagB,EAAK+1D,QAAQwH,UAEtC,MAAMrH,EAAQn8D,KACd,OAAOs/D,MAAMt/D,KAAK27D,MAAMsC,KAAKsE,WAAY,CACrCh/C,OAAQ,OACRg8C,YAAa,cACb38B,KAAMv+B,IACPtK,MAAK,SAASu0B,GACb,IAAKA,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAEV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,EAIV1C,EAAK7F,iBAAiB,gBAAgB,WAClC6F,EAAKlF,YAETkF,EAAK04D,UAAU1wD,IAAIkuD,EAAMR,MAAMuG,uBAWvCf,EAAW3qE,UAAUguE,YAAc,SAASv+D,EAAMi5D,GAC9C,GAAI9lE,MAAM4G,KAAKmjE,cACX,OAAOrpE,QAAQG,OAAO,uBAG1B,MAAMsqE,EAAc1qE,SAASoM,GAAQA,EAAK+1D,QAAQkI,IAClD,GAAI9qE,MAAMmrE,GACN,OAAOzqE,QAAQG,OAAO,cAG1B,MAAMkiE,EAAQn8D,KACRm/D,EAAQD,EAAQE,KAAK,QAC3B,OAAOE,MAAMH,EAAMx0D,KAAK,UAAW,CAC/B4Y,OAAQ,OACRg8C,YAAa,cACb38B,KAAM,IAAIt6B,SAAS62D,EAAM1pE,IAAI,MAC9BsE,MAAK,SAASu0B,GACb,IAAKA,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAEV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,EAIV,GADA+0D,EAAUgC,gBAAgBP,EAAM1pE,IAAI,IAChC64B,EAASqxC,YACTjC,EAAUkC,sBAAsBT,EAAM1pE,IAAI,GAAI64B,EAASqxC,iBACpD,CACHT,EAAQW,MAAM,QAEd,MAAM8D,EAAU19D,EAAK/D,cAAci6D,EAAMR,MAAM6F,aAC/CmC,IAAYA,EAAQz2D,UAAYohB,EAASq1C,SAEzC,MAAM3E,EAAc/4D,EAAK/D,cAAci6D,EAAMR,MAAM8F,UACnDzC,IAAgBA,EAAY5yB,KAAO9d,EAAS4J,KAE5C,MAAM7oB,EAAWpJ,EAAK/D,cAAci6D,EAAMR,MAAMgG,UAC5CtyD,IACAA,EAAS4F,MAAQqZ,EAASn5B,KAC1Bka,EAASpM,YAAcqrB,EAASn5B,WAWhDgsE,EAAW3qE,UAAUiuE,kBAAoB,WACrC,GAAIrrE,MAAM4G,KAAKmjE,cACX,OAAOrpE,QAAQG,OAAO,uBAG1B,MAAMoK,EAAO,IAAIiE,SACXmS,EAASshD,EAAe/7D,KAAK/C,SACnC3H,OAAOyC,KAAK0iB,GAAQ3iB,SAAQ,SAAS3C,GACjCkP,EAAKY,OAAO9P,EAAMslB,EAAOtlB,OAE7BkP,EAAKY,OAAO,eAAgBjF,KAAKmjE,aAAazpE,YAI9CsG,KAAK67D,SAASA,SAASp/C,YAEvB,MAAM0/C,EAAQn8D,KACd,OAAOs/D,MAAMt/D,KAAK27D,MAAMsC,KAAKmE,iBAAkB,CAC3C7+C,OAAQ,OACRg8C,YAAa,cACb38B,KAAMv+B,IACPtK,MAAK,SAASu0B,GACb,IAAKA,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAEV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,EAGV,IAAI+7D,EAAW,KACf/sE,MAAM+D,KAAKygE,EAAMiF,cAAc3+D,UAAU3K,SAAQ,SAASmO,GACtDA,EAAK04D,UAAU1wD,IAAIkuD,EAAMR,MAAMuG,mBAC/BwC,EAAWz+D,KAGXy+D,EACAA,EAAStkE,iBAAiB,gBAAgB,WACtC+7D,EAAMgI,aACNhI,EAAMgH,aAAe,GACrBhH,EAAME,QAAQ,0BAGlBF,EAAMgI,aACNhI,EAAMgH,aAAe,GACrBhH,EAAME,QAAQ,2BAW1B8E,EAAW3qE,UAAUmuE,WAAa,SAAS1+D,EAAM+N,GAAM,GACnD/N,EAAK04D,UAAUiG,OAAO5kE,KAAK27D,MAAMsG,iBAAkBjuD,GAClC/N,EAAK/D,cAAclC,KAAK27D,MAAM+F,cACtCzoB,QAAUjlC,GAGvBmtD,EAAW3qE,UAAUgoE,aAAe,WAChC,MAAMrC,EAAQn8D,KAGdA,KAAK/C,QAAQmD,iBAAiB,SAAS,SAASixB,GACvCA,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAM0F,gBAItChwC,EAAMvkB,iBAENhT,QAAQE,IAAI,CACRyjE,EAAU4B,OACVlD,EAAMiI,sBACPrqE,MAAK,WACJ0jE,EAAU59D,UACXigE,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,UAMtB3I,KAAK/C,QAAQmD,iBAAiB,SAAS,SAASixB,GACvCA,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAMoC,gBAItC1sC,EAAMvkB,iBAENqwD,EAAQ6C,OAAO,CACX1oD,KAAM,QACNrC,MAAOgrD,QAAQ,gBACf56D,QAAS46D,QAAQ,2DACjBC,UAAU,EACVC,QAAS,CACL/jD,OAAQ,CACJgkD,MAAOH,QAAQ,UACfv+D,UAAW,oBAEf2+D,QAAS,CACLD,MAAOH,QAAQ,UACfv+D,UAAW,aACXhC,SAAU,WACN5F,QAAQE,IAAI,CACRyjE,EAAU4B,OACVlD,EAAMsI,sBACP1qE,MAAK,WACJ0jE,EAAU59D,UACXigE,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,eAUtC3I,KAAK/C,QAAQmD,iBAAiB,SAAS,SAASixB,GAC5C,IAAKA,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAMiG,kBAClC,OAGJvwC,EAAMvkB,iBAEN,MAAM7G,EAAOorB,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAM11D,MACxCs+D,EAAc1qE,SAASoM,GAAQA,EAAK+1D,QAAQkI,IAClD,GAAI9qE,MAAMmrE,GACN,OAGJ,MAAMlgE,EAAO,IAAIiE,SACXmS,EAASshD,EAAeI,EAAMl/D,SACpC3H,OAAOyC,KAAK0iB,GAAQ3iB,SAAQ,SAAS3C,GACjCkP,EAAKY,OAAO9P,EAAMslB,EAAOtlB,OAE7BkP,EAAKY,OAAO,eAAgBk3D,EAAMgH,aAAazpE,YAC/C2K,EAAKY,OAAO,cAAes/D,EAAY7qE,YACvC2K,EAAKY,OAAO,YAAagB,EAAK+1D,QAAQwH,UACtC,MAAMlD,EAAc,IAAIC,gBAAgBl8D,GAAM3K,WAE9CI,QAAQE,IAAI,CACRyjE,EAAU4B,OACVC,MAAO,GAAEnD,EAAMR,MAAMsC,KAAKqE,cAAchC,IAAe,CACnDf,YAAa,kBAElBxlE,MAAK,SAAS/B,GACb,MAAMs2B,EAAWt2B,EAAO,GACxB,IAAKs2B,EAASkxC,GAAI,CACd,MAAM72D,EAAQ,IAAIjQ,MAAO,GAAE41B,EAASpX,UAAUoX,EAASmxC,cAEvD,MADA92D,EAAM2lB,SAAWA,EACX3lB,EAGV,OAAO2lB,EAASzf,UACjB9U,MAAK,SAASu0B,GACb,GAAIA,EAAS4uC,QAAU5uC,EAAS4uC,OAAO/hE,OAAQ,CAC3C,MAAMwN,EAAQ,IAAIjQ,MAAM,mBAExB,MADAiQ,EAAM2lB,SAAWA,EACX3lB,EAGV80D,EAAU59D,OACV,MAAMq/D,EAAU/B,EAAQ6C,OAAO,CAC3B/qD,MAAOgrD,QAAQ,aACf56D,QAASipB,EAAS7f,KAClByxD,UAAU,EACVC,QAAS,CACL/jD,OAAQ,CACJgkD,MAAOH,QAAQ,UACfv+D,UAAW,oBAEf89D,GAAI,CACAY,MAAOH,QAAQ,QACfv+D,UAAW,cACXhC,SAAU,WAgBN,OAfA5F,QAAQE,IAAI,CACRyjE,EAAU4B,OACVlD,EAAMqI,YAAYv+D,EAAMi5D,KACzBnlE,MAAK,WACJ0jE,EAAU59D,UACXigE,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,OAGX,OAMTu2D,EAAQE,KAAK,QACrBP,GAAG,UAAU,WAgBf,OAfA/kE,QAAQE,IAAI,CACRyjE,EAAU4B,OACVlD,EAAMqI,YAAYv+D,EAAMi5D,KACzBnlE,MAAK,WACJ0jE,EAAU59D,UACXigE,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,OAGX,QAEZm3D,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,SAMtB3I,KAAK/C,QAAQmD,iBAAiB,SAAS,SAASixB,GAC5C,IAAKA,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAMkG,kBAClC,OAGJxwC,EAAMvkB,iBACN,MAAM7G,EAAOorB,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAM11D,MACxCs9D,EAAU1pE,SAASoM,EAAK+1D,QAAQuH,SACtCpH,EAAMN,SAASA,SAASz/C,OAAOmnD,MAInCvjE,KAAK/C,QAAQmD,iBAAiB,SAAS,SAASixB,GACvCA,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAMmG,oBAItCzwC,EAAMvkB,iBAENqwD,EAAQ6C,OAAO,CACX1oD,KAAM,QACNrC,MAAOgrD,QAAQ,gBACf56D,QAAS46D,QAAQ,qDACjBC,UAAU,EACVC,QAAS,CACL/jD,OAAQ,CACJgkD,MAAOH,QAAQ,UACfv+D,UAAW,oBAEf2+D,QAAS,CACLD,MAAOH,QAAQ,UACfv+D,UAAW,aACXhC,SAAU,WACN,MAAMuG,EAAOorB,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAM11D,MAC9CnM,QAAQE,IAAI,CACRyjE,EAAU4B,OACVlD,EAAMmI,YAAYr+D,KACnBlM,MAAK,WACJ0jE,EAAU59D,UACXigE,OAAM,SAASn3D,GACd80D,EAAU59D,OACY,iBAAV8I,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEI,EAAU30D,EAAM2lB,SAAS4uC,QAClBv0D,aAAiBjQ,MACxB4kE,EAAU30D,EAAMtD,SAEhBi4D,EAAU30D,eAUtC,IAAIk8D,EAAc,KAClB7kE,KAAK/C,QAAQmD,iBAAiB,SAAS,SAASixB,GAC5C,MAAMprB,EAAOorB,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAM11D,MAC9C,IAAKA,EACD,OAGJ,IAAI6+D,EACAC,EAAW1zC,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAM+F,cAChD,GAAKqD,EAcDD,EAAeC,EAAS9rB,YAdb,CAGX,IAAK5nB,EAAM2zC,UAAY3zC,EAAM4zC,SACzB,OAIJ,KADAF,EAAW9+D,EAAK/D,cAAci6D,EAAMR,MAAM+F,eAEtC,OAEJoD,GAAgBC,EAAS9rB,QAM7B,GAAI4rB,GAAexzC,EAAM4zC,UAAaJ,IAAgB5+D,EAAO,CACzD,MAAM6C,EAAQnR,MAAM+D,KAAKygE,EAAMiF,cAAcj/D,iBAAiBg6D,EAAMR,MAAM11D,OACpE80D,EAAYjyD,EAAMrE,QAAQogE,GAC1BK,EAAcp8D,EAAMrE,QAAQwB,GAC5Bk/D,EAAa3rE,KAAK4rE,IAAIrK,EAAWmK,GACjC5X,EAAW9zD,KAAKowB,IAAImxC,EAAWmK,GAClBp8D,EAAMxK,MAAM6mE,EAAY7X,EAAW,GAC3Cx1D,SAAQ,SAASmO,GACxBk2D,EAAMwI,WAAW1+D,EAAM6+D,WAG3B3I,EAAMwI,WAAW1+D,EAAM6+D,GAG3BD,EAAc5+D,KAIlBjG,KAAK/C,QAAQmD,iBAAiB,SAAS,SAASixB,GAC5C,GAAmB,WAAfA,EAAMnE,KAAmB,CACzB,MACMm4C,EADQ1tE,MAAM+D,KAAKygE,EAAMiF,cAAcj/D,iBAAiBg6D,EAAMR,MAAM11D,OAC/C7I,QAAO,SAAS6I,GAEvC,OADiBA,EAAK/D,cAAci6D,EAAMR,MAAM+F,cAChCzoB,WAGhBosB,EAAalqE,QACbgiE,EAAQ6C,OAAO,CACX1oD,KAAM,QACNrC,MAAOgrD,QAAQ,gBACf56D,QAAS46D,QAAS,0DAAyDoF,EAAalqE,uBACxF+kE,UAAU,EACVC,QAAS,CACL/jD,OAAQ,CACJgkD,MAAOH,QAAQ,UACfv+D,UAAW,oBAEf2+D,QAAS,CACLD,MAAOH,QAAQ,UACfv+D,UAAW,aACXhC,SAAU,WACN,MAAM4lE,EAAkBD,EAAaroE,KAAI,SAASiJ,GAC9C,OAAOk2D,EAAMmI,YAAYr+D,MAE7Bq/D,EAAgB1oC,QAAQ6gC,EAAU4B,QAElCne,IACIokB,GACFvrE,MAAK,SAASs0D,GACZoP,EAAU59D,OACV,MAAmBwuD,EAAnB,wDAA4B,yFAAnBpsD,EAAmB,EACxB,GAAsB,aAAlBA,EAAOiV,OAAuB,CAC9B,MAAMvO,EAAQ1G,EAAOmc,OACC,iBAAVzV,GAAuBA,EAAM2lB,UAAY3lB,EAAM2lB,SAAS4uC,OAChEK,EAAa50D,EAAM2lB,SAAS4uC,QACrBv0D,aAAiBjQ,MACxB6kE,EAAa50D,EAAMtD,SAEnBk4D,EAAa50D,IAIzB60D,gBAWhCx9D,KAAK/C,QAAQmD,iBAAiB,YAAY,SAASixB,GAC/C,MAAMprB,EAAOorB,EAAMv1B,OAAO6kE,QAAQxE,EAAMR,MAAM11D,MAC9C,IAAKA,EACD,OAGJ,MAAMw7D,EAAWx7D,EAAK/D,cAAci6D,EAAMR,MAAM8F,UAC5CA,GACAA,EAAStb,cAAc,IAAIof,WAAW,QAAS,CAC3CC,SAAS,EACTC,YAAY,SAgC5BjF,EAAaO,GACbN,EAASQ,IAAIpC,GAAG,SAAUkC,IC76BPrrE,EAGTgwE,OAFG3tE,OAAOiF,IAAItH","file":"widget.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/paper_uploads/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 77);\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined; // eslint-disable-line no-shadow-restricted-names\n\nvar ThrowTypeError = Object.getOwnPropertyDescriptor\n\t? (function () { return Object.getOwnPropertyDescriptor(arguments, 'callee').get; }())\n\t: function () { throw new TypeError(); };\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'$ %Array%': Array,\n\t'$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'$ %ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'$ %ArrayPrototype%': Array.prototype,\n\t'$ %ArrayProto_entries%': Array.prototype.entries,\n\t'$ %ArrayProto_forEach%': Array.prototype.forEach,\n\t'$ %ArrayProto_keys%': Array.prototype.keys,\n\t'$ %ArrayProto_values%': Array.prototype.values,\n\t'$ %AsyncFromSyncIteratorPrototype%': undefined,\n\t'$ %AsyncFunction%': asyncFunction,\n\t'$ %AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'$ %AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'$ %AsyncGeneratorFunction%': asyncGenFunction,\n\t'$ %AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'$ %AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'$ %Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'$ %Boolean%': Boolean,\n\t'$ %BooleanPrototype%': Boolean.prototype,\n\t'$ %DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'$ %Date%': Date,\n\t'$ %DatePrototype%': Date.prototype,\n\t'$ %decodeURI%': decodeURI,\n\t'$ %decodeURIComponent%': decodeURIComponent,\n\t'$ %encodeURI%': encodeURI,\n\t'$ %encodeURIComponent%': encodeURIComponent,\n\t'$ %Error%': Error,\n\t'$ %ErrorPrototype%': Error.prototype,\n\t'$ %eval%': eval, // eslint-disable-line no-eval\n\t'$ %EvalError%': EvalError,\n\t'$ %EvalErrorPrototype%': EvalError.prototype,\n\t'$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'$ %Function%': Function,\n\t'$ %FunctionPrototype%': Function.prototype,\n\t'$ %Generator%': generator ? getProto(generator()) : undefined,\n\t'$ %GeneratorFunction%': generatorFunction,\n\t'$ %GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'$ %isFinite%': isFinite,\n\t'$ %isNaN%': isNaN,\n\t'$ %IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'$ %JSON%': JSON,\n\t'$ %JSONParse%': JSON.parse,\n\t'$ %Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'$ %MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'$ %Math%': Math,\n\t'$ %Number%': Number,\n\t'$ %NumberPrototype%': Number.prototype,\n\t'$ %Object%': Object,\n\t'$ %ObjectPrototype%': Object.prototype,\n\t'$ %ObjProto_toString%': Object.prototype.toString,\n\t'$ %ObjProto_valueOf%': Object.prototype.valueOf,\n\t'$ %parseFloat%': parseFloat,\n\t'$ %parseInt%': parseInt,\n\t'$ %Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'$ %Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'$ %Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'$ %Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'$ %RangeError%': RangeError,\n\t'$ %RangeErrorPrototype%': RangeError.prototype,\n\t'$ %ReferenceError%': ReferenceError,\n\t'$ %ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'$ %Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'$ %RegExp%': RegExp,\n\t'$ %RegExpPrototype%': RegExp.prototype,\n\t'$ %Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'$ %SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'$ %String%': String,\n\t'$ %StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'$ %StringPrototype%': String.prototype,\n\t'$ %Symbol%': hasSymbols ? Symbol : undefined,\n\t'$ %SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'$ %SyntaxError%': SyntaxError,\n\t'$ %SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'$ %ThrowTypeError%': ThrowTypeError,\n\t'$ %TypedArray%': TypedArray,\n\t'$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'$ %TypeError%': TypeError,\n\t'$ %TypeErrorPrototype%': TypeError.prototype,\n\t'$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'$ %URIError%': URIError,\n\t'$ %URIErrorPrototype%': URIError.prototype,\n\t'$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar key = '$ ' + name;\n\tif (!(key in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {\n\t\tthrow new TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\treturn INTRINSICS[key];\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nmodule.exports = function requirePromise() {\n\tif (typeof Promise !== 'function') {\n\t\tthrow new TypeError('`Promise.allSettled` requires a global `Promise` be available.');\n\t}\n\tif (typeof Array.from !== 'function') {\n\t\tthrow new TypeError('`Promise.allSettled` requires `Array.from` be available.');\n\t}\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar has = require('has');\n\nvar $assign = GetIntrinsic('%Object%').assign;\n\nmodule.exports = function assign(target, source) {\n\tif ($assign) {\n\t\treturn $assign(target, source);\n\t}\n\n\t// eslint-disable-next-line no-restricted-syntax\n\tfor (var key in source) {\n\t\tif (has(source, key)) {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n};\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!options.isMergeableObject(source[key]) || !propertyIsOnObject(target, key)) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar origSymbol = global.Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n\tif (!value) { return false; }\n\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\tif (typeof value === 'function' && !value.prototype) { return true; }\n\tif (hasToStringTag) { return tryFunctionObject(value); }\n\tif (isES6ClassFn(value)) { return false; }\n\tvar strClass = toStr.call(value);\n\treturn strClass === fnClass || strClass === genClass;\n};\n","'use strict';\n\nmodule.exports = function forEach(array, callback) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tcallback(array[i], i, array); // eslint-disable-line callback-return\n\t}\n};\n","'use strict';\n\nmodule.exports = function every(array, predicate) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (!predicate(array[i], i, array)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n","// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\n(function(global) {\n    var qq = function(element) {\n        \"use strict\";\n        return {\n            hide: function() {\n                element.style.display = \"none\";\n                return this;\n            },\n            attach: function(type, fn) {\n                if (element.addEventListener) {\n                    element.addEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\" + type, fn);\n                }\n                return function() {\n                    qq(element).detach(type, fn);\n                };\n            },\n            detach: function(type, fn) {\n                if (element.removeEventListener) {\n                    element.removeEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.detachEvent(\"on\" + type, fn);\n                }\n                return this;\n            },\n            contains: function(descendant) {\n                if (!descendant) {\n                    return false;\n                }\n                if (element === descendant) {\n                    return true;\n                }\n                if (element.contains) {\n                    return element.contains(descendant);\n                } else {\n                    return !!(descendant.compareDocumentPosition(element) & 8);\n                }\n            },\n            insertBefore: function(elementB) {\n                elementB.parentNode.insertBefore(element, elementB);\n                return this;\n            },\n            remove: function() {\n                element.parentNode.removeChild(element);\n                return this;\n            },\n            css: function(styles) {\n                if (element.style == null) {\n                    throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n                }\n                if (styles.opacity != null) {\n                    if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n                        styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n                    }\n                }\n                qq.extend(element.style, styles);\n                return this;\n            },\n            hasClass: function(name, considerParent) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n            },\n            addClass: function(name) {\n                if (!qq(element).hasClass(name)) {\n                    element.className += \" \" + name;\n                }\n                return this;\n            },\n            removeClass: function(name) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n                return this;\n            },\n            getByClass: function(className, first) {\n                var candidates, result = [];\n                if (first && element.querySelector) {\n                    return element.querySelector(\".\" + className);\n                } else if (element.querySelectorAll) {\n                    return element.querySelectorAll(\".\" + className);\n                }\n                candidates = element.getElementsByTagName(\"*\");\n                qq.each(candidates, function(idx, val) {\n                    if (qq(val).hasClass(className)) {\n                        result.push(val);\n                    }\n                });\n                return first ? result[0] : result;\n            },\n            getFirstByClass: function(className) {\n                return qq(element).getByClass(className, true);\n            },\n            children: function() {\n                var children = [], child = element.firstChild;\n                while (child) {\n                    if (child.nodeType === 1) {\n                        children.push(child);\n                    }\n                    child = child.nextSibling;\n                }\n                return children;\n            },\n            setText: function(text) {\n                element.innerText = text;\n                element.textContent = text;\n                return this;\n            },\n            clearText: function() {\n                return qq(element).setText(\"\");\n            },\n            hasAttribute: function(attrName) {\n                var attrVal;\n                if (element.hasAttribute) {\n                    if (!element.hasAttribute(attrName)) {\n                        return false;\n                    }\n                    return /^false$/i.exec(element.getAttribute(attrName)) == null;\n                } else {\n                    attrVal = element[attrName];\n                    if (attrVal === undefined) {\n                        return false;\n                    }\n                    return /^false$/i.exec(attrVal) == null;\n                }\n            }\n        };\n    };\n    (function() {\n        \"use strict\";\n        qq.canvasToBlob = function(canvas, mime, quality) {\n            return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n        };\n        qq.dataUriToBlob = function(dataUri) {\n            var arrayBuffer, byteString, createBlob = function(data, mime) {\n                var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n                if (blobBuilder) {\n                    blobBuilder.append(data);\n                    return blobBuilder.getBlob(mime);\n                } else {\n                    return new Blob([ data ], {\n                        type: mime\n                    });\n                }\n            }, intArray, mimeString;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return createBlob(arrayBuffer, mimeString);\n        };\n        qq.log = function(message, level) {\n            if (window.console) {\n                if (!level || level === \"info\") {\n                    window.console.log(message);\n                } else {\n                    if (window.console[level]) {\n                        window.console[level](message);\n                    } else {\n                        window.console.log(\"<\" + level + \"> \" + message);\n                    }\n                }\n            }\n        };\n        qq.isObject = function(variable) {\n            return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n        };\n        qq.isFunction = function(variable) {\n            return typeof variable === \"function\";\n        };\n        qq.isArray = function(value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n        };\n        qq.isItemList = function(maybeItemList) {\n            return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n        };\n        qq.isNodeList = function(maybeNodeList) {\n            return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n        };\n        qq.isString = function(maybeString) {\n            return Object.prototype.toString.call(maybeString) === \"[object String]\";\n        };\n        qq.trimStr = function(string) {\n            if (String.prototype.trim) {\n                return string.trim();\n            }\n            return string.replace(/^\\s+|\\s+$/g, \"\");\n        };\n        qq.format = function(str) {\n            var args = Array.prototype.slice.call(arguments, 1), newStr = str, nextIdxToReplace = newStr.indexOf(\"{}\");\n            qq.each(args, function(idx, val) {\n                var strBefore = newStr.substring(0, nextIdxToReplace), strAfter = newStr.substring(nextIdxToReplace + 2);\n                newStr = strBefore + val + strAfter;\n                nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n                if (nextIdxToReplace < 0) {\n                    return false;\n                }\n            });\n            return newStr;\n        };\n        qq.isFile = function(maybeFile) {\n            return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n        };\n        qq.isFileList = function(maybeFileList) {\n            return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n        };\n        qq.isFileOrInput = function(maybeFileOrInput) {\n            return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n        };\n        qq.isInput = function(maybeInput, notFile) {\n            var evaluateType = function(type) {\n                var normalizedType = type.toLowerCase();\n                if (notFile) {\n                    return normalizedType !== \"file\";\n                }\n                return normalizedType === \"file\";\n            };\n            if (window.HTMLInputElement) {\n                if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            if (maybeInput.tagName) {\n                if (maybeInput.tagName.toLowerCase() === \"input\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        qq.isBlob = function(maybeBlob) {\n            if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n                return true;\n            }\n        };\n        qq.isXhrUploadSupported = function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n        };\n        qq.createXhrInstance = function() {\n            if (window.XMLHttpRequest) {\n                return new XMLHttpRequest();\n            }\n            try {\n                return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            } catch (error) {\n                qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n                return null;\n            }\n        };\n        qq.isFolderDropSupported = function(dataTransfer) {\n            return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n        };\n        qq.isFileChunkingSupported = function() {\n            return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n        };\n        qq.sliceBlob = function(fileOrBlob, start, end) {\n            var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n            return slicer.call(fileOrBlob, start, end);\n        };\n        qq.arrayBufferToHex = function(buffer) {\n            var bytesAsHex = \"\", bytes = new Uint8Array(buffer);\n            qq.each(bytes, function(idx, byt) {\n                var byteAsHexStr = byt.toString(16);\n                if (byteAsHexStr.length < 2) {\n                    byteAsHexStr = \"0\" + byteAsHexStr;\n                }\n                bytesAsHex += byteAsHexStr;\n            });\n            return bytesAsHex;\n        };\n        qq.readBlobToHex = function(blob, startOffset, length) {\n            var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length), fileReader = new FileReader(), promise = new qq.Promise();\n            fileReader.onload = function() {\n                promise.success(qq.arrayBufferToHex(fileReader.result));\n            };\n            fileReader.onerror = promise.failure;\n            fileReader.readAsArrayBuffer(initialBlob);\n            return promise;\n        };\n        qq.extend = function(first, second, extendNested) {\n            qq.each(second, function(prop, val) {\n                if (extendNested && qq.isObject(val)) {\n                    if (first[prop] === undefined) {\n                        first[prop] = {};\n                    }\n                    qq.extend(first[prop], val, true);\n                } else {\n                    first[prop] = val;\n                }\n            });\n            return first;\n        };\n        qq.override = function(target, sourceFn) {\n            var super_ = {}, source = sourceFn(super_);\n            qq.each(source, function(srcPropName, srcPropVal) {\n                if (target[srcPropName] !== undefined) {\n                    super_[srcPropName] = target[srcPropName];\n                }\n                target[srcPropName] = srcPropVal;\n            });\n            return target;\n        };\n        qq.indexOf = function(arr, elt, from) {\n            if (arr.indexOf) {\n                return arr.indexOf(elt, from);\n            }\n            from = from || 0;\n            var len = arr.length;\n            if (from < 0) {\n                from += len;\n            }\n            for (;from < len; from += 1) {\n                if (arr.hasOwnProperty(from) && arr[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n        qq.getUniqueId = function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n                return v.toString(16);\n            });\n        };\n        qq.ie = function() {\n            return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n        };\n        qq.ie7 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n        };\n        qq.ie8 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n        };\n        qq.ie10 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n        };\n        qq.ie11 = function() {\n            return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n        };\n        qq.edge = function() {\n            return navigator.userAgent.indexOf(\"Edge\") >= 0;\n        };\n        qq.safari = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n        };\n        qq.chrome = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n        };\n        qq.opera = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n        };\n        qq.firefox = function() {\n            return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n        };\n        qq.windows = function() {\n            return navigator.platform === \"Win32\";\n        };\n        qq.android = function() {\n            return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n        };\n        qq.androidStock = function() {\n            return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0 && navigator.userAgent.toLowerCase().indexOf(\"firefox\") < 0;\n        };\n        qq.ios6 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n        };\n        qq.ios7 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n        };\n        qq.ios8 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n        };\n        qq.ios800 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n        };\n        qq.ios = function() {\n            return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n        };\n        qq.iosChrome = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n        };\n        qq.iosSafari = function() {\n            return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n        };\n        qq.iosSafariWebView = function() {\n            return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n        };\n        qq.preventDefault = function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n        };\n        qq.toElement = function() {\n            var div = document.createElement(\"div\");\n            return function(html) {\n                div.innerHTML = html;\n                var element = div.firstChild;\n                div.removeChild(element);\n                return element;\n            };\n        }();\n        qq.each = function(iterableItem, callback) {\n            var keyOrIndex, retVal;\n            if (iterableItem) {\n                if (window.Storage && iterableItem.constructor === window.Storage) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isString(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (keyOrIndex in iterableItem) {\n                        if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n                            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                            if (retVal === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        qq.bind = function(oldFunc, context) {\n            if (qq.isFunction(oldFunc)) {\n                var args = Array.prototype.slice.call(arguments, 2);\n                return function() {\n                    var newArgs = qq.extend([], args);\n                    if (arguments.length) {\n                        newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n                    }\n                    return oldFunc.apply(context, newArgs);\n                };\n            }\n            throw new Error(\"first parameter must be a function!\");\n        };\n        qq.obj2url = function(obj, temp, prefixDone) {\n            var uristrings = [], prefix = \"&\", add = function(nextObj, i) {\n                var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n                if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n                    uristrings.push(typeof nextObj === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n                }\n            };\n            if (!prefixDone && temp) {\n                prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n                uristrings.push(temp);\n                uristrings.push(qq.obj2url(obj));\n            } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n                qq.each(obj, function(idx, val) {\n                    add(val, idx);\n                });\n            } else if (typeof obj !== \"undefined\" && obj !== null && typeof obj === \"object\") {\n                qq.each(obj, function(prop, val) {\n                    add(val, prop);\n                });\n            } else {\n                uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n            }\n            if (temp) {\n                return uristrings.join(prefix);\n            } else {\n                return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n            }\n        };\n        qq.obj2FormData = function(obj, formData, arrayKeyName) {\n            if (!formData) {\n                formData = new FormData();\n            }\n            qq.each(obj, function(key, val) {\n                key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n                if (qq.isObject(val)) {\n                    qq.obj2FormData(val, formData, key);\n                } else if (qq.isFunction(val)) {\n                    formData.append(key, val());\n                } else {\n                    formData.append(key, val);\n                }\n            });\n            return formData;\n        };\n        qq.obj2Inputs = function(obj, form) {\n            var input;\n            if (!form) {\n                form = document.createElement(\"form\");\n            }\n            qq.obj2FormData(obj, {\n                append: function(key, val) {\n                    input = document.createElement(\"input\");\n                    input.setAttribute(\"name\", key);\n                    input.setAttribute(\"value\", val);\n                    form.appendChild(input);\n                }\n            });\n            return form;\n        };\n        qq.parseJson = function(json) {\n            if (window.JSON && qq.isFunction(JSON.parse)) {\n                return JSON.parse(json);\n            } else {\n                return eval(\"(\" + json + \")\");\n            }\n        };\n        qq.getExtension = function(filename) {\n            var extIdx = filename.lastIndexOf(\".\") + 1;\n            if (extIdx > 0) {\n                return filename.substr(extIdx, filename.length - extIdx);\n            }\n        };\n        qq.getFilename = function(blobOrFileInput) {\n            if (qq.isInput(blobOrFileInput)) {\n                return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n            } else if (qq.isFile(blobOrFileInput)) {\n                if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n                    return blobOrFileInput.fileName;\n                }\n            }\n            return blobOrFileInput.name;\n        };\n        qq.DisposeSupport = function() {\n            var disposers = [];\n            return {\n                dispose: function() {\n                    var disposer;\n                    do {\n                        disposer = disposers.shift();\n                        if (disposer) {\n                            disposer();\n                        }\n                    } while (disposer);\n                },\n                attach: function() {\n                    var args = arguments;\n                    this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n                },\n                addDisposer: function(disposeFunction) {\n                    disposers.push(disposeFunction);\n                }\n            };\n        };\n    })();\n    (function() {\n        \"use strict\";\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return qq;\n            });\n        } else if (typeof module !== \"undefined\" && module.exports) {\n            module.exports = qq;\n        } else {\n            global.qq = qq;\n        }\n    })();\n    (function() {\n        \"use strict\";\n        qq.Error = function(message) {\n            this.message = \"[Fine Uploader \" + qq.version + \"] \" + message;\n        };\n        qq.Error.prototype = new Error();\n    })();\n    qq.version = \"6.0.3\";\n    qq.supportedFeatures = function() {\n        \"use strict\";\n        var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n        function testSupportsFileInputElement() {\n            var supported = true, tempInput;\n            try {\n                tempInput = document.createElement(\"input\");\n                tempInput.type = \"file\";\n                qq(tempInput).hide();\n                if (tempInput.disabled) {\n                    supported = false;\n                }\n            } catch (ex) {\n                supported = false;\n            }\n            return supported;\n        }\n        function isChrome14OrHigher() {\n            return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n        }\n        function isCrossOriginXhrSupported() {\n            if (window.XMLHttpRequest) {\n                var xhr = qq.createXhrInstance();\n                return xhr.withCredentials !== undefined;\n            }\n            return false;\n        }\n        function isXdrSupported() {\n            return window.XDomainRequest !== undefined;\n        }\n        function isCrossOriginAjaxSupported() {\n            if (isCrossOriginXhrSupported()) {\n                return true;\n            }\n            return isXdrSupported();\n        }\n        function isFolderSelectionSupported() {\n            return document.createElement(\"input\").webkitdirectory !== undefined;\n        }\n        function isLocalStorageSupported() {\n            try {\n                return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n            } catch (error) {\n                return false;\n            }\n        }\n        function isDragAndDropSupported() {\n            var span = document.createElement(\"span\");\n            return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n        }\n        supportsUploading = testSupportsFileInputElement();\n        supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n        supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n        supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n        supportsFolderDrop = supportsFileDrop && function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n        }();\n        supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n        supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n        supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n        supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n        supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n        supportsDeleteFileXdr = isXdrSupported();\n        supportsDeleteFileCors = isCrossOriginAjaxSupported();\n        supportsFolderSelection = isFolderSelectionSupported();\n        supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n        supportsUploadProgress = function() {\n            if (supportsAjaxFileUploading) {\n                return !qq.androidStock() && !qq.iosChrome();\n            }\n            return false;\n        }();\n        return {\n            ajaxUploading: supportsAjaxFileUploading,\n            blobUploading: supportsUploadingBlobs,\n            canDetermineSize: supportsAjaxFileUploading,\n            chunking: supportsChunking,\n            deleteFileCors: supportsDeleteFileCors,\n            deleteFileCorsXdr: supportsDeleteFileXdr,\n            deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n            dialogElement: !!window.HTMLDialogElement,\n            fileDrop: supportsFileDrop,\n            folderDrop: supportsFolderDrop,\n            folderSelection: supportsFolderSelection,\n            imagePreviews: supportsImagePreviews,\n            imageValidation: supportsImagePreviews,\n            itemSizeValidation: supportsAjaxFileUploading,\n            pause: supportsChunking,\n            progressBar: supportsUploadProgress,\n            resume: supportsResume,\n            scaling: supportsImagePreviews && supportsUploadingBlobs,\n            tiffPreviews: qq.safari(),\n            unlimitedScaledImageSize: !qq.ios(),\n            uploading: supportsUploading,\n            uploadCors: supportsUploadCors,\n            uploadCustomHeaders: supportsAjaxFileUploading,\n            uploadNonMultipart: supportsAjaxFileUploading,\n            uploadViaPaste: supportsUploadViaPaste\n        };\n    }();\n    qq.isGenericPromise = function(maybePromise) {\n        \"use strict\";\n        return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n    };\n    qq.Promise = function() {\n        \"use strict\";\n        var successArgs, failureArgs, successCallbacks = [], failureCallbacks = [], doneCallbacks = [], state = 0;\n        qq.extend(this, {\n            then: function(onSuccess, onFailure) {\n                if (state === 0) {\n                    if (onSuccess) {\n                        successCallbacks.push(onSuccess);\n                    }\n                    if (onFailure) {\n                        failureCallbacks.push(onFailure);\n                    }\n                } else if (state === -1) {\n                    onFailure && onFailure.apply(null, failureArgs);\n                } else if (onSuccess) {\n                    onSuccess.apply(null, successArgs);\n                }\n                return this;\n            },\n            done: function(callback) {\n                if (state === 0) {\n                    doneCallbacks.push(callback);\n                } else {\n                    callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n                }\n                return this;\n            },\n            success: function() {\n                state = 1;\n                successArgs = arguments;\n                if (successCallbacks.length) {\n                    qq.each(successCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                return this;\n            },\n            failure: function() {\n                state = -1;\n                failureArgs = arguments;\n                if (failureCallbacks.length) {\n                    qq.each(failureCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                return this;\n            }\n        });\n    };\n    qq.BlobProxy = function(referenceBlob, onCreate) {\n        \"use strict\";\n        qq.extend(this, {\n            referenceBlob: referenceBlob,\n            create: function() {\n                return onCreate(referenceBlob);\n            }\n        });\n    };\n    qq.UploadButton = function(o) {\n        \"use strict\";\n        var self = this, disposeSupport = new qq.DisposeSupport(), options = {\n            acceptFiles: null,\n            element: null,\n            focusClass: \"qq-upload-button-focus\",\n            folders: false,\n            hoverClass: \"qq-upload-button-hover\",\n            ios8BrowserCrashWorkaround: false,\n            multiple: false,\n            name: \"qqfile\",\n            onChange: function(input) {},\n            title: null\n        }, input, buttonId;\n        qq.extend(options, o);\n        buttonId = qq.getUniqueId();\n        function createInput() {\n            var input = document.createElement(\"input\");\n            input.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, buttonId);\n            input.setAttribute(\"title\", options.title);\n            self.setMultiple(options.multiple, input);\n            if (options.folders && qq.supportedFeatures.folderSelection) {\n                input.setAttribute(\"webkitdirectory\", \"\");\n            }\n            if (options.acceptFiles) {\n                input.setAttribute(\"accept\", options.acceptFiles);\n            }\n            input.setAttribute(\"type\", \"file\");\n            input.setAttribute(\"name\", options.name);\n            qq(input).css({\n                position: \"absolute\",\n                right: 0,\n                top: 0,\n                fontFamily: \"Arial\",\n                fontSize: qq.ie() && !qq.ie8() ? \"3500px\" : \"118px\",\n                margin: 0,\n                padding: 0,\n                cursor: \"pointer\",\n                opacity: 0\n            });\n            !qq.ie7() && qq(input).css({\n                height: \"100%\"\n            });\n            options.element.appendChild(input);\n            disposeSupport.attach(input, \"change\", function() {\n                options.onChange(input);\n            });\n            disposeSupport.attach(input, \"mouseover\", function() {\n                qq(options.element).addClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"mouseout\", function() {\n                qq(options.element).removeClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"focus\", function() {\n                qq(options.element).addClass(options.focusClass);\n            });\n            disposeSupport.attach(input, \"blur\", function() {\n                qq(options.element).removeClass(options.focusClass);\n            });\n            return input;\n        }\n        qq(options.element).css({\n            position: \"relative\",\n            overflow: \"hidden\",\n            direction: \"ltr\"\n        });\n        qq.extend(this, {\n            getInput: function() {\n                return input;\n            },\n            getButtonId: function() {\n                return buttonId;\n            },\n            setMultiple: function(isMultiple, optInput) {\n                var input = optInput || this.getInput();\n                if (options.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView())) {\n                    input.setAttribute(\"multiple\", \"\");\n                } else {\n                    if (isMultiple) {\n                        input.setAttribute(\"multiple\", \"\");\n                    } else {\n                        input.removeAttribute(\"multiple\");\n                    }\n                }\n            },\n            setAcceptFiles: function(acceptFiles) {\n                if (acceptFiles !== options.acceptFiles) {\n                    input.setAttribute(\"accept\", acceptFiles);\n                }\n            },\n            reset: function() {\n                if (input.parentNode) {\n                    qq(input).remove();\n                }\n                qq(options.element).removeClass(options.focusClass);\n                input = null;\n                input = createInput();\n            }\n        });\n        input = createInput();\n    };\n    qq.UploadButton.BUTTON_ID_ATTR_NAME = \"qq-button-id\";\n    qq.UploadData = function(uploaderProxy) {\n        \"use strict\";\n        var data = [], byUuid = {}, byStatus = {}, byProxyGroupId = {}, byBatchId = {};\n        function getDataByIds(idOrIds) {\n            if (qq.isArray(idOrIds)) {\n                var entries = [];\n                qq.each(idOrIds, function(idx, id) {\n                    entries.push(data[id]);\n                });\n                return entries;\n            }\n            return data[idOrIds];\n        }\n        function getDataByUuids(uuids) {\n            if (qq.isArray(uuids)) {\n                var entries = [];\n                qq.each(uuids, function(idx, uuid) {\n                    entries.push(data[byUuid[uuid]]);\n                });\n                return entries;\n            }\n            return data[byUuid[uuids]];\n        }\n        function getDataByStatus(status) {\n            var statusResults = [], statuses = [].concat(status);\n            qq.each(statuses, function(index, statusEnum) {\n                var statusResultIndexes = byStatus[statusEnum];\n                if (statusResultIndexes !== undefined) {\n                    qq.each(statusResultIndexes, function(i, dataIndex) {\n                        statusResults.push(data[dataIndex]);\n                    });\n                }\n            });\n            return statusResults;\n        }\n        qq.extend(this, {\n            addFile: function(spec) {\n                var status = spec.status || qq.status.SUBMITTING, id = data.push({\n                    name: spec.name,\n                    originalName: spec.name,\n                    uuid: spec.uuid,\n                    size: spec.size == null ? -1 : spec.size,\n                    status: status,\n                    file: spec.file\n                }) - 1;\n                if (spec.batchId) {\n                    data[id].batchId = spec.batchId;\n                    if (byBatchId[spec.batchId] === undefined) {\n                        byBatchId[spec.batchId] = [];\n                    }\n                    byBatchId[spec.batchId].push(id);\n                }\n                if (spec.proxyGroupId) {\n                    data[id].proxyGroupId = spec.proxyGroupId;\n                    if (byProxyGroupId[spec.proxyGroupId] === undefined) {\n                        byProxyGroupId[spec.proxyGroupId] = [];\n                    }\n                    byProxyGroupId[spec.proxyGroupId].push(id);\n                }\n                data[id].id = id;\n                byUuid[spec.uuid] = id;\n                if (byStatus[status] === undefined) {\n                    byStatus[status] = [];\n                }\n                byStatus[status].push(id);\n                spec.onBeforeStatusChange && spec.onBeforeStatusChange(id);\n                uploaderProxy.onStatusChange(id, null, status);\n                return id;\n            },\n            retrieve: function(optionalFilter) {\n                if (qq.isObject(optionalFilter) && data.length) {\n                    if (optionalFilter.id !== undefined) {\n                        return getDataByIds(optionalFilter.id);\n                    } else if (optionalFilter.uuid !== undefined) {\n                        return getDataByUuids(optionalFilter.uuid);\n                    } else if (optionalFilter.status) {\n                        return getDataByStatus(optionalFilter.status);\n                    }\n                } else {\n                    return qq.extend([], data, true);\n                }\n            },\n            removeFileRef: function(id) {\n                var record = getDataByIds(id);\n                if (record) {\n                    delete record.file;\n                }\n            },\n            reset: function() {\n                data = [];\n                byUuid = {};\n                byStatus = {};\n                byBatchId = {};\n            },\n            setStatus: function(id, newStatus) {\n                var oldStatus = data[id].status, byStatusOldStatusIndex = qq.indexOf(byStatus[oldStatus], id);\n                byStatus[oldStatus].splice(byStatusOldStatusIndex, 1);\n                data[id].status = newStatus;\n                if (byStatus[newStatus] === undefined) {\n                    byStatus[newStatus] = [];\n                }\n                byStatus[newStatus].push(id);\n                uploaderProxy.onStatusChange(id, oldStatus, newStatus);\n            },\n            uuidChanged: function(id, newUuid) {\n                var oldUuid = data[id].uuid;\n                data[id].uuid = newUuid;\n                byUuid[newUuid] = id;\n                delete byUuid[oldUuid];\n            },\n            updateName: function(id, newName) {\n                data[id].name = newName;\n            },\n            updateSize: function(id, newSize) {\n                data[id].size = newSize;\n            },\n            setParentId: function(targetId, parentId) {\n                data[targetId].parentId = parentId;\n            },\n            getIdsInProxyGroup: function(id) {\n                var proxyGroupId = data[id].proxyGroupId;\n                if (proxyGroupId) {\n                    return byProxyGroupId[proxyGroupId];\n                }\n                return [];\n            },\n            getIdsInBatch: function(id) {\n                var batchId = data[id].batchId;\n                return byBatchId[batchId];\n            }\n        });\n    };\n    qq.status = {\n        SUBMITTING: \"submitting\",\n        SUBMITTED: \"submitted\",\n        REJECTED: \"rejected\",\n        QUEUED: \"queued\",\n        CANCELED: \"canceled\",\n        PAUSED: \"paused\",\n        UPLOADING: \"uploading\",\n        UPLOAD_FINALIZING: \"upload finalizing\",\n        UPLOAD_RETRYING: \"retrying upload\",\n        UPLOAD_SUCCESSFUL: \"upload successful\",\n        UPLOAD_FAILED: \"upload failed\",\n        DELETE_FAILED: \"delete failed\",\n        DELETING: \"deleting\",\n        DELETED: \"deleted\"\n    };\n    (function() {\n        \"use strict\";\n        qq.basePublicApi = {\n            addBlobs: function(blobDataOrArray, params, endpoint) {\n                this.addFiles(blobDataOrArray, params, endpoint);\n            },\n            addInitialFiles: function(cannedFileList) {\n                var self = this;\n                qq.each(cannedFileList, function(index, cannedFile) {\n                    self._addCannedFile(cannedFile);\n                });\n            },\n            addFiles: function(data, params, endpoint) {\n                this._maybeHandleIos8SafariWorkaround();\n                var batchId = this._storedIds.length === 0 ? qq.getUniqueId() : this._currentBatchId, processBlob = qq.bind(function(blob) {\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName\n                    }, batchId, verifiedFiles);\n                }, this), processBlobData = qq.bind(function(blobData) {\n                    this._handleNewFile(blobData, batchId, verifiedFiles);\n                }, this), processCanvas = qq.bind(function(canvas) {\n                    var blob = qq.canvasToBlob(canvas);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName + \".png\"\n                    }, batchId, verifiedFiles);\n                }, this), processCanvasData = qq.bind(function(canvasData) {\n                    var normalizedQuality = canvasData.quality && canvasData.quality / 100, blob = qq.canvasToBlob(canvasData.canvas, canvasData.type, normalizedQuality);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: canvasData.name\n                    }, batchId, verifiedFiles);\n                }, this), processFileOrInput = qq.bind(function(fileOrInput) {\n                    if (qq.isInput(fileOrInput) && qq.supportedFeatures.ajaxUploading) {\n                        var files = Array.prototype.slice.call(fileOrInput.files), self = this;\n                        qq.each(files, function(idx, file) {\n                            self._handleNewFile(file, batchId, verifiedFiles);\n                        });\n                    } else {\n                        this._handleNewFile(fileOrInput, batchId, verifiedFiles);\n                    }\n                }, this), normalizeData = function() {\n                    if (qq.isFileList(data)) {\n                        data = Array.prototype.slice.call(data);\n                    }\n                    data = [].concat(data);\n                }, self = this, verifiedFiles = [];\n                this._currentBatchId = batchId;\n                if (data) {\n                    normalizeData();\n                    qq.each(data, function(idx, fileContainer) {\n                        if (qq.isFileOrInput(fileContainer)) {\n                            processFileOrInput(fileContainer);\n                        } else if (qq.isBlob(fileContainer)) {\n                            processBlob(fileContainer);\n                        } else if (qq.isObject(fileContainer)) {\n                            if (fileContainer.blob && fileContainer.name) {\n                                processBlobData(fileContainer);\n                            } else if (fileContainer.canvas && fileContainer.name) {\n                                processCanvasData(fileContainer);\n                            }\n                        } else if (fileContainer.tagName && fileContainer.tagName.toLowerCase() === \"canvas\") {\n                            processCanvas(fileContainer);\n                        } else {\n                            self.log(fileContainer + \" is not a valid file container!  Ignoring!\", \"warn\");\n                        }\n                    });\n                    this.log(\"Received \" + verifiedFiles.length + \" files.\");\n                    this._prepareItemsForUpload(verifiedFiles, params, endpoint);\n                }\n            },\n            cancel: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (uploadData && uploadData.status === qq.status.UPLOAD_FINALIZING) {\n                    this.log(qq.format(\"Ignoring cancel for file ID {} ({}).  Finalizing upload.\", id, this.getName(id)), \"error\");\n                } else {\n                    this._handler.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var storedIdsCopy = [], self = this;\n                qq.extend(storedIdsCopy, this._storedIds);\n                qq.each(storedIdsCopy, function(idx, storedFileId) {\n                    self.cancel(storedFileId);\n                });\n                this._handler.cancelAll();\n            },\n            clearStoredFiles: function() {\n                this._storedIds = [];\n            },\n            continueUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (uploadData.status === qq.status.PAUSED) {\n                    this.log(qq.format(\"Paused file ID {} ({}) will be continued.  Not paused.\", id, this.getName(id)));\n                    this._uploadFile(id);\n                    return true;\n                } else {\n                    this.log(qq.format(\"Ignoring continue for file ID {} ({}).  Not paused.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            deleteFile: function(id) {\n                return this._onSubmitDelete(id);\n            },\n            doesExist: function(fileOrBlobId) {\n                return this._handler.isValid(fileOrBlobId);\n            },\n            drawThumbnail: function(fileId, imgOrCanvas, maxSize, fromServer, customResizeFunction) {\n                var promiseToReturn = new qq.Promise(), fileOrUrl, options;\n                if (this._imageGenerator) {\n                    fileOrUrl = this._thumbnailUrls[fileId];\n                    options = {\n                        customResizeFunction: customResizeFunction,\n                        maxSize: maxSize > 0 ? maxSize : null,\n                        scale: maxSize > 0\n                    };\n                    if (!fromServer && qq.supportedFeatures.imagePreviews) {\n                        fileOrUrl = this.getFile(fileId);\n                    }\n                    if (fileOrUrl == null) {\n                        promiseToReturn.failure({\n                            container: imgOrCanvas,\n                            error: \"File or URL not found.\"\n                        });\n                    } else {\n                        this._imageGenerator.generate(fileOrUrl, imgOrCanvas, options).then(function success(modifiedContainer) {\n                            promiseToReturn.success(modifiedContainer);\n                        }, function failure(container, reason) {\n                            promiseToReturn.failure({\n                                container: container,\n                                error: reason || \"Problem generating thumbnail\"\n                            });\n                        });\n                    }\n                } else {\n                    promiseToReturn.failure({\n                        container: imgOrCanvas,\n                        error: \"Missing image generator module\"\n                    });\n                }\n                return promiseToReturn;\n            },\n            getButton: function(fileId) {\n                return this._getButton(this._buttonIdsForFileIds[fileId]);\n            },\n            getEndpoint: function(fileId) {\n                return this._endpointStore.get(fileId);\n            },\n            getFile: function(fileOrBlobId) {\n                var file = this._handler.getFile(fileOrBlobId);\n                var uploadDataRecord;\n                if (!file) {\n                    uploadDataRecord = this._uploadData.retrieve({\n                        id: fileOrBlobId\n                    });\n                    if (uploadDataRecord) {\n                        file = uploadDataRecord.file;\n                    }\n                }\n                return file || null;\n            },\n            getInProgress: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED ]\n                }).length;\n            },\n            getName: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).name;\n            },\n            getParentId: function(id) {\n                var uploadDataEntry = this.getUploads({\n                    id: id\n                }), parentId = null;\n                if (uploadDataEntry) {\n                    if (uploadDataEntry.parentId !== undefined) {\n                        parentId = uploadDataEntry.parentId;\n                    }\n                }\n                return parentId;\n            },\n            getResumableFilesData: function() {\n                return this._handler.getResumableFilesData();\n            },\n            getSize: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).size;\n            },\n            getNetUploads: function() {\n                return this._netUploaded;\n            },\n            getRemainingAllowedItems: function() {\n                var allowedItems = this._currentItemLimit;\n                if (allowedItems > 0) {\n                    return allowedItems - this._netUploadedOrQueued;\n                }\n                return null;\n            },\n            getUploads: function(optionalFilter) {\n                return this._uploadData.retrieve(optionalFilter);\n            },\n            getUuid: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).uuid;\n            },\n            isResumable: function(id) {\n                return this._handler.hasResumeRecord(id);\n            },\n            log: function(str, level) {\n                if (this._options.debug && (!level || level === \"info\")) {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str);\n                } else if (level && level !== \"info\") {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str, level);\n                }\n            },\n            pauseUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (qq.indexOf([ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING ], uploadData.status) >= 0) {\n                    if (this._handler.pause(id)) {\n                        this._uploadData.setStatus(id, qq.status.PAUSED);\n                        return true;\n                    } else {\n                        this.log(qq.format(\"Unable to pause file ID {} ({}).\", id, this.getName(id)), \"error\");\n                    }\n                } else {\n                    this.log(qq.format(\"Ignoring pause for file ID {} ({}).  Not in progress.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            removeFileRef: function(id) {\n                this._handler.expunge(id);\n                this._uploadData.removeFileRef(id);\n            },\n            reset: function() {\n                this.log(\"Resetting uploader...\");\n                this._handler.reset();\n                this._storedIds = [];\n                this._autoRetries = [];\n                this._retryTimeouts = [];\n                this._preventRetries = [];\n                this._thumbnailUrls = [];\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n                this._paramsStore.reset();\n                this._endpointStore.reset();\n                this._netUploadedOrQueued = 0;\n                this._netUploaded = 0;\n                this._uploadData.reset();\n                this._buttonIdsForFileIds = [];\n                this._pasteHandler && this._pasteHandler.reset();\n                this._options.session.refreshOnReset && this._refreshSessionData();\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n                this._totalProgress && this._totalProgress.reset();\n                this._customResumeDataStore.reset();\n            },\n            retry: function(id) {\n                return this._manualRetry(id);\n            },\n            scaleImage: function(id, specs) {\n                var self = this;\n                return qq.Scaler.prototype.scaleImage(id, specs, {\n                    log: qq.bind(self.log, self),\n                    getFile: qq.bind(self.getFile, self),\n                    uploadData: self._uploadData\n                });\n            },\n            setCustomHeaders: function(headers, id) {\n                this._customHeadersStore.set(headers, id);\n            },\n            setCustomResumeData: function(id, data) {\n                this._customResumeDataStore.set(data, id);\n            },\n            setDeleteFileCustomHeaders: function(headers, id) {\n                this._deleteFileCustomHeadersStore.set(headers, id);\n            },\n            setDeleteFileEndpoint: function(endpoint, id) {\n                this._deleteFileEndpointStore.set(endpoint, id);\n            },\n            setDeleteFileParams: function(params, id) {\n                this._deleteFileParamsStore.set(params, id);\n            },\n            setEndpoint: function(endpoint, id) {\n                this._endpointStore.set(endpoint, id);\n            },\n            setForm: function(elementOrId) {\n                this._updateFormSupportAndParams(elementOrId);\n            },\n            setItemLimit: function(newItemLimit) {\n                this._currentItemLimit = newItemLimit;\n            },\n            setName: function(id, newName) {\n                this._uploadData.updateName(id, newName);\n            },\n            setParams: function(params, id) {\n                this._paramsStore.set(params, id);\n            },\n            setUuid: function(id, newUuid) {\n                return this._uploadData.uuidChanged(id, newUuid);\n            },\n            setStatus: function(id, newStatus) {\n                var fileRecord = this.getUploads({\n                    id: id\n                });\n                if (!fileRecord) {\n                    throw new qq.Error(id + \" is not a valid file ID.\");\n                }\n                switch (newStatus) {\n                  case qq.status.DELETED:\n                    this._onDeleteComplete(id, null, false);\n                    break;\n\n                  case qq.status.DELETE_FAILED:\n                    this._onDeleteComplete(id, null, true);\n                    break;\n\n                  default:\n                    var errorMessage = \"Method setStatus called on '\" + name + \"' not implemented yet for \" + newStatus;\n                    this.log(errorMessage);\n                    throw new qq.Error(errorMessage);\n                }\n            },\n            uploadStoredFiles: function() {\n                if (this._storedIds.length === 0) {\n                    this._itemError(\"noFilesError\");\n                } else {\n                    this._uploadStoredFiles();\n                }\n            }\n        };\n        qq.basePrivateApi = {\n            _addCannedFile: function(sessionData) {\n                var self = this;\n                return this._uploadData.addFile({\n                    uuid: sessionData.uuid,\n                    name: sessionData.name,\n                    size: sessionData.size,\n                    status: qq.status.UPLOAD_SUCCESSFUL,\n                    onBeforeStatusChange: function(id) {\n                        sessionData.deleteFileEndpoint && self.setDeleteFileEndpoint(sessionData.deleteFileEndpoint, id);\n                        sessionData.deleteFileParams && self.setDeleteFileParams(sessionData.deleteFileParams, id);\n                        if (sessionData.thumbnailUrl) {\n                            self._thumbnailUrls[id] = sessionData.thumbnailUrl;\n                        }\n                        self._netUploaded++;\n                        self._netUploadedOrQueued++;\n                    }\n                });\n            },\n            _annotateWithButtonId: function(file, associatedInput) {\n                if (qq.isFile(file)) {\n                    file.qqButtonId = this._getButtonId(associatedInput);\n                }\n            },\n            _batchError: function(message) {\n                this._options.callbacks.onError(null, null, message, undefined);\n            },\n            _createDeleteHandler: function() {\n                var self = this;\n                return new qq.DeleteFileAjaxRequester({\n                    method: this._options.deleteFile.method.toUpperCase(),\n                    maxConnections: this._options.maxConnections,\n                    uuidParamName: this._options.request.uuidName,\n                    customHeaders: this._deleteFileCustomHeadersStore,\n                    paramsStore: this._deleteFileParamsStore,\n                    endpointStore: this._deleteFileEndpointStore,\n                    cors: this._options.cors,\n                    log: qq.bind(self.log, self),\n                    onDelete: function(id) {\n                        self._onDelete(id);\n                        self._options.callbacks.onDelete(id);\n                    },\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {\n                        self._onDeleteComplete(id, xhrOrXdr, isError);\n                        self._options.callbacks.onDeleteComplete(id, xhrOrXdr, isError);\n                    }\n                });\n            },\n            _createPasteHandler: function() {\n                var self = this;\n                return new qq.PasteSupport({\n                    targetElement: this._options.paste.targetElement,\n                    callbacks: {\n                        log: qq.bind(self.log, self),\n                        pasteReceived: function(blob) {\n                            self._handleCheckedCallback({\n                                name: \"onPasteReceived\",\n                                callback: qq.bind(self._options.callbacks.onPasteReceived, self, blob),\n                                onSuccess: qq.bind(self._handlePasteSuccess, self, blob),\n                                identifier: \"pasted image\"\n                            });\n                        }\n                    }\n                });\n            },\n            _createStore: function(initialValue, _readOnlyValues_) {\n                var store = {}, catchall = initialValue, perIdReadOnlyValues = {}, readOnlyValues = _readOnlyValues_, copy = function(orig) {\n                    if (qq.isObject(orig)) {\n                        return qq.extend({}, orig);\n                    }\n                    return orig;\n                }, getReadOnlyValues = function() {\n                    if (qq.isFunction(readOnlyValues)) {\n                        return readOnlyValues();\n                    }\n                    return readOnlyValues;\n                }, includeReadOnlyValues = function(id, existing) {\n                    if (readOnlyValues && qq.isObject(existing)) {\n                        qq.extend(existing, getReadOnlyValues());\n                    }\n                    if (perIdReadOnlyValues[id]) {\n                        qq.extend(existing, perIdReadOnlyValues[id]);\n                    }\n                };\n                return {\n                    set: function(val, id) {\n                        if (id == null) {\n                            store = {};\n                            catchall = copy(val);\n                        } else {\n                            store[id] = copy(val);\n                        }\n                    },\n                    get: function(id) {\n                        var values;\n                        if (id != null && store[id]) {\n                            values = store[id];\n                        } else {\n                            values = copy(catchall);\n                        }\n                        includeReadOnlyValues(id, values);\n                        return copy(values);\n                    },\n                    addReadOnly: function(id, values) {\n                        if (qq.isObject(store)) {\n                            if (id === null) {\n                                if (qq.isFunction(values)) {\n                                    readOnlyValues = values;\n                                } else {\n                                    readOnlyValues = readOnlyValues || {};\n                                    qq.extend(readOnlyValues, values);\n                                }\n                            } else {\n                                perIdReadOnlyValues[id] = perIdReadOnlyValues[id] || {};\n                                qq.extend(perIdReadOnlyValues[id], values);\n                            }\n                        }\n                    },\n                    remove: function(fileId) {\n                        return delete store[fileId];\n                    },\n                    reset: function() {\n                        store = {};\n                        perIdReadOnlyValues = {};\n                        catchall = initialValue;\n                    }\n                };\n            },\n            _createUploadDataTracker: function() {\n                var self = this;\n                return new qq.UploadData({\n                    getName: function(id) {\n                        return self.getName(id);\n                    },\n                    getUuid: function(id) {\n                        return self.getUuid(id);\n                    },\n                    getSize: function(id) {\n                        return self.getSize(id);\n                    },\n                    onStatusChange: function(id, oldStatus, newStatus) {\n                        self._onUploadStatusChange(id, oldStatus, newStatus);\n                        self._options.callbacks.onStatusChange(id, oldStatus, newStatus);\n                        self._maybeAllComplete(id, newStatus);\n                        if (self._totalProgress) {\n                            setTimeout(function() {\n                                self._totalProgress.onStatusChange(id, oldStatus, newStatus);\n                            }, 0);\n                        }\n                    }\n                });\n            },\n            _createUploadButton: function(spec) {\n                var self = this, acceptFiles = spec.accept || this._options.validation.acceptFiles, allowedExtensions = spec.allowedExtensions || this._options.validation.allowedExtensions, button;\n                function allowMultiple() {\n                    if (qq.supportedFeatures.ajaxUploading) {\n                        if (self._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && self._isAllowedExtension(allowedExtensions, \".mov\")) {\n                            return false;\n                        }\n                        if (spec.multiple === undefined) {\n                            return self._options.multiple;\n                        }\n                        return spec.multiple;\n                    }\n                    return false;\n                }\n                button = new qq.UploadButton({\n                    acceptFiles: acceptFiles,\n                    element: spec.element,\n                    focusClass: this._options.classes.buttonFocus,\n                    folders: spec.folders,\n                    hoverClass: this._options.classes.buttonHover,\n                    ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash,\n                    multiple: allowMultiple(),\n                    name: this._options.request.inputName,\n                    onChange: function(input) {\n                        self._onInputChange(input);\n                    },\n                    title: spec.title == null ? this._options.text.fileInputTitle : spec.title\n                });\n                this._disposeSupport.addDisposer(function() {\n                    button.dispose();\n                });\n                self._buttons.push(button);\n                return button;\n            },\n            _createUploadHandler: function(additionalOptions, namespace) {\n                var self = this, lastOnProgress = {}, options = {\n                    debug: this._options.debug,\n                    maxConnections: this._options.maxConnections,\n                    cors: this._options.cors,\n                    paramsStore: this._paramsStore,\n                    endpointStore: this._endpointStore,\n                    chunking: this._options.chunking,\n                    resume: this._options.resume,\n                    blobs: this._options.blobs,\n                    log: qq.bind(self.log, self),\n                    preventRetryParam: this._options.retry.preventRetryResponseProperty,\n                    onProgress: function(id, name, loaded, total) {\n                        if (loaded < 0 || total < 0) {\n                            return;\n                        }\n                        if (lastOnProgress[id]) {\n                            if (lastOnProgress[id].loaded !== loaded || lastOnProgress[id].total !== total) {\n                                self._onProgress(id, name, loaded, total);\n                                self._options.callbacks.onProgress(id, name, loaded, total);\n                            }\n                        } else {\n                            self._onProgress(id, name, loaded, total);\n                            self._options.callbacks.onProgress(id, name, loaded, total);\n                        }\n                        lastOnProgress[id] = {\n                            loaded: loaded,\n                            total: total\n                        };\n                    },\n                    onComplete: function(id, name, result, xhr) {\n                        delete lastOnProgress[id];\n                        var status = self.getUploads({\n                            id: id\n                        }).status, retVal;\n                        if (status === qq.status.UPLOAD_SUCCESSFUL || status === qq.status.UPLOAD_FAILED) {\n                            return;\n                        }\n                        retVal = self._onComplete(id, name, result, xhr);\n                        if (retVal instanceof qq.Promise) {\n                            retVal.done(function() {\n                                self._options.callbacks.onComplete(id, name, result, xhr);\n                            });\n                        } else {\n                            self._options.callbacks.onComplete(id, name, result, xhr);\n                        }\n                    },\n                    onCancel: function(id, name, cancelFinalizationEffort) {\n                        var promise = new qq.Promise();\n                        self._handleCheckedCallback({\n                            name: \"onCancel\",\n                            callback: qq.bind(self._options.callbacks.onCancel, self, id, name),\n                            onFailure: promise.failure,\n                            onSuccess: function() {\n                                cancelFinalizationEffort.then(function() {\n                                    self._onCancel(id, name);\n                                });\n                                promise.success();\n                            },\n                            identifier: id\n                        });\n                        return promise;\n                    },\n                    onUploadPrep: qq.bind(this._onUploadPrep, this),\n                    onUpload: function(id, name) {\n                        self._onUpload(id, name);\n                        var onUploadResult = self._options.callbacks.onUpload(id, name);\n                        if (qq.isGenericPromise(onUploadResult)) {\n                            self.log(qq.format(\"onUpload for {} returned a Promise - waiting for resolution.\", id));\n                            return onUploadResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunk: function(id, name, chunkData) {\n                        self._onUploadChunk(id, chunkData);\n                        var onUploadChunkResult = self._options.callbacks.onUploadChunk(id, name, chunkData);\n                        if (qq.isGenericPromise(onUploadChunkResult)) {\n                            self.log(qq.format(\"onUploadChunk for {}.{} returned a Promise - waiting for resolution.\", id, chunkData.partIndex));\n                            return onUploadChunkResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunkSuccess: function(id, chunkData, result, xhr) {\n                        self._onUploadChunkSuccess(id, chunkData);\n                        self._options.callbacks.onUploadChunkSuccess.apply(self, arguments);\n                    },\n                    onResume: function(id, name, chunkData, customResumeData) {\n                        return self._options.callbacks.onResume(id, name, chunkData, customResumeData);\n                    },\n                    onAutoRetry: function(id, name, responseJSON, xhr) {\n                        return self._onAutoRetry.apply(self, arguments);\n                    },\n                    onUuidChanged: function(id, newUuid) {\n                        self.log(\"Server requested UUID change from '\" + self.getUuid(id) + \"' to '\" + newUuid + \"'\");\n                        self.setUuid(id, newUuid);\n                    },\n                    getName: qq.bind(self.getName, self),\n                    getUuid: qq.bind(self.getUuid, self),\n                    getSize: qq.bind(self.getSize, self),\n                    setSize: qq.bind(self._setSize, self),\n                    getDataByUuid: function(uuid) {\n                        return self.getUploads({\n                            uuid: uuid\n                        });\n                    },\n                    isQueued: function(id) {\n                        var status = self.getUploads({\n                            id: id\n                        }).status;\n                        return status === qq.status.QUEUED || status === qq.status.SUBMITTED || status === qq.status.UPLOAD_RETRYING || status === qq.status.PAUSED;\n                    },\n                    getIdsInProxyGroup: self._uploadData.getIdsInProxyGroup,\n                    getIdsInBatch: self._uploadData.getIdsInBatch,\n                    isInProgress: function(id) {\n                        return self.getUploads({\n                            id: id\n                        }).status === qq.status.UPLOADING;\n                    },\n                    getCustomResumeData: qq.bind(self._getCustomResumeData, self),\n                    setStatus: function(id, status) {\n                        self._uploadData.setStatus(id, status);\n                    }\n                };\n                qq.each(this._options.request, function(prop, val) {\n                    options[prop] = val;\n                });\n                options.customHeaders = this._customHeadersStore;\n                if (additionalOptions) {\n                    qq.each(additionalOptions, function(key, val) {\n                        options[key] = val;\n                    });\n                }\n                return new qq.UploadHandlerController(options, namespace);\n            },\n            _fileOrBlobRejected: function(id) {\n                this._netUploadedOrQueued--;\n                this._uploadData.setStatus(id, qq.status.REJECTED);\n            },\n            _formatSize: function(bytes) {\n                if (bytes === 0) {\n                    return bytes + this._options.text.sizeSymbols[0];\n                }\n                var i = -1;\n                do {\n                    bytes = bytes / 1024;\n                    i++;\n                } while (bytes > 1023);\n                return Math.max(bytes, .1).toFixed(1) + this._options.text.sizeSymbols[i];\n            },\n            _generateExtraButtonSpecs: function() {\n                var self = this;\n                this._extraButtonSpecs = {};\n                qq.each(this._options.extraButtons, function(idx, extraButtonOptionEntry) {\n                    var multiple = extraButtonOptionEntry.multiple, validation = qq.extend({}, self._options.validation, true), extraButtonSpec = qq.extend({}, extraButtonOptionEntry);\n                    if (multiple === undefined) {\n                        multiple = self._options.multiple;\n                    }\n                    if (extraButtonSpec.validation) {\n                        qq.extend(validation, extraButtonOptionEntry.validation, true);\n                    }\n                    qq.extend(extraButtonSpec, {\n                        multiple: multiple,\n                        validation: validation\n                    }, true);\n                    self._initExtraButton(extraButtonSpec);\n                });\n            },\n            _getButton: function(buttonId) {\n                var extraButtonsSpec = this._extraButtonSpecs[buttonId];\n                if (extraButtonsSpec) {\n                    return extraButtonsSpec.element;\n                } else if (buttonId === this._defaultButtonId) {\n                    return this._options.button;\n                }\n            },\n            _getButtonId: function(buttonOrFileInputOrFile) {\n                var inputs, fileInput, fileBlobOrInput = buttonOrFileInputOrFile;\n                if (fileBlobOrInput instanceof qq.BlobProxy) {\n                    fileBlobOrInput = fileBlobOrInput.referenceBlob;\n                }\n                if (fileBlobOrInput && !qq.isBlob(fileBlobOrInput)) {\n                    if (qq.isFile(fileBlobOrInput)) {\n                        return fileBlobOrInput.qqButtonId;\n                    } else if (fileBlobOrInput.tagName.toLowerCase() === \"input\" && fileBlobOrInput.type.toLowerCase() === \"file\") {\n                        return fileBlobOrInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                    inputs = fileBlobOrInput.getElementsByTagName(\"input\");\n                    qq.each(inputs, function(idx, input) {\n                        if (input.getAttribute(\"type\") === \"file\") {\n                            fileInput = input;\n                            return false;\n                        }\n                    });\n                    if (fileInput) {\n                        return fileInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                }\n            },\n            _getCustomResumeData: function(fileId) {\n                return this._customResumeDataStore.get(fileId);\n            },\n            _getNotFinished: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED ]\n                }).length;\n            },\n            _getValidationBase: function(buttonId) {\n                var extraButtonSpec = this._extraButtonSpecs[buttonId];\n                return extraButtonSpec ? extraButtonSpec.validation : this._options.validation;\n            },\n            _getValidationDescriptor: function(fileWrapper) {\n                if (fileWrapper.file instanceof qq.BlobProxy) {\n                    return {\n                        name: qq.getFilename(fileWrapper.file.referenceBlob),\n                        size: fileWrapper.file.referenceBlob.size\n                    };\n                }\n                return {\n                    name: this.getUploads({\n                        id: fileWrapper.id\n                    }).name,\n                    size: this.getUploads({\n                        id: fileWrapper.id\n                    }).size\n                };\n            },\n            _getValidationDescriptors: function(fileWrappers) {\n                var self = this, fileDescriptors = [];\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    fileDescriptors.push(self._getValidationDescriptor(fileWrapper));\n                });\n                return fileDescriptors;\n            },\n            _handleCameraAccess: function() {\n                if (this._options.camera.ios && qq.ios()) {\n                    var acceptIosCamera = \"image/*;capture=camera\", button = this._options.camera.button, buttonId = button ? this._getButtonId(button) : this._defaultButtonId, optionRoot = this._options;\n                    if (buttonId && buttonId !== this._defaultButtonId) {\n                        optionRoot = this._extraButtonSpecs[buttonId];\n                    }\n                    optionRoot.multiple = false;\n                    if (optionRoot.validation.acceptFiles === null) {\n                        optionRoot.validation.acceptFiles = acceptIosCamera;\n                    } else {\n                        optionRoot.validation.acceptFiles += \",\" + acceptIosCamera;\n                    }\n                    qq.each(this._buttons, function(idx, button) {\n                        if (button.getButtonId() === buttonId) {\n                            button.setMultiple(optionRoot.multiple);\n                            button.setAcceptFiles(optionRoot.acceptFiles);\n                            return false;\n                        }\n                    });\n                }\n            },\n            _handleCheckedCallback: function(details) {\n                var self = this, callbackRetVal = details.callback();\n                if (qq.isGenericPromise(callbackRetVal)) {\n                    this.log(details.name + \" - waiting for \" + details.name + \" promise to be fulfilled for \" + details.identifier);\n                    return callbackRetVal.then(function(successParam) {\n                        self.log(details.name + \" promise success for \" + details.identifier);\n                        details.onSuccess(successParam);\n                    }, function() {\n                        if (details.onFailure) {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                            details.onFailure();\n                        } else {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                        }\n                    });\n                }\n                if (callbackRetVal !== false) {\n                    details.onSuccess(callbackRetVal);\n                } else {\n                    if (details.onFailure) {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Invoking failure callback.\");\n                        details.onFailure();\n                    } else {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Will not proceed.\");\n                    }\n                }\n                return callbackRetVal;\n            },\n            _handleNewFile: function(file, batchId, newFileWrapperList) {\n                var self = this, uuid = qq.getUniqueId(), size = -1, name = qq.getFilename(file), actualFile = file.blob || file, handler = this._customNewFileHandler ? this._customNewFileHandler : qq.bind(self._handleNewFileGeneric, self);\n                if (!qq.isInput(actualFile) && actualFile.size >= 0) {\n                    size = actualFile.size;\n                }\n                handler(actualFile, name, uuid, size, newFileWrapperList, batchId, this._options.request.uuidName, {\n                    uploadData: self._uploadData,\n                    paramsStore: self._paramsStore,\n                    addFileToHandler: function(id, file) {\n                        self._handler.add(id, file);\n                        self._netUploadedOrQueued++;\n                        self._trackButton(id);\n                    }\n                });\n            },\n            _handleNewFileGeneric: function(file, name, uuid, size, fileList, batchId) {\n                var id = this._uploadData.addFile({\n                    uuid: uuid,\n                    name: name,\n                    size: size,\n                    batchId: batchId,\n                    file: file\n                });\n                this._handler.add(id, file);\n                this._trackButton(id);\n                this._netUploadedOrQueued++;\n                fileList.push({\n                    id: id,\n                    file: file\n                });\n            },\n            _handlePasteSuccess: function(blob, extSuppliedName) {\n                var extension = blob.type.split(\"/\")[1], name = extSuppliedName;\n                if (name == null) {\n                    name = this._options.paste.defaultName;\n                }\n                name += \".\" + extension;\n                this.addFiles({\n                    name: name,\n                    blob: blob\n                });\n            },\n            _handleDeleteSuccess: function(id) {\n                if (this.getUploads({\n                    id: id\n                }).status !== qq.status.DELETED) {\n                    var name = this.getName(id);\n                    this._netUploadedOrQueued--;\n                    this._netUploaded--;\n                    this._handler.expunge(id);\n                    this._uploadData.setStatus(id, qq.status.DELETED);\n                    this.log(\"Delete request for '\" + name + \"' has succeeded.\");\n                }\n            },\n            _handleDeleteFailed: function(id, xhrOrXdr) {\n                var name = this.getName(id);\n                this._uploadData.setStatus(id, qq.status.DELETE_FAILED);\n                this.log(\"Delete request for '\" + name + \"' has failed.\", \"error\");\n                if (!xhrOrXdr || xhrOrXdr.withCredentials === undefined) {\n                    this._options.callbacks.onError(id, name, \"Delete request failed\", xhrOrXdr);\n                } else {\n                    this._options.callbacks.onError(id, name, \"Delete request failed with response code \" + xhrOrXdr.status, xhrOrXdr);\n                }\n            },\n            _initExtraButton: function(spec) {\n                var button = this._createUploadButton({\n                    accept: spec.validation.acceptFiles,\n                    allowedExtensions: spec.validation.allowedExtensions,\n                    element: spec.element,\n                    folders: spec.folders,\n                    multiple: spec.multiple,\n                    title: spec.fileInputTitle\n                });\n                this._extraButtonSpecs[button.getButtonId()] = spec;\n            },\n            _initFormSupportAndParams: function() {\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this._options.request.endpoint = this._formSupport.newEndpoint;\n                    }\n                } else {\n                    this._paramsStore = this._createStore(this._options.request.params);\n                }\n            },\n            _isDeletePossible: function() {\n                if (!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled) {\n                    return false;\n                }\n                if (this._options.cors.expected) {\n                    if (qq.supportedFeatures.deleteFileCorsXhr) {\n                        return true;\n                    }\n                    if (qq.supportedFeatures.deleteFileCorsXdr && this._options.cors.allowXdr) {\n                        return true;\n                    }\n                    return false;\n                }\n                return true;\n            },\n            _isAllowedExtension: function(allowed, fileName) {\n                var valid = false;\n                if (!allowed.length) {\n                    return true;\n                }\n                qq.each(allowed, function(idx, allowedExt) {\n                    if (qq.isString(allowedExt)) {\n                        var extRegex = new RegExp(\"\\\\.\" + allowedExt + \"$\", \"i\");\n                        if (fileName.match(extRegex) != null) {\n                            valid = true;\n                            return false;\n                        }\n                    }\n                });\n                return valid;\n            },\n            _itemError: function(code, maybeNameOrNames, item) {\n                var message = this._options.messages[code], allowedExtensions = [], names = [].concat(maybeNameOrNames), name = names[0], buttonId = this._getButtonId(item), validationBase = this._getValidationBase(buttonId), extensionsForMessage, placeholderMatch;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                qq.each(validationBase.allowedExtensions, function(idx, allowedExtension) {\n                    if (qq.isString(allowedExtension)) {\n                        allowedExtensions.push(allowedExtension);\n                    }\n                });\n                extensionsForMessage = allowedExtensions.join(\", \").toLowerCase();\n                r(\"{file}\", this._options.formatFileName(name));\n                r(\"{extensions}\", extensionsForMessage);\n                r(\"{sizeLimit}\", this._formatSize(validationBase.sizeLimit));\n                r(\"{minSizeLimit}\", this._formatSize(validationBase.minSizeLimit));\n                placeholderMatch = message.match(/(\\{\\w+\\})/g);\n                if (placeholderMatch !== null) {\n                    qq.each(placeholderMatch, function(idx, placeholder) {\n                        r(placeholder, names[idx]);\n                    });\n                }\n                this._options.callbacks.onError(null, name, message, undefined);\n                return message;\n            },\n            _manualRetry: function(id, callback) {\n                if (this._onBeforeManualRetry(id)) {\n                    this._netUploadedOrQueued++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    if (callback) {\n                        callback(id);\n                    } else {\n                        this._handler.retry(id);\n                    }\n                    return true;\n                }\n            },\n            _maybeAllComplete: function(id, status) {\n                var self = this, notFinished = this._getNotFinished();\n                if (status === qq.status.UPLOAD_SUCCESSFUL) {\n                    this._succeededSinceLastAllComplete.push(id);\n                } else if (status === qq.status.UPLOAD_FAILED || status === qq.status.REJECTED || status === qq.status.CANCELED) {\n                    this._failedSinceLastAllComplete.push(id);\n                }\n                if (notFinished === 0 && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length)) {\n                    setTimeout(function() {\n                        if (self._succeededSinceLastAllComplete.length || self._failedSinceLastAllComplete.length) {\n                            self._onAllComplete(self._succeededSinceLastAllComplete, self._failedSinceLastAllComplete);\n                        }\n                    }, 0);\n                }\n            },\n            _maybeHandleIos8SafariWorkaround: function() {\n                var self = this;\n                if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n                    setTimeout(function() {\n                        window.alert(self._options.messages.unsupportedBrowserIos8Safari);\n                    }, 0);\n                    throw new qq.Error(this._options.messages.unsupportedBrowserIos8Safari);\n                }\n            },\n            _maybeParseAndSendUploadError: function(id, name, response, xhr) {\n                if (!response.success) {\n                    if (xhr && xhr.status !== 200 && !response.error) {\n                        this._options.callbacks.onError(id, name, \"XHR returned response code \" + xhr.status, xhr);\n                    } else {\n                        var errorReason = response.error ? response.error : this._options.text.defaultResponseError;\n                        this._options.callbacks.onError(id, name, errorReason, xhr);\n                    }\n                }\n            },\n            _maybeProcessNextItemAfterOnValidateCallback: function(validItem, items, index, params, endpoint) {\n                var self = this;\n                if (items.length > index) {\n                    if (validItem || !this._options.validation.stopOnFirstInvalidFile) {\n                        setTimeout(function() {\n                            var validationDescriptor = self._getValidationDescriptor(items[index]), buttonId = self._getButtonId(items[index].file), button = self._getButton(buttonId);\n                            self._handleCheckedCallback({\n                                name: \"onValidate\",\n                                callback: qq.bind(self._options.callbacks.onValidate, self, validationDescriptor, button),\n                                onSuccess: qq.bind(self._onValidateCallbackSuccess, self, items, index, params, endpoint),\n                                onFailure: qq.bind(self._onValidateCallbackFailure, self, items, index, params, endpoint),\n                                identifier: \"Item '\" + validationDescriptor.name + \"', size: \" + validationDescriptor.size\n                            });\n                        }, 0);\n                    } else if (!validItem) {\n                        for (;index < items.length; index++) {\n                            self._fileOrBlobRejected(items[index].id);\n                        }\n                    }\n                }\n            },\n            _onAllComplete: function(successful, failed) {\n                this._totalProgress && this._totalProgress.onAllComplete(successful, failed, this._preventRetries);\n                this._options.callbacks.onAllComplete(qq.extend([], successful), qq.extend([], failed));\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n            },\n            _onAutoRetry: function(id, name, responseJSON, xhr, callback) {\n                var self = this;\n                self._preventRetries[id] = responseJSON[self._options.retry.preventRetryResponseProperty];\n                if (self._shouldAutoRetry(id)) {\n                    var retryWaitPeriod = self._options.retry.autoAttemptDelay * 1e3;\n                    self._maybeParseAndSendUploadError.apply(self, arguments);\n                    self._options.callbacks.onAutoRetry(id, name, self._autoRetries[id]);\n                    self._onBeforeAutoRetry(id, name);\n                    self._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    self._retryTimeouts[id] = setTimeout(function() {\n                        self.log(\"Starting retry for \" + name + \"...\");\n                        if (callback) {\n                            callback(id);\n                        } else {\n                            self._handler.retry(id);\n                        }\n                    }, retryWaitPeriod);\n                    return true;\n                }\n            },\n            _onBeforeAutoRetry: function(id, name) {\n                this.log(\"Waiting \" + this._options.retry.autoAttemptDelay + \" seconds before retrying \" + name + \"...\");\n            },\n            _onBeforeManualRetry: function(id) {\n                var itemLimit = this._currentItemLimit, fileName;\n                if (this._preventRetries[id]) {\n                    this.log(\"Retries are forbidden for id \" + id, \"warn\");\n                    return false;\n                } else if (this._handler.isValid(id)) {\n                    fileName = this.getName(id);\n                    if (this._options.callbacks.onManualRetry(id, fileName) === false) {\n                        return false;\n                    }\n                    if (itemLimit > 0 && this._netUploadedOrQueued + 1 > itemLimit) {\n                        this._itemError(\"retryFailTooManyItems\");\n                        return false;\n                    }\n                    this.log(\"Retrying upload for '\" + fileName + \"' (id: \" + id + \")...\");\n                    return true;\n                } else {\n                    this.log(\"'\" + id + \"' is not a valid file ID\", \"error\");\n                    return false;\n                }\n            },\n            _onCancel: function(id, name) {\n                this._netUploadedOrQueued--;\n                clearTimeout(this._retryTimeouts[id]);\n                var storedItemIndex = qq.indexOf(this._storedIds, id);\n                if (!this._options.autoUpload && storedItemIndex >= 0) {\n                    this._storedIds.splice(storedItemIndex, 1);\n                }\n                this._uploadData.setStatus(id, qq.status.CANCELED);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                if (!result.success) {\n                    this._netUploadedOrQueued--;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_FAILED);\n                    if (result[this._options.retry.preventRetryResponseProperty] === true) {\n                        this._preventRetries[id] = true;\n                    }\n                } else {\n                    if (result.thumbnailUrl) {\n                        this._thumbnailUrls[id] = result.thumbnailUrl;\n                    }\n                    this._netUploaded++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_SUCCESSFUL);\n                }\n                this._maybeParseAndSendUploadError(id, name, result, xhr);\n                return result.success ? true : false;\n            },\n            _onDelete: function(id) {\n                this._uploadData.setStatus(id, qq.status.DELETING);\n            },\n            _onDeleteComplete: function(id, xhrOrXdr, isError) {\n                var name = this.getName(id);\n                if (isError) {\n                    this._handleDeleteFailed(id, xhrOrXdr);\n                } else {\n                    this._handleDeleteSuccess(id);\n                }\n            },\n            _onInputChange: function(input) {\n                var fileIndex;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    for (fileIndex = 0; fileIndex < input.files.length; fileIndex++) {\n                        this._annotateWithButtonId(input.files[fileIndex], input);\n                    }\n                    this.addFiles(input.files);\n                } else if (input.value.length > 0) {\n                    this.addFiles(input);\n                }\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._totalProgress && this._totalProgress.onIndividualProgress(id, loaded, total);\n            },\n            _onSubmit: function(id, name) {},\n            _onSubmitCallbackSuccess: function(id, name) {\n                this._onSubmit.apply(this, arguments);\n                this._uploadData.setStatus(id, qq.status.SUBMITTED);\n                this._onSubmitted.apply(this, arguments);\n                if (this._options.autoUpload) {\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                    this._uploadFile(id);\n                } else {\n                    this._storeForLater(id);\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                }\n            },\n            _onSubmitDelete: function(id, onSuccessCallback, additionalMandatedParams) {\n                var uuid = this.getUuid(id), adjustedOnSuccessCallback;\n                if (onSuccessCallback) {\n                    adjustedOnSuccessCallback = qq.bind(onSuccessCallback, this, id, uuid, additionalMandatedParams);\n                }\n                if (this._isDeletePossible()) {\n                    this._handleCheckedCallback({\n                        name: \"onSubmitDelete\",\n                        callback: qq.bind(this._options.callbacks.onSubmitDelete, this, id),\n                        onSuccess: adjustedOnSuccessCallback || qq.bind(this._deleteHandler.sendDelete, this, id, uuid, additionalMandatedParams),\n                        identifier: id\n                    });\n                    return true;\n                } else {\n                    this.log(\"Delete request ignored for ID \" + id + \", delete feature is disabled or request not possible \" + \"due to CORS on a user agent that does not support pre-flighting.\", \"warn\");\n                    return false;\n                }\n            },\n            _onSubmitted: function(id) {},\n            _onTotalProgress: function(loaded, total) {\n                this._options.callbacks.onTotalProgress(loaded, total);\n            },\n            _onUploadPrep: function(id) {},\n            _onUpload: function(id, name) {\n                this._uploadData.setStatus(id, qq.status.UPLOADING);\n            },\n            _onUploadChunk: function(id, chunkData) {},\n            _onUploadChunkSuccess: function(id, chunkData) {\n                if (!this._preventRetries[id] && this._options.retry.enableAuto) {\n                    this._autoRetries[id] = 0;\n                }\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.PAUSED) {\n                    clearTimeout(this._retryTimeouts[id]);\n                }\n            },\n            _onValidateBatchCallbackFailure: function(fileWrappers) {\n                var self = this;\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    self._fileOrBlobRejected(fileWrapper.id);\n                });\n            },\n            _onValidateBatchCallbackSuccess: function(validationDescriptors, items, params, endpoint, button) {\n                var errorMessage, itemLimit = this._currentItemLimit, proposedNetFilesUploadedOrQueued = this._netUploadedOrQueued;\n                if (itemLimit === 0 || proposedNetFilesUploadedOrQueued <= itemLimit) {\n                    if (items.length > 0) {\n                        this._handleCheckedCallback({\n                            name: \"onValidate\",\n                            callback: qq.bind(this._options.callbacks.onValidate, this, validationDescriptors[0], button),\n                            onSuccess: qq.bind(this._onValidateCallbackSuccess, this, items, 0, params, endpoint),\n                            onFailure: qq.bind(this._onValidateCallbackFailure, this, items, 0, params, endpoint),\n                            identifier: \"Item '\" + items[0].file.name + \"', size: \" + items[0].file.size\n                        });\n                    } else {\n                        this._itemError(\"noFilesError\");\n                    }\n                } else {\n                    this._onValidateBatchCallbackFailure(items);\n                    errorMessage = this._options.messages.tooManyItemsError.replace(/\\{netItems\\}/g, proposedNetFilesUploadedOrQueued).replace(/\\{itemLimit\\}/g, itemLimit);\n                    this._batchError(errorMessage);\n                }\n            },\n            _onValidateCallbackFailure: function(items, index, params, endpoint) {\n                var nextIndex = index + 1;\n                this._fileOrBlobRejected(items[index].id, items[index].file.name);\n                this._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n            },\n            _onValidateCallbackSuccess: function(items, index, params, endpoint) {\n                var self = this, nextIndex = index + 1, validationDescriptor = this._getValidationDescriptor(items[index]);\n                this._validateFileOrBlobData(items[index], validationDescriptor).then(function() {\n                    self._upload(items[index].id, params, endpoint);\n                    self._maybeProcessNextItemAfterOnValidateCallback(true, items, nextIndex, params, endpoint);\n                }, function() {\n                    self._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n                });\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                if (items.length === 0) {\n                    this._itemError(\"noFilesError\");\n                    return;\n                }\n                var validationDescriptors = this._getValidationDescriptors(items), buttonId = this._getButtonId(items[0].file), button = this._getButton(buttonId);\n                this._handleCheckedCallback({\n                    name: \"onValidateBatch\",\n                    callback: qq.bind(this._options.callbacks.onValidateBatch, this, validationDescriptors, button),\n                    onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, validationDescriptors, items, params, endpoint, button),\n                    onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, items),\n                    identifier: \"batch validation\"\n                });\n            },\n            _preventLeaveInProgress: function() {\n                var self = this;\n                this._disposeSupport.attach(window, \"beforeunload\", function(e) {\n                    if (self.getInProgress()) {\n                        e = e || window.event;\n                        e.returnValue = self._options.messages.onLeave;\n                        return self._options.messages.onLeave;\n                    }\n                });\n            },\n            _refreshSessionData: function() {\n                var self = this, options = this._options.session;\n                if (qq.Session && this._options.session.endpoint != null) {\n                    if (!this._session) {\n                        qq.extend(options, {\n                            cors: this._options.cors\n                        });\n                        options.log = qq.bind(this.log, this);\n                        options.addFileRecord = qq.bind(this._addCannedFile, this);\n                        this._session = new qq.Session(options);\n                    }\n                    setTimeout(function() {\n                        self._session.refresh().then(function(response, xhrOrXdr) {\n                            self._sessionRequestComplete();\n                            self._options.callbacks.onSessionRequestComplete(response, true, xhrOrXdr);\n                        }, function(response, xhrOrXdr) {\n                            self._options.callbacks.onSessionRequestComplete(response, false, xhrOrXdr);\n                        });\n                    }, 0);\n                }\n            },\n            _sessionRequestComplete: function() {},\n            _setSize: function(id, newSize) {\n                this._uploadData.updateSize(id, newSize);\n                this._totalProgress && this._totalProgress.onNewSize(id);\n            },\n            _shouldAutoRetry: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!this._preventRetries[id] && this._options.retry.enableAuto && uploadData.status !== qq.status.PAUSED) {\n                    if (this._autoRetries[id] === undefined) {\n                        this._autoRetries[id] = 0;\n                    }\n                    if (this._autoRetries[id] < this._options.retry.maxAutoAttempts) {\n                        this._autoRetries[id] += 1;\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _storeForLater: function(id) {\n                this._storedIds.push(id);\n            },\n            _trackButton: function(id) {\n                var buttonId;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    buttonId = this._handler.getFile(id).qqButtonId;\n                } else {\n                    buttonId = this._getButtonId(this._handler.getInput(id));\n                }\n                if (buttonId) {\n                    this._buttonIdsForFileIds[id] = buttonId;\n                }\n            },\n            _updateFormSupportAndParams: function(formElementOrId) {\n                this._options.form.element = formElementOrId;\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore.addReadOnly(null, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this.setEndpoint(this._formSupport.newEndpoint);\n                    }\n                }\n            },\n            _upload: function(id, params, endpoint) {\n                var name = this.getName(id);\n                if (params) {\n                    this.setParams(params, id);\n                }\n                if (endpoint) {\n                    this.setEndpoint(endpoint, id);\n                }\n                this._handleCheckedCallback({\n                    name: \"onSubmit\",\n                    callback: qq.bind(this._options.callbacks.onSubmit, this, id, name),\n                    onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, id, name),\n                    onFailure: qq.bind(this._fileOrBlobRejected, this, id, name),\n                    identifier: id\n                });\n            },\n            _uploadFile: function(id) {\n                if (!this._handler.upload(id)) {\n                    this._uploadData.setStatus(id, qq.status.QUEUED);\n                }\n            },\n            _uploadStoredFiles: function() {\n                var idToUpload, stillSubmitting, self = this;\n                while (this._storedIds.length) {\n                    idToUpload = this._storedIds.shift();\n                    this._uploadFile(idToUpload);\n                }\n                stillSubmitting = this.getUploads({\n                    status: qq.status.SUBMITTING\n                }).length;\n                if (stillSubmitting) {\n                    qq.log(\"Still waiting for \" + stillSubmitting + \" files to clear submit queue. Will re-parse stored IDs array shortly.\");\n                    setTimeout(function() {\n                        self._uploadStoredFiles();\n                    }, 1e3);\n                }\n            },\n            _validateFileOrBlobData: function(fileWrapper, validationDescriptor) {\n                var self = this, file = function() {\n                    if (fileWrapper.file instanceof qq.BlobProxy) {\n                        return fileWrapper.file.referenceBlob;\n                    }\n                    return fileWrapper.file;\n                }(), name = validationDescriptor.name, size = validationDescriptor.size, buttonId = this._getButtonId(fileWrapper.file), validationBase = this._getValidationBase(buttonId), validityChecker = new qq.Promise();\n                validityChecker.then(function() {}, function() {\n                    self._fileOrBlobRejected(fileWrapper.id, name);\n                });\n                if (qq.isFileOrInput(file) && !this._isAllowedExtension(validationBase.allowedExtensions, name)) {\n                    this._itemError(\"typeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (!this._options.validation.allowEmpty && size === 0) {\n                    this._itemError(\"emptyError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && validationBase.sizeLimit && size > validationBase.sizeLimit) {\n                    this._itemError(\"sizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && size < validationBase.minSizeLimit) {\n                    this._itemError(\"minSizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(file)) {\n                    new qq.ImageValidation(file, qq.bind(self.log, self)).validate(validationBase.image).then(validityChecker.success, function(errorCode) {\n                        self._itemError(errorCode + \"ImageError\", name, file);\n                        validityChecker.failure();\n                    });\n                } else {\n                    validityChecker.success();\n                }\n                return validityChecker;\n            },\n            _wrapCallbacks: function() {\n                var self, safeCallback, prop;\n                self = this;\n                safeCallback = function(name, callback, args) {\n                    var errorMsg;\n                    try {\n                        return callback.apply(self, args);\n                    } catch (exception) {\n                        errorMsg = exception.message || exception.toString();\n                        self.log(\"Caught exception in '\" + name + \"' callback - \" + errorMsg, \"error\");\n                    }\n                };\n                for (prop in this._options.callbacks) {\n                    (function() {\n                        var callbackName, callbackFunc;\n                        callbackName = prop;\n                        callbackFunc = self._options.callbacks[callbackName];\n                        self._options.callbacks[callbackName] = function() {\n                            return safeCallback(callbackName, callbackFunc, arguments);\n                        };\n                    })();\n                }\n            }\n        };\n    })();\n    (function() {\n        \"use strict\";\n        qq.FineUploaderBasic = function(o) {\n            var self = this;\n            this._options = {\n                debug: false,\n                button: null,\n                multiple: true,\n                maxConnections: 3,\n                disableCancelForFormUploads: false,\n                autoUpload: true,\n                warnBeforeUnload: true,\n                request: {\n                    customHeaders: {},\n                    endpoint: \"/server/upload\",\n                    filenameParam: \"qqfilename\",\n                    forceMultipart: true,\n                    inputName: \"qqfile\",\n                    method: \"POST\",\n                    omitDefaultParams: false,\n                    params: {},\n                    paramsInBody: true,\n                    requireSuccessJson: true,\n                    totalFileSizeName: \"qqtotalfilesize\",\n                    uuidName: \"qquuid\"\n                },\n                validation: {\n                    allowedExtensions: [],\n                    sizeLimit: 0,\n                    minSizeLimit: 0,\n                    itemLimit: 0,\n                    stopOnFirstInvalidFile: true,\n                    acceptFiles: null,\n                    image: {\n                        maxHeight: 0,\n                        maxWidth: 0,\n                        minHeight: 0,\n                        minWidth: 0\n                    },\n                    allowEmpty: false\n                },\n                callbacks: {\n                    onSubmit: function(id, name) {},\n                    onSubmitted: function(id, name) {},\n                    onComplete: function(id, name, responseJSON, maybeXhr) {},\n                    onAllComplete: function(successful, failed) {},\n                    onCancel: function(id, name) {},\n                    onUpload: function(id, name) {},\n                    onUploadChunk: function(id, name, chunkData) {},\n                    onUploadChunkSuccess: function(id, chunkData, responseJSON, xhr) {},\n                    onResume: function(id, fileName, chunkData, customResumeData) {},\n                    onProgress: function(id, name, loaded, total) {},\n                    onTotalProgress: function(loaded, total) {},\n                    onError: function(id, name, reason, maybeXhrOrXdr) {},\n                    onAutoRetry: function(id, name, attemptNumber) {},\n                    onManualRetry: function(id, name) {},\n                    onValidateBatch: function(fileOrBlobData) {},\n                    onValidate: function(fileOrBlobData) {},\n                    onSubmitDelete: function(id) {},\n                    onDelete: function(id) {},\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {},\n                    onPasteReceived: function(blob) {},\n                    onStatusChange: function(id, oldStatus, newStatus) {},\n                    onSessionRequestComplete: function(response, success, xhrOrXdr) {}\n                },\n                messages: {\n                    typeError: \"{file} has an invalid extension. Valid extension(s): {extensions}.\",\n                    sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n                    minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n                    emptyError: \"{file} is empty, please select files again without it.\",\n                    noFilesError: \"No files to upload.\",\n                    tooManyItemsError: \"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.\",\n                    maxHeightImageError: \"Image is too tall.\",\n                    maxWidthImageError: \"Image is too wide.\",\n                    minHeightImageError: \"Image is not tall enough.\",\n                    minWidthImageError: \"Image is not wide enough.\",\n                    retryFailTooManyItems: \"Retry failed - you have reached your file limit.\",\n                    onLeave: \"The files are being uploaded, if you leave now the upload will be canceled.\",\n                    unsupportedBrowserIos8Safari: \"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues.\"\n                },\n                retry: {\n                    enableAuto: false,\n                    maxAutoAttempts: 3,\n                    autoAttemptDelay: 5,\n                    preventRetryResponseProperty: \"preventRetry\"\n                },\n                classes: {\n                    buttonHover: \"qq-upload-button-hover\",\n                    buttonFocus: \"qq-upload-button-focus\"\n                },\n                chunking: {\n                    enabled: false,\n                    concurrent: {\n                        enabled: false\n                    },\n                    mandatory: false,\n                    paramNames: {\n                        partIndex: \"qqpartindex\",\n                        partByteOffset: \"qqpartbyteoffset\",\n                        chunkSize: \"qqchunksize\",\n                        totalFileSize: \"qqtotalfilesize\",\n                        totalParts: \"qqtotalparts\"\n                    },\n                    partSize: function(id) {\n                        return 2e6;\n                    },\n                    success: {\n                        endpoint: null,\n                        headers: function(id) {\n                            return null;\n                        },\n                        jsonPayload: false,\n                        method: \"POST\",\n                        params: function(id) {\n                            return null;\n                        },\n                        resetOnStatus: []\n                    }\n                },\n                resume: {\n                    enabled: false,\n                    recordsExpireIn: 7,\n                    paramNames: {\n                        resuming: \"qqresume\"\n                    },\n                    customKeys: function(fileId) {\n                        return [];\n                    }\n                },\n                formatFileName: function(fileOrBlobName) {\n                    return fileOrBlobName;\n                },\n                text: {\n                    defaultResponseError: \"Upload failure reason unknown\",\n                    fileInputTitle: \"file input\",\n                    sizeSymbols: [ \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" ]\n                },\n                deleteFile: {\n                    enabled: false,\n                    method: \"DELETE\",\n                    endpoint: \"/server/upload\",\n                    customHeaders: {},\n                    params: {}\n                },\n                cors: {\n                    expected: false,\n                    sendCredentials: false,\n                    allowXdr: false\n                },\n                blobs: {\n                    defaultName: \"misc_data\"\n                },\n                paste: {\n                    targetElement: null,\n                    defaultName: \"pasted_image\"\n                },\n                camera: {\n                    ios: false,\n                    button: null\n                },\n                extraButtons: [],\n                session: {\n                    endpoint: null,\n                    params: {},\n                    customHeaders: {},\n                    refreshOnReset: true\n                },\n                form: {\n                    element: \"qq-form\",\n                    autoUpload: false,\n                    interceptSubmit: true\n                },\n                scaling: {\n                    customResizer: null,\n                    sendOriginal: true,\n                    orient: true,\n                    defaultType: null,\n                    defaultQuality: 80,\n                    failureText: \"Failed to scale\",\n                    includeExif: false,\n                    sizes: []\n                },\n                workarounds: {\n                    iosEmptyVideos: true,\n                    ios8SafariUploads: true,\n                    ios8BrowserCrash: false\n                }\n            };\n            qq.extend(this._options, o, true);\n            this._buttons = [];\n            this._extraButtonSpecs = {};\n            this._buttonIdsForFileIds = [];\n            this._wrapCallbacks();\n            this._disposeSupport = new qq.DisposeSupport();\n            this._storedIds = [];\n            this._autoRetries = [];\n            this._retryTimeouts = [];\n            this._preventRetries = [];\n            this._thumbnailUrls = [];\n            this._netUploadedOrQueued = 0;\n            this._netUploaded = 0;\n            this._uploadData = this._createUploadDataTracker();\n            this._initFormSupportAndParams();\n            this._customHeadersStore = this._createStore(this._options.request.customHeaders);\n            this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders);\n            this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params);\n            this._endpointStore = this._createStore(this._options.request.endpoint);\n            this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint);\n            this._handler = this._createUploadHandler();\n            this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler();\n            if (this._options.button) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._options.button,\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._generateExtraButtonSpecs();\n            this._handleCameraAccess();\n            if (this._options.paste.targetElement) {\n                if (qq.PasteSupport) {\n                    this._pasteHandler = this._createPasteHandler();\n                } else {\n                    this.log(\"Paste support module not found\", \"error\");\n                }\n            }\n            this._options.warnBeforeUnload && this._preventLeaveInProgress();\n            this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this));\n            this._refreshSessionData();\n            this._succeededSinceLastAllComplete = [];\n            this._failedSinceLastAllComplete = [];\n            this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {};\n            if (this._scaler.enabled) {\n                this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler);\n            }\n            if (qq.TotalProgress && qq.supportedFeatures.progressBar) {\n                this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function(id) {\n                    var entry = self._uploadData.retrieve({\n                        id: id\n                    });\n                    return entry && entry.size || 0;\n                });\n            }\n            this._currentItemLimit = this._options.validation.itemLimit;\n            this._customResumeDataStore = this._createStore();\n        };\n        qq.FineUploaderBasic.prototype = qq.basePublicApi;\n        qq.extend(qq.FineUploaderBasic.prototype, qq.basePrivateApi);\n    })();\n    qq.AjaxRequester = function(o) {\n        \"use strict\";\n        var log, shouldParamsBeInQueryString, queue = [], requestData = {}, options = {\n            acceptHeader: null,\n            validMethods: [ \"PATCH\", \"POST\", \"PUT\" ],\n            method: \"POST\",\n            contentType: \"application/x-www-form-urlencoded\",\n            maxConnections: 3,\n            customHeaders: {},\n            endpointStore: {},\n            paramsStore: {},\n            mandatedParams: {},\n            allowXRequestedWithAndCacheControl: true,\n            successfulResponseCodes: {\n                DELETE: [ 200, 202, 204 ],\n                PATCH: [ 200, 201, 202, 203, 204 ],\n                POST: [ 200, 201, 202, 203, 204 ],\n                PUT: [ 200, 201, 202, 203, 204 ],\n                GET: [ 200 ]\n            },\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onSend: function(id) {},\n            onComplete: function(id, xhrOrXdr, isError) {},\n            onProgress: null\n        };\n        qq.extend(options, o);\n        log = options.log;\n        if (qq.indexOf(options.validMethods, options.method) < 0) {\n            throw new Error(\"'\" + options.method + \"' is not a supported method for this type of request!\");\n        }\n        function isSimpleMethod() {\n            return qq.indexOf([ \"GET\", \"POST\", \"HEAD\" ], options.method) >= 0;\n        }\n        function containsNonSimpleHeaders(headers) {\n            var containsNonSimple = false;\n            qq.each(containsNonSimple, function(idx, header) {\n                if (qq.indexOf([ \"Accept\", \"Accept-Language\", \"Content-Language\", \"Content-Type\" ], header) < 0) {\n                    containsNonSimple = true;\n                    return false;\n                }\n            });\n            return containsNonSimple;\n        }\n        function isXdr(xhr) {\n            return options.cors.expected && xhr.withCredentials === undefined;\n        }\n        function getCorsAjaxTransport() {\n            var xhrOrXdr;\n            if (window.XMLHttpRequest || window.ActiveXObject) {\n                xhrOrXdr = qq.createXhrInstance();\n                if (xhrOrXdr.withCredentials === undefined) {\n                    xhrOrXdr = new XDomainRequest();\n                    xhrOrXdr.onload = function() {};\n                    xhrOrXdr.onerror = function() {};\n                    xhrOrXdr.ontimeout = function() {};\n                    xhrOrXdr.onprogress = function() {};\n                }\n            }\n            return xhrOrXdr;\n        }\n        function getXhrOrXdr(id, suppliedXhr) {\n            var xhrOrXdr = requestData[id] && requestData[id].xhr;\n            if (!xhrOrXdr) {\n                if (suppliedXhr) {\n                    xhrOrXdr = suppliedXhr;\n                } else {\n                    if (options.cors.expected) {\n                        xhrOrXdr = getCorsAjaxTransport();\n                    } else {\n                        xhrOrXdr = qq.createXhrInstance();\n                    }\n                }\n                requestData[id].xhr = xhrOrXdr;\n            }\n            return xhrOrXdr;\n        }\n        function dequeue(id) {\n            var i = qq.indexOf(queue, id), max = options.maxConnections, nextId;\n            delete requestData[id];\n            queue.splice(i, 1);\n            if (queue.length >= max && i < max) {\n                nextId = queue[max - 1];\n                sendRequest(nextId);\n            }\n        }\n        function onComplete(id, xdrError) {\n            var xhr = getXhrOrXdr(id), method = options.method, isError = xdrError === true;\n            dequeue(id);\n            if (isError) {\n                log(method + \" request for \" + id + \" has failed\", \"error\");\n            } else if (!isXdr(xhr) && !isResponseSuccessful(xhr.status)) {\n                isError = true;\n                log(method + \" request for \" + id + \" has failed - response code \" + xhr.status, \"error\");\n            }\n            options.onComplete(id, xhr, isError);\n        }\n        function getParams(id) {\n            var onDemandParams = requestData[id].additionalParams, mandatedParams = options.mandatedParams, params;\n            if (options.paramsStore.get) {\n                params = options.paramsStore.get(id);\n            }\n            if (onDemandParams) {\n                qq.each(onDemandParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            if (mandatedParams) {\n                qq.each(mandatedParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            return params;\n        }\n        function sendRequest(id, optXhr) {\n            var xhr = getXhrOrXdr(id, optXhr), method = options.method, params = getParams(id), payload = requestData[id].payload, url;\n            options.onSend(id);\n            url = createUrl(id, params, requestData[id].additionalQueryParams);\n            if (isXdr(xhr)) {\n                xhr.onload = getXdrLoadHandler(id);\n                xhr.onerror = getXdrErrorHandler(id);\n            } else {\n                xhr.onreadystatechange = getXhrReadyStateChangeHandler(id);\n            }\n            registerForUploadProgress(id);\n            xhr.open(method, url, true);\n            if (options.cors.expected && options.cors.sendCredentials && !isXdr(xhr)) {\n                xhr.withCredentials = true;\n            }\n            setHeaders(id);\n            log(\"Sending \" + method + \" request for \" + id);\n            if (payload) {\n                xhr.send(payload);\n            } else if (shouldParamsBeInQueryString || !params) {\n                xhr.send();\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/x-www-form-urlencoded\") >= 0) {\n                xhr.send(qq.obj2url(params, \"\"));\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/json\") >= 0) {\n                xhr.send(JSON.stringify(params));\n            } else {\n                xhr.send(params);\n            }\n            return xhr;\n        }\n        function createUrl(id, params, additionalQueryParams) {\n            var endpoint = options.endpointStore.get(id), addToPath = requestData[id].addToPath;\n            if (addToPath != undefined) {\n                endpoint += \"/\" + addToPath;\n            }\n            if (shouldParamsBeInQueryString && params) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            if (additionalQueryParams) {\n                endpoint = qq.obj2url(additionalQueryParams, endpoint);\n            }\n            return endpoint;\n        }\n        function getXhrReadyStateChangeHandler(id) {\n            return function() {\n                if (getXhrOrXdr(id).readyState === 4) {\n                    onComplete(id);\n                }\n            };\n        }\n        function registerForUploadProgress(id) {\n            var onProgress = options.onProgress;\n            if (onProgress) {\n                getXhrOrXdr(id).upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        onProgress(id, e.loaded, e.total);\n                    }\n                };\n            }\n        }\n        function getXdrLoadHandler(id) {\n            return function() {\n                onComplete(id);\n            };\n        }\n        function getXdrErrorHandler(id) {\n            return function() {\n                onComplete(id, true);\n            };\n        }\n        function setHeaders(id) {\n            var xhr = getXhrOrXdr(id), customHeaders = options.customHeaders, onDemandHeaders = requestData[id].additionalHeaders || {}, method = options.method, allHeaders = {};\n            if (!isXdr(xhr)) {\n                options.acceptHeader && xhr.setRequestHeader(\"Accept\", options.acceptHeader);\n                if (options.allowXRequestedWithAndCacheControl) {\n                    if (!options.cors.expected || (!isSimpleMethod() || containsNonSimpleHeaders(customHeaders))) {\n                        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                    }\n                }\n                if (options.contentType && (method === \"POST\" || method === \"PUT\")) {\n                    xhr.setRequestHeader(\"Content-Type\", options.contentType);\n                }\n                qq.extend(allHeaders, qq.isFunction(customHeaders) ? customHeaders(id) : customHeaders);\n                qq.extend(allHeaders, onDemandHeaders);\n                qq.each(allHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        }\n        function isResponseSuccessful(responseCode) {\n            return qq.indexOf(options.successfulResponseCodes[options.method], responseCode) >= 0;\n        }\n        function prepareToSend(id, optXhr, addToPath, additionalParams, additionalQueryParams, additionalHeaders, payload) {\n            requestData[id] = {\n                addToPath: addToPath,\n                additionalParams: additionalParams,\n                additionalQueryParams: additionalQueryParams,\n                additionalHeaders: additionalHeaders,\n                payload: payload\n            };\n            var len = queue.push(id);\n            if (len <= options.maxConnections) {\n                return sendRequest(id, optXhr);\n            }\n        }\n        shouldParamsBeInQueryString = options.method === \"GET\" || options.method === \"DELETE\";\n        qq.extend(this, {\n            initTransport: function(id) {\n                var path, params, headers, payload, cacheBuster, additionalQueryParams;\n                return {\n                    withPath: function(appendToPath) {\n                        path = appendToPath;\n                        return this;\n                    },\n                    withParams: function(additionalParams) {\n                        params = additionalParams;\n                        return this;\n                    },\n                    withQueryParams: function(_additionalQueryParams_) {\n                        additionalQueryParams = _additionalQueryParams_;\n                        return this;\n                    },\n                    withHeaders: function(additionalHeaders) {\n                        headers = additionalHeaders;\n                        return this;\n                    },\n                    withPayload: function(thePayload) {\n                        payload = thePayload;\n                        return this;\n                    },\n                    withCacheBuster: function() {\n                        cacheBuster = true;\n                        return this;\n                    },\n                    send: function(optXhr) {\n                        if (cacheBuster && qq.indexOf([ \"GET\", \"DELETE\" ], options.method) >= 0) {\n                            params.qqtimestamp = new Date().getTime();\n                        }\n                        return prepareToSend(id, optXhr, path, params, additionalQueryParams, headers, payload);\n                    }\n                };\n            },\n            canceled: function(id) {\n                dequeue(id);\n            }\n        });\n    };\n    qq.UploadHandler = function(spec) {\n        \"use strict\";\n        var proxy = spec.proxy, fileState = {}, onCancel = proxy.onCancel, getName = proxy.getName;\n        qq.extend(this, {\n            add: function(id, fileItem) {\n                fileState[id] = fileItem;\n                fileState[id].temp = {};\n            },\n            cancel: function(id) {\n                var self = this, cancelFinalizationEffort = new qq.Promise(), onCancelRetVal = onCancel(id, getName(id), cancelFinalizationEffort);\n                onCancelRetVal.then(function() {\n                    if (self.isValid(id)) {\n                        fileState[id].canceled = true;\n                        self.expunge(id);\n                    }\n                    cancelFinalizationEffort.success();\n                });\n            },\n            expunge: function(id) {\n                delete fileState[id];\n            },\n            getThirdPartyFileId: function(id) {\n                return fileState[id].key;\n            },\n            isValid: function(id) {\n                return fileState[id] !== undefined;\n            },\n            reset: function() {\n                fileState = {};\n            },\n            _getFileState: function(id) {\n                return fileState[id];\n            },\n            _setThirdPartyFileId: function(id, thirdPartyFileId) {\n                fileState[id].key = thirdPartyFileId;\n            },\n            _wasCanceled: function(id) {\n                return !!fileState[id].canceled;\n            }\n        });\n    };\n    qq.UploadHandlerController = function(o, namespace) {\n        \"use strict\";\n        var controller = this, chunkingPossible = false, concurrentChunkingPossible = false, chunking, preventRetryResponse, log, handler, options = {\n            paramsStore: {},\n            maxConnections: 3,\n            chunking: {\n                enabled: false,\n                multiple: {\n                    enabled: false\n                }\n            },\n            log: function(str, level) {},\n            onProgress: function(id, fileName, loaded, total) {},\n            onComplete: function(id, fileName, response, xhr) {},\n            onCancel: function(id, fileName) {},\n            onUploadPrep: function(id) {},\n            onUpload: function(id, fileName) {},\n            onUploadChunk: function(id, fileName, chunkData) {},\n            onUploadChunkSuccess: function(id, chunkData, response, xhr) {},\n            onAutoRetry: function(id, fileName, response, xhr) {},\n            onResume: function(id, fileName, chunkData, customResumeData) {},\n            onUuidChanged: function(id, newUuid) {},\n            getName: function(id) {},\n            setSize: function(id, newSize) {},\n            isQueued: function(id) {},\n            getIdsInProxyGroup: function(id) {},\n            getIdsInBatch: function(id) {},\n            isInProgress: function(id) {}\n        }, chunked = {\n            done: function(id, chunkIdx, response, xhr) {\n                var chunkData = handler._getChunkData(id, chunkIdx);\n                handler._getFileState(id).attemptingResume = false;\n                delete handler._getFileState(id).temp.chunkProgress[chunkIdx];\n                handler._getFileState(id).loaded += chunkData.size;\n                options.onUploadChunkSuccess(id, handler._getChunkDataForCallback(chunkData), response, xhr);\n            },\n            finalize: function(id) {\n                var size = options.getSize(id), name = options.getName(id);\n                log(\"All chunks have been uploaded for \" + id + \" - finalizing....\");\n                handler.finalizeChunks(id).then(function(response, xhr) {\n                    log(\"Finalize successful for \" + id);\n                    var normaizedResponse = upload.normalizeResponse(response, true);\n                    options.onProgress(id, name, size, size);\n                    handler._maybeDeletePersistedChunkData(id);\n                    upload.cleanup(id, normaizedResponse, xhr);\n                }, function(response, xhr) {\n                    var normalizedResponse = upload.normalizeResponse(response, false);\n                    log(\"Problem finalizing chunks for file ID \" + id + \" - \" + normalizedResponse.error, \"error\");\n                    if (normalizedResponse.reset || xhr && options.chunking.success.resetOnStatus.indexOf(xhr.status) >= 0) {\n                        chunked.reset(id);\n                    }\n                    if (!options.onAutoRetry(id, name, normalizedResponse, xhr)) {\n                        upload.cleanup(id, normalizedResponse, xhr);\n                    }\n                });\n            },\n            handleFailure: function(chunkIdx, id, response, xhr) {\n                var name = options.getName(id);\n                log(\"Chunked upload request failed for \" + id + \", chunk \" + chunkIdx);\n                handler.clearCachedChunk(id, chunkIdx);\n                var responseToReport = upload.normalizeResponse(response, false), inProgressIdx;\n                if (responseToReport.reset) {\n                    chunked.reset(id);\n                } else {\n                    var inProgressChunksArray = handler._getFileState(id).chunking.inProgress;\n                    inProgressIdx = inProgressChunksArray ? qq.indexOf(inProgressChunksArray, chunkIdx) : -1;\n                    if (inProgressIdx >= 0) {\n                        handler._getFileState(id).chunking.inProgress.splice(inProgressIdx, 1);\n                        handler._getFileState(id).chunking.remaining.unshift(chunkIdx);\n                    }\n                }\n                if (!handler._getFileState(id).temp.ignoreFailure) {\n                    if (concurrentChunkingPossible) {\n                        handler._getFileState(id).temp.ignoreFailure = true;\n                        log(qq.format(\"Going to attempt to abort these chunks: {}. These are currently in-progress: {}.\", JSON.stringify(Object.keys(handler._getXhrs(id))), JSON.stringify(handler._getFileState(id).chunking.inProgress)));\n                        qq.each(handler._getXhrs(id), function(ckid, ckXhr) {\n                            log(qq.format(\"Attempting to abort file {}.{}. XHR readyState {}. \", id, ckid, ckXhr.readyState));\n                            ckXhr.abort();\n                            ckXhr._cancelled = true;\n                        });\n                        handler.moveInProgressToRemaining(id);\n                        connectionManager.free(id, true);\n                    }\n                    if (!options.onAutoRetry(id, name, responseToReport, xhr)) {\n                        upload.cleanup(id, responseToReport, xhr);\n                    }\n                }\n            },\n            hasMoreParts: function(id) {\n                return !!handler._getFileState(id).chunking.remaining.length;\n            },\n            nextPart: function(id) {\n                var nextIdx = handler._getFileState(id).chunking.remaining.shift();\n                if (nextIdx >= handler._getTotalChunks(id)) {\n                    nextIdx = null;\n                }\n                return nextIdx;\n            },\n            reset: function(id) {\n                log(\"Server or callback has ordered chunking effort to be restarted on next attempt for item ID \" + id, \"error\");\n                handler._maybeDeletePersistedChunkData(id);\n                handler.reevaluateChunking(id);\n                handler._getFileState(id).loaded = 0;\n                handler._getFileState(id).attemptingResume = false;\n            },\n            sendNext: function(id) {\n                var size = options.getSize(id), name = options.getName(id), chunkIdx = chunked.nextPart(id), chunkData = handler._getChunkData(id, chunkIdx), fileState = handler._getFileState(id), resuming = fileState.attemptingResume, inProgressChunks = fileState.chunking.inProgress || [];\n                if (fileState.loaded == null) {\n                    fileState.loaded = 0;\n                }\n                if (resuming && options.onResume(id, name, chunkData, fileState.customResumeData) === false) {\n                    chunked.reset(id);\n                    chunkIdx = chunked.nextPart(id);\n                    chunkData = handler._getChunkData(id, chunkIdx);\n                    resuming = false;\n                }\n                if (chunkIdx == null && inProgressChunks.length === 0) {\n                    chunked.finalize(id);\n                } else {\n                    inProgressChunks.push(chunkIdx);\n                    handler._getFileState(id).chunking.inProgress = inProgressChunks;\n                    if (concurrentChunkingPossible) {\n                        connectionManager.open(id, chunkIdx);\n                    }\n                    if (concurrentChunkingPossible && connectionManager.available() && handler._getFileState(id).chunking.remaining.length) {\n                        chunked.sendNext(id);\n                    }\n                    if (chunkData.blob.size === 0) {\n                        log(qq.format(\"Chunk {} for file {} will not be uploaded, zero sized chunk.\", chunkIdx, id), \"error\");\n                        chunked.handleFailure(chunkIdx, id, \"File is no longer available\", null);\n                    }\n                    var onUploadChunkPromise = options.onUploadChunk(id, name, handler._getChunkDataForCallback(chunkData));\n                    onUploadChunkPromise.then(function(requestOverrides) {\n                        if (!options.isInProgress(id)) {\n                            log(qq.format(\"Not sending chunked upload request for item {}.{} - no longer in progress.\", id, chunkIdx));\n                        } else {\n                            log(qq.format(\"Sending chunked upload request for item {}.{}, bytes {}-{} of {}.\", id, chunkIdx, chunkData.start + 1, chunkData.end, size));\n                            var uploadChunkData = {\n                                chunkIdx: chunkIdx,\n                                id: id,\n                                overrides: requestOverrides,\n                                resuming: resuming\n                            };\n                            handler.uploadChunk(uploadChunkData).then(function success(response, xhr) {\n                                log(\"Chunked upload request succeeded for \" + id + \", chunk \" + chunkIdx);\n                                handler.clearCachedChunk(id, chunkIdx);\n                                var inProgressChunks = handler._getFileState(id).chunking.inProgress || [], responseToReport = upload.normalizeResponse(response, true), inProgressChunkIdx = qq.indexOf(inProgressChunks, chunkIdx);\n                                log(qq.format(\"Chunk {} for file {} uploaded successfully.\", chunkIdx, id));\n                                chunked.done(id, chunkIdx, responseToReport, xhr);\n                                if (inProgressChunkIdx >= 0) {\n                                    inProgressChunks.splice(inProgressChunkIdx, 1);\n                                }\n                                handler._maybePersistChunkedState(id);\n                                if (!chunked.hasMoreParts(id) && inProgressChunks.length === 0) {\n                                    chunked.finalize(id);\n                                } else if (chunked.hasMoreParts(id)) {\n                                    chunked.sendNext(id);\n                                } else {\n                                    log(qq.format(\"File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}\", id, JSON.stringify(inProgressChunks)));\n                                }\n                            }, function failure(response, xhr) {\n                                chunked.handleFailure(chunkIdx, id, response, xhr);\n                            }).done(function() {\n                                handler.clearXhr(id, chunkIdx);\n                            });\n                        }\n                    }, function(error) {\n                        chunked.handleFailure(chunkIdx, id, error, null);\n                    });\n                }\n            }\n        }, connectionManager = {\n            _open: [],\n            _openChunks: {},\n            _waiting: [],\n            available: function() {\n                var max = options.maxConnections, openChunkEntriesCount = 0, openChunksCount = 0;\n                qq.each(connectionManager._openChunks, function(fileId, openChunkIndexes) {\n                    openChunkEntriesCount++;\n                    openChunksCount += openChunkIndexes.length;\n                });\n                return max - (connectionManager._open.length - openChunkEntriesCount + openChunksCount);\n            },\n            free: function(id, dontAllowNext) {\n                var allowNext = !dontAllowNext, waitingIndex = qq.indexOf(connectionManager._waiting, id), connectionsIndex = qq.indexOf(connectionManager._open, id), nextId;\n                delete connectionManager._openChunks[id];\n                if (upload.getProxyOrBlob(id) instanceof qq.BlobProxy) {\n                    log(\"Generated blob upload has ended for \" + id + \", disposing generated blob.\");\n                    delete handler._getFileState(id).file;\n                }\n                if (waitingIndex >= 0) {\n                    connectionManager._waiting.splice(waitingIndex, 1);\n                } else if (allowNext && connectionsIndex >= 0) {\n                    connectionManager._open.splice(connectionsIndex, 1);\n                    nextId = connectionManager._waiting.shift();\n                    if (nextId >= 0) {\n                        connectionManager._open.push(nextId);\n                        upload.start(nextId);\n                    }\n                }\n            },\n            getWaitingOrConnected: function() {\n                var waitingOrConnected = [];\n                qq.each(connectionManager._openChunks, function(fileId, chunks) {\n                    if (chunks && chunks.length) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                qq.each(connectionManager._open, function(idx, fileId) {\n                    if (!connectionManager._openChunks[fileId]) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                waitingOrConnected = waitingOrConnected.concat(connectionManager._waiting);\n                return waitingOrConnected;\n            },\n            isUsingConnection: function(id) {\n                return qq.indexOf(connectionManager._open, id) >= 0;\n            },\n            open: function(id, chunkIdx) {\n                if (chunkIdx == null) {\n                    connectionManager._waiting.push(id);\n                }\n                if (connectionManager.available()) {\n                    if (chunkIdx == null) {\n                        connectionManager._waiting.pop();\n                        connectionManager._open.push(id);\n                    } else {\n                        (function() {\n                            var openChunksEntry = connectionManager._openChunks[id] || [];\n                            openChunksEntry.push(chunkIdx);\n                            connectionManager._openChunks[id] = openChunksEntry;\n                        })();\n                    }\n                    return true;\n                }\n                return false;\n            },\n            reset: function() {\n                connectionManager._waiting = [];\n                connectionManager._open = [];\n            }\n        }, simple = {\n            send: function(id, name) {\n                var fileState = handler._getFileState(id);\n                if (!fileState) {\n                    log(\"Ignoring send request as this upload may have been cancelled, File ID \" + id, \"warn\");\n                    return;\n                }\n                fileState.loaded = 0;\n                log(\"Sending simple upload request for \" + id);\n                handler.uploadFile(id).then(function(response, optXhr) {\n                    log(\"Simple upload request succeeded for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, true), size = options.getSize(id);\n                    options.onProgress(id, name, size, size);\n                    upload.maybeNewUuid(id, responseToReport);\n                    upload.cleanup(id, responseToReport, optXhr);\n                }, function(response, optXhr) {\n                    log(\"Simple upload request failed for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, false);\n                    if (!options.onAutoRetry(id, name, responseToReport, optXhr)) {\n                        upload.cleanup(id, responseToReport, optXhr);\n                    }\n                });\n            }\n        }, upload = {\n            cancel: function(id) {\n                log(\"Cancelling \" + id);\n                options.paramsStore.remove(id);\n                connectionManager.free(id);\n            },\n            cleanup: function(id, response, optXhr) {\n                var name = options.getName(id);\n                options.onComplete(id, name, response, optXhr);\n                if (handler._getFileState(id)) {\n                    handler._clearXhrs && handler._clearXhrs(id);\n                }\n                connectionManager.free(id);\n            },\n            getProxyOrBlob: function(id) {\n                return handler.getProxy && handler.getProxy(id) || handler.getFile && handler.getFile(id);\n            },\n            initHandler: function() {\n                var handlerType = namespace ? qq[namespace] : qq.traditional, handlerModuleSubtype = qq.supportedFeatures.ajaxUploading ? \"Xhr\" : \"Form\";\n                handler = new handlerType[handlerModuleSubtype + \"UploadHandler\"](options, {\n                    getCustomResumeData: options.getCustomResumeData,\n                    getDataByUuid: options.getDataByUuid,\n                    getName: options.getName,\n                    getSize: options.getSize,\n                    getUuid: options.getUuid,\n                    log: log,\n                    onCancel: options.onCancel,\n                    onProgress: options.onProgress,\n                    onUuidChanged: options.onUuidChanged,\n                    onFinalizing: function(id) {\n                        options.setStatus(id, qq.status.UPLOAD_FINALIZING);\n                    }\n                });\n                if (handler._removeExpiredChunkingRecords) {\n                    handler._removeExpiredChunkingRecords();\n                }\n            },\n            isDeferredEligibleForUpload: function(id) {\n                return options.isQueued(id);\n            },\n            maybeDefer: function(id, blob) {\n                if (blob && !handler.getFile(id) && blob instanceof qq.BlobProxy) {\n                    options.onUploadPrep(id);\n                    log(\"Attempting to generate a blob on-demand for \" + id);\n                    blob.create().then(function(generatedBlob) {\n                        log(\"Generated an on-demand blob for \" + id);\n                        handler.updateBlob(id, generatedBlob);\n                        options.setSize(id, generatedBlob.size);\n                        handler.reevaluateChunking(id);\n                        upload.maybeSendDeferredFiles(id);\n                    }, function(errorMessage) {\n                        var errorResponse = {};\n                        if (errorMessage) {\n                            errorResponse.error = errorMessage;\n                        }\n                        log(qq.format(\"Failed to generate blob for ID {}.  Error message: {}.\", id, errorMessage), \"error\");\n                        options.onComplete(id, options.getName(id), qq.extend(errorResponse, preventRetryResponse), null);\n                        upload.maybeSendDeferredFiles(id);\n                        connectionManager.free(id);\n                    });\n                } else {\n                    return upload.maybeSendDeferredFiles(id);\n                }\n                return false;\n            },\n            maybeSendDeferredFiles: function(id) {\n                var idsInGroup = options.getIdsInProxyGroup(id), uploadedThisId = false;\n                if (idsInGroup && idsInGroup.length) {\n                    log(\"Maybe ready to upload proxy group file \" + id);\n                    qq.each(idsInGroup, function(idx, idInGroup) {\n                        if (upload.isDeferredEligibleForUpload(idInGroup) && !!handler.getFile(idInGroup)) {\n                            uploadedThisId = idInGroup === id;\n                            upload.now(idInGroup);\n                        } else if (upload.isDeferredEligibleForUpload(idInGroup)) {\n                            return false;\n                        }\n                    });\n                } else {\n                    uploadedThisId = true;\n                    upload.now(id);\n                }\n                return uploadedThisId;\n            },\n            maybeNewUuid: function(id, response) {\n                if (response.newUuid !== undefined) {\n                    options.onUuidChanged(id, response.newUuid);\n                }\n            },\n            normalizeResponse: function(originalResponse, successful) {\n                var response = originalResponse;\n                if (!qq.isObject(originalResponse)) {\n                    response = {};\n                    if (qq.isString(originalResponse) && !successful) {\n                        response.error = originalResponse;\n                    }\n                }\n                response.success = successful;\n                return response;\n            },\n            now: function(id) {\n                var name = options.getName(id);\n                if (!controller.isValid(id)) {\n                    throw new qq.Error(id + \" is not a valid file ID to upload!\");\n                }\n                options.onUpload(id, name).then(function(response) {\n                    if (response && response.pause) {\n                        options.setStatus(id, qq.status.PAUSED);\n                        handler.pause(id);\n                        connectionManager.free(id);\n                    } else {\n                        if (chunkingPossible && handler._shouldChunkThisFile(id)) {\n                            chunked.sendNext(id);\n                        } else {\n                            simple.send(id, name);\n                        }\n                    }\n                }, function(error) {\n                    error = error || {};\n                    log(id + \" upload start aborted due to rejected onUpload Promise - details: \" + error, \"error\");\n                    if (!options.onAutoRetry(id, name, error.responseJSON || {})) {\n                        var response = upload.normalizeResponse(error.responseJSON, false);\n                        upload.cleanup(id, response);\n                    }\n                });\n            },\n            start: function(id) {\n                var blobToUpload = upload.getProxyOrBlob(id);\n                if (blobToUpload) {\n                    return upload.maybeDefer(id, blobToUpload);\n                } else {\n                    upload.now(id);\n                    return true;\n                }\n            }\n        };\n        qq.extend(this, {\n            add: function(id, file) {\n                handler.add.apply(this, arguments);\n            },\n            upload: function(id) {\n                if (connectionManager.open(id)) {\n                    return upload.start(id);\n                }\n                return false;\n            },\n            retry: function(id) {\n                if (concurrentChunkingPossible) {\n                    handler._getFileState(id).temp.ignoreFailure = false;\n                }\n                if (connectionManager.isUsingConnection(id)) {\n                    return upload.start(id);\n                } else {\n                    return controller.upload(id);\n                }\n            },\n            cancel: function(id) {\n                var cancelRetVal = handler.cancel(id);\n                if (qq.isGenericPromise(cancelRetVal)) {\n                    cancelRetVal.then(function() {\n                        upload.cancel(id);\n                    });\n                } else if (cancelRetVal !== false) {\n                    upload.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var waitingOrConnected = connectionManager.getWaitingOrConnected(), i;\n                if (waitingOrConnected.length) {\n                    for (i = waitingOrConnected.length - 1; i >= 0; i--) {\n                        controller.cancel(waitingOrConnected[i]);\n                    }\n                }\n                connectionManager.reset();\n            },\n            getFile: function(id) {\n                if (handler.getProxy && handler.getProxy(id)) {\n                    return handler.getProxy(id).referenceBlob;\n                }\n                return handler.getFile && handler.getFile(id);\n            },\n            isProxied: function(id) {\n                return !!(handler.getProxy && handler.getProxy(id));\n            },\n            getInput: function(id) {\n                if (handler.getInput) {\n                    return handler.getInput(id);\n                }\n            },\n            reset: function() {\n                log(\"Resetting upload handler\");\n                controller.cancelAll();\n                connectionManager.reset();\n                handler.reset();\n            },\n            expunge: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.expunge(id);\n                }\n            },\n            isValid: function(id) {\n                return handler.isValid(id);\n            },\n            hasResumeRecord: function(id) {\n                var key = handler.isValid(id) && handler._getLocalStorageId && handler._getLocalStorageId(id);\n                if (key) {\n                    return !!localStorage.getItem(key);\n                }\n                return false;\n            },\n            getResumableFilesData: function() {\n                if (handler.getResumableFilesData) {\n                    return handler.getResumableFilesData();\n                }\n                return [];\n            },\n            getThirdPartyFileId: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.getThirdPartyFileId(id);\n                }\n            },\n            pause: function(id) {\n                if (controller.isResumable(id) && handler.pause && controller.isValid(id) && handler.pause(id)) {\n                    connectionManager.free(id);\n                    handler.moveInProgressToRemaining(id);\n                    return true;\n                }\n                return false;\n            },\n            isAttemptingResume: function(id) {\n                return !!handler.isAttemptingResume && handler.isAttemptingResume(id);\n            },\n            isResumable: function(id) {\n                return !!handler.isResumable && handler.isResumable(id);\n            }\n        });\n        qq.extend(options, o);\n        log = options.log;\n        chunkingPossible = options.chunking.enabled && qq.supportedFeatures.chunking;\n        concurrentChunkingPossible = chunkingPossible && options.chunking.concurrent.enabled;\n        preventRetryResponse = function() {\n            var response = {};\n            response[options.preventRetryParam] = true;\n            return response;\n        }();\n        upload.initHandler();\n    };\n    qq.WindowReceiveMessage = function(o) {\n        \"use strict\";\n        var options = {\n            log: function(message, level) {}\n        }, callbackWrapperDetachers = {};\n        qq.extend(options, o);\n        qq.extend(this, {\n            receiveMessage: function(id, callback) {\n                var onMessageCallbackWrapper = function(event) {\n                    callback(event.data);\n                };\n                if (window.postMessage) {\n                    callbackWrapperDetachers[id] = qq(window).attach(\"message\", onMessageCallbackWrapper);\n                } else {\n                    log(\"iframe message passing not supported in this browser!\", \"error\");\n                }\n            },\n            stopReceivingMessages: function(id) {\n                if (window.postMessage) {\n                    var detacher = callbackWrapperDetachers[id];\n                    if (detacher) {\n                        detacher();\n                    }\n                }\n            }\n        });\n    };\n    qq.FormUploadHandler = function(spec) {\n        \"use strict\";\n        var options = spec.options, handler = this, proxy = spec.proxy, formHandlerInstanceId = qq.getUniqueId(), onloadCallbacks = {}, detachLoadEvents = {}, postMessageCallbackTimers = {}, isCors = options.isCors, inputName = options.inputName, getUuid = proxy.getUuid, log = proxy.log, corsMessageReceiver = new qq.WindowReceiveMessage({\n            log: log\n        });\n        function expungeFile(id) {\n            delete detachLoadEvents[id];\n            if (isCors) {\n                clearTimeout(postMessageCallbackTimers[id]);\n                delete postMessageCallbackTimers[id];\n                corsMessageReceiver.stopReceivingMessages(id);\n            }\n            var iframe = document.getElementById(handler._getIframeName(id));\n            if (iframe) {\n                iframe.setAttribute(\"src\", \"javascript:false;\");\n                qq(iframe).remove();\n            }\n        }\n        function getFileIdForIframeName(iframeName) {\n            return iframeName.split(\"_\")[0];\n        }\n        function initIframeForUpload(name) {\n            var iframe = qq.toElement(\"<iframe src='javascript:false;' name='\" + name + \"' />\");\n            iframe.setAttribute(\"id\", name);\n            iframe.style.display = \"none\";\n            document.body.appendChild(iframe);\n            return iframe;\n        }\n        function registerPostMessageCallback(iframe, callback) {\n            var iframeName = iframe.id, fileId = getFileIdForIframeName(iframeName), uuid = getUuid(fileId);\n            onloadCallbacks[uuid] = callback;\n            detachLoadEvents[fileId] = qq(iframe).attach(\"load\", function() {\n                if (handler.getInput(fileId)) {\n                    log(\"Received iframe load event for CORS upload request (iframe name \" + iframeName + \")\");\n                    postMessageCallbackTimers[iframeName] = setTimeout(function() {\n                        var errorMessage = \"No valid message received from loaded iframe for iframe name \" + iframeName;\n                        log(errorMessage, \"error\");\n                        callback({\n                            error: errorMessage\n                        });\n                    }, 1e3);\n                }\n            });\n            corsMessageReceiver.receiveMessage(iframeName, function(message) {\n                log(\"Received the following window message: '\" + message + \"'\");\n                var fileId = getFileIdForIframeName(iframeName), response = handler._parseJsonResponse(message), uuid = response.uuid, onloadCallback;\n                if (uuid && onloadCallbacks[uuid]) {\n                    log(\"Handling response for iframe name \" + iframeName);\n                    clearTimeout(postMessageCallbackTimers[iframeName]);\n                    delete postMessageCallbackTimers[iframeName];\n                    handler._detachLoadEvent(iframeName);\n                    onloadCallback = onloadCallbacks[uuid];\n                    delete onloadCallbacks[uuid];\n                    corsMessageReceiver.stopReceivingMessages(iframeName);\n                    onloadCallback(response);\n                } else if (!uuid) {\n                    log(\"'\" + message + \"' does not contain a UUID - ignoring.\");\n                }\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, fileInput) {\n                    super_.add(id, {\n                        input: fileInput\n                    });\n                    fileInput.setAttribute(\"name\", inputName);\n                    if (fileInput.parentNode) {\n                        qq(fileInput).remove();\n                    }\n                },\n                expunge: function(id) {\n                    expungeFile(id);\n                    super_.expunge(id);\n                },\n                isValid: function(id) {\n                    return super_.isValid(id) && handler._getFileState(id).input !== undefined;\n                }\n            };\n        });\n        qq.extend(this, {\n            getInput: function(id) {\n                return handler._getFileState(id).input;\n            },\n            _attachLoadEvent: function(iframe, callback) {\n                var responseDescriptor;\n                if (isCors) {\n                    registerPostMessageCallback(iframe, callback);\n                } else {\n                    detachLoadEvents[iframe.id] = qq(iframe).attach(\"load\", function() {\n                        log(\"Received response for \" + iframe.id);\n                        if (!iframe.parentNode) {\n                            return;\n                        }\n                        try {\n                            if (iframe.contentDocument && iframe.contentDocument.body && iframe.contentDocument.body.innerHTML == \"false\") {\n                                return;\n                            }\n                        } catch (error) {\n                            log(\"Error when attempting to access iframe during handling of upload response (\" + error.message + \")\", \"error\");\n                            responseDescriptor = {\n                                success: false\n                            };\n                        }\n                        callback(responseDescriptor);\n                    });\n                }\n            },\n            _createIframe: function(id) {\n                var iframeName = handler._getIframeName(id);\n                return initIframeForUpload(iframeName);\n            },\n            _detachLoadEvent: function(id) {\n                if (detachLoadEvents[id] !== undefined) {\n                    detachLoadEvents[id]();\n                    delete detachLoadEvents[id];\n                }\n            },\n            _getIframeName: function(fileId) {\n                return fileId + \"_\" + formHandlerInstanceId;\n            },\n            _initFormForUpload: function(spec) {\n                var method = spec.method, endpoint = spec.endpoint, params = spec.params, paramsInBody = spec.paramsInBody, targetName = spec.targetName, form = qq.toElement(\"<form method='\" + method + \"' enctype='multipart/form-data'></form>\"), url = endpoint;\n                if (paramsInBody) {\n                    qq.obj2Inputs(params, form);\n                } else {\n                    url = qq.obj2url(params, endpoint);\n                }\n                form.setAttribute(\"action\", url);\n                form.setAttribute(\"target\", targetName);\n                form.style.display = \"none\";\n                document.body.appendChild(form);\n                return form;\n            },\n            _parseJsonResponse: function(innerHtmlOrMessage) {\n                var response = {};\n                try {\n                    response = qq.parseJson(innerHtmlOrMessage);\n                } catch (error) {\n                    log(\"Error when attempting to parse iframe upload response (\" + error.message + \")\", \"error\");\n                }\n                return response;\n            }\n        });\n    };\n    qq.XhrUploadHandler = function(spec) {\n        \"use strict\";\n        var handler = this, namespace = spec.options.namespace, proxy = spec.proxy, chunking = spec.options.chunking, getChunkSize = function(id) {\n            var fileState = handler._getFileState(id);\n            if (fileState.chunkSize) {\n                return fileState.chunkSize;\n            } else {\n                var chunkSize = chunking.partSize;\n                if (qq.isFunction(chunkSize)) {\n                    chunkSize = chunkSize(id, getSize(id));\n                }\n                fileState.chunkSize = chunkSize;\n                return chunkSize;\n            }\n        }, resume = spec.options.resume, chunkFiles = chunking && spec.options.chunking.enabled && qq.supportedFeatures.chunking, resumeEnabled = resume && spec.options.resume.enabled && chunkFiles && qq.supportedFeatures.resume, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, getEndpoint = proxy.getEndpoint, getDataByUuid = proxy.getDataByUuid, onUuidChanged = proxy.onUuidChanged, onProgress = proxy.onProgress, log = proxy.log, getCustomResumeData = proxy.getCustomResumeData;\n        function abort(id) {\n            qq.each(handler._getXhrs(id), function(xhrId, xhr) {\n                var ajaxRequester = handler._getAjaxRequester(id, xhrId);\n                xhr.onreadystatechange = null;\n                xhr.upload.onprogress = null;\n                xhr.abort();\n                ajaxRequester && ajaxRequester.canceled && ajaxRequester.canceled(id);\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, blobOrProxy) {\n                    if (qq.isFile(blobOrProxy) || qq.isBlob(blobOrProxy)) {\n                        super_.add(id, {\n                            file: blobOrProxy\n                        });\n                    } else if (blobOrProxy instanceof qq.BlobProxy) {\n                        super_.add(id, {\n                            proxy: blobOrProxy\n                        });\n                    } else {\n                        throw new Error(\"Passed obj is not a File, Blob, or proxy\");\n                    }\n                    handler._initTempState(id);\n                    resumeEnabled && handler._maybePrepareForResume(id);\n                },\n                expunge: function(id) {\n                    abort(id);\n                    handler._maybeDeletePersistedChunkData(id);\n                    handler._clearXhrs(id);\n                    super_.expunge(id);\n                }\n            };\n        });\n        qq.extend(this, {\n            clearCachedChunk: function(id, chunkIdx) {\n                var fileState = handler._getFileState(id);\n                if (fileState) {\n                    delete fileState.temp.cachedChunks[chunkIdx];\n                }\n            },\n            clearXhr: function(id, chunkIdx) {\n                var tempState = handler._getFileState(id).temp;\n                if (tempState.xhrs) {\n                    delete tempState.xhrs[chunkIdx];\n                }\n                if (tempState.ajaxRequesters) {\n                    delete tempState.ajaxRequesters[chunkIdx];\n                }\n            },\n            finalizeChunks: function(id, responseParser) {\n                var lastChunkIdx = handler._getTotalChunks(id) - 1, xhr = handler._getXhr(id, lastChunkIdx);\n                if (responseParser) {\n                    return new qq.Promise().success(responseParser(xhr), xhr);\n                }\n                return new qq.Promise().success({}, xhr);\n            },\n            getFile: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).file;\n            },\n            getProxy: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).proxy;\n            },\n            getResumableFilesData: function() {\n                var resumableFilesData = [];\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    handler.moveInProgressToRemaining(null, uploadData.chunking.inProgress, uploadData.chunking.remaining);\n                    var data = {\n                        name: uploadData.name,\n                        remaining: uploadData.chunking.remaining,\n                        size: uploadData.size,\n                        uuid: uploadData.uuid\n                    };\n                    if (uploadData.key) {\n                        data.key = uploadData.key;\n                    }\n                    if (uploadData.customResumeData) {\n                        data.customResumeData = uploadData.customResumeData;\n                    }\n                    resumableFilesData.push(data);\n                });\n                return resumableFilesData;\n            },\n            isAttemptingResume: function(id) {\n                return handler._getFileState(id).attemptingResume;\n            },\n            isResumable: function(id) {\n                return !!chunking && handler.isValid(id) && !handler._getFileState(id).notResumable;\n            },\n            moveInProgressToRemaining: function(id, optInProgress, optRemaining) {\n                var fileState = handler._getFileState(id) || {}, chunkingState = fileState.chunking || {}, inProgress = optInProgress || chunkingState.inProgress, remaining = optRemaining || chunkingState.remaining;\n                if (inProgress) {\n                    log(qq.format(\"Moving these chunks from in-progress {}, to remaining.\", JSON.stringify(inProgress)));\n                    inProgress.reverse();\n                    qq.each(inProgress, function(idx, chunkIdx) {\n                        remaining.unshift(chunkIdx);\n                    });\n                    inProgress.length = 0;\n                }\n            },\n            pause: function(id) {\n                if (handler.isValid(id)) {\n                    log(qq.format(\"Aborting XHR upload for {} '{}' due to pause instruction.\", id, getName(id)));\n                    handler._getFileState(id).paused = true;\n                    abort(id);\n                    return true;\n                }\n            },\n            reevaluateChunking: function(id) {\n                if (chunking && handler.isValid(id)) {\n                    var state = handler._getFileState(id), totalChunks, i;\n                    delete state.chunking;\n                    state.chunking = {};\n                    totalChunks = handler._getTotalChunks(id);\n                    if (totalChunks > 1 || chunking.mandatory) {\n                        state.chunking.enabled = true;\n                        state.chunking.parts = totalChunks;\n                        state.chunking.remaining = [];\n                        for (i = 0; i < totalChunks; i++) {\n                            state.chunking.remaining.push(i);\n                        }\n                        handler._initTempState(id);\n                    } else {\n                        state.chunking.enabled = false;\n                    }\n                }\n            },\n            updateBlob: function(id, newBlob) {\n                if (handler.isValid(id)) {\n                    handler._getFileState(id).file = newBlob;\n                }\n            },\n            _clearXhrs: function(id) {\n                var tempState = handler._getFileState(id).temp;\n                qq.each(tempState.ajaxRequesters, function(chunkId) {\n                    delete tempState.ajaxRequesters[chunkId];\n                });\n                qq.each(tempState.xhrs, function(chunkId) {\n                    delete tempState.xhrs[chunkId];\n                });\n            },\n            _createXhr: function(id, optChunkIdx) {\n                return handler._registerXhr(id, optChunkIdx, qq.createXhrInstance());\n            },\n            _getAjaxRequester: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.ajaxRequesters[chunkIdx];\n            },\n            _getChunkData: function(id, chunkIndex) {\n                var chunkSize = getChunkSize(id), fileSize = getSize(id), fileOrBlob = handler.getFile(id), startBytes = chunkSize * chunkIndex, endBytes = startBytes + chunkSize >= fileSize ? fileSize : startBytes + chunkSize, totalChunks = handler._getTotalChunks(id), cachedChunks = this._getFileState(id).temp.cachedChunks, blob = cachedChunks[chunkIndex] || qq.sliceBlob(fileOrBlob, startBytes, endBytes);\n                cachedChunks[chunkIndex] = blob;\n                return {\n                    part: chunkIndex,\n                    start: startBytes,\n                    end: endBytes,\n                    count: totalChunks,\n                    blob: blob,\n                    size: endBytes - startBytes\n                };\n            },\n            _getChunkDataForCallback: function(chunkData) {\n                return {\n                    partIndex: chunkData.part,\n                    startByte: chunkData.start + 1,\n                    endByte: chunkData.end,\n                    totalParts: chunkData.count\n                };\n            },\n            _getLocalStorageId: function(id) {\n                var formatVersion = \"5.0\", name = getName(id), size = getSize(id), chunkSize = getChunkSize(id), endpoint = getEndpoint(id), customKeys = resume.customKeys(id), localStorageId = qq.format(\"qq{}resume{}-{}-{}-{}-{}\", namespace, formatVersion, name, size, chunkSize, endpoint);\n                customKeys.forEach(function(key) {\n                    localStorageId += \"-\" + key;\n                });\n                return localStorageId;\n            },\n            _getMimeType: function(id) {\n                return handler.getFile(id).type;\n            },\n            _getPersistableData: function(id) {\n                return handler._getFileState(id).chunking;\n            },\n            _getTotalChunks: function(id) {\n                if (chunking) {\n                    var fileSize = getSize(id), chunkSize = getChunkSize(id);\n                    return Math.ceil(fileSize / chunkSize);\n                }\n            },\n            _getXhr: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.xhrs[chunkIdx];\n            },\n            _getXhrs: function(id) {\n                return handler._getFileState(id).temp.xhrs;\n            },\n            _iterateResumeRecords: function(callback) {\n                if (resumeEnabled) {\n                    qq.each(localStorage, function(key, item) {\n                        if (key.indexOf(qq.format(\"qq{}resume\", namespace)) === 0) {\n                            var uploadData = JSON.parse(item);\n                            callback(key, uploadData);\n                        }\n                    });\n                }\n            },\n            _initTempState: function(id) {\n                handler._getFileState(id).temp = {\n                    ajaxRequesters: {},\n                    chunkProgress: {},\n                    xhrs: {},\n                    cachedChunks: {}\n                };\n            },\n            _markNotResumable: function(id) {\n                handler._getFileState(id).notResumable = true;\n            },\n            _maybeDeletePersistedChunkData: function(id) {\n                var localStorageId;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    if (localStorageId && localStorage.getItem(localStorageId)) {\n                        localStorage.removeItem(localStorageId);\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _maybePrepareForResume: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && state.key === undefined) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = localStorage.getItem(localStorageId);\n                    if (persistedData) {\n                        persistedData = JSON.parse(persistedData);\n                        if (getDataByUuid(persistedData.uuid)) {\n                            handler._markNotResumable(id);\n                        } else {\n                            log(qq.format(\"Identified file with ID {} and name of {} as resumable.\", id, getName(id)));\n                            onUuidChanged(id, persistedData.uuid);\n                            state.key = persistedData.key;\n                            state.chunking = persistedData.chunking;\n                            state.loaded = persistedData.loaded;\n                            state.customResumeData = persistedData.customResumeData;\n                            state.attemptingResume = true;\n                            handler.moveInProgressToRemaining(id);\n                        }\n                    }\n                }\n            },\n            _maybePersistChunkedState: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    var customResumeData = getCustomResumeData(id);\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = {\n                        name: getName(id),\n                        size: getSize(id),\n                        uuid: getUuid(id),\n                        key: state.key,\n                        chunking: state.chunking,\n                        loaded: state.loaded,\n                        lastUpdated: Date.now()\n                    };\n                    if (customResumeData) {\n                        persistedData.customResumeData = customResumeData;\n                    }\n                    try {\n                        localStorage.setItem(localStorageId, JSON.stringify(persistedData));\n                    } catch (error) {\n                        log(qq.format(\"Unable to save resume data for '{}' due to error: '{}'.\", id, error.toString()), \"warn\");\n                    }\n                }\n            },\n            _registerProgressHandler: function(id, chunkIdx, chunkSize) {\n                var xhr = handler._getXhr(id, chunkIdx), name = getName(id), progressCalculator = {\n                    simple: function(loaded, total) {\n                        var fileSize = getSize(id);\n                        if (loaded === total) {\n                            onProgress(id, name, fileSize, fileSize);\n                        } else {\n                            onProgress(id, name, loaded >= fileSize ? fileSize - 1 : loaded, fileSize);\n                        }\n                    },\n                    chunked: function(loaded, total) {\n                        var chunkProgress = handler._getFileState(id).temp.chunkProgress, totalSuccessfullyLoadedForFile = handler._getFileState(id).loaded, loadedForRequest = loaded, totalForRequest = total, totalFileSize = getSize(id), estActualChunkLoaded = loadedForRequest - (totalForRequest - chunkSize), totalLoadedForFile = totalSuccessfullyLoadedForFile;\n                        chunkProgress[chunkIdx] = estActualChunkLoaded;\n                        qq.each(chunkProgress, function(chunkIdx, chunkLoaded) {\n                            totalLoadedForFile += chunkLoaded;\n                        });\n                        onProgress(id, name, totalLoadedForFile, totalFileSize);\n                    }\n                };\n                xhr.upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        var type = chunkSize == null ? \"simple\" : \"chunked\";\n                        progressCalculator[type](e.loaded, e.total);\n                    }\n                };\n            },\n            _registerXhr: function(id, optChunkIdx, xhr, optAjaxRequester) {\n                var xhrsId = optChunkIdx == null ? -1 : optChunkIdx, tempState = handler._getFileState(id).temp;\n                tempState.xhrs = tempState.xhrs || {};\n                tempState.ajaxRequesters = tempState.ajaxRequesters || {};\n                tempState.xhrs[xhrsId] = xhr;\n                if (optAjaxRequester) {\n                    tempState.ajaxRequesters[xhrsId] = optAjaxRequester;\n                }\n                return xhr;\n            },\n            _removeExpiredChunkingRecords: function() {\n                var expirationDays = resume.recordsExpireIn;\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    var expirationDate = new Date(uploadData.lastUpdated);\n                    expirationDate.setDate(expirationDate.getDate() + expirationDays);\n                    if (expirationDate.getTime() <= Date.now()) {\n                        log(\"Removing expired resume record with key \" + key);\n                        localStorage.removeItem(key);\n                    }\n                });\n            },\n            _shouldChunkThisFile: function(id) {\n                var state = handler._getFileState(id);\n                if (state) {\n                    if (!state.chunking) {\n                        handler.reevaluateChunking(id);\n                    }\n                    return state.chunking.enabled;\n                }\n            }\n        });\n    };\n    qq.DeleteFileAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            method: \"DELETE\",\n            uuidParamName: \"qquuid\",\n            endpointStore: {},\n            maxConnections: 3,\n            customHeaders: function(id) {\n                return {};\n            },\n            paramsStore: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onDelete: function(id) {},\n            onDeleteComplete: function(id, xhrOrXdr, isError) {}\n        };\n        qq.extend(options, o);\n        function getMandatedParams() {\n            if (options.method.toUpperCase() === \"POST\") {\n                return {\n                    _method: \"DELETE\"\n                };\n            }\n            return {};\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"POST\", \"DELETE\" ],\n            method: options.method,\n            endpointStore: options.endpointStore,\n            paramsStore: options.paramsStore,\n            mandatedParams: getMandatedParams(),\n            maxConnections: options.maxConnections,\n            customHeaders: function(id) {\n                return options.customHeaders.get(id);\n            },\n            log: options.log,\n            onSend: options.onDelete,\n            onComplete: options.onDeleteComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            sendDelete: function(id, uuid, additionalMandatedParams) {\n                var additionalOptions = additionalMandatedParams || {};\n                options.log(\"Submitting delete file request for \" + id);\n                if (options.method === \"DELETE\") {\n                    requester.initTransport(id).withPath(uuid).withParams(additionalOptions).send();\n                } else {\n                    additionalOptions[options.uuidParamName] = uuid;\n                    requester.initTransport(id).withParams(additionalOptions).send();\n                }\n            }\n        });\n    };\n    (function() {\n        function detectSubsampling(img) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, canvas = document.createElement(\"canvas\"), ctx;\n            if (iw * ih > 1024 * 1024) {\n                canvas.width = canvas.height = 1;\n                ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(img, -iw + 1, 0);\n                return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n            } else {\n                return false;\n            }\n        }\n        function detectVerticalSquash(img, iw, ih) {\n            var canvas = document.createElement(\"canvas\"), sy = 0, ey = ih, py = ih, ctx, data, alpha, ratio;\n            canvas.width = 1;\n            canvas.height = ih;\n            ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(img, 0, 0);\n            data = ctx.getImageData(0, 0, 1, ih).data;\n            while (py > sy) {\n                alpha = data[(py - 1) * 4 + 3];\n                if (alpha === 0) {\n                    ey = py;\n                } else {\n                    sy = py;\n                }\n                py = ey + sy >> 1;\n            }\n            ratio = py / ih;\n            return ratio === 0 ? 1 : ratio;\n        }\n        function renderImageToDataURL(img, blob, options, doSquash) {\n            var canvas = document.createElement(\"canvas\"), mime = options.mime || \"image/jpeg\", promise = new qq.Promise();\n            renderImageToCanvas(img, blob, canvas, options, doSquash).then(function() {\n                promise.success(canvas.toDataURL(mime, options.quality || .8));\n            });\n            return promise;\n        }\n        function maybeCalculateDownsampledDimensions(spec) {\n            var maxPixels = 5241e3;\n            if (!qq.ios()) {\n                throw new qq.Error(\"Downsampled dimensions can only be reliably calculated for iOS!\");\n            }\n            if (spec.origHeight * spec.origWidth > maxPixels) {\n                return {\n                    newHeight: Math.round(Math.sqrt(maxPixels * (spec.origHeight / spec.origWidth))),\n                    newWidth: Math.round(Math.sqrt(maxPixels * (spec.origWidth / spec.origHeight)))\n                };\n            }\n        }\n        function renderImageToCanvas(img, blob, canvas, options, doSquash) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, width = options.width, height = options.height, ctx = canvas.getContext(\"2d\"), promise = new qq.Promise(), modifiedDimensions;\n            ctx.save();\n            if (options.resize) {\n                return renderImageToCanvasWithCustomResizer({\n                    blob: blob,\n                    canvas: canvas,\n                    image: img,\n                    imageHeight: ih,\n                    imageWidth: iw,\n                    orientation: options.orientation,\n                    resize: options.resize,\n                    targetHeight: height,\n                    targetWidth: width\n                });\n            }\n            if (!qq.supportedFeatures.unlimitedScaledImageSize) {\n                modifiedDimensions = maybeCalculateDownsampledDimensions({\n                    origWidth: width,\n                    origHeight: height\n                });\n                if (modifiedDimensions) {\n                    qq.log(qq.format(\"Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h\", width, height, modifiedDimensions.newWidth, modifiedDimensions.newHeight), \"warn\");\n                    width = modifiedDimensions.newWidth;\n                    height = modifiedDimensions.newHeight;\n                }\n            }\n            transformCoordinate(canvas, width, height, options.orientation);\n            if (qq.ios()) {\n                (function() {\n                    if (detectSubsampling(img)) {\n                        iw /= 2;\n                        ih /= 2;\n                    }\n                    var d = 1024, tmpCanvas = document.createElement(\"canvas\"), vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1, dw = Math.ceil(d * width / iw), dh = Math.ceil(d * height / ih / vertSquashRatio), sy = 0, dy = 0, tmpCtx, sx, dx;\n                    tmpCanvas.width = tmpCanvas.height = d;\n                    tmpCtx = tmpCanvas.getContext(\"2d\");\n                    while (sy < ih) {\n                        sx = 0;\n                        dx = 0;\n                        while (sx < iw) {\n                            tmpCtx.clearRect(0, 0, d, d);\n                            tmpCtx.drawImage(img, -sx, -sy);\n                            ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n                            sx += d;\n                            dx += dw;\n                        }\n                        sy += d;\n                        dy += dh;\n                    }\n                    ctx.restore();\n                    tmpCanvas = tmpCtx = null;\n                })();\n            } else {\n                ctx.drawImage(img, 0, 0, width, height);\n            }\n            canvas.qqImageRendered && canvas.qqImageRendered();\n            promise.success();\n            return promise;\n        }\n        function renderImageToCanvasWithCustomResizer(resizeInfo) {\n            var blob = resizeInfo.blob, image = resizeInfo.image, imageHeight = resizeInfo.imageHeight, imageWidth = resizeInfo.imageWidth, orientation = resizeInfo.orientation, promise = new qq.Promise(), resize = resizeInfo.resize, sourceCanvas = document.createElement(\"canvas\"), sourceCanvasContext = sourceCanvas.getContext(\"2d\"), targetCanvas = resizeInfo.canvas, targetHeight = resizeInfo.targetHeight, targetWidth = resizeInfo.targetWidth;\n            transformCoordinate(sourceCanvas, imageWidth, imageHeight, orientation);\n            targetCanvas.height = targetHeight;\n            targetCanvas.width = targetWidth;\n            sourceCanvasContext.drawImage(image, 0, 0);\n            resize({\n                blob: blob,\n                height: targetHeight,\n                image: image,\n                sourceCanvas: sourceCanvas,\n                targetCanvas: targetCanvas,\n                width: targetWidth\n            }).then(function success() {\n                targetCanvas.qqImageRendered && targetCanvas.qqImageRendered();\n                promise.success();\n            }, promise.failure);\n            return promise;\n        }\n        function transformCoordinate(canvas, width, height, orientation) {\n            switch (orientation) {\n              case 5:\n              case 6:\n              case 7:\n              case 8:\n                canvas.width = height;\n                canvas.height = width;\n                break;\n\n              default:\n                canvas.width = width;\n                canvas.height = height;\n            }\n            var ctx = canvas.getContext(\"2d\");\n            switch (orientation) {\n              case 2:\n                ctx.translate(width, 0);\n                ctx.scale(-1, 1);\n                break;\n\n              case 3:\n                ctx.translate(width, height);\n                ctx.rotate(Math.PI);\n                break;\n\n              case 4:\n                ctx.translate(0, height);\n                ctx.scale(1, -1);\n                break;\n\n              case 5:\n                ctx.rotate(.5 * Math.PI);\n                ctx.scale(1, -1);\n                break;\n\n              case 6:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(0, -height);\n                break;\n\n              case 7:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(width, -height);\n                ctx.scale(-1, 1);\n                break;\n\n              case 8:\n                ctx.rotate(-.5 * Math.PI);\n                ctx.translate(-width, 0);\n                break;\n\n              default:\n                break;\n            }\n        }\n        function MegaPixImage(srcImage, errorCallback) {\n            var self = this;\n            if (window.Blob && srcImage instanceof Blob) {\n                (function() {\n                    var img = new Image(), URL = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                    if (!URL) {\n                        throw Error(\"No createObjectURL function found to create blob url\");\n                    }\n                    img.src = URL.createObjectURL(srcImage);\n                    self.blob = srcImage;\n                    srcImage = img;\n                })();\n            }\n            if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n                srcImage.onload = function() {\n                    var listeners = self.imageLoadListeners;\n                    if (listeners) {\n                        self.imageLoadListeners = null;\n                        setTimeout(function() {\n                            for (var i = 0, len = listeners.length; i < len; i++) {\n                                listeners[i]();\n                            }\n                        }, 0);\n                    }\n                };\n                srcImage.onerror = errorCallback;\n                this.imageLoadListeners = [];\n            }\n            this.srcImage = srcImage;\n        }\n        MegaPixImage.prototype.render = function(target, options) {\n            options = options || {};\n            var self = this, imgWidth = this.srcImage.naturalWidth, imgHeight = this.srcImage.naturalHeight, width = options.width, height = options.height, maxWidth = options.maxWidth, maxHeight = options.maxHeight, doSquash = !this.blob || this.blob.type === \"image/jpeg\", tagName = target.tagName.toLowerCase(), opt;\n            if (this.imageLoadListeners) {\n                this.imageLoadListeners.push(function() {\n                    self.render(target, options);\n                });\n                return;\n            }\n            if (width && !height) {\n                height = imgHeight * width / imgWidth << 0;\n            } else if (height && !width) {\n                width = imgWidth * height / imgHeight << 0;\n            } else {\n                width = imgWidth;\n                height = imgHeight;\n            }\n            if (maxWidth && width > maxWidth) {\n                width = maxWidth;\n                height = imgHeight * width / imgWidth << 0;\n            }\n            if (maxHeight && height > maxHeight) {\n                height = maxHeight;\n                width = imgWidth * height / imgHeight << 0;\n            }\n            opt = {\n                width: width,\n                height: height\n            }, qq.each(options, function(optionsKey, optionsValue) {\n                opt[optionsKey] = optionsValue;\n            });\n            if (tagName === \"img\") {\n                (function() {\n                    var oldTargetSrc = target.src;\n                    renderImageToDataURL(self.srcImage, self.blob, opt, doSquash).then(function(dataUri) {\n                        target.src = dataUri;\n                        oldTargetSrc === target.src && target.onload && target.onload();\n                    });\n                })();\n            } else if (tagName === \"canvas\") {\n                renderImageToCanvas(this.srcImage, this.blob, target, opt, doSquash);\n            }\n            if (typeof this.onrender === \"function\") {\n                this.onrender(target);\n            }\n        };\n        qq.MegaPixImage = MegaPixImage;\n    })();\n    qq.ImageGenerator = function(log) {\n        \"use strict\";\n        function isImg(el) {\n            return el.tagName.toLowerCase() === \"img\";\n        }\n        function isCanvas(el) {\n            return el.tagName.toLowerCase() === \"canvas\";\n        }\n        function isImgCorsSupported() {\n            return new Image().crossOrigin !== undefined;\n        }\n        function isCanvasSupported() {\n            var canvas = document.createElement(\"canvas\");\n            return canvas.getContext && canvas.getContext(\"2d\");\n        }\n        function determineMimeOfFileName(nameWithPath) {\n            var pathSegments = nameWithPath.split(\"/\"), name = pathSegments[pathSegments.length - 1].split(\"?\")[0], extension = qq.getExtension(name);\n            extension = extension && extension.toLowerCase();\n            switch (extension) {\n              case \"jpeg\":\n              case \"jpg\":\n                return \"image/jpeg\";\n\n              case \"png\":\n                return \"image/png\";\n\n              case \"bmp\":\n                return \"image/bmp\";\n\n              case \"gif\":\n                return \"image/gif\";\n\n              case \"tiff\":\n              case \"tif\":\n                return \"image/tiff\";\n            }\n        }\n        function isCrossOrigin(url) {\n            var targetAnchor = document.createElement(\"a\"), targetProtocol, targetHostname, targetPort;\n            targetAnchor.href = url;\n            targetProtocol = targetAnchor.protocol;\n            targetPort = targetAnchor.port;\n            targetHostname = targetAnchor.hostname;\n            if (targetProtocol.toLowerCase() !== window.location.protocol.toLowerCase()) {\n                return true;\n            }\n            if (targetHostname.toLowerCase() !== window.location.hostname.toLowerCase()) {\n                return true;\n            }\n            if (targetPort !== window.location.port && !qq.ie()) {\n                return true;\n            }\n            return false;\n        }\n        function registerImgLoadListeners(img, promise) {\n            img.onload = function() {\n                img.onload = null;\n                img.onerror = null;\n                promise.success(img);\n            };\n            img.onerror = function() {\n                img.onload = null;\n                img.onerror = null;\n                log(\"Problem drawing thumbnail!\", \"error\");\n                promise.failure(img, \"Problem drawing thumbnail!\");\n            };\n        }\n        function registerCanvasDrawImageListener(canvas, promise) {\n            canvas.qqImageRendered = function() {\n                promise.success(canvas);\n            };\n        }\n        function registerThumbnailRenderedListener(imgOrCanvas, promise) {\n            var registered = isImg(imgOrCanvas) || isCanvas(imgOrCanvas);\n            if (isImg(imgOrCanvas)) {\n                registerImgLoadListeners(imgOrCanvas, promise);\n            } else if (isCanvas(imgOrCanvas)) {\n                registerCanvasDrawImageListener(imgOrCanvas, promise);\n            } else {\n                promise.failure(imgOrCanvas);\n                log(qq.format(\"Element container of type {} is not supported!\", imgOrCanvas.tagName), \"error\");\n            }\n            return registered;\n        }\n        function draw(fileOrBlob, container, options) {\n            var drawPreview = new qq.Promise(), identifier = new qq.Identify(fileOrBlob, log), maxSize = options.maxSize, orient = options.orient == null ? true : options.orient, megapixErrorHandler = function() {\n                container.onerror = null;\n                container.onload = null;\n                log(\"Could not render preview, file may be too large!\", \"error\");\n                drawPreview.failure(container, \"Browser cannot render image!\");\n            };\n            identifier.isPreviewable().then(function(mime) {\n                var dummyExif = {\n                    parse: function() {\n                        return new qq.Promise().success();\n                    }\n                }, exif = orient ? new qq.Exif(fileOrBlob, log) : dummyExif, mpImg = new qq.MegaPixImage(fileOrBlob, megapixErrorHandler);\n                if (registerThumbnailRenderedListener(container, drawPreview)) {\n                    exif.parse().then(function(exif) {\n                        var orientation = exif && exif.Orientation;\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            orientation: orientation,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    }, function(failureMsg) {\n                        log(qq.format(\"EXIF data could not be parsed ({}).  Assuming orientation = 1.\", failureMsg));\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    });\n                }\n            }, function() {\n                log(\"Not previewable\");\n                drawPreview.failure(container, \"Not previewable\");\n            });\n            return drawPreview;\n        }\n        function drawOnCanvasOrImgFromUrl(url, canvasOrImg, draw, maxSize, customResizeFunction) {\n            var tempImg = new Image(), tempImgRender = new qq.Promise();\n            registerThumbnailRenderedListener(tempImg, tempImgRender);\n            if (isCrossOrigin(url)) {\n                tempImg.crossOrigin = \"anonymous\";\n            }\n            tempImg.src = url;\n            tempImgRender.then(function rendered() {\n                registerThumbnailRenderedListener(canvasOrImg, draw);\n                var mpImg = new qq.MegaPixImage(tempImg);\n                mpImg.render(canvasOrImg, {\n                    maxWidth: maxSize,\n                    maxHeight: maxSize,\n                    mime: determineMimeOfFileName(url),\n                    resize: customResizeFunction\n                });\n            }, draw.failure);\n        }\n        function drawOnImgFromUrlWithCssScaling(url, img, draw, maxSize) {\n            registerThumbnailRenderedListener(img, draw);\n            qq(img).css({\n                maxWidth: maxSize + \"px\",\n                maxHeight: maxSize + \"px\"\n            });\n            img.src = url;\n        }\n        function drawFromUrl(url, container, options) {\n            var draw = new qq.Promise(), scale = options.scale, maxSize = scale ? options.maxSize : null;\n            if (scale && isImg(container)) {\n                if (isCanvasSupported()) {\n                    if (isCrossOrigin(url) && !isImgCorsSupported()) {\n                        drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                    } else {\n                        drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n                    }\n                } else {\n                    drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                }\n            } else if (isCanvas(container)) {\n                drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n            } else if (registerThumbnailRenderedListener(container, draw)) {\n                container.src = url;\n            }\n            return draw;\n        }\n        qq.extend(this, {\n            generate: function(fileBlobOrUrl, container, options) {\n                if (qq.isString(fileBlobOrUrl)) {\n                    log(\"Attempting to update thumbnail based on server response.\");\n                    return drawFromUrl(fileBlobOrUrl, container, options || {});\n                } else {\n                    log(\"Attempting to draw client-side image preview.\");\n                    return draw(fileBlobOrUrl, container, options || {});\n                }\n            }\n        });\n        this._testing = {};\n        this._testing.isImg = isImg;\n        this._testing.isCanvas = isCanvas;\n        this._testing.isCrossOrigin = isCrossOrigin;\n        this._testing.determineMimeOfFileName = determineMimeOfFileName;\n    };\n    qq.Exif = function(fileOrBlob, log) {\n        \"use strict\";\n        var TAG_IDS = [ 274 ], TAG_INFO = {\n            274: {\n                name: \"Orientation\",\n                bytes: 2\n            }\n        };\n        function parseLittleEndian(hex) {\n            var result = 0, pow = 0;\n            while (hex.length > 0) {\n                result += parseInt(hex.substring(0, 2), 16) * Math.pow(2, pow);\n                hex = hex.substring(2, hex.length);\n                pow += 8;\n            }\n            return result;\n        }\n        function seekToApp1(offset, promise) {\n            var theOffset = offset, thePromise = promise;\n            if (theOffset === undefined) {\n                theOffset = 2;\n                thePromise = new qq.Promise();\n            }\n            qq.readBlobToHex(fileOrBlob, theOffset, 4).then(function(hex) {\n                var match = /^ffe([0-9])/.exec(hex), segmentLength;\n                if (match) {\n                    if (match[1] !== \"1\") {\n                        segmentLength = parseInt(hex.slice(4, 8), 16);\n                        seekToApp1(theOffset + segmentLength + 2, thePromise);\n                    } else {\n                        thePromise.success(theOffset);\n                    }\n                } else {\n                    thePromise.failure(\"No EXIF header to be found!\");\n                }\n            });\n            return thePromise;\n        }\n        function getApp1Offset() {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, 0, 6).then(function(hex) {\n                if (hex.indexOf(\"ffd8\") !== 0) {\n                    promise.failure(\"Not a valid JPEG!\");\n                } else {\n                    seekToApp1().then(function(offset) {\n                        promise.success(offset);\n                    }, function(error) {\n                        promise.failure(error);\n                    });\n                }\n            });\n            return promise;\n        }\n        function isLittleEndian(app1Start) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 10, 2).then(function(hex) {\n                promise.success(hex === \"4949\");\n            });\n            return promise;\n        }\n        function getDirEntryCount(app1Start, littleEndian) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 18, 2).then(function(hex) {\n                if (littleEndian) {\n                    return promise.success(parseLittleEndian(hex));\n                } else {\n                    promise.success(parseInt(hex, 16));\n                }\n            });\n            return promise;\n        }\n        function getIfd(app1Start, dirEntries) {\n            var offset = app1Start + 20, bytes = dirEntries * 12;\n            return qq.readBlobToHex(fileOrBlob, offset, bytes);\n        }\n        function getDirEntries(ifdHex) {\n            var entries = [], offset = 0;\n            while (offset + 24 <= ifdHex.length) {\n                entries.push(ifdHex.slice(offset, offset + 24));\n                offset += 24;\n            }\n            return entries;\n        }\n        function getTagValues(littleEndian, dirEntries) {\n            var TAG_VAL_OFFSET = 16, tagsToFind = qq.extend([], TAG_IDS), vals = {};\n            qq.each(dirEntries, function(idx, entry) {\n                var idHex = entry.slice(0, 4), id = littleEndian ? parseLittleEndian(idHex) : parseInt(idHex, 16), tagsToFindIdx = tagsToFind.indexOf(id), tagValHex, tagName, tagValLength;\n                if (tagsToFindIdx >= 0) {\n                    tagName = TAG_INFO[id].name;\n                    tagValLength = TAG_INFO[id].bytes;\n                    tagValHex = entry.slice(TAG_VAL_OFFSET, TAG_VAL_OFFSET + tagValLength * 2);\n                    vals[tagName] = littleEndian ? parseLittleEndian(tagValHex) : parseInt(tagValHex, 16);\n                    tagsToFind.splice(tagsToFindIdx, 1);\n                }\n                if (tagsToFind.length === 0) {\n                    return false;\n                }\n            });\n            return vals;\n        }\n        qq.extend(this, {\n            parse: function() {\n                var parser = new qq.Promise(), onParseFailure = function(message) {\n                    log(qq.format(\"EXIF header parse failed: '{}' \", message));\n                    parser.failure(message);\n                };\n                getApp1Offset().then(function(app1Offset) {\n                    log(qq.format(\"Moving forward with EXIF header parsing for '{}'\", fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name));\n                    isLittleEndian(app1Offset).then(function(littleEndian) {\n                        log(qq.format(\"EXIF Byte order is {} endian\", littleEndian ? \"little\" : \"big\"));\n                        getDirEntryCount(app1Offset, littleEndian).then(function(dirEntryCount) {\n                            log(qq.format(\"Found {} APP1 directory entries\", dirEntryCount));\n                            getIfd(app1Offset, dirEntryCount).then(function(ifdHex) {\n                                var dirEntries = getDirEntries(ifdHex), tagValues = getTagValues(littleEndian, dirEntries);\n                                log(\"Successfully parsed some EXIF tags\");\n                                parser.success(tagValues);\n                            }, onParseFailure);\n                        }, onParseFailure);\n                    }, onParseFailure);\n                }, onParseFailure);\n                return parser;\n            }\n        });\n        this._testing = {};\n        this._testing.parseLittleEndian = parseLittleEndian;\n    };\n    qq.Identify = function(fileOrBlob, log) {\n        \"use strict\";\n        function isIdentifiable(magicBytes, questionableBytes) {\n            var identifiable = false, magicBytesEntries = [].concat(magicBytes);\n            qq.each(magicBytesEntries, function(idx, magicBytesArrayEntry) {\n                if (questionableBytes.indexOf(magicBytesArrayEntry) === 0) {\n                    identifiable = true;\n                    return false;\n                }\n            });\n            return identifiable;\n        }\n        qq.extend(this, {\n            isPreviewable: function() {\n                var self = this, identifier = new qq.Promise(), previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                log(qq.format(\"Attempting to determine if {} can be rendered in this browser\", name));\n                log(\"First pass: check type attribute of blob object.\");\n                if (this.isPreviewableSync()) {\n                    log(\"Second pass: check for magic bytes in file header.\");\n                    qq.readBlobToHex(fileOrBlob, 0, 4).then(function(hex) {\n                        qq.each(self.PREVIEWABLE_MIME_TYPES, function(mime, bytes) {\n                            if (isIdentifiable(bytes, hex)) {\n                                if (mime !== \"image/tiff\" || qq.supportedFeatures.tiffPreviews) {\n                                    previewable = true;\n                                    identifier.success(mime);\n                                }\n                                return false;\n                            }\n                        });\n                        log(qq.format(\"'{}' is {} able to be rendered in this browser\", name, previewable ? \"\" : \"NOT\"));\n                        if (!previewable) {\n                            identifier.failure();\n                        }\n                    }, function() {\n                        log(\"Error reading file w/ name '\" + name + \"'.  Not able to be rendered in this browser.\");\n                        identifier.failure();\n                    });\n                } else {\n                    identifier.failure();\n                }\n                return identifier;\n            },\n            isPreviewableSync: function() {\n                var fileMime = fileOrBlob.type, isRecognizedImage = qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), fileMime) >= 0, previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                if (isRecognizedImage) {\n                    if (fileMime === \"image/tiff\") {\n                        previewable = qq.supportedFeatures.tiffPreviews;\n                    } else {\n                        previewable = true;\n                    }\n                }\n                !previewable && log(name + \" is not previewable in this browser per the blob's type attr\");\n                return previewable;\n            }\n        });\n    };\n    qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {\n        \"image/jpeg\": \"ffd8ff\",\n        \"image/gif\": \"474946\",\n        \"image/png\": \"89504e\",\n        \"image/bmp\": \"424d\",\n        \"image/tiff\": [ \"49492a00\", \"4d4d002a\" ]\n    };\n    qq.ImageValidation = function(blob, log) {\n        \"use strict\";\n        function hasNonZeroLimits(limits) {\n            var atLeastOne = false;\n            qq.each(limits, function(limit, value) {\n                if (value > 0) {\n                    atLeastOne = true;\n                    return false;\n                }\n            });\n            return atLeastOne;\n        }\n        function getWidthHeight() {\n            var sizeDetermination = new qq.Promise();\n            new qq.Identify(blob, log).isPreviewable().then(function() {\n                var image = new Image(), url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                if (url) {\n                    image.onerror = function() {\n                        log(\"Cannot determine dimensions for image.  May be too large.\", \"error\");\n                        sizeDetermination.failure();\n                    };\n                    image.onload = function() {\n                        sizeDetermination.success({\n                            width: this.width,\n                            height: this.height\n                        });\n                    };\n                    image.src = url.createObjectURL(blob);\n                } else {\n                    log(\"No createObjectURL function available to generate image URL!\", \"error\");\n                    sizeDetermination.failure();\n                }\n            }, sizeDetermination.failure);\n            return sizeDetermination;\n        }\n        function getFailingLimit(limits, dimensions) {\n            var failingLimit;\n            qq.each(limits, function(limitName, limitValue) {\n                if (limitValue > 0) {\n                    var limitMatcher = /(max|min)(Width|Height)/.exec(limitName), dimensionPropName = limitMatcher[2].charAt(0).toLowerCase() + limitMatcher[2].slice(1), actualValue = dimensions[dimensionPropName];\n                    switch (limitMatcher[1]) {\n                      case \"min\":\n                        if (actualValue < limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n\n                      case \"max\":\n                        if (actualValue > limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n                    }\n                }\n            });\n            return failingLimit;\n        }\n        this.validate = function(limits) {\n            var validationEffort = new qq.Promise();\n            log(\"Attempting to validate image.\");\n            if (hasNonZeroLimits(limits)) {\n                getWidthHeight().then(function(dimensions) {\n                    var failingLimit = getFailingLimit(limits, dimensions);\n                    if (failingLimit) {\n                        validationEffort.failure(failingLimit);\n                    } else {\n                        validationEffort.success();\n                    }\n                }, validationEffort.success);\n            } else {\n                validationEffort.success();\n            }\n            return validationEffort;\n        };\n    };\n    qq.Session = function(spec) {\n        \"use strict\";\n        var options = {\n            endpoint: null,\n            params: {},\n            customHeaders: {},\n            cors: {},\n            addFileRecord: function(sessionData) {},\n            log: function(message, level) {}\n        };\n        qq.extend(options, spec, true);\n        function isJsonResponseValid(response) {\n            if (qq.isArray(response)) {\n                return true;\n            }\n            options.log(\"Session response is not an array.\", \"error\");\n        }\n        function handleFileItems(fileItems, success, xhrOrXdr, promise) {\n            var someItemsIgnored = false;\n            success = success && isJsonResponseValid(fileItems);\n            if (success) {\n                qq.each(fileItems, function(idx, fileItem) {\n                    if (fileItem.uuid == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid UUID - ignoring.\", idx), \"error\");\n                    } else if (fileItem.name == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid name - ignoring.\", idx), \"error\");\n                    } else {\n                        try {\n                            options.addFileRecord(fileItem);\n                            return true;\n                        } catch (err) {\n                            someItemsIgnored = true;\n                            options.log(err.message, \"error\");\n                        }\n                    }\n                    return false;\n                });\n            }\n            promise[success && !someItemsIgnored ? \"success\" : \"failure\"](fileItems, xhrOrXdr);\n        }\n        this.refresh = function() {\n            var refreshEffort = new qq.Promise(), refreshCompleteCallback = function(response, success, xhrOrXdr) {\n                handleFileItems(response, success, xhrOrXdr, refreshEffort);\n            }, requesterOptions = qq.extend({}, options), requester = new qq.SessionAjaxRequester(qq.extend(requesterOptions, {\n                onComplete: refreshCompleteCallback\n            }));\n            requester.queryServer();\n            return refreshEffort;\n        };\n    };\n    qq.SessionAjaxRequester = function(spec) {\n        \"use strict\";\n        var requester, options = {\n            endpoint: null,\n            customHeaders: {},\n            params: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            onComplete: function(response, success, xhrOrXdr) {},\n            log: function(str, level) {}\n        };\n        qq.extend(options, spec);\n        function onComplete(id, xhrOrXdr, isError) {\n            var response = null;\n            if (xhrOrXdr.responseText != null) {\n                try {\n                    response = qq.parseJson(xhrOrXdr.responseText);\n                } catch (err) {\n                    options.log(\"Problem parsing session response: \" + err.message, \"error\");\n                    isError = true;\n                }\n            }\n            options.onComplete(response, !isError, xhrOrXdr);\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"GET\" ],\n            method: \"GET\",\n            endpointStore: {\n                get: function() {\n                    return options.endpoint;\n                }\n            },\n            customHeaders: options.customHeaders,\n            log: options.log,\n            onComplete: onComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            queryServer: function() {\n                var params = qq.extend({}, options.params);\n                options.log(\"Session query request.\");\n                requester.initTransport(\"sessionRefresh\").withParams(params).withCacheBuster().send();\n            }\n        });\n    };\n    qq.Scaler = function(spec, log) {\n        \"use strict\";\n        var self = this, customResizeFunction = spec.customResizer, includeOriginal = spec.sendOriginal, orient = spec.orient, defaultType = spec.defaultType, defaultQuality = spec.defaultQuality / 100, failedToScaleText = spec.failureText, includeExif = spec.includeExif, sizes = this._getSortedSizes(spec.sizes);\n        qq.extend(this, {\n            enabled: qq.supportedFeatures.scaling && sizes.length > 0,\n            getFileRecords: function(originalFileUuid, originalFileName, originalBlobOrBlobData) {\n                var self = this, records = [], originalBlob = originalBlobOrBlobData.blob ? originalBlobOrBlobData.blob : originalBlobOrBlobData, identifier = new qq.Identify(originalBlob, log);\n                if (identifier.isPreviewableSync()) {\n                    qq.each(sizes, function(idx, sizeRecord) {\n                        var outputType = self._determineOutputType({\n                            defaultType: defaultType,\n                            requestedType: sizeRecord.type,\n                            refType: originalBlob.type\n                        });\n                        records.push({\n                            uuid: qq.getUniqueId(),\n                            name: self._getName(originalFileName, {\n                                name: sizeRecord.name,\n                                type: outputType,\n                                refType: originalBlob.type\n                            }),\n                            blob: new qq.BlobProxy(originalBlob, qq.bind(self._generateScaledImage, self, {\n                                customResizeFunction: customResizeFunction,\n                                maxSize: sizeRecord.maxSize,\n                                orient: orient,\n                                type: outputType,\n                                quality: defaultQuality,\n                                failedText: failedToScaleText,\n                                includeExif: includeExif,\n                                log: log\n                            }))\n                        });\n                    });\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: includeOriginal ? originalBlob : null\n                    });\n                } else {\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: originalBlob\n                    });\n                }\n                return records;\n            },\n            handleNewFile: function(file, name, uuid, size, fileList, batchId, uuidParamName, api) {\n                var self = this, buttonId = file.qqButtonId || file.blob && file.blob.qqButtonId, scaledIds = [], originalId = null, addFileToHandler = api.addFileToHandler, uploadData = api.uploadData, paramsStore = api.paramsStore, proxyGroupId = qq.getUniqueId();\n                qq.each(self.getFileRecords(uuid, name, file), function(idx, record) {\n                    var blobSize = record.size, id;\n                    if (record.blob instanceof qq.BlobProxy) {\n                        blobSize = -1;\n                    }\n                    id = uploadData.addFile({\n                        uuid: record.uuid,\n                        name: record.name,\n                        size: blobSize,\n                        batchId: batchId,\n                        proxyGroupId: proxyGroupId\n                    });\n                    if (record.blob instanceof qq.BlobProxy) {\n                        scaledIds.push(id);\n                    } else {\n                        originalId = id;\n                    }\n                    if (record.blob) {\n                        addFileToHandler(id, record.blob);\n                        fileList.push({\n                            id: id,\n                            file: record.blob\n                        });\n                    } else {\n                        uploadData.setStatus(id, qq.status.REJECTED);\n                    }\n                });\n                if (originalId !== null) {\n                    qq.each(scaledIds, function(idx, scaledId) {\n                        var params = {\n                            qqparentuuid: uploadData.retrieve({\n                                id: originalId\n                            }).uuid,\n                            qqparentsize: uploadData.retrieve({\n                                id: originalId\n                            }).size\n                        };\n                        params[uuidParamName] = uploadData.retrieve({\n                            id: scaledId\n                        }).uuid;\n                        uploadData.setParentId(scaledId, originalId);\n                        paramsStore.addReadOnly(scaledId, params);\n                    });\n                    if (scaledIds.length) {\n                        (function() {\n                            var param = {};\n                            param[uuidParamName] = uploadData.retrieve({\n                                id: originalId\n                            }).uuid;\n                            paramsStore.addReadOnly(originalId, param);\n                        })();\n                    }\n                }\n            }\n        });\n    };\n    qq.extend(qq.Scaler.prototype, {\n        scaleImage: function(id, specs, api) {\n            \"use strict\";\n            if (!qq.supportedFeatures.scaling) {\n                throw new qq.Error(\"Scaling is not supported in this browser!\");\n            }\n            var scalingEffort = new qq.Promise(), log = api.log, file = api.getFile(id), uploadData = api.uploadData.retrieve({\n                id: id\n            }), name = uploadData && uploadData.name, uuid = uploadData && uploadData.uuid, scalingOptions = {\n                customResizer: specs.customResizer,\n                sendOriginal: false,\n                orient: specs.orient,\n                defaultType: specs.type || null,\n                defaultQuality: specs.quality,\n                failedToScaleText: \"Unable to scale\",\n                sizes: [ {\n                    name: \"\",\n                    maxSize: specs.maxSize\n                } ]\n            }, scaler = new qq.Scaler(scalingOptions, log);\n            if (!qq.Scaler || !qq.supportedFeatures.imagePreviews || !file) {\n                scalingEffort.failure();\n                log(\"Could not generate requested scaled image for \" + id + \".  \" + \"Scaling is either not possible in this browser, or the file could not be located.\", \"error\");\n            } else {\n                qq.bind(function() {\n                    var record = scaler.getFileRecords(uuid, name, file)[0];\n                    if (record && record.blob instanceof qq.BlobProxy) {\n                        record.blob.create().then(scalingEffort.success, scalingEffort.failure);\n                    } else {\n                        log(id + \" is not a scalable image!\", \"error\");\n                        scalingEffort.failure();\n                    }\n                }, this)();\n            }\n            return scalingEffort;\n        },\n        _determineOutputType: function(spec) {\n            \"use strict\";\n            var requestedType = spec.requestedType, defaultType = spec.defaultType, referenceType = spec.refType;\n            if (!defaultType && !requestedType) {\n                if (referenceType !== \"image/jpeg\") {\n                    return \"image/png\";\n                }\n                return referenceType;\n            }\n            if (!requestedType) {\n                return defaultType;\n            }\n            if (qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), requestedType) >= 0) {\n                if (requestedType === \"image/tiff\") {\n                    return qq.supportedFeatures.tiffPreviews ? requestedType : defaultType;\n                }\n                return requestedType;\n            }\n            return defaultType;\n        },\n        _getName: function(originalName, scaledVersionProperties) {\n            \"use strict\";\n            var startOfExt = originalName.lastIndexOf(\".\"), versionType = scaledVersionProperties.type || \"image/png\", referenceType = scaledVersionProperties.refType, scaledName = \"\", scaledExt = qq.getExtension(originalName), nameAppendage = \"\";\n            if (scaledVersionProperties.name && scaledVersionProperties.name.trim().length) {\n                nameAppendage = \" (\" + scaledVersionProperties.name + \")\";\n            }\n            if (startOfExt >= 0) {\n                scaledName = originalName.substr(0, startOfExt);\n                if (referenceType !== versionType) {\n                    scaledExt = versionType.split(\"/\")[1];\n                }\n                scaledName += nameAppendage + \".\" + scaledExt;\n            } else {\n                scaledName = originalName + nameAppendage;\n            }\n            return scaledName;\n        },\n        _getSortedSizes: function(sizes) {\n            \"use strict\";\n            sizes = qq.extend([], sizes);\n            return sizes.sort(function(a, b) {\n                if (a.maxSize > b.maxSize) {\n                    return 1;\n                }\n                if (a.maxSize < b.maxSize) {\n                    return -1;\n                }\n                return 0;\n            });\n        },\n        _generateScaledImage: function(spec, sourceFile) {\n            \"use strict\";\n            var self = this, customResizeFunction = spec.customResizeFunction, log = spec.log, maxSize = spec.maxSize, orient = spec.orient, type = spec.type, quality = spec.quality, failedText = spec.failedText, includeExif = spec.includeExif && sourceFile.type === \"image/jpeg\" && type === \"image/jpeg\", scalingEffort = new qq.Promise(), imageGenerator = new qq.ImageGenerator(log), canvas = document.createElement(\"canvas\");\n            log(\"Attempting to generate scaled version for \" + sourceFile.name);\n            imageGenerator.generate(sourceFile, canvas, {\n                maxSize: maxSize,\n                orient: orient,\n                customResizeFunction: customResizeFunction\n            }).then(function() {\n                var scaledImageDataUri = canvas.toDataURL(type, quality), signalSuccess = function() {\n                    log(\"Success generating scaled version for \" + sourceFile.name);\n                    var blob = qq.dataUriToBlob(scaledImageDataUri);\n                    scalingEffort.success(blob);\n                };\n                if (includeExif) {\n                    self._insertExifHeader(sourceFile, scaledImageDataUri, log).then(function(scaledImageDataUriWithExif) {\n                        scaledImageDataUri = scaledImageDataUriWithExif;\n                        signalSuccess();\n                    }, function() {\n                        log(\"Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.\", \"error\");\n                        signalSuccess();\n                    });\n                } else {\n                    signalSuccess();\n                }\n            }, function() {\n                log(\"Failed attempt to generate scaled version for \" + sourceFile.name, \"error\");\n                scalingEffort.failure(failedText);\n            });\n            return scalingEffort;\n        },\n        _insertExifHeader: function(originalImage, scaledImageDataUri, log) {\n            \"use strict\";\n            var reader = new FileReader(), insertionEffort = new qq.Promise(), originalImageDataUri = \"\";\n            reader.onload = function() {\n                originalImageDataUri = reader.result;\n                insertionEffort.success(qq.ExifRestorer.restore(originalImageDataUri, scaledImageDataUri));\n            };\n            reader.onerror = function() {\n                log(\"Problem reading \" + originalImage.name + \" during attempt to transfer EXIF data to scaled version.\", \"error\");\n                insertionEffort.failure();\n            };\n            reader.readAsDataURL(originalImage);\n            return insertionEffort;\n        },\n        _dataUriToBlob: function(dataUri) {\n            \"use strict\";\n            var byteString, mimeString, arrayBuffer, intArray;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return this._createBlob(arrayBuffer, mimeString);\n        },\n        _createBlob: function(data, mime) {\n            \"use strict\";\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n            if (blobBuilder) {\n                blobBuilder.append(data);\n                return blobBuilder.getBlob(mime);\n            } else {\n                return new Blob([ data ], {\n                    type: mime\n                });\n            }\n        }\n    });\n    qq.ExifRestorer = function() {\n        var ExifRestorer = {};\n        ExifRestorer.KEY_STR = \"ABCDEFGHIJKLMNOP\" + \"QRSTUVWXYZabcdef\" + \"ghijklmnopqrstuv\" + \"wxyz0123456789+/\" + \"=\";\n        ExifRestorer.encode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0;\n            do {\n                chr1 = input[i++];\n                chr2 = input[i++];\n                chr3 = input[i++];\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return output;\n        };\n        ExifRestorer.restore = function(origFileBase64, resizedFileBase64) {\n            var expectedBase64Header = \"data:image/jpeg;base64,\";\n            if (!origFileBase64.match(expectedBase64Header)) {\n                return resizedFileBase64;\n            }\n            var rawImage = this.decode64(origFileBase64.replace(expectedBase64Header, \"\"));\n            var segments = this.slice2Segments(rawImage);\n            var image = this.exifManipulation(resizedFileBase64, segments);\n            return expectedBase64Header + this.encode64(image);\n        };\n        ExifRestorer.exifManipulation = function(resizedFileBase64, segments) {\n            var exifArray = this.getExifArray(segments), newImageArray = this.insertExif(resizedFileBase64, exifArray), aBuffer = new Uint8Array(newImageArray);\n            return aBuffer;\n        };\n        ExifRestorer.getExifArray = function(segments) {\n            var seg;\n            for (var x = 0; x < segments.length; x++) {\n                seg = segments[x];\n                if (seg[0] == 255 & seg[1] == 225) {\n                    return seg;\n                }\n            }\n            return [];\n        };\n        ExifRestorer.insertExif = function(resizedFileBase64, exifArray) {\n            var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\"), buf = this.decode64(imageData), separatePoint = buf.indexOf(255, 3), mae = buf.slice(0, separatePoint), ato = buf.slice(separatePoint), array = mae;\n            array = array.concat(exifArray);\n            array = array.concat(ato);\n            return array;\n        };\n        ExifRestorer.slice2Segments = function(rawImageArray) {\n            var head = 0, segments = [];\n            while (1) {\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 218) {\n                    break;\n                }\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 216) {\n                    head += 2;\n                } else {\n                    var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3], endPoint = head + length + 2, seg = rawImageArray.slice(head, endPoint);\n                    segments.push(seg);\n                    head = endPoint;\n                }\n                if (head > rawImageArray.length) {\n                    break;\n                }\n            }\n            return segments;\n        };\n        ExifRestorer.decode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0, buf = [];\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                throw new Error(\"There were invalid base64 characters in the input text.  \" + \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n            do {\n                enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n                chr1 = enc1 << 2 | enc2 >> 4;\n                chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n                chr3 = (enc3 & 3) << 6 | enc4;\n                buf.push(chr1);\n                if (enc3 != 64) {\n                    buf.push(chr2);\n                }\n                if (enc4 != 64) {\n                    buf.push(chr3);\n                }\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return buf;\n        };\n        return ExifRestorer;\n    }();\n    qq.TotalProgress = function(callback, getSize) {\n        \"use strict\";\n        var perFileProgress = {}, totalLoaded = 0, totalSize = 0, lastLoadedSent = -1, lastTotalSent = -1, callbackProxy = function(loaded, total) {\n            if (loaded !== lastLoadedSent || total !== lastTotalSent) {\n                callback(loaded, total);\n            }\n            lastLoadedSent = loaded;\n            lastTotalSent = total;\n        }, noRetryableFiles = function(failed, retryable) {\n            var none = true;\n            qq.each(failed, function(idx, failedId) {\n                if (qq.indexOf(retryable, failedId) >= 0) {\n                    none = false;\n                    return false;\n                }\n            });\n            return none;\n        }, onCancel = function(id) {\n            updateTotalProgress(id, -1, -1);\n            delete perFileProgress[id];\n        }, onAllComplete = function(successful, failed, retryable) {\n            if (failed.length === 0 || noRetryableFiles(failed, retryable)) {\n                callbackProxy(totalSize, totalSize);\n                this.reset();\n            }\n        }, onNew = function(id) {\n            var size = getSize(id);\n            if (size > 0) {\n                updateTotalProgress(id, 0, size);\n                perFileProgress[id] = {\n                    loaded: 0,\n                    total: size\n                };\n            }\n        }, updateTotalProgress = function(id, newLoaded, newTotal) {\n            var oldLoaded = perFileProgress[id] ? perFileProgress[id].loaded : 0, oldTotal = perFileProgress[id] ? perFileProgress[id].total : 0;\n            if (newLoaded === -1 && newTotal === -1) {\n                totalLoaded -= oldLoaded;\n                totalSize -= oldTotal;\n            } else {\n                if (newLoaded) {\n                    totalLoaded += newLoaded - oldLoaded;\n                }\n                if (newTotal) {\n                    totalSize += newTotal - oldTotal;\n                }\n            }\n            callbackProxy(totalLoaded, totalSize);\n        };\n        qq.extend(this, {\n            onAllComplete: onAllComplete,\n            onStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.CANCELED || newStatus === qq.status.REJECTED) {\n                    onCancel(id);\n                } else if (newStatus === qq.status.SUBMITTING) {\n                    onNew(id);\n                }\n            },\n            onIndividualProgress: function(id, loaded, total) {\n                updateTotalProgress(id, loaded, total);\n                perFileProgress[id] = {\n                    loaded: loaded,\n                    total: total\n                };\n            },\n            onNewSize: function(id) {\n                onNew(id);\n            },\n            reset: function() {\n                perFileProgress = {};\n                totalLoaded = 0;\n                totalSize = 0;\n            }\n        });\n    };\n    qq.PasteSupport = function(o) {\n        \"use strict\";\n        var options, detachPasteHandler;\n        options = {\n            targetElement: null,\n            callbacks: {\n                log: function(message, level) {},\n                pasteReceived: function(blob) {}\n            }\n        };\n        function isImage(item) {\n            return item.type && item.type.indexOf(\"image/\") === 0;\n        }\n        function registerPasteHandler() {\n            detachPasteHandler = qq(options.targetElement).attach(\"paste\", function(event) {\n                var clipboardData = event.clipboardData;\n                if (clipboardData) {\n                    qq.each(clipboardData.items, function(idx, item) {\n                        if (isImage(item)) {\n                            var blob = item.getAsFile();\n                            options.callbacks.pasteReceived(blob);\n                        }\n                    });\n                }\n            });\n        }\n        function unregisterPasteHandler() {\n            if (detachPasteHandler) {\n                detachPasteHandler();\n            }\n        }\n        qq.extend(options, o);\n        registerPasteHandler();\n        qq.extend(this, {\n            reset: function() {\n                unregisterPasteHandler();\n            }\n        });\n    };\n    qq.FormSupport = function(options, startUpload, log) {\n        \"use strict\";\n        var self = this, interceptSubmit = options.interceptSubmit, formEl = options.element, autoUpload = options.autoUpload;\n        qq.extend(this, {\n            newEndpoint: null,\n            newAutoUpload: autoUpload,\n            attachedToForm: false,\n            getFormInputsAsObject: function() {\n                if (formEl == null) {\n                    return null;\n                }\n                return self._form2Obj(formEl);\n            }\n        });\n        function determineNewEndpoint(formEl) {\n            if (formEl.getAttribute(\"action\")) {\n                self.newEndpoint = formEl.getAttribute(\"action\");\n            }\n        }\n        function validateForm(formEl, nativeSubmit) {\n            if (formEl.checkValidity && !formEl.checkValidity()) {\n                log(\"Form did not pass validation checks - will not upload.\", \"error\");\n                nativeSubmit();\n            } else {\n                return true;\n            }\n        }\n        function maybeUploadOnSubmit(formEl) {\n            var nativeSubmit = formEl.submit;\n            qq(formEl).attach(\"submit\", function(event) {\n                event = event || window.event;\n                if (event.preventDefault) {\n                    event.preventDefault();\n                } else {\n                    event.returnValue = false;\n                }\n                validateForm(formEl, nativeSubmit) && startUpload();\n            });\n            formEl.submit = function() {\n                validateForm(formEl, nativeSubmit) && startUpload();\n            };\n        }\n        function determineFormEl(formEl) {\n            if (formEl) {\n                if (qq.isString(formEl)) {\n                    formEl = document.getElementById(formEl);\n                }\n                if (formEl) {\n                    log(\"Attaching to form element.\");\n                    determineNewEndpoint(formEl);\n                    interceptSubmit && maybeUploadOnSubmit(formEl);\n                }\n            }\n            return formEl;\n        }\n        formEl = determineFormEl(formEl);\n        this.attachedToForm = !!formEl;\n    };\n    qq.extend(qq.FormSupport.prototype, {\n        _form2Obj: function(form) {\n            \"use strict\";\n            var obj = {}, notIrrelevantType = function(type) {\n                var irrelevantTypes = [ \"button\", \"image\", \"reset\", \"submit\" ];\n                return qq.indexOf(irrelevantTypes, type.toLowerCase()) < 0;\n            }, radioOrCheckbox = function(type) {\n                return qq.indexOf([ \"checkbox\", \"radio\" ], type.toLowerCase()) >= 0;\n            }, ignoreValue = function(el) {\n                if (radioOrCheckbox(el.type) && !el.checked) {\n                    return true;\n                }\n                return el.disabled && el.type.toLowerCase() !== \"hidden\";\n            }, selectValue = function(select) {\n                var value = null;\n                qq.each(qq(select).children(), function(idx, child) {\n                    if (child.tagName.toLowerCase() === \"option\" && child.selected) {\n                        value = child.value;\n                        return false;\n                    }\n                });\n                return value;\n            };\n            qq.each(form.elements, function(idx, el) {\n                if ((qq.isInput(el, true) || el.tagName.toLowerCase() === \"textarea\") && notIrrelevantType(el.type) && !ignoreValue(el)) {\n                    obj[el.name] = el.value;\n                } else if (el.tagName.toLowerCase() === \"select\" && !ignoreValue(el)) {\n                    var value = selectValue(el);\n                    if (value !== null) {\n                        obj[el.name] = value;\n                    }\n                }\n            });\n            return obj;\n        }\n    });\n    qq.traditional = qq.traditional || {};\n    qq.traditional.FormUploadHandler = function(options, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getUuid = proxy.getUuid, log = proxy.log;\n        function getIframeContentJson(id, iframe) {\n            var response, doc, innerHtml;\n            try {\n                doc = iframe.contentDocument || iframe.contentWindow.document;\n                innerHtml = doc.body.innerHTML;\n                log(\"converting iframe's innerHTML to JSON\");\n                log(\"innerHTML = \" + innerHtml);\n                if (innerHtml && innerHtml.match(/^<pre/i)) {\n                    innerHtml = doc.body.firstChild.firstChild.nodeValue;\n                }\n                response = handler._parseJsonResponse(innerHtml);\n            } catch (error) {\n                log(\"Error when attempting to parse form upload response (\" + error.message + \")\", \"error\");\n                response = {\n                    success: false\n                };\n            }\n            return response;\n        }\n        function createForm(id, iframe) {\n            var params = options.paramsStore.get(id), method = options.method.toLowerCase() === \"get\" ? \"GET\" : \"POST\", endpoint = options.endpointStore.get(id), name = getName(id);\n            params[options.uuidName] = getUuid(id);\n            params[options.filenameParam] = name;\n            return handler._initFormForUpload({\n                method: method,\n                endpoint: endpoint,\n                params: params,\n                paramsInBody: options.paramsInBody,\n                targetName: iframe.name\n            });\n        }\n        this.uploadFile = function(id) {\n            var input = handler.getInput(id), iframe = handler._createIframe(id), promise = new qq.Promise(), form;\n            form = createForm(id, iframe);\n            form.appendChild(input);\n            handler._attachLoadEvent(iframe, function(responseFromMessage) {\n                log(\"iframe loaded\");\n                var response = responseFromMessage ? responseFromMessage : getIframeContentJson(id, iframe);\n                handler._detachLoadEvent(id);\n                if (!options.cors.expected) {\n                    qq(iframe).remove();\n                }\n                if (response.success) {\n                    promise.success(response);\n                } else {\n                    promise.failure(response);\n                }\n            });\n            log(\"Sending upload request for \" + id);\n            form.submit();\n            qq(form).remove();\n            return promise;\n        };\n        qq.extend(this, new qq.FormUploadHandler({\n            options: {\n                isCors: options.cors.expected,\n                inputName: options.inputName\n            },\n            proxy: {\n                onCancel: options.onCancel,\n                getName: getName,\n                getUuid: getUuid,\n                log: log\n            }\n        }));\n    };\n    qq.traditional = qq.traditional || {};\n    qq.traditional.XhrUploadHandler = function(spec, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, log = proxy.log, multipart = spec.forceMultipart || spec.paramsInBody, addChunkingSpecificParams = function(id, params, chunkData) {\n            var size = getSize(id), name = getName(id);\n            if (!spec.omitDefaultParams) {\n                params[spec.chunking.paramNames.partIndex] = chunkData.part;\n                params[spec.chunking.paramNames.partByteOffset] = chunkData.start;\n                params[spec.chunking.paramNames.chunkSize] = chunkData.size;\n                params[spec.chunking.paramNames.totalParts] = chunkData.count;\n                params[spec.totalFileSizeName] = size;\n            }\n            if (multipart && !spec.omitDefaultParams) {\n                params[spec.filenameParam] = name;\n            }\n        }, allChunksDoneRequester = new qq.traditional.AllChunksDoneAjaxRequester({\n            cors: spec.cors,\n            endpoint: spec.chunking.success.endpoint,\n            headers: spec.chunking.success.headers,\n            jsonPayload: spec.chunking.success.jsonPayload,\n            log: log,\n            method: spec.chunking.success.method,\n            params: spec.chunking.success.params\n        }), createReadyStateChangedHandler = function(id, xhr) {\n            var promise = new qq.Promise();\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    var result = onUploadOrChunkComplete(id, xhr);\n                    if (result.success) {\n                        promise.success(result.response, xhr);\n                    } else {\n                        promise.failure(result.response, xhr);\n                    }\n                }\n            };\n            return promise;\n        }, getChunksCompleteParams = function(id) {\n            var params = spec.paramsStore.get(id), name = getName(id), size = getSize(id);\n            params[spec.uuidName] = getUuid(id);\n            params[spec.filenameParam] = name;\n            params[spec.totalFileSizeName] = size;\n            params[spec.chunking.paramNames.totalParts] = handler._getTotalChunks(id);\n            return params;\n        }, isErrorUploadResponse = function(xhr, response) {\n            return qq.indexOf([ 200, 201, 202, 203, 204 ], xhr.status) < 0 || spec.requireSuccessJson && !response.success || response.reset;\n        }, onUploadOrChunkComplete = function(id, xhr) {\n            var response;\n            log(\"xhr - server response received for \" + id);\n            log(\"responseText = \" + xhr.responseText);\n            response = parseResponse(true, xhr);\n            return {\n                success: !isErrorUploadResponse(xhr, response),\n                response: response\n            };\n        }, parseResponse = function(upload, xhr) {\n            var response = {};\n            try {\n                log(qq.format(\"Received response status {} with body: {}\", xhr.status, xhr.responseText));\n                response = qq.parseJson(xhr.responseText);\n            } catch (error) {\n                upload && spec.requireSuccessJson && log(\"Error when attempting to parse xhr response text (\" + error.message + \")\", \"error\");\n            }\n            return response;\n        }, sendChunksCompleteRequest = function(id) {\n            var promise = new qq.Promise();\n            allChunksDoneRequester.complete(id, handler._createXhr(id), getChunksCompleteParams(id), spec.customHeaders.get(id)).then(function(xhr) {\n                promise.success(parseResponse(false, xhr), xhr);\n            }, function(xhr) {\n                promise.failure(parseResponse(false, xhr), xhr);\n            });\n            return promise;\n        }, setParamsAndGetEntityToSend = function(entityToSendParams) {\n            var fileOrBlob = entityToSendParams.fileOrBlob;\n            var id = entityToSendParams.id;\n            var xhr = entityToSendParams.xhr;\n            var xhrOverrides = entityToSendParams.xhrOverrides || {};\n            var customParams = entityToSendParams.customParams || {};\n            var defaultParams = entityToSendParams.params || {};\n            var xhrOverrideParams = xhrOverrides.params || {};\n            var params;\n            var formData = multipart ? new FormData() : null, method = xhrOverrides.method || spec.method, endpoint = xhrOverrides.endpoint || spec.endpointStore.get(id), name = getName(id), size = getSize(id);\n            if (spec.omitDefaultParams) {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n            } else {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n                qq.extend(params, defaultParams);\n                params[spec.uuidName] = getUuid(id);\n                params[spec.filenameParam] = name;\n                if (multipart) {\n                    params[spec.totalFileSizeName] = size;\n                } else if (!spec.paramsInBody) {\n                    params[spec.inputName] = name;\n                }\n            }\n            if (!spec.paramsInBody) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            xhr.open(method, endpoint, true);\n            if (spec.cors.expected && spec.cors.sendCredentials) {\n                xhr.withCredentials = true;\n            }\n            if (multipart) {\n                if (spec.paramsInBody) {\n                    qq.obj2FormData(params, formData);\n                }\n                formData.append(spec.inputName, fileOrBlob);\n                return formData;\n            }\n            return fileOrBlob;\n        }, setUploadHeaders = function(headersOptions) {\n            var headerOverrides = headersOptions.headerOverrides;\n            var id = headersOptions.id;\n            var xhr = headersOptions.xhr;\n            if (headerOverrides) {\n                qq.each(headerOverrides, function(headerName, headerValue) {\n                    xhr.setRequestHeader(headerName, headerValue);\n                });\n            } else {\n                var extraHeaders = spec.customHeaders.get(id), fileOrBlob = handler.getFile(id);\n                xhr.setRequestHeader(\"Accept\", \"application/json\");\n                xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                if (!multipart) {\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n                    xhr.setRequestHeader(\"X-Mime-Type\", fileOrBlob.type);\n                }\n                qq.each(extraHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        };\n        qq.extend(this, {\n            uploadChunk: function(uploadChunkParams) {\n                var id = uploadChunkParams.id;\n                var chunkIdx = uploadChunkParams.chunkIdx;\n                var overrides = uploadChunkParams.overrides || {};\n                var resuming = uploadChunkParams.resuming;\n                var chunkData = handler._getChunkData(id, chunkIdx), xhr = handler._createXhr(id, chunkIdx), promise, toSend, customParams, params = {};\n                promise = createReadyStateChangedHandler(id, xhr);\n                handler._registerProgressHandler(id, chunkIdx, chunkData.size);\n                customParams = spec.paramsStore.get(id);\n                addChunkingSpecificParams(id, params, chunkData);\n                if (resuming) {\n                    params[spec.resume.paramNames.resuming] = true;\n                }\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: chunkData.blob,\n                    id: id,\n                    customParams: customParams,\n                    params: params,\n                    xhr: xhr,\n                    xhrOverrides: overrides\n                });\n                setUploadHeaders({\n                    headerOverrides: overrides.headers,\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            },\n            uploadFile: function(id) {\n                var fileOrBlob = handler.getFile(id), promise, xhr, customParams, toSend;\n                xhr = handler._createXhr(id);\n                handler._registerProgressHandler(id);\n                promise = createReadyStateChangedHandler(id, xhr);\n                customParams = spec.paramsStore.get(id);\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: fileOrBlob,\n                    id: id,\n                    customParams: customParams,\n                    xhr: xhr\n                });\n                setUploadHeaders({\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            }\n        });\n        qq.extend(this, new qq.XhrUploadHandler({\n            options: qq.extend({\n                namespace: \"traditional\"\n            }, spec),\n            proxy: qq.extend({\n                getEndpoint: spec.endpointStore.get\n            }, proxy)\n        }));\n        qq.override(this, function(super_) {\n            return {\n                finalizeChunks: function(id) {\n                    proxy.onFinalizing(id);\n                    if (spec.chunking.success.endpoint) {\n                        return sendChunksCompleteRequest(id);\n                    } else {\n                        return super_.finalizeChunks(id, qq.bind(parseResponse, this, true));\n                    }\n                }\n            };\n        });\n    };\n    qq.traditional.AllChunksDoneAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            cors: {\n                allowXdr: false,\n                expected: false,\n                sendCredentials: false\n            },\n            endpoint: null,\n            log: function(str, level) {},\n            method: \"POST\"\n        }, promises = {}, endpointHandler = {\n            get: function(id) {\n                if (qq.isFunction(options.endpoint)) {\n                    return options.endpoint(id);\n                }\n                return options.endpoint;\n            }\n        };\n        qq.extend(options, o);\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            contentType: options.jsonPayload ? \"application/json\" : \"application/x-www-form-urlencoded\",\n            validMethods: [ options.method ],\n            method: options.method,\n            endpointStore: endpointHandler,\n            allowXRequestedWithAndCacheControl: false,\n            cors: options.cors,\n            log: options.log,\n            onComplete: function(id, xhr, isError) {\n                var promise = promises[id];\n                delete promises[id];\n                if (isError) {\n                    promise.failure(xhr);\n                } else {\n                    promise.success(xhr);\n                }\n            }\n        }));\n        qq.extend(this, {\n            complete: function(id, xhr, params, headers) {\n                var promise = new qq.Promise();\n                options.log(\"Submitting All Chunks Done request for \" + id);\n                promises[id] = promise;\n                requester.initTransport(id).withParams(options.params(id) || params).withHeaders(options.headers(id) || headers).send(xhr);\n                return promise;\n            }\n        });\n    };\n})(window);\n//# sourceMappingURL=fine-uploader.core.js.map","var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nrequirePromise();\n\nvar ES = require('es-abstract/es2018');\nvar getIntrinsic = require('es-abstract/GetIntrinsic');\nvar bind = require('function-bind');\n\nvar all = bind.call(Function.call, getIntrinsic('%Promise_all%'));\nvar reject = bind.call(Function.call, getIntrinsic('%Promise_reject%'));\n\nmodule.exports = function allSettled(iterable) {\n\tvar C = this;\n\tif (ES.Type(C) !== 'Object') {\n\t\tthrow new TypeError('`this` value must be an object');\n\t}\n\treturn all(C, Array.from(iterable, function (item) {\n\t\tvar onFulfill = function (value) {\n\t\t\treturn { status: 'fulfilled', value: value };\n\t\t};\n\t\tvar onReject = function (reason) {\n\t\t\treturn { status: 'rejected', reason: reason };\n\t\t};\n\t\tvar itemPromise = ES.PromiseResolve(C, item);\n\t\ttry {\n\t\t\treturn itemPromise.then(onFulfill, onReject);\n\t\t} catch (e) {\n\t\t\treturn reject(C, e);\n\t\t}\n\t}));\n};\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\n\nvar inspectCustom = require('./util.inspect').custom;\nvar inspectSymbol = (inspectCustom && isSymbol(inspectCustom)) ? inspectCustom : null;\n\nmodule.exports = function inspect_ (obj, opts, depth, seen) {\n    if (!opts) opts = {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n      if (obj === 0) {\n        return Infinity / obj > 0 ? '0' : '-0';\n      }\n      return String(obj);\n    }\n    if (typeof obj === 'bigint') {\n      return String(obj) + 'n';\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') depth = 0;\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return '[Object]';\n    }\n\n    if (typeof seen === 'undefined') seen = [];\n    else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect (value, from) {\n        if (from) {\n            seen = seen.slice();\n            seen.push(from);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function') {\n        var name = nameOf(obj);\n        return '[Function' + (name ? ': ' + name : '') + ']';\n    }\n    if (isSymbol(obj)) {\n        var symString = Symbol.prototype.toString.call(obj);\n        return typeof obj === 'object' ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + String(obj.nodeName).toLowerCase();\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) s += '...';\n        s += '</' + String(obj.nodeName).toLowerCase() + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) return '[]';\n        return '[ ' + arrObjKeys(obj, inspect).join(', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (parts.length === 0) return '[' + String(obj) + ']';\n        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';\n    }\n    if (typeof obj === 'object') {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {\n            return obj[inspectSymbol]();\n        } else if (typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var parts = [];\n        mapForEach.call(obj, function (value, key) {\n            parts.push(inspect(key, obj) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), parts);\n    }\n    if (isSet(obj)) {\n        var parts = [];\n        setForEach.call(obj, function (value ) {\n            parts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), parts);\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var xs = arrObjKeys(obj, inspect);\n        if (xs.length === 0) return '{}';\n        return '{ ' + xs.join(', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes (s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote (s) {\n    return String(s).replace(/\"/g, '&quot;');\n}\n\nfunction isArray (obj) { return toStr(obj) === '[object Array]'; }\nfunction isDate (obj) { return toStr(obj) === '[object Date]'; }\nfunction isRegExp (obj) { return toStr(obj) === '[object RegExp]'; }\nfunction isError (obj) { return toStr(obj) === '[object Error]'; }\nfunction isSymbol (obj) { return toStr(obj) === '[object Symbol]'; }\nfunction isString (obj) { return toStr(obj) === '[object String]'; }\nfunction isNumber (obj) { return toStr(obj) === '[object Number]'; }\nfunction isBigInt (obj) { return toStr(obj) === '[object BigInt]'; }\nfunction isBoolean (obj) { return toStr(obj) === '[object Boolean]'; }\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has (obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr (obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf (f) {\n    if (f.name) return f.name;\n    var m = String(f).match(/^function\\s*([\\w$]+)/);\n    if (m) return m[1];\n}\n\nfunction indexOf (xs, x) {\n    if (xs.indexOf) return xs.indexOf(x);\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) return i;\n    }\n    return -1;\n}\n\nfunction isMap (x) {\n    if (!mapSize) {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet (x) {\n    if (!setSize) {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement (x) {\n    if (!x || typeof x !== 'object') return false;\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string'\n        && typeof x.getAttribute === 'function'\n    ;\n}\n\nfunction inspectString (str, opts) {\n    var s = str.replace(/(['\\\\])/g, '\\\\$1').replace(/[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte (c) {\n    var n = c.charCodeAt(0);\n    var x = { 8: 'b', 9: 't', 10: 'n', 12: 'f', 13: 'r' }[n];\n    if (x) return '\\\\' + x;\n    return '\\\\x' + (n < 0x10 ? '0' : '') + n.toString(16);\n}\n\nfunction markBoxed (str) {\n    return 'Object(' + str + ')';\n}\n\nfunction collectionOf (type, size, entries) {\n    return type + ' (' + size + ') {' + entries.join(', ') + '}';\n}\n\nfunction arrObjKeys (obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    for (var key in obj) {\n        if (!has(obj, key)) continue;\n        if (isArr && String(Number(key)) === key && key < obj.length) continue;\n        if (/[^\\w$]/.test(key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    return xs;\n}\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar has = require('has');\n\nvar predicates = {\n\t// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\t'Property Descriptor': function isPropertyDescriptor(ES, Desc) {\n\t\tif (ES.Type(Desc) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t}\n};\n\nmodule.exports = function assertRecord(ES, recordType, argumentName, value) {\n\tvar predicate = predicates[recordType];\n\tif (typeof predicate !== 'function') {\n\t\tthrow new $SyntaxError('unknown record type: ' + recordType);\n\t}\n\tif (!predicate(ES, value)) {\n\t\tthrow new $TypeError(argumentName + ' must be a ' + recordType);\n\t}\n};\n","'use strict';\n\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nvar $isNaN = Number.isNaN || function (a) { return a !== a; };\n\nmodule.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","'use strict';\n\nmodule.exports = function sign(number) {\n\treturn number >= 0 ? 1 : -1;\n};\n","'use strict';\n\nmodule.exports = function mod(number, modulo) {\n\tvar remain = number % modulo;\n\treturn Math.floor(remain >= 0 ? remain : remain + modulo);\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar has = require('has');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nmodule.exports = function IsPropertyDescriptor(ES, Desc) {\n\tif (ES.Type(Desc) !== 'Object') {\n\t\treturn false;\n\t}\n\tvar allowed = {\n\t\t'[[Configurable]]': true,\n\t\t'[[Enumerable]]': true,\n\t\t'[[Get]]': true,\n\t\t'[[Set]]': true,\n\t\t'[[Value]]': true,\n\t\t'[[Writable]]': true\n\t};\n\n    for (var key in Desc) { // eslint-disable-line\n\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (ES.IsDataDescriptor(Desc) && ES.IsAccessorDescriptor(Desc)) {\n\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t}\n\treturn true;\n};\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\trequirePromise();\n\treturn typeof Promise.allSettled === 'function' ? Promise.allSettled : implementation;\n};\n","// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\n(function(global) {\n    var qq = function(element) {\n        \"use strict\";\n        return {\n            hide: function() {\n                element.style.display = \"none\";\n                return this;\n            },\n            attach: function(type, fn) {\n                if (element.addEventListener) {\n                    element.addEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\" + type, fn);\n                }\n                return function() {\n                    qq(element).detach(type, fn);\n                };\n            },\n            detach: function(type, fn) {\n                if (element.removeEventListener) {\n                    element.removeEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.detachEvent(\"on\" + type, fn);\n                }\n                return this;\n            },\n            contains: function(descendant) {\n                if (!descendant) {\n                    return false;\n                }\n                if (element === descendant) {\n                    return true;\n                }\n                if (element.contains) {\n                    return element.contains(descendant);\n                } else {\n                    return !!(descendant.compareDocumentPosition(element) & 8);\n                }\n            },\n            insertBefore: function(elementB) {\n                elementB.parentNode.insertBefore(element, elementB);\n                return this;\n            },\n            remove: function() {\n                element.parentNode.removeChild(element);\n                return this;\n            },\n            css: function(styles) {\n                if (element.style == null) {\n                    throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n                }\n                if (styles.opacity != null) {\n                    if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n                        styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n                    }\n                }\n                qq.extend(element.style, styles);\n                return this;\n            },\n            hasClass: function(name, considerParent) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n            },\n            addClass: function(name) {\n                if (!qq(element).hasClass(name)) {\n                    element.className += \" \" + name;\n                }\n                return this;\n            },\n            removeClass: function(name) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n                return this;\n            },\n            getByClass: function(className, first) {\n                var candidates, result = [];\n                if (first && element.querySelector) {\n                    return element.querySelector(\".\" + className);\n                } else if (element.querySelectorAll) {\n                    return element.querySelectorAll(\".\" + className);\n                }\n                candidates = element.getElementsByTagName(\"*\");\n                qq.each(candidates, function(idx, val) {\n                    if (qq(val).hasClass(className)) {\n                        result.push(val);\n                    }\n                });\n                return first ? result[0] : result;\n            },\n            getFirstByClass: function(className) {\n                return qq(element).getByClass(className, true);\n            },\n            children: function() {\n                var children = [], child = element.firstChild;\n                while (child) {\n                    if (child.nodeType === 1) {\n                        children.push(child);\n                    }\n                    child = child.nextSibling;\n                }\n                return children;\n            },\n            setText: function(text) {\n                element.innerText = text;\n                element.textContent = text;\n                return this;\n            },\n            clearText: function() {\n                return qq(element).setText(\"\");\n            },\n            hasAttribute: function(attrName) {\n                var attrVal;\n                if (element.hasAttribute) {\n                    if (!element.hasAttribute(attrName)) {\n                        return false;\n                    }\n                    return /^false$/i.exec(element.getAttribute(attrName)) == null;\n                } else {\n                    attrVal = element[attrName];\n                    if (attrVal === undefined) {\n                        return false;\n                    }\n                    return /^false$/i.exec(attrVal) == null;\n                }\n            }\n        };\n    };\n    (function() {\n        \"use strict\";\n        qq.canvasToBlob = function(canvas, mime, quality) {\n            return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n        };\n        qq.dataUriToBlob = function(dataUri) {\n            var arrayBuffer, byteString, createBlob = function(data, mime) {\n                var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n                if (blobBuilder) {\n                    blobBuilder.append(data);\n                    return blobBuilder.getBlob(mime);\n                } else {\n                    return new Blob([ data ], {\n                        type: mime\n                    });\n                }\n            }, intArray, mimeString;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return createBlob(arrayBuffer, mimeString);\n        };\n        qq.log = function(message, level) {\n            if (window.console) {\n                if (!level || level === \"info\") {\n                    window.console.log(message);\n                } else {\n                    if (window.console[level]) {\n                        window.console[level](message);\n                    } else {\n                        window.console.log(\"<\" + level + \"> \" + message);\n                    }\n                }\n            }\n        };\n        qq.isObject = function(variable) {\n            return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n        };\n        qq.isFunction = function(variable) {\n            return typeof variable === \"function\";\n        };\n        qq.isArray = function(value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n        };\n        qq.isItemList = function(maybeItemList) {\n            return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n        };\n        qq.isNodeList = function(maybeNodeList) {\n            return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n        };\n        qq.isString = function(maybeString) {\n            return Object.prototype.toString.call(maybeString) === \"[object String]\";\n        };\n        qq.trimStr = function(string) {\n            if (String.prototype.trim) {\n                return string.trim();\n            }\n            return string.replace(/^\\s+|\\s+$/g, \"\");\n        };\n        qq.format = function(str) {\n            var args = Array.prototype.slice.call(arguments, 1), newStr = str, nextIdxToReplace = newStr.indexOf(\"{}\");\n            qq.each(args, function(idx, val) {\n                var strBefore = newStr.substring(0, nextIdxToReplace), strAfter = newStr.substring(nextIdxToReplace + 2);\n                newStr = strBefore + val + strAfter;\n                nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n                if (nextIdxToReplace < 0) {\n                    return false;\n                }\n            });\n            return newStr;\n        };\n        qq.isFile = function(maybeFile) {\n            return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n        };\n        qq.isFileList = function(maybeFileList) {\n            return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n        };\n        qq.isFileOrInput = function(maybeFileOrInput) {\n            return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n        };\n        qq.isInput = function(maybeInput, notFile) {\n            var evaluateType = function(type) {\n                var normalizedType = type.toLowerCase();\n                if (notFile) {\n                    return normalizedType !== \"file\";\n                }\n                return normalizedType === \"file\";\n            };\n            if (window.HTMLInputElement) {\n                if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            if (maybeInput.tagName) {\n                if (maybeInput.tagName.toLowerCase() === \"input\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        qq.isBlob = function(maybeBlob) {\n            if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n                return true;\n            }\n        };\n        qq.isXhrUploadSupported = function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n        };\n        qq.createXhrInstance = function() {\n            if (window.XMLHttpRequest) {\n                return new XMLHttpRequest();\n            }\n            try {\n                return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            } catch (error) {\n                qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n                return null;\n            }\n        };\n        qq.isFolderDropSupported = function(dataTransfer) {\n            return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n        };\n        qq.isFileChunkingSupported = function() {\n            return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n        };\n        qq.sliceBlob = function(fileOrBlob, start, end) {\n            var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n            return slicer.call(fileOrBlob, start, end);\n        };\n        qq.arrayBufferToHex = function(buffer) {\n            var bytesAsHex = \"\", bytes = new Uint8Array(buffer);\n            qq.each(bytes, function(idx, byt) {\n                var byteAsHexStr = byt.toString(16);\n                if (byteAsHexStr.length < 2) {\n                    byteAsHexStr = \"0\" + byteAsHexStr;\n                }\n                bytesAsHex += byteAsHexStr;\n            });\n            return bytesAsHex;\n        };\n        qq.readBlobToHex = function(blob, startOffset, length) {\n            var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length), fileReader = new FileReader(), promise = new qq.Promise();\n            fileReader.onload = function() {\n                promise.success(qq.arrayBufferToHex(fileReader.result));\n            };\n            fileReader.onerror = promise.failure;\n            fileReader.readAsArrayBuffer(initialBlob);\n            return promise;\n        };\n        qq.extend = function(first, second, extendNested) {\n            qq.each(second, function(prop, val) {\n                if (extendNested && qq.isObject(val)) {\n                    if (first[prop] === undefined) {\n                        first[prop] = {};\n                    }\n                    qq.extend(first[prop], val, true);\n                } else {\n                    first[prop] = val;\n                }\n            });\n            return first;\n        };\n        qq.override = function(target, sourceFn) {\n            var super_ = {}, source = sourceFn(super_);\n            qq.each(source, function(srcPropName, srcPropVal) {\n                if (target[srcPropName] !== undefined) {\n                    super_[srcPropName] = target[srcPropName];\n                }\n                target[srcPropName] = srcPropVal;\n            });\n            return target;\n        };\n        qq.indexOf = function(arr, elt, from) {\n            if (arr.indexOf) {\n                return arr.indexOf(elt, from);\n            }\n            from = from || 0;\n            var len = arr.length;\n            if (from < 0) {\n                from += len;\n            }\n            for (;from < len; from += 1) {\n                if (arr.hasOwnProperty(from) && arr[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n        qq.getUniqueId = function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n                return v.toString(16);\n            });\n        };\n        qq.ie = function() {\n            return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n        };\n        qq.ie7 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n        };\n        qq.ie8 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n        };\n        qq.ie10 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n        };\n        qq.ie11 = function() {\n            return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n        };\n        qq.edge = function() {\n            return navigator.userAgent.indexOf(\"Edge\") >= 0;\n        };\n        qq.safari = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n        };\n        qq.chrome = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n        };\n        qq.opera = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n        };\n        qq.firefox = function() {\n            return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n        };\n        qq.windows = function() {\n            return navigator.platform === \"Win32\";\n        };\n        qq.android = function() {\n            return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n        };\n        qq.androidStock = function() {\n            return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0 && navigator.userAgent.toLowerCase().indexOf(\"firefox\") < 0;\n        };\n        qq.ios6 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n        };\n        qq.ios7 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n        };\n        qq.ios8 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n        };\n        qq.ios800 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n        };\n        qq.ios = function() {\n            return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n        };\n        qq.iosChrome = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n        };\n        qq.iosSafari = function() {\n            return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n        };\n        qq.iosSafariWebView = function() {\n            return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n        };\n        qq.preventDefault = function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n        };\n        qq.toElement = function() {\n            var div = document.createElement(\"div\");\n            return function(html) {\n                div.innerHTML = html;\n                var element = div.firstChild;\n                div.removeChild(element);\n                return element;\n            };\n        }();\n        qq.each = function(iterableItem, callback) {\n            var keyOrIndex, retVal;\n            if (iterableItem) {\n                if (window.Storage && iterableItem.constructor === window.Storage) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isString(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (keyOrIndex in iterableItem) {\n                        if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n                            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                            if (retVal === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        qq.bind = function(oldFunc, context) {\n            if (qq.isFunction(oldFunc)) {\n                var args = Array.prototype.slice.call(arguments, 2);\n                return function() {\n                    var newArgs = qq.extend([], args);\n                    if (arguments.length) {\n                        newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n                    }\n                    return oldFunc.apply(context, newArgs);\n                };\n            }\n            throw new Error(\"first parameter must be a function!\");\n        };\n        qq.obj2url = function(obj, temp, prefixDone) {\n            var uristrings = [], prefix = \"&\", add = function(nextObj, i) {\n                var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n                if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n                    uristrings.push(typeof nextObj === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n                }\n            };\n            if (!prefixDone && temp) {\n                prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n                uristrings.push(temp);\n                uristrings.push(qq.obj2url(obj));\n            } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n                qq.each(obj, function(idx, val) {\n                    add(val, idx);\n                });\n            } else if (typeof obj !== \"undefined\" && obj !== null && typeof obj === \"object\") {\n                qq.each(obj, function(prop, val) {\n                    add(val, prop);\n                });\n            } else {\n                uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n            }\n            if (temp) {\n                return uristrings.join(prefix);\n            } else {\n                return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n            }\n        };\n        qq.obj2FormData = function(obj, formData, arrayKeyName) {\n            if (!formData) {\n                formData = new FormData();\n            }\n            qq.each(obj, function(key, val) {\n                key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n                if (qq.isObject(val)) {\n                    qq.obj2FormData(val, formData, key);\n                } else if (qq.isFunction(val)) {\n                    formData.append(key, val());\n                } else {\n                    formData.append(key, val);\n                }\n            });\n            return formData;\n        };\n        qq.obj2Inputs = function(obj, form) {\n            var input;\n            if (!form) {\n                form = document.createElement(\"form\");\n            }\n            qq.obj2FormData(obj, {\n                append: function(key, val) {\n                    input = document.createElement(\"input\");\n                    input.setAttribute(\"name\", key);\n                    input.setAttribute(\"value\", val);\n                    form.appendChild(input);\n                }\n            });\n            return form;\n        };\n        qq.parseJson = function(json) {\n            if (window.JSON && qq.isFunction(JSON.parse)) {\n                return JSON.parse(json);\n            } else {\n                return eval(\"(\" + json + \")\");\n            }\n        };\n        qq.getExtension = function(filename) {\n            var extIdx = filename.lastIndexOf(\".\") + 1;\n            if (extIdx > 0) {\n                return filename.substr(extIdx, filename.length - extIdx);\n            }\n        };\n        qq.getFilename = function(blobOrFileInput) {\n            if (qq.isInput(blobOrFileInput)) {\n                return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n            } else if (qq.isFile(blobOrFileInput)) {\n                if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n                    return blobOrFileInput.fileName;\n                }\n            }\n            return blobOrFileInput.name;\n        };\n        qq.DisposeSupport = function() {\n            var disposers = [];\n            return {\n                dispose: function() {\n                    var disposer;\n                    do {\n                        disposer = disposers.shift();\n                        if (disposer) {\n                            disposer();\n                        }\n                    } while (disposer);\n                },\n                attach: function() {\n                    var args = arguments;\n                    this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n                },\n                addDisposer: function(disposeFunction) {\n                    disposers.push(disposeFunction);\n                }\n            };\n        };\n    })();\n    (function() {\n        \"use strict\";\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return qq;\n            });\n        } else if (typeof module !== \"undefined\" && module.exports) {\n            module.exports = qq;\n        } else {\n            global.qq = qq;\n        }\n    })();\n    qq.version = \"6.0.3\";\n    qq.supportedFeatures = function() {\n        \"use strict\";\n        var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n        function testSupportsFileInputElement() {\n            var supported = true, tempInput;\n            try {\n                tempInput = document.createElement(\"input\");\n                tempInput.type = \"file\";\n                qq(tempInput).hide();\n                if (tempInput.disabled) {\n                    supported = false;\n                }\n            } catch (ex) {\n                supported = false;\n            }\n            return supported;\n        }\n        function isChrome14OrHigher() {\n            return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n        }\n        function isCrossOriginXhrSupported() {\n            if (window.XMLHttpRequest) {\n                var xhr = qq.createXhrInstance();\n                return xhr.withCredentials !== undefined;\n            }\n            return false;\n        }\n        function isXdrSupported() {\n            return window.XDomainRequest !== undefined;\n        }\n        function isCrossOriginAjaxSupported() {\n            if (isCrossOriginXhrSupported()) {\n                return true;\n            }\n            return isXdrSupported();\n        }\n        function isFolderSelectionSupported() {\n            return document.createElement(\"input\").webkitdirectory !== undefined;\n        }\n        function isLocalStorageSupported() {\n            try {\n                return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n            } catch (error) {\n                return false;\n            }\n        }\n        function isDragAndDropSupported() {\n            var span = document.createElement(\"span\");\n            return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n        }\n        supportsUploading = testSupportsFileInputElement();\n        supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n        supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n        supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n        supportsFolderDrop = supportsFileDrop && function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n        }();\n        supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n        supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n        supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n        supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n        supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n        supportsDeleteFileXdr = isXdrSupported();\n        supportsDeleteFileCors = isCrossOriginAjaxSupported();\n        supportsFolderSelection = isFolderSelectionSupported();\n        supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n        supportsUploadProgress = function() {\n            if (supportsAjaxFileUploading) {\n                return !qq.androidStock() && !qq.iosChrome();\n            }\n            return false;\n        }();\n        return {\n            ajaxUploading: supportsAjaxFileUploading,\n            blobUploading: supportsUploadingBlobs,\n            canDetermineSize: supportsAjaxFileUploading,\n            chunking: supportsChunking,\n            deleteFileCors: supportsDeleteFileCors,\n            deleteFileCorsXdr: supportsDeleteFileXdr,\n            deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n            dialogElement: !!window.HTMLDialogElement,\n            fileDrop: supportsFileDrop,\n            folderDrop: supportsFolderDrop,\n            folderSelection: supportsFolderSelection,\n            imagePreviews: supportsImagePreviews,\n            imageValidation: supportsImagePreviews,\n            itemSizeValidation: supportsAjaxFileUploading,\n            pause: supportsChunking,\n            progressBar: supportsUploadProgress,\n            resume: supportsResume,\n            scaling: supportsImagePreviews && supportsUploadingBlobs,\n            tiffPreviews: qq.safari(),\n            unlimitedScaledImageSize: !qq.ios(),\n            uploading: supportsUploading,\n            uploadCors: supportsUploadCors,\n            uploadCustomHeaders: supportsAjaxFileUploading,\n            uploadNonMultipart: supportsAjaxFileUploading,\n            uploadViaPaste: supportsUploadViaPaste\n        };\n    }();\n    qq.isGenericPromise = function(maybePromise) {\n        \"use strict\";\n        return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n    };\n    qq.Promise = function() {\n        \"use strict\";\n        var successArgs, failureArgs, successCallbacks = [], failureCallbacks = [], doneCallbacks = [], state = 0;\n        qq.extend(this, {\n            then: function(onSuccess, onFailure) {\n                if (state === 0) {\n                    if (onSuccess) {\n                        successCallbacks.push(onSuccess);\n                    }\n                    if (onFailure) {\n                        failureCallbacks.push(onFailure);\n                    }\n                } else if (state === -1) {\n                    onFailure && onFailure.apply(null, failureArgs);\n                } else if (onSuccess) {\n                    onSuccess.apply(null, successArgs);\n                }\n                return this;\n            },\n            done: function(callback) {\n                if (state === 0) {\n                    doneCallbacks.push(callback);\n                } else {\n                    callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n                }\n                return this;\n            },\n            success: function() {\n                state = 1;\n                successArgs = arguments;\n                if (successCallbacks.length) {\n                    qq.each(successCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                return this;\n            },\n            failure: function() {\n                state = -1;\n                failureArgs = arguments;\n                if (failureCallbacks.length) {\n                    qq.each(failureCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                return this;\n            }\n        });\n    };\n    qq.DragAndDrop = function(o) {\n        \"use strict\";\n        var options, HIDE_ZONES_EVENT_NAME = \"qq-hidezones\", HIDE_BEFORE_ENTER_ATTR = \"qq-hide-dropzone\", uploadDropZones = [], droppedFiles = [], disposeSupport = new qq.DisposeSupport();\n        options = {\n            dropZoneElements: [],\n            allowMultipleItems: true,\n            classes: {\n                dropActive: null\n            },\n            callbacks: new qq.DragAndDrop.callbacks()\n        };\n        qq.extend(options, o, true);\n        function uploadDroppedFiles(files, uploadDropZone) {\n            var filesAsArray = Array.prototype.slice.call(files);\n            options.callbacks.dropLog(\"Grabbed \" + files.length + \" dropped files.\");\n            uploadDropZone.dropDisabled(false);\n            options.callbacks.processingDroppedFilesComplete(filesAsArray, uploadDropZone.getElement());\n        }\n        function traverseFileTree(entry) {\n            var parseEntryPromise = new qq.Promise();\n            if (entry.isFile) {\n                entry.file(function(file) {\n                    file.qqPath = extractDirectoryPath(entry);\n                    droppedFiles.push(file);\n                    parseEntryPromise.success();\n                }, function(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            } else if (entry.isDirectory) {\n                getFilesInDirectory(entry).then(function allEntriesRead(entries) {\n                    var entriesLeft = entries.length;\n                    qq.each(entries, function(idx, entry) {\n                        traverseFileTree(entry).done(function() {\n                            entriesLeft -= 1;\n                            if (entriesLeft === 0) {\n                                parseEntryPromise.success();\n                            }\n                        });\n                    });\n                    if (!entries.length) {\n                        parseEntryPromise.success();\n                    }\n                }, function readFailure(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            }\n            return parseEntryPromise;\n        }\n        function extractDirectoryPath(entry) {\n            var name = entry.name, fullPath = entry.fullPath, indexOfNameInFullPath = fullPath.lastIndexOf(name);\n            fullPath = fullPath.substr(0, indexOfNameInFullPath);\n            if (fullPath.charAt(0) === \"/\") {\n                fullPath = fullPath.substr(1);\n            }\n            return fullPath;\n        }\n        function getFilesInDirectory(entry, reader, accumEntries, existingPromise) {\n            var promise = existingPromise || new qq.Promise(), dirReader = reader || entry.createReader();\n            dirReader.readEntries(function readSuccess(entries) {\n                var newEntries = accumEntries ? accumEntries.concat(entries) : entries;\n                if (entries.length) {\n                    setTimeout(function() {\n                        getFilesInDirectory(entry, dirReader, newEntries, promise);\n                    }, 0);\n                } else {\n                    promise.success(newEntries);\n                }\n            }, promise.failure);\n            return promise;\n        }\n        function handleDataTransfer(dataTransfer, uploadDropZone) {\n            var pendingFolderPromises = [], handleDataTransferPromise = new qq.Promise();\n            options.callbacks.processingDroppedFiles();\n            uploadDropZone.dropDisabled(true);\n            if (dataTransfer.files.length > 1 && !options.allowMultipleItems) {\n                options.callbacks.processingDroppedFilesComplete([]);\n                options.callbacks.dropError(\"tooManyFilesError\", \"\");\n                uploadDropZone.dropDisabled(false);\n                handleDataTransferPromise.failure();\n            } else {\n                droppedFiles = [];\n                if (qq.isFolderDropSupported(dataTransfer)) {\n                    qq.each(dataTransfer.items, function(idx, item) {\n                        var entry = item.webkitGetAsEntry();\n                        if (entry) {\n                            if (entry.isFile) {\n                                droppedFiles.push(item.getAsFile());\n                            } else {\n                                pendingFolderPromises.push(traverseFileTree(entry).done(function() {\n                                    pendingFolderPromises.pop();\n                                    if (pendingFolderPromises.length === 0) {\n                                        handleDataTransferPromise.success();\n                                    }\n                                }));\n                            }\n                        }\n                    });\n                } else {\n                    droppedFiles = dataTransfer.files;\n                }\n                if (pendingFolderPromises.length === 0) {\n                    handleDataTransferPromise.success();\n                }\n            }\n            return handleDataTransferPromise;\n        }\n        function setupDropzone(dropArea) {\n            var dropZone = new qq.UploadDropZone({\n                HIDE_ZONES_EVENT_NAME: HIDE_ZONES_EVENT_NAME,\n                element: dropArea,\n                onEnter: function(e) {\n                    qq(dropArea).addClass(options.classes.dropActive);\n                    options.callbacks.dragEnter();\n                    e.stopPropagation();\n                },\n                onLeaveNotDescendants: function(e) {\n                    qq(dropArea).removeClass(options.classes.dropActive);\n                    options.callbacks.dragLeave();\n                },\n                onDrop: function(e) {\n                    handleDataTransfer(e.dataTransfer, dropZone).then(function() {\n                        uploadDroppedFiles(droppedFiles, dropZone);\n                    }, function() {\n                        options.callbacks.dropLog(\"Drop event DataTransfer parsing failed.  No files will be uploaded.\", \"error\");\n                    });\n                }\n            });\n            disposeSupport.addDisposer(function() {\n                dropZone.dispose();\n            });\n            qq(dropArea).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropArea).hide();\n            uploadDropZones.push(dropZone);\n            return dropZone;\n        }\n        function isFileDrag(dragEvent) {\n            var fileDrag;\n            qq.each(dragEvent.dataTransfer.types, function(key, val) {\n                if (val === \"Files\") {\n                    fileDrag = true;\n                    return false;\n                }\n            });\n            return fileDrag;\n        }\n        function leavingDocumentOut(e) {\n            if (qq.safari()) {\n                return e.x < 0 || e.y < 0;\n            }\n            return e.x === 0 && e.y === 0;\n        }\n        function setupDragDrop() {\n            var dropZones = options.dropZoneElements, maybeHideDropZones = function() {\n                setTimeout(function() {\n                    qq.each(dropZones, function(idx, dropZone) {\n                        qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropZone).hide();\n                        qq(dropZone).removeClass(options.classes.dropActive);\n                    });\n                }, 10);\n            };\n            qq.each(dropZones, function(idx, dropZone) {\n                var uploadDropZone = setupDropzone(dropZone);\n                if (dropZones.length && qq.supportedFeatures.fileDrop) {\n                    disposeSupport.attach(document, \"dragenter\", function(e) {\n                        if (!uploadDropZone.dropDisabled() && isFileDrag(e)) {\n                            qq.each(dropZones, function(idx, dropZone) {\n                                if (dropZone instanceof HTMLElement && qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR)) {\n                                    qq(dropZone).css({\n                                        display: \"block\"\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n            disposeSupport.attach(document, \"dragleave\", function(e) {\n                if (leavingDocumentOut(e)) {\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(qq(document).children()[0], \"mouseenter\", function(e) {\n                maybeHideDropZones();\n            });\n            disposeSupport.attach(document, \"drop\", function(e) {\n                if (isFileDrag(e)) {\n                    e.preventDefault();\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(document, HIDE_ZONES_EVENT_NAME, maybeHideDropZones);\n        }\n        setupDragDrop();\n        qq.extend(this, {\n            setupExtraDropzone: function(element) {\n                options.dropZoneElements.push(element);\n                setupDropzone(element);\n            },\n            removeDropzone: function(element) {\n                var i, dzs = options.dropZoneElements;\n                for (i in dzs) {\n                    if (dzs[i] === element) {\n                        return dzs.splice(i, 1);\n                    }\n                }\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n                qq.each(uploadDropZones, function(idx, dropZone) {\n                    dropZone.dispose();\n                });\n            }\n        });\n        this._testing = {};\n        this._testing.extractDirectoryPath = extractDirectoryPath;\n    };\n    qq.DragAndDrop.callbacks = function() {\n        \"use strict\";\n        return {\n            dragEnter: function() {},\n            dragLeave: function() {},\n            processingDroppedFiles: function() {},\n            processingDroppedFilesComplete: function(files, targetEl) {},\n            dropError: function(code, errorSpecifics) {\n                qq.log(\"Drag & drop error code '\" + code + \" with these specifics: '\" + errorSpecifics + \"'\", \"error\");\n            },\n            dropLog: function(message, level) {\n                qq.log(message, level);\n            }\n        };\n    };\n    qq.UploadDropZone = function(o) {\n        \"use strict\";\n        var disposeSupport = new qq.DisposeSupport(), options, element, preventDrop, dropOutsideDisabled;\n        options = {\n            element: null,\n            onEnter: function(e) {},\n            onLeave: function(e) {},\n            onLeaveNotDescendants: function(e) {},\n            onDrop: function(e) {}\n        };\n        qq.extend(options, o);\n        element = options.element;\n        function dragoverShouldBeCanceled() {\n            return qq.safari() || qq.firefox() && qq.windows();\n        }\n        function disableDropOutside(e) {\n            if (!dropOutsideDisabled) {\n                if (dragoverShouldBeCanceled) {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        e.preventDefault();\n                    });\n                } else {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        if (e.dataTransfer) {\n                            e.dataTransfer.dropEffect = \"none\";\n                            e.preventDefault();\n                        }\n                    });\n                }\n                dropOutsideDisabled = true;\n            }\n        }\n        function isValidFileDrag(e) {\n            if (!qq.supportedFeatures.fileDrop) {\n                return false;\n            }\n            var effectTest, dt = e.dataTransfer, isSafari = qq.safari();\n            effectTest = qq.ie() && qq.supportedFeatures.fileDrop ? true : dt.effectAllowed !== \"none\";\n            return dt && effectTest && (dt.files && dt.files.length || !isSafari && dt.types.contains && dt.types.contains(\"Files\") || dt.types.includes && dt.types.includes(\"Files\"));\n        }\n        function isOrSetDropDisabled(isDisabled) {\n            if (isDisabled !== undefined) {\n                preventDrop = isDisabled;\n            }\n            return preventDrop;\n        }\n        function triggerHidezonesEvent() {\n            var hideZonesEvent;\n            function triggerUsingOldApi() {\n                hideZonesEvent = document.createEvent(\"Event\");\n                hideZonesEvent.initEvent(options.HIDE_ZONES_EVENT_NAME, true, true);\n            }\n            if (window.CustomEvent) {\n                try {\n                    hideZonesEvent = new CustomEvent(options.HIDE_ZONES_EVENT_NAME);\n                } catch (err) {\n                    triggerUsingOldApi();\n                }\n            } else {\n                triggerUsingOldApi();\n            }\n            document.dispatchEvent(hideZonesEvent);\n        }\n        function attachEvents() {\n            disposeSupport.attach(element, \"dragover\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                var effect = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed;\n                if (effect === \"move\" || effect === \"linkMove\") {\n                    e.dataTransfer.dropEffect = \"move\";\n                } else {\n                    e.dataTransfer.dropEffect = \"copy\";\n                }\n                e.stopPropagation();\n                e.preventDefault();\n            });\n            disposeSupport.attach(element, \"dragenter\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    options.onEnter(e);\n                }\n            });\n            disposeSupport.attach(element, \"dragleave\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                options.onLeave(e);\n                var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n                if (qq(this).contains(relatedTarget)) {\n                    return;\n                }\n                options.onLeaveNotDescendants(e);\n            });\n            disposeSupport.attach(element, \"drop\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    e.preventDefault();\n                    e.stopPropagation();\n                    options.onDrop(e);\n                    triggerHidezonesEvent();\n                }\n            });\n        }\n        disableDropOutside();\n        attachEvents();\n        qq.extend(this, {\n            dropDisabled: function(isDisabled) {\n                return isOrSetDropDisabled(isDisabled);\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n            },\n            getElement: function() {\n                return element;\n            }\n        });\n        this._testing = {};\n        this._testing.isValidFileDrag = isValidFileDrag;\n    };\n})(window);\n//# sourceMappingURL=dnd.js.map","'use strict';\n\nvar bind = require('function-bind');\nvar define = require('define-properties');\n\nvar requirePromise = require('./requirePromise');\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nrequirePromise();\nvar bound = bind.call(Function.call, getPolyfill());\n\nvar rebindable = function allSettled(iterable) {\n\t// eslint-disable-next-line no-invalid-this\n\treturn bound(typeof this === 'undefined' ? Promise : this, iterable);\n};\n\ndefine(rebindable, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = rebindable;\n","/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar keys = require('object-keys');\nvar inspect = require('object-inspect');\n\nvar ES2017 = require('./es2017');\nvar assign = require('./helpers/assign');\nvar forEach = require('./helpers/forEach');\nvar callBind = require('./helpers/callBind');\nvar every = require('./helpers/every');\n\nvar $String = GetIntrinsic('%String%');\nvar $Object = GetIntrinsic('%Object%');\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $RegExp = GetIntrinsic('%RegExp%');\n\nvar $SymbolProto = GetIntrinsic('%SymbolPrototype%', true);\nvar $SymbolValueOf = $SymbolProto ? callBind($SymbolProto.valueOf) : null;\nvar $StringProto = GetIntrinsic('%StringPrototype%');\nvar $charAt = callBind($StringProto.charAt);\nvar strSlice = callBind($StringProto.slice);\nvar $indexOf = callBind($StringProto.indexOf);\nvar $parseInt = parseInt;\nvar isDigit = callBind($RegExp.prototype.test, /^[0-9]$/);\n\nvar $PromiseResolveOrig = GetIntrinsic('%Promise_resolve%', true);\nvar $PromiseResolve = $PromiseResolveOrig ? callBind($PromiseResolveOrig) : null;\n\nvar $isEnumerable = callBind(GetIntrinsic('%ObjectPrototype%').propertyIsEnumerable);\nvar $pushApply = callBind.apply(GetIntrinsic('%ArrayPrototype%').push);\nvar $gOPS = $SymbolValueOf ? $Object.getOwnPropertySymbols : null;\n\nvar OwnPropertyKeys = function OwnPropertyKeys(ES, source) {\n\tvar ownKeys = keys(source);\n\tif ($gOPS) {\n\t\t$pushApply(ownKeys, $gOPS(source));\n\t}\n\treturn ownKeys;\n};\n\nvar ES2018 = assign(assign({}, ES2017), {\n\tEnumerableOwnPropertyNames: ES2017.EnumerableOwnProperties,\n\n\t// https://ecma-international.org/ecma-262/9.0/#sec-thissymbolvalue\n\tthisSymbolValue: function thisSymbolValue(value) {\n\t\tif (!$SymbolValueOf) {\n\t\t\tthrow new SyntaxError('Symbols are not supported; thisSymbolValue requires that `value` be a Symbol or a Symbol object');\n\t\t}\n\t\tif (this.Type(value) === 'Symbol') {\n\t\t\treturn value;\n\t\t}\n\t\treturn $SymbolValueOf(value);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/9.0/#sec-isstringprefix\n\tIsStringPrefix: function IsStringPrefix(p, q) {\n\t\tif (this.Type(p) !== 'String') {\n\t\t\tthrow new TypeError('Assertion failed: \"p\" must be a String');\n\t\t}\n\n\t\tif (this.Type(q) !== 'String') {\n\t\t\tthrow new TypeError('Assertion failed: \"q\" must be a String');\n\t\t}\n\n\t\tif (p === q || p === '') {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar pLength = p.length;\n\t\tvar qLength = q.length;\n\t\tif (pLength >= qLength) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// assert: pLength < qLength\n\n\t\tfor (var i = 0; i < pLength; i += 1) {\n\t\t\tif ($charAt(p, i) !== $charAt(q, i)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/9.0/#sec-tostring-applied-to-the-number-type\n\tNumberToString: function NumberToString(m) {\n\t\tif (this.Type(m) !== 'Number') {\n\t\t\tthrow new TypeError('Assertion failed: \"m\" must be a String');\n\t\t}\n\n\t\treturn $String(m);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/9.0/#sec-copydataproperties\n\tCopyDataProperties: function CopyDataProperties(target, source, excludedItems) {\n\t\tif (this.Type(target) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: \"target\" must be an Object');\n\t\t}\n\n\t\tif (!this.IsArray(excludedItems)) {\n\t\t\tthrow new TypeError('Assertion failed: \"excludedItems\" must be a List of Property Keys');\n\t\t}\n\t\tfor (var i = 0; i < excludedItems.length; i += 1) {\n\t\t\tif (!this.IsPropertyKey(excludedItems[i])) {\n\t\t\t\tthrow new TypeError('Assertion failed: \"excludedItems\" must be a List of Property Keys');\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'undefined' || source === null) {\n\t\t\treturn target;\n\t\t}\n\n\t\tvar ES = this;\n\n\t\tvar fromObj = ES.ToObject(source);\n\n\t\tvar sourceKeys = OwnPropertyKeys(ES, fromObj);\n\t\tforEach(sourceKeys, function (nextKey) {\n\t\t\tvar excluded = false;\n\n\t\t\tforEach(excludedItems, function (e) {\n\t\t\t\tif (ES.SameValue(e, nextKey) === true) {\n\t\t\t\t\texcluded = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar enumerable = $isEnumerable(fromObj, nextKey) || (\n\t\t\t\t// this is to handle string keys being non-enumerable in older engines\n\t\t\t\ttypeof source === 'string'\n\t\t\t\t&& nextKey >= 0\n\t\t\t\t&& ES.IsInteger(ES.ToNumber(nextKey))\n\t\t\t);\n\t\t\tif (excluded === false && enumerable) {\n\t\t\t\tvar propValue = ES.Get(fromObj, nextKey);\n\t\t\t\tES.CreateDataProperty(target, nextKey, propValue);\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t},\n\n\t// https://ecma-international.org/ecma-262/9.0/#sec-promise-resolve\n\tPromiseResolve: function PromiseResolve(C, x) {\n\t\tif (!$PromiseResolve) {\n\t\t\tthrow new SyntaxError('This environment does not support Promises.');\n\t\t}\n\t\treturn $PromiseResolve(C, x);\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/9.0/#sec-getsubstitution\n\t// eslint-disable-next-line max-statements, max-params, max-lines-per-function\n\tGetSubstitution: function GetSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n\t\tif (this.Type(matched) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `matched` must be a String');\n\t\t}\n\t\tvar matchLength = matched.length;\n\n\t\tif (this.Type(str) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `str` must be a String');\n\t\t}\n\t\tvar stringLength = str.length;\n\n\t\tif (!this.IsInteger(position) || position < 0 || position > stringLength) {\n\t\t\tthrow new $TypeError('Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got ' + inspect(position));\n\t\t}\n\n\t\tvar ES = this;\n\t\tvar isStringOrHole = function (capture, index, arr) { return ES.Type(capture) === 'String' || !(index in arr); };\n\t\tif (!this.IsArray(captures) || !every(captures, isStringOrHole)) {\n\t\t\tthrow new $TypeError('Assertion failed: `captures` must be a List of Strings, got ' + inspect(captures));\n\t\t}\n\n\t\tif (this.Type(replacement) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `replacement` must be a String');\n\t\t}\n\n\t\tvar tailPos = position + matchLength;\n\t\tvar m = captures.length;\n\t\tif (this.Type(namedCaptures) !== 'Undefined') {\n\t\t\tnamedCaptures = this.ToObject(namedCaptures); // eslint-disable-line no-param-reassign\n\t\t}\n\n\t\tvar result = '';\n\t\tfor (var i = 0; i < replacement.length; i += 1) {\n\t\t\t// if this is a $, and it's not the end of the replacement\n\t\t\tvar current = replacement[i];\n\t\t\tvar isLast = (i + 1) >= replacement.length;\n\t\t\tvar nextIsLast = (i + 2) >= replacement.length;\n\t\t\tif (current === '$' && !isLast) {\n\t\t\t\tvar next = replacement[i + 1];\n\t\t\t\tif (next === '$') {\n\t\t\t\t\tresult += '$';\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === '&') {\n\t\t\t\t\tresult += matched;\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === '`') {\n\t\t\t\t\tresult += position === 0 ? '' : strSlice(str, 0, position - 1);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === \"'\") {\n\t\t\t\t\tresult += tailPos >= stringLength ? '' : strSlice(str, tailPos);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else {\n\t\t\t\t\tvar nextNext = nextIsLast ? null : replacement[i + 2];\n\t\t\t\t\tif (isDigit(next) && next !== '0' && (nextIsLast || !isDigit(nextNext))) {\n\t\t\t\t\t\t// $1 through $9, and not followed by a digit\n\t\t\t\t\t\tvar n = $parseInt(next, 10);\n\t\t\t\t\t\t// if (n > m, impl-defined)\n\t\t\t\t\t\tresult += (n <= m && this.Type(captures[n - 1]) === 'Undefined') ? '' : captures[n - 1];\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t} else if (isDigit(next) && (nextIsLast || isDigit(nextNext))) {\n\t\t\t\t\t\t// $00 through $99\n\t\t\t\t\t\tvar nn = next + nextNext;\n\t\t\t\t\t\tvar nnI = $parseInt(nn, 10) - 1;\n\t\t\t\t\t\t// if nn === '00' or nn > m, impl-defined\n\t\t\t\t\t\tresult += (nn <= m && this.Type(captures[nnI]) === 'Undefined') ? '' : captures[nnI];\n\t\t\t\t\t\ti += 2;\n\t\t\t\t\t} else if (next === '<') {\n\t\t\t\t\t\t// eslint-disable-next-line max-depth\n\t\t\t\t\t\tif (this.Type(namedCaptures) === 'Undefined') {\n\t\t\t\t\t\t\tresult += '$<';\n\t\t\t\t\t\t\ti += 2;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar endIndex = $indexOf(replacement, '>', i);\n\t\t\t\t\t\t\t// eslint-disable-next-line max-depth\n\t\t\t\t\t\t\tif (endIndex > -1) {\n\t\t\t\t\t\t\t\tvar groupName = strSlice(replacement, i, endIndex);\n\t\t\t\t\t\t\t\tvar capture = this.Get(namedCaptures, groupName);\n\t\t\t\t\t\t\t\t// eslint-disable-next-line max-depth\n\t\t\t\t\t\t\t\tif (this.Type(capture) !== 'Undefined') {\n\t\t\t\t\t\t\t\t\tresult += this.ToString(capture);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ti += '$<' + groupName + '>'.length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult += '$';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// the final $, or else not a $\n\t\t\t\tresult += replacement[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n});\n\ndelete ES2018.EnumerableOwnProperties; // replaced with EnumerableOwnPropertyNames\n\ndelete ES2018.IsPropertyDescriptor; // not an actual abstract operation\n\nmodule.exports = ES2018;\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar ES2016 = require('./es2016');\nvar assign = require('./helpers/assign');\nvar forEach = require('./helpers/forEach');\nvar callBind = require('./helpers/callBind');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $Array = GetIntrinsic('%Array%');\nvar $isEnumerable = callBind(GetIntrinsic('%ObjectPrototype%').propertyIsEnumerable);\nvar $pushApply = callBind.apply(GetIntrinsic('%ArrayPrototype%').push);\nvar $arrayPush = callBind($Array.prototype.push);\n\nvar ES2017 = assign(assign({}, ES2016), {\n\tToIndex: function ToIndex(value) {\n\t\tif (typeof value === 'undefined') {\n\t\t\treturn 0;\n\t\t}\n\t\tvar integerIndex = this.ToInteger(value);\n\t\tif (integerIndex < 0) {\n\t\t\tthrow new RangeError('index must be >= 0');\n\t\t}\n\t\tvar index = this.ToLength(integerIndex);\n\t\tif (!this.SameValueZero(integerIndex, index)) {\n\t\t\tthrow new RangeError('index must be >= 0 and < 2 ** 53 - 1');\n\t\t}\n\t\treturn index;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/8.0/#sec-enumerableownproperties\n\tEnumerableOwnProperties: function EnumerableOwnProperties(O, kind) {\n\t\tvar keys = ES2016.EnumerableOwnNames(O);\n\t\tif (kind === 'key') {\n\t\t\treturn keys;\n\t\t}\n\t\tif (kind === 'value' || kind === 'key+value') {\n\t\t\tvar results = [];\n\t\t\tforEach(keys, function (key) {\n\t\t\t\tif ($isEnumerable(O, key)) {\n\t\t\t\t\t$pushApply(results, [\n\t\t\t\t\t\tkind === 'value' ? O[key] : [key, O[key]]\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn results;\n\t\t}\n\t\tthrow new $TypeError('Assertion failed: \"kind\" is not \"key\", \"value\", or \"key+value\": ' + kind);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/8.0/#sec-iterabletolist\n\tIterableToList: function IterableToList(items, method) {\n\t\tvar iterator = this.GetIterator(items, method);\n\t\tvar values = [];\n\t\tvar next = true;\n\t\twhile (next) {\n\t\t\tnext = this.IteratorStep(iterator);\n\t\t\tif (next) {\n\t\t\t\tvar nextValue = this.IteratorValue(next);\n\t\t\t\t$arrayPush(values, nextValue);\n\t\t\t}\n\t\t}\n\t\treturn values;\n\t}\n});\n\ndelete ES2017.EnumerableOwnNames; // replaced with EnumerableOwnProperties\ndelete ES2017.IterableToArrayLike; // replaced with IterableToList\n\nmodule.exports = ES2017;\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $Array = GetIntrinsic('%Array%');\n\nvar hasSymbols = require('has-symbols')();\n\nvar ES2015 = require('./es2015');\nvar assign = require('./helpers/assign');\nvar callBind = require('./helpers/callBind');\n\nvar $arrayPush = callBind($Array.prototype.push);\nvar $arraySlice = callBind($Array.prototype.slice);\nvar $arrayJoin = callBind($Array.prototype.join);\n\nvar ES2016 = assign(assign({}, ES2015), {\n\t// https://www.ecma-international.org/ecma-262/7.0/#sec-samevaluenonnumber\n\tSameValueNonNumber: function SameValueNonNumber(x, y) {\n\t\tif (typeof x === 'number' || typeof x !== typeof y) {\n\t\t\tthrow new TypeError('SameValueNonNumber requires two non-number values of the same type.');\n\t\t}\n\t\treturn this.SameValue(x, y);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/7.0/#sec-iterabletoarraylike\n\tIterableToArrayLike: function IterableToArrayLike(items) {\n\t\tvar usingIterator;\n\t\tif (hasSymbols) {\n\t\t\tusingIterator = this.GetMethod(items, Symbol.iterator);\n\t\t} else if (this.IsArray(items)) {\n\t\t\tusingIterator = function () {\n\t\t\t\tvar i = -1;\n\t\t\t\tvar arr = this; // eslint-disable-line no-invalid-this\n\t\t\t\treturn {\n\t\t\t\t\tnext: function () {\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdone: i >= arr.length,\n\t\t\t\t\t\t\tvalue: arr[i]\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t} else if (this.Type(items) === 'String') {\n\t\t\tvar ES = this;\n\t\t\tusingIterator = function () {\n\t\t\t\tvar i = 0;\n\t\t\t\treturn {\n\t\t\t\t\tnext: function () {\n\t\t\t\t\t\tvar nextIndex = ES.AdvanceStringIndex(items, i, true);\n\t\t\t\t\t\tvar value = $arrayJoin($arraySlice(items, i, nextIndex), '');\n\t\t\t\t\t\ti = nextIndex;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdone: nextIndex > items.length,\n\t\t\t\t\t\t\tvalue: value\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\t\tif (typeof usingIterator !== 'undefined') {\n\t\t\tvar iterator = this.GetIterator(items, usingIterator);\n\t\t\tvar values = [];\n\t\t\tvar next = true;\n\t\t\twhile (next) {\n\t\t\t\tnext = this.IteratorStep(iterator);\n\t\t\t\tif (next) {\n\t\t\t\t\tvar nextValue = this.IteratorValue(next);\n\t\t\t\t\t$arrayPush(values, nextValue);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn values;\n\t\t}\n\n\t\treturn this.ToObject(items);\n\t}\n});\n\nmodule.exports = ES2016;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\n/* eslint complexity: [2, 17], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar has = require('has');\nvar toPrimitive = require('es-to-primitive/es6');\nvar keys = require('object-keys');\nvar inspect = require('object-inspect');\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $RangeError = GetIntrinsic('%RangeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\nvar $Array = GetIntrinsic('%Array%');\nvar $ArrayPrototype = $Array.prototype;\nvar $String = GetIntrinsic('%String%');\nvar $Object = GetIntrinsic('%Object%');\nvar $Number = GetIntrinsic('%Number%');\nvar $Symbol = GetIntrinsic('%Symbol%', true);\nvar $RegExp = GetIntrinsic('%RegExp%');\nvar $Promise = GetIntrinsic('%Promise%', true);\nvar $preventExtensions = $Object.preventExtensions;\n\nvar hasSymbols = require('has-symbols')();\n\nvar assertRecord = require('./helpers/assertRecord');\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\nvar MAX_ARRAY_LENGTH = Math.pow(2, 32) - 1;\nvar MAX_SAFE_INTEGER = $Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar assign = require('./helpers/assign');\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\nvar isPrimitive = require('./helpers/isPrimitive');\nvar forEach = require('./helpers/forEach');\nvar every = require('./helpers/every');\nvar isSamePropertyDescriptor = require('./helpers/isSamePropertyDescriptor');\nvar isPropertyDescriptor = require('./helpers/isPropertyDescriptor');\nvar parseInteger = parseInt;\nvar callBind = require('./helpers/callBind');\nvar $PromiseThen = $Promise ? callBind(GetIntrinsic('%PromiseProto_then%')) : null;\nvar arraySlice = callBind($Array.prototype.slice);\nvar strSlice = callBind($String.prototype.slice);\nvar isBinary = callBind($RegExp.prototype.test, /^0b[01]+$/i);\nvar isOctal = callBind($RegExp.prototype.test, /^0o[0-7]+$/i);\nvar isDigit = callBind($RegExp.prototype.test, /^[0-9]$/);\nvar regexExec = callBind($RegExp.prototype.exec);\nvar nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\nvar nonWSregex = new $RegExp('[' + nonWS + ']', 'g');\nvar hasNonWS = callBind($RegExp.prototype.test, nonWSregex);\nvar invalidHexLiteral = /^[-+]0x[0-9a-f]+$/i;\nvar isInvalidHexLiteral = callBind($RegExp.prototype.test, invalidHexLiteral);\nvar $charCodeAt = callBind($String.prototype.charCodeAt);\nvar $isEnumerable = callBind($Object.prototype.propertyIsEnumerable);\n\nvar toStr = callBind($Object.prototype.toString);\n\nvar $NumberValueOf = callBind(GetIntrinsic('%NumberPrototype%').valueOf);\nvar $BooleanValueOf = callBind(GetIntrinsic('%BooleanPrototype%').valueOf);\nvar $StringValueOf = callBind(GetIntrinsic('%StringPrototype%').valueOf);\nvar $DateValueOf = callBind(GetIntrinsic('%DatePrototype%').valueOf);\nvar $SymbolToString = hasSymbols && callBind(GetIntrinsic('%SymbolPrototype%').toString);\n\nvar $floor = Math.floor;\nvar $abs = Math.abs;\n\nvar $ObjectCreate = $Object.create;\nvar $gOPD = $Object.getOwnPropertyDescriptor;\nvar $gOPN = $Object.getOwnPropertyNames;\nvar $gOPS = $Object.getOwnPropertySymbols;\nvar $isExtensible = $Object.isExtensible;\nvar $defineProperty = $Object.defineProperty;\nvar $setProto = Object.setPrototypeOf || (\n\t// eslint-disable-next-line no-proto, no-negated-condition\n\t[].__proto__ !== Array.prototype\n\t\t? null\n\t\t: function (O, proto) {\n\t\t\tO.__proto__ = proto; // eslint-disable-line no-proto\n\t\t\treturn O;\n\t\t}\n);\n\nvar DefineOwnProperty = function DefineOwnProperty(ES, O, P, desc) {\n\tif (!$defineProperty) {\n\t\tif (!ES.IsDataDescriptor(desc)) {\n\t\t\t// ES3 does not support getters/setters\n\t\t\treturn false;\n\t\t}\n\t\tif (!desc['[[Configurable]]'] || !desc['[[Writable]]']) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// fallback for ES3\n\t\tif (P in O && $isEnumerable(O, P) !== !!desc['[[Enumerable]]']) {\n\t\t\t// a non-enumerable existing property\n\t\t\treturn false;\n\t\t}\n\n\t\t// property does not exist at all, or exists but is enumerable\n\t\tvar V = desc['[[Value]]'];\n\t\tO[P] = V; // will use [[Define]]\n\t\treturn ES.SameValue(O[P], V);\n\t}\n\t$defineProperty(O, P, ES.FromPropertyDescriptor(desc));\n\treturn true;\n};\n\n// whitespace from: https://es5.github.io/#x15.5.4.20\n// implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\nvar ws = [\n\t'\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n\t'\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n\t'\\u2029\\uFEFF'\n].join('');\nvar trimRegex = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\nvar $replace = callBind($String.prototype.replace);\nvar trim = function (value) {\n\treturn $replace(value, trimRegex, '');\n};\n\nvar ES5 = require('./es5');\n\nvar hasRegExpMatcher = require('is-regex');\n\n// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-abstract-operations\nvar ES6 = assign(assign({}, ES5), {\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-call-f-v-args\n\tCall: function Call(F, V) {\n\t\tvar args = arguments.length > 2 ? arguments[2] : [];\n\t\tif (!this.IsCallable(F)) {\n\t\t\tthrow new $TypeError(inspect(F) + ' is not a function');\n\t\t}\n\t\treturn F.apply(V, args);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toprimitive\n\tToPrimitive: toPrimitive,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toboolean\n\t// ToBoolean: ES5.ToBoolean,\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-tonumber\n\tToNumber: function ToNumber(argument) {\n\t\tvar value = isPrimitive(argument) ? argument : toPrimitive(argument, $Number);\n\t\tif (typeof value === 'symbol') {\n\t\t\tthrow new $TypeError('Cannot convert a Symbol value to a number');\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\tif (isBinary(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 2));\n\t\t\t} else if (isOctal(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 8));\n\t\t\t} else if (hasNonWS(value) || isInvalidHexLiteral(value)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar trimmed = trim(value);\n\t\t\t\tif (trimmed !== value) {\n\t\t\t\t\treturn this.ToNumber(trimmed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn $Number(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tointeger\n\t// ToInteger: ES5.ToNumber,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint32\n\t// ToInt32: ES5.ToInt32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint32\n\t// ToUint32: ES5.ToUint32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint16\n\tToInt16: function ToInt16(argument) {\n\t\tvar int16bit = this.ToUint16(argument);\n\t\treturn int16bit >= 0x8000 ? int16bit - 0x10000 : int16bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint16\n\t// ToUint16: ES5.ToUint16,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint8\n\tToInt8: function ToInt8(argument) {\n\t\tvar int8bit = this.ToUint8(argument);\n\t\treturn int8bit >= 0x80 ? int8bit - 0x100 : int8bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8\n\tToUint8: function ToUint8(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * $floor($abs(number));\n\t\treturn mod(posInt, 0x100);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8clamp\n\tToUint8Clamp: function ToUint8Clamp(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number <= 0) { return 0; }\n\t\tif (number >= 0xFF) { return 0xFF; }\n\t\tvar f = $floor(argument);\n\t\tif (f + 0.5 < number) { return f + 1; }\n\t\tif (number < f + 0.5) { return f; }\n\t\tif (f % 2 !== 0) { return f + 1; }\n\t\treturn f;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tostring\n\tToString: function ToString(argument) {\n\t\tif (typeof argument === 'symbol') {\n\t\t\tthrow new $TypeError('Cannot convert a Symbol value to a string');\n\t\t}\n\t\treturn $String(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toobject\n\tToObject: function ToObject(value) {\n\t\tthis.RequireObjectCoercible(value);\n\t\treturn $Object(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-topropertykey\n\tToPropertyKey: function ToPropertyKey(argument) {\n\t\tvar key = this.ToPrimitive(argument, $String);\n\t\treturn typeof key === 'symbol' ? key : this.ToString(key);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n\tToLength: function ToLength(argument) {\n\t\tvar len = this.ToInteger(argument);\n\t\tif (len <= 0) { return 0; } // includes converting -0 to +0\n\t\tif (len > MAX_SAFE_INTEGER) { return MAX_SAFE_INTEGER; }\n\t\treturn len;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-canonicalnumericindexstring\n\tCanonicalNumericIndexString: function CanonicalNumericIndexString(argument) {\n\t\tif (toStr(argument) !== '[object String]') {\n\t\t\tthrow new $TypeError('must be a string');\n\t\t}\n\t\tif (argument === '-0') { return -0; }\n\t\tvar n = this.ToNumber(argument);\n\t\tif (this.SameValue(this.ToString(n), argument)) { return n; }\n\t\treturn void 0;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-requireobjectcoercible\n\tRequireObjectCoercible: ES5.CheckObjectCoercible,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isarray\n\tIsArray: $Array.isArray || function IsArray(argument) {\n\t\treturn toStr(argument) === '[object Array]';\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-iscallable\n\t// IsCallable: ES5.IsCallable,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isconstructor\n\tIsConstructor: function IsConstructor(argument) {\n\t\treturn typeof argument === 'function' && !!argument.prototype; // unfortunately there's no way to truly check this without try/catch `new argument`\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isextensible-o\n\tIsExtensible: $preventExtensions\n\t\t? function IsExtensible(obj) {\n\t\t\tif (isPrimitive(obj)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn $isExtensible(obj);\n\t\t}\n\t\t: function isExtensible(obj) { return true; }, // eslint-disable-line no-unused-vars\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isinteger\n\tIsInteger: function IsInteger(argument) {\n\t\tif (typeof argument !== 'number' || $isNaN(argument) || !$isFinite(argument)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar abs = $abs(argument);\n\t\treturn $floor(abs) === abs;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ispropertykey\n\tIsPropertyKey: function IsPropertyKey(argument) {\n\t\treturn typeof argument === 'string' || typeof argument === 'symbol';\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-isregexp\n\tIsRegExp: function IsRegExp(argument) {\n\t\tif (!argument || typeof argument !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols) {\n\t\t\tvar isRegExp = argument[$Symbol.match];\n\t\t\tif (typeof isRegExp !== 'undefined') {\n\t\t\t\treturn ES5.ToBoolean(isRegExp);\n\t\t\t}\n\t\t}\n\t\treturn hasRegExpMatcher(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevalue\n\t// SameValue: ES5.SameValue,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero\n\tSameValueZero: function SameValueZero(x, y) {\n\t\treturn (x === y) || ($isNaN(x) && $isNaN(y));\n\t},\n\n\t/**\n\t * 7.3.2 GetV (V, P)\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let O be ToObject(V).\n\t * 3. ReturnIfAbrupt(O).\n\t * 4. Return O.[[Get]](P, V).\n\t */\n\tGetV: function GetV(V, P) {\n\t\t// 7.3.2.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.2.2-3\n\t\tvar O = this.ToObject(V);\n\n\t\t// 7.3.2.4\n\t\treturn O[P];\n\t},\n\n\t/**\n\t * 7.3.9 - https://ecma-international.org/ecma-262/6.0/#sec-getmethod\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let func be GetV(O, P).\n\t * 3. ReturnIfAbrupt(func).\n\t * 4. If func is either undefined or null, return undefined.\n\t * 5. If IsCallable(func) is false, throw a TypeError exception.\n\t * 6. Return func.\n\t */\n\tGetMethod: function GetMethod(O, P) {\n\t\t// 7.3.9.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.9.2\n\t\tvar func = this.GetV(O, P);\n\n\t\t// 7.3.9.4\n\t\tif (func == null) {\n\t\t\treturn void 0;\n\t\t}\n\n\t\t// 7.3.9.5\n\t\tif (!this.IsCallable(func)) {\n\t\t\tthrow new $TypeError(P + 'is not a function');\n\t\t}\n\n\t\t// 7.3.9.6\n\t\treturn func;\n\t},\n\n\t/**\n\t * 7.3.1 Get (O, P) - https://ecma-international.org/ecma-262/6.0/#sec-get-o-p\n\t * 1. Assert: Type(O) is Object.\n\t * 2. Assert: IsPropertyKey(P) is true.\n\t * 3. Return O.[[Get]](P, O).\n\t */\n\tGet: function Get(O, P) {\n\t\t// 7.3.1.1\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\t// 7.3.1.2\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true, got ' + inspect(P));\n\t\t}\n\t\t// 7.3.1.3\n\t\treturn O[P];\n\t},\n\n\tType: function Type(x) {\n\t\tif (typeof x === 'symbol') {\n\t\t\treturn 'Symbol';\n\t\t}\n\t\treturn ES5.Type(x);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-speciesconstructor\n\tSpeciesConstructor: function SpeciesConstructor(O, defaultConstructor) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tvar C = O.constructor;\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.Type(C) !== 'Object') {\n\t\t\tthrow new $TypeError('O.constructor is not an Object');\n\t\t}\n\t\tvar S = hasSymbols && $Symbol.species ? C[$Symbol.species] : void 0;\n\t\tif (S == null) {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.IsConstructor(S)) {\n\t\t\treturn S;\n\t\t}\n\t\tthrow new $TypeError('no constructor found');\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-frompropertydescriptor\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tvar obj = {};\n\t\tif ('[[Value]]' in Desc) {\n\t\t\tobj.value = Desc['[[Value]]'];\n\t\t}\n\t\tif ('[[Writable]]' in Desc) {\n\t\t\tobj.writable = Desc['[[Writable]]'];\n\t\t}\n\t\tif ('[[Get]]' in Desc) {\n\t\t\tobj.get = Desc['[[Get]]'];\n\t\t}\n\t\tif ('[[Set]]' in Desc) {\n\t\t\tobj.set = Desc['[[Set]]'];\n\t\t}\n\t\tif ('[[Enumerable]]' in Desc) {\n\t\t\tobj.enumerable = Desc['[[Enumerable]]'];\n\t\t}\n\t\tif ('[[Configurable]]' in Desc) {\n\t\t\tobj.configurable = Desc['[[Configurable]]'];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-completepropertydescriptor\n\tCompletePropertyDescriptor: function CompletePropertyDescriptor(Desc) {\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (this.IsGenericDescriptor(Desc) || this.IsDataDescriptor(Desc)) {\n\t\t\tif (!has(Desc, '[[Value]]')) {\n\t\t\t\tDesc['[[Value]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Writable]]')) {\n\t\t\t\tDesc['[[Writable]]'] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!has(Desc, '[[Get]]')) {\n\t\t\t\tDesc['[[Get]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Set]]')) {\n\t\t\t\tDesc['[[Set]]'] = void 0;\n\t\t\t}\n\t\t}\n\t\tif (!has(Desc, '[[Enumerable]]')) {\n\t\t\tDesc['[[Enumerable]]'] = false;\n\t\t}\n\t\tif (!has(Desc, '[[Configurable]]')) {\n\t\t\tDesc['[[Configurable]]'] = false;\n\t\t}\n\t\treturn Desc;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-set-o-p-v-throw\n\tSet: function Set(O, P, V, Throw) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('P must be a Property Key');\n\t\t}\n\t\tif (this.Type(Throw) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Throw must be a Boolean');\n\t\t}\n\t\tif (Throw) {\n\t\t\tO[P] = V;\n\t\t\treturn true;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tO[P] = V;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-hasownproperty\n\tHasOwnProperty: function HasOwnProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('P must be a Property Key');\n\t\t}\n\t\treturn has(O, P);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-hasproperty\n\tHasProperty: function HasProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('P must be a Property Key');\n\t\t}\n\t\treturn P in O;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-isconcatspreadable\n\tIsConcatSpreadable: function IsConcatSpreadable(O) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols && typeof $Symbol.isConcatSpreadable === 'symbol') {\n\t\t\tvar spreadable = this.Get(O, Symbol.isConcatSpreadable);\n\t\t\tif (typeof spreadable !== 'undefined') {\n\t\t\t\treturn this.ToBoolean(spreadable);\n\t\t\t}\n\t\t}\n\t\treturn this.IsArray(O);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-invoke\n\tInvoke: function Invoke(O, P) {\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('P must be a Property Key');\n\t\t}\n\t\tvar argumentsList = arraySlice(arguments, 2);\n\t\tvar func = this.GetV(O, P);\n\t\treturn this.Call(func, O, argumentsList);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-getiterator\n\tGetIterator: function GetIterator(obj, method) {\n\t\tvar actualMethod = method;\n\t\tif (arguments.length < 2) {\n\t\t\tif (!hasSymbols) {\n\t\t\t\tthrow new SyntaxError('GetIterator depends on native Symbol support when `method` is not passed');\n\t\t\t}\n\t\t\tactualMethod = this.GetMethod(obj, $Symbol.iterator);\n\t\t}\n\t\tvar iterator = this.Call(actualMethod, obj);\n\t\tif (this.Type(iterator) !== 'Object') {\n\t\t\tthrow new $TypeError('iterator must return an object');\n\t\t}\n\n\t\treturn iterator;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratornext\n\tIteratorNext: function IteratorNext(iterator, value) {\n\t\tvar result = this.Invoke(iterator, 'next', arguments.length < 2 ? [] : [value]);\n\t\tif (this.Type(result) !== 'Object') {\n\t\t\tthrow new $TypeError('iterator next must return an object');\n\t\t}\n\t\treturn result;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratorcomplete\n\tIteratorComplete: function IteratorComplete(iterResult) {\n\t\tif (this.Type(iterResult) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(iterResult) is not Object');\n\t\t}\n\t\treturn this.ToBoolean(this.Get(iterResult, 'done'));\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratorvalue\n\tIteratorValue: function IteratorValue(iterResult) {\n\t\tif (this.Type(iterResult) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(iterResult) is not Object');\n\t\t}\n\t\treturn this.Get(iterResult, 'value');\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratorstep\n\tIteratorStep: function IteratorStep(iterator) {\n\t\tvar result = this.IteratorNext(iterator);\n\t\tvar done = this.IteratorComplete(result);\n\t\treturn done === true ? false : result;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratorclose\n\tIteratorClose: function IteratorClose(iterator, completion) {\n\t\tif (this.Type(iterator) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(iterator) is not Object');\n\t\t}\n\t\tif (!this.IsCallable(completion)) {\n\t\t\tthrow new $TypeError('Assertion failed: completion is not a thunk for a Completion Record');\n\t\t}\n\t\tvar completionThunk = completion;\n\n\t\tvar iteratorReturn = this.GetMethod(iterator, 'return');\n\n\t\tif (typeof iteratorReturn === 'undefined') {\n\t\t\treturn completionThunk();\n\t\t}\n\n\t\tvar completionRecord;\n\t\ttry {\n\t\t\tvar innerResult = this.Call(iteratorReturn, iterator, []);\n\t\t} catch (e) {\n\t\t\t// if we hit here, then \"e\" is the innerResult completion that needs re-throwing\n\n\t\t\t// if the completion is of type \"throw\", this will throw.\n\t\t\tcompletionRecord = completionThunk();\n\t\t\tcompletionThunk = null; // ensure it's not called twice.\n\n\t\t\t// if not, then return the innerResult completion\n\t\t\tthrow e;\n\t\t}\n\t\tcompletionRecord = completionThunk(); // if innerResult worked, then throw if the completion does\n\t\tcompletionThunk = null; // ensure it's not called twice.\n\n\t\tif (this.Type(innerResult) !== 'Object') {\n\t\t\tthrow new $TypeError('iterator .return must return an object');\n\t\t}\n\n\t\treturn completionRecord;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-createiterresultobject\n\tCreateIterResultObject: function CreateIterResultObject(value, done) {\n\t\tif (this.Type(done) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(done) is not Boolean');\n\t\t}\n\t\treturn {\n\t\t\tvalue: value,\n\t\t\tdone: done\n\t\t};\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-regexpexec\n\tRegExpExec: function RegExpExec(R, S) {\n\t\tif (this.Type(R) !== 'Object') {\n\t\t\tthrow new $TypeError('R must be an Object');\n\t\t}\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new $TypeError('S must be a String');\n\t\t}\n\t\tvar exec = this.Get(R, 'exec');\n\t\tif (this.IsCallable(exec)) {\n\t\t\tvar result = this.Call(exec, R, [S]);\n\t\t\tif (result === null || this.Type(result) === 'Object') {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tthrow new $TypeError('\"exec\" method must return `null` or an Object');\n\t\t}\n\t\treturn regexExec(R, S);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-arrayspeciescreate\n\tArraySpeciesCreate: function ArraySpeciesCreate(originalArray, length) {\n\t\tif (!this.IsInteger(length) || length < 0) {\n\t\t\tthrow new $TypeError('Assertion failed: length must be an integer >= 0');\n\t\t}\n\t\tvar len = length === 0 ? 0 : length;\n\t\tvar C;\n\t\tvar isArray = this.IsArray(originalArray);\n\t\tif (isArray) {\n\t\t\tC = this.Get(originalArray, 'constructor');\n\t\t\t// TODO: figure out how to make a cross-realm normal Array, a same-realm Array\n\t\t\t// if (this.IsConstructor(C)) {\n\t\t\t// \tif C is another realm's Array, C = undefined\n\t\t\t// \tObject.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(Array))) === null ?\n\t\t\t// }\n\t\t\tif (this.Type(C) === 'Object' && hasSymbols && $Symbol.species) {\n\t\t\t\tC = this.Get(C, $Symbol.species);\n\t\t\t\tif (C === null) {\n\t\t\t\t\tC = void 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn $Array(len);\n\t\t}\n\t\tif (!this.IsConstructor(C)) {\n\t\t\tthrow new $TypeError('C must be a constructor');\n\t\t}\n\t\treturn new C(len); // this.Construct(C, len);\n\t},\n\n\tCreateDataProperty: function CreateDataProperty(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\tvar oldDesc = $gOPD(O, P);\n\t\tvar extensible = oldDesc || this.IsExtensible(O);\n\t\tvar immutable = oldDesc && (!oldDesc.writable || !oldDesc.configurable);\n\t\tif (immutable || !extensible) {\n\t\t\treturn false;\n\t\t}\n\t\treturn DefineOwnProperty(this, O, P, {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Value]]': V,\n\t\t\t'[[Writable]]': true\n\t\t});\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-createdatapropertyorthrow\n\tCreateDataPropertyOrThrow: function CreateDataPropertyOrThrow(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\tvar success = this.CreateDataProperty(O, P, V);\n\t\tif (!success) {\n\t\t\tthrow new $TypeError('unable to create data property');\n\t\t}\n\t\treturn success;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-objectcreate\n\tObjectCreate: function ObjectCreate(proto, internalSlotsList) {\n\t\tif (proto !== null && this.Type(proto) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: proto must be null or an object');\n\t\t}\n\t\tvar slots = arguments.length < 2 ? [] : internalSlotsList;\n\t\tif (slots.length > 0) {\n\t\t\tthrow new $SyntaxError('es-abstract does not yet support internal slots');\n\t\t}\n\n\t\tif (proto === null && !$ObjectCreate) {\n\t\t\tthrow new $SyntaxError('native Object.create support is required to create null objects');\n\t\t}\n\n\t\treturn $ObjectCreate(proto);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-advancestringindex\n\tAdvanceStringIndex: function AdvanceStringIndex(S, index, unicode) {\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new $TypeError('S must be a String');\n\t\t}\n\t\tif (!this.IsInteger(index) || index < 0 || index > MAX_SAFE_INTEGER) {\n\t\t\tthrow new $TypeError('Assertion failed: length must be an integer >= 0 and <= 2**53');\n\t\t}\n\t\tif (this.Type(unicode) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: unicode must be a Boolean');\n\t\t}\n\t\tif (!unicode) {\n\t\t\treturn index + 1;\n\t\t}\n\t\tvar length = S.length;\n\t\tif ((index + 1) >= length) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar first = $charCodeAt(S, index);\n\t\tif (first < 0xD800 || first > 0xDBFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar second = $charCodeAt(S, index + 1);\n\t\tif (second < 0xDC00 || second > 0xDFFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\treturn index + 2;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-createmethodproperty\n\tCreateMethodProperty: function CreateMethodProperty(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\tvar newDesc = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': false,\n\t\t\t'[[Value]]': V,\n\t\t\t'[[Writable]]': true\n\t\t};\n\t\treturn DefineOwnProperty(this, O, P, newDesc);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-definepropertyorthrow\n\tDefinePropertyOrThrow: function DefinePropertyOrThrow(O, P, desc) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\tvar Desc = isPropertyDescriptor(this, desc) ? desc : this.ToPropertyDescriptor(desc);\n\t\tif (!isPropertyDescriptor(this, Desc)) {\n\t\t\tthrow new $TypeError('Assertion failed: Desc is not a valid Property Descriptor');\n\t\t}\n\n\t\treturn DefineOwnProperty(this, O, P, Desc);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-deletepropertyorthrow\n\tDeletePropertyOrThrow: function DeletePropertyOrThrow(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\tvar success = delete O[P];\n\t\tif (!success) {\n\t\t\tthrow new TypeError('Attempt to delete property failed.');\n\t\t}\n\t\treturn success;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-enumerableownnames\n\tEnumerableOwnNames: function EnumerableOwnNames(O) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\n\t\treturn keys(O);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-number-prototype-object\n\tthisNumberValue: function thisNumberValue(value) {\n\t\tif (this.Type(value) === 'Number') {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn $NumberValueOf(value);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-boolean-prototype-object\n\tthisBooleanValue: function thisBooleanValue(value) {\n\t\tif (this.Type(value) === 'Boolean') {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn $BooleanValueOf(value);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-string-prototype-object\n\tthisStringValue: function thisStringValue(value) {\n\t\tif (this.Type(value) === 'String') {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn $StringValueOf(value);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-date-prototype-object\n\tthisTimeValue: function thisTimeValue(value) {\n\t\treturn $DateValueOf(value);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-setintegritylevel\n\tSetIntegrityLevel: function SetIntegrityLevel(O, level) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (level !== 'sealed' && level !== 'frozen') {\n\t\t\tthrow new $TypeError('Assertion failed: `level` must be `\"sealed\"` or `\"frozen\"`');\n\t\t}\n\t\tif (!$preventExtensions) {\n\t\t\tthrow new $SyntaxError('SetIntegrityLevel requires native `Object.preventExtensions` support');\n\t\t}\n\t\tvar status = $preventExtensions(O);\n\t\tif (!status) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!$gOPN) {\n\t\t\tthrow new $SyntaxError('SetIntegrityLevel requires native `Object.getOwnPropertyNames` support');\n\t\t}\n\t\tvar theKeys = $gOPN(O);\n\t\tvar ES = this;\n\t\tif (level === 'sealed') {\n\t\t\tforEach(theKeys, function (k) {\n\t\t\t\tES.DefinePropertyOrThrow(O, k, { configurable: false });\n\t\t\t});\n\t\t} else if (level === 'frozen') {\n\t\t\tforEach(theKeys, function (k) {\n\t\t\t\tvar currentDesc = $gOPD(O, k);\n\t\t\t\tif (typeof currentDesc !== 'undefined') {\n\t\t\t\t\tvar desc;\n\t\t\t\t\tif (ES.IsAccessorDescriptor(ES.ToPropertyDescriptor(currentDesc))) {\n\t\t\t\t\t\tdesc = { configurable: false };\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdesc = { configurable: false, writable: false };\n\t\t\t\t\t}\n\t\t\t\t\tES.DefinePropertyOrThrow(O, k, desc);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-testintegritylevel\n\tTestIntegrityLevel: function TestIntegrityLevel(O, level) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (level !== 'sealed' && level !== 'frozen') {\n\t\t\tthrow new $TypeError('Assertion failed: `level` must be `\"sealed\"` or `\"frozen\"`');\n\t\t}\n\t\tvar status = this.IsExtensible(O);\n\t\tif (status) {\n\t\t\treturn false;\n\t\t}\n\t\tvar theKeys = $gOPN(O);\n\t\tvar ES = this;\n\t\treturn theKeys.length === 0 || every(theKeys, function (k) {\n\t\t\tvar currentDesc = $gOPD(O, k);\n\t\t\tif (typeof currentDesc !== 'undefined') {\n\t\t\t\tif (currentDesc.configurable) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (level === 'frozen' && ES.IsDataDescriptor(ES.ToPropertyDescriptor(currentDesc)) && currentDesc.writable) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ordinaryhasinstance\n\tOrdinaryHasInstance: function OrdinaryHasInstance(C, O) {\n\t\tif (this.IsCallable(C) === false) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar P = this.Get(C, 'prototype');\n\t\tif (this.Type(P) !== 'Object') {\n\t\t\tthrow new $TypeError('OrdinaryHasInstance called on an object with an invalid prototype property.');\n\t\t}\n\t\treturn O instanceof C;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ordinaryhasproperty\n\tOrdinaryHasProperty: function OrdinaryHasProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: P must be a Property Key');\n\t\t}\n\t\treturn P in O;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-instanceofoperator\n\tInstanceofOperator: function InstanceofOperator(O, C) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tvar instOfHandler = hasSymbols && $Symbol.hasInstance ? this.GetMethod(C, $Symbol.hasInstance) : void 0;\n\t\tif (typeof instOfHandler !== 'undefined') {\n\t\t\treturn this.ToBoolean(this.Call(instOfHandler, C, [O]));\n\t\t}\n\t\tif (!this.IsCallable(C)) {\n\t\t\tthrow new $TypeError('`C` is not Callable');\n\t\t}\n\t\treturn this.OrdinaryHasInstance(C, O);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ispromise\n\tIsPromise: function IsPromise(x) {\n\t\tif (this.Type(x) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (!$Promise) { // Promises are not supported\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\t$PromiseThen(x); // throws if not a promise\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-abstract-equality-comparison\n\t'Abstract Equality Comparison': function AbstractEqualityComparison(x, y) {\n\t\tvar xType = this.Type(x);\n\t\tvar yType = this.Type(y);\n\t\tif (xType === yType) {\n\t\t\treturn x === y; // ES6+ specified this shortcut anyways.\n\t\t}\n\t\tif (x == null && y == null) {\n\t\t\treturn true;\n\t\t}\n\t\tif (xType === 'Number' && yType === 'String') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif (xType === 'String' && yType === 'Number') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (xType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (yType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif ((xType === 'String' || xType === 'Number' || xType === 'Symbol') && yType === 'Object') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToPrimitive(y));\n\t\t}\n\t\tif (xType === 'Object' && (yType === 'String' || yType === 'Number' || yType === 'Symbol')) {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToPrimitive(x), y);\n\t\t}\n\t\treturn false;\n\t},\n\n\t// eslint-disable-next-line max-lines-per-function, max-statements, id-length, max-params\n\tValidateAndApplyPropertyDescriptor: function ValidateAndApplyPropertyDescriptor(O, P, extensible, Desc, current) {\n\t\t// this uses the ES2017+ logic, since it fixes a number of bugs in the ES2015 logic.\n\t\tvar oType = this.Type(O);\n\t\tif (oType !== 'Undefined' && oType !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: O must be undefined or an Object');\n\t\t}\n\t\tif (this.Type(extensible) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: extensible must be a Boolean');\n\t\t}\n\t\tif (!isPropertyDescriptor(this, Desc)) {\n\t\t\tthrow new $TypeError('Assertion failed: Desc must be a Property Descriptor');\n\t\t}\n\t\tif (this.Type(current) !== 'Undefined' && !isPropertyDescriptor(this, current)) {\n\t\t\tthrow new $TypeError('Assertion failed: current must be a Property Descriptor, or undefined');\n\t\t}\n\t\tif (oType !== 'Undefined' && !this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: if O is not undefined, P must be a Property Key');\n\t\t}\n\t\tif (this.Type(current) === 'Undefined') {\n\t\t\tif (!extensible) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.IsGenericDescriptor(Desc) || this.IsDataDescriptor(Desc)) {\n\t\t\t\tif (oType !== 'Undefined') {\n\t\t\t\t\tDefineOwnProperty(this, O, P, {\n\t\t\t\t\t\t'[[Configurable]]': Desc['[[Configurable]]'],\n\t\t\t\t\t\t'[[Enumerable]]': Desc['[[Enumerable]]'],\n\t\t\t\t\t\t'[[Value]]': Desc['[[Value]]'],\n\t\t\t\t\t\t'[[Writable]]': Desc['[[Writable]]']\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!this.IsAccessorDescriptor(Desc)) {\n\t\t\t\t\tthrow new $TypeError('Assertion failed: Desc is not an accessor descriptor');\n\t\t\t\t}\n\t\t\t\tif (oType !== 'Undefined') {\n\t\t\t\t\treturn DefineOwnProperty(this, O, P, Desc);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tif (this.IsGenericDescriptor(Desc) && !('[[Configurable]]' in Desc) && !('[[Enumerable]]' in Desc)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (isSamePropertyDescriptor(this, Desc, current)) {\n\t\t\treturn true; // removed by ES2017, but should still be correct\n\t\t}\n\t\t// \"if every field in Desc is absent, return true\" can't really match the assertion that it's a Property Descriptor\n\t\tif (!current['[[Configurable]]']) {\n\t\t\tif (Desc['[[Configurable]]']) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ('[[Enumerable]]' in Desc && !Desc['[[Enumerable]]'] === !!current['[[Enumerable]]']) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (this.IsGenericDescriptor(Desc)) {\n\t\t\t// no further validation is required.\n\t\t} else if (this.IsDataDescriptor(current) !== this.IsDataDescriptor(Desc)) {\n\t\t\tif (!current['[[Configurable]]']) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.IsDataDescriptor(current)) {\n\t\t\t\tif (oType !== 'Undefined') {\n\t\t\t\t\tDefineOwnProperty(this, O, P, {\n\t\t\t\t\t\t'[[Configurable]]': current['[[Configurable]]'],\n\t\t\t\t\t\t'[[Enumerable]]': current['[[Enumerable]]'],\n\t\t\t\t\t\t'[[Get]]': undefined\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (oType !== 'Undefined') {\n\t\t\t\tDefineOwnProperty(this, O, P, {\n\t\t\t\t\t'[[Configurable]]': current['[[Configurable]]'],\n\t\t\t\t\t'[[Enumerable]]': current['[[Enumerable]]'],\n\t\t\t\t\t'[[Value]]': undefined\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (this.IsDataDescriptor(current) && this.IsDataDescriptor(Desc)) {\n\t\t\tif (!current['[[Configurable]]'] && !current['[[Writable]]']) {\n\t\t\t\tif ('[[Writable]]' in Desc && Desc['[[Writable]]']) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ('[[Value]]' in Desc && !this.SameValue(Desc['[[Value]]'], current['[[Value]]'])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (this.IsAccessorDescriptor(current) && this.IsAccessorDescriptor(Desc)) {\n\t\t\tif (!current['[[Configurable]]']) {\n\t\t\t\tif ('[[Set]]' in Desc && !this.SameValue(Desc['[[Set]]'], current['[[Set]]'])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ('[[Get]]' in Desc && !this.SameValue(Desc['[[Get]]'], current['[[Get]]'])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new $TypeError('Assertion failed: current and Desc are not both data, both accessors, or one accessor and one data.');\n\t\t}\n\t\tif (oType !== 'Undefined') {\n\t\t\treturn DefineOwnProperty(this, O, P, Desc);\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ordinarydefineownproperty\n\tOrdinaryDefineOwnProperty: function OrdinaryDefineOwnProperty(O, P, Desc) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: P must be a Property Key');\n\t\t}\n\t\tif (!isPropertyDescriptor(this, Desc)) {\n\t\t\tthrow new $TypeError('Assertion failed: Desc must be a Property Descriptor');\n\t\t}\n\t\tvar desc = $gOPD(O, P);\n\t\tvar current = desc && this.ToPropertyDescriptor(desc);\n\t\tvar extensible = this.IsExtensible(O);\n\t\treturn this.ValidateAndApplyPropertyDescriptor(O, P, extensible, Desc, current);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ordinarygetownproperty\n\tOrdinaryGetOwnProperty: function OrdinaryGetOwnProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: P must be a Property Key');\n\t\t}\n\t\tif (!has(O, P)) {\n\t\t\treturn void 0;\n\t\t}\n\t\tif (!$gOPD) {\n\t\t\t// ES3 fallback\n\t\t\tvar arrayLength = this.IsArray(O) && P === 'length';\n\t\t\tvar regexLastIndex = this.IsRegExp(O) && P === 'lastIndex';\n\t\t\treturn {\n\t\t\t\t'[[Configurable]]': !(arrayLength || regexLastIndex),\n\t\t\t\t'[[Enumerable]]': $isEnumerable(O, P),\n\t\t\t\t'[[Value]]': O[P],\n\t\t\t\t'[[Writable]]': true\n\t\t\t};\n\t\t}\n\t\treturn this.ToPropertyDescriptor($gOPD(O, P));\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-arraycreate\n\tArrayCreate: function ArrayCreate(length) {\n\t\tif (!this.IsInteger(length) || length < 0) {\n\t\t\tthrow new $TypeError('Assertion failed: `length` must be an integer Number >= 0');\n\t\t}\n\t\tif (length > MAX_ARRAY_LENGTH) {\n\t\t\tthrow new $RangeError('length is greater than (2**32 - 1)');\n\t\t}\n\t\tvar proto = arguments.length > 1 ? arguments[1] : $ArrayPrototype;\n\t\tvar A = []; // steps 5 - 7, and 9\n\t\tif (proto !== $ArrayPrototype) { // step 8\n\t\t\tif (!$setProto) {\n\t\t\t\tthrow new $SyntaxError('ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]');\n\t\t\t}\n\t\t\t$setProto(A, proto);\n\t\t}\n\t\tif (length !== 0) { // bypasses the need for step 2\n\t\t\tA.length = length;\n\t\t}\n\t\t/* step 10, the above as a shortcut for the below\n\t\tthis.OrdinaryDefineOwnProperty(A, 'length', {\n\t\t\t'[[Configurable]]': false,\n\t\t\t'[[Enumerable]]': false,\n\t\t\t'[[Value]]': length,\n\t\t\t'[[Writable]]': true\n\t\t});\n\t\t*/\n\t\treturn A;\n\t},\n\n\t// eslint-disable-next-line max-statements, max-lines-per-function\n\tArraySetLength: function ArraySetLength(A, Desc) {\n\t\tif (!this.IsArray(A)) {\n\t\t\tthrow new $TypeError('Assertion failed: A must be an Array');\n\t\t}\n\t\tif (!isPropertyDescriptor(this, Desc)) {\n\t\t\tthrow new $TypeError('Assertion failed: Desc must be a Property Descriptor');\n\t\t}\n\t\tif (!('[[Value]]' in Desc)) {\n\t\t\treturn this.OrdinaryDefineOwnProperty(A, 'length', Desc);\n\t\t}\n\t\tvar newLenDesc = assign({}, Desc);\n\t\tvar newLen = this.ToUint32(Desc['[[Value]]']);\n\t\tvar numberLen = this.ToNumber(Desc['[[Value]]']);\n\t\tif (newLen !== numberLen) {\n\t\t\tthrow new $RangeError('Invalid array length');\n\t\t}\n\t\tnewLenDesc['[[Value]]'] = newLen;\n\t\tvar oldLenDesc = this.OrdinaryGetOwnProperty(A, 'length');\n\t\tif (!this.IsDataDescriptor(oldLenDesc)) {\n\t\t\tthrow new $TypeError('Assertion failed: an array had a non-data descriptor on `length`');\n\t\t}\n\t\tvar oldLen = oldLenDesc['[[Value]]'];\n\t\tif (newLen >= oldLen) {\n\t\t\treturn this.OrdinaryDefineOwnProperty(A, 'length', newLenDesc);\n\t\t}\n\t\tif (!oldLenDesc['[[Writable]]']) {\n\t\t\treturn false;\n\t\t}\n\t\tvar newWritable;\n\t\tif (!('[[Writable]]' in newLenDesc) || newLenDesc['[[Writable]]']) {\n\t\t\tnewWritable = true;\n\t\t} else {\n\t\t\tnewWritable = false;\n\t\t\tnewLenDesc['[[Writable]]'] = true;\n\t\t}\n\t\tvar succeeded = this.OrdinaryDefineOwnProperty(A, 'length', newLenDesc);\n\t\tif (!succeeded) {\n\t\t\treturn false;\n\t\t}\n\t\twhile (newLen < oldLen) {\n\t\t\toldLen -= 1;\n\t\t\tvar deleteSucceeded = delete A[this.ToString(oldLen)];\n\t\t\tif (!deleteSucceeded) {\n\t\t\t\tnewLenDesc['[[Value]]'] = oldLen + 1;\n\t\t\t\tif (!newWritable) {\n\t\t\t\t\tnewLenDesc['[[Writable]]'] = false;\n\t\t\t\t\tthis.OrdinaryDefineOwnProperty(A, 'length', newLenDesc);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!newWritable) {\n\t\t\treturn this.OrdinaryDefineOwnProperty(A, 'length', { '[[Writable]]': false });\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-createhtml\n\tCreateHTML: function CreateHTML(string, tag, attribute, value) {\n\t\tif (this.Type(tag) !== 'String' || this.Type(attribute) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `tag` and `attribute` must be strings');\n\t\t}\n\t\tvar str = this.RequireObjectCoercible(string);\n\t\tvar S = this.ToString(str);\n\t\tvar p1 = '<' + tag;\n\t\tif (attribute !== '') {\n\t\t\tvar V = this.ToString(value);\n\t\t\tvar escapedV = $replace(V, /\\x22/g, '&quot;');\n\t\t\tp1 += '\\x20' + attribute + '\\x3D\\x22' + escapedV + '\\x22';\n\t\t}\n\t\treturn p1 + '>' + S + '</' + tag + '>';\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-getownpropertykeys\n\tGetOwnPropertyKeys: function GetOwnPropertyKeys(O, Type) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (Type === 'Symbol') {\n\t\t\treturn hasSymbols && $gOPS ? $gOPS(O) : [];\n\t\t}\n\t\tif (Type === 'String') {\n\t\t\tif (!$gOPN) {\n\t\t\t\treturn keys(O);\n\t\t\t}\n\t\t\treturn $gOPN(O);\n\t\t}\n\t\tthrow new $TypeError('Assertion failed: `Type` must be `\"String\"` or `\"Symbol\"`');\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-symboldescriptivestring\n\tSymbolDescriptiveString: function SymbolDescriptiveString(sym) {\n\t\tif (this.Type(sym) !== 'Symbol') {\n\t\t\tthrow new $TypeError('Assertion failed: `sym` must be a Symbol');\n\t\t}\n\t\treturn $SymbolToString(sym);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-getsubstitution\n\t// eslint-disable-next-line max-statements, max-params, max-lines-per-function\n\tGetSubstitution: function GetSubstitution(matched, str, position, captures, replacement) {\n\t\tif (this.Type(matched) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `matched` must be a String');\n\t\t}\n\t\tvar matchLength = matched.length;\n\n\t\tif (this.Type(str) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `str` must be a String');\n\t\t}\n\t\tvar stringLength = str.length;\n\n\t\tif (!this.IsInteger(position) || position < 0 || position > stringLength) {\n\t\t\tthrow new $TypeError('Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got ' + inspect(position));\n\t\t}\n\n\t\tvar ES = this;\n\t\tvar isStringOrHole = function (capture, index, arr) { return ES.Type(capture) === 'String' || !(index in arr); };\n\t\tif (!this.IsArray(captures) || !every(captures, isStringOrHole)) {\n\t\t\tthrow new $TypeError('Assertion failed: `captures` must be a List of Strings, got ' + inspect(captures));\n\t\t}\n\n\t\tif (this.Type(replacement) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `replacement` must be a String');\n\t\t}\n\n\t\tvar tailPos = position + matchLength;\n\t\tvar m = captures.length;\n\n\t\tvar result = '';\n\t\tfor (var i = 0; i < replacement.length; i += 1) {\n\t\t\t// if this is a $, and it's not the end of the replacement\n\t\t\tvar current = replacement[i];\n\t\t\tvar isLast = (i + 1) >= replacement.length;\n\t\t\tvar nextIsLast = (i + 2) >= replacement.length;\n\t\t\tif (current === '$' && !isLast) {\n\t\t\t\tvar next = replacement[i + 1];\n\t\t\t\tif (next === '$') {\n\t\t\t\t\tresult += '$';\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === '&') {\n\t\t\t\t\tresult += matched;\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === '`') {\n\t\t\t\t\tresult += position === 0 ? '' : strSlice(str, 0, position - 1);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === \"'\") {\n\t\t\t\t\tresult += tailPos >= stringLength ? '' : strSlice(str, tailPos);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else {\n\t\t\t\t\tvar nextNext = nextIsLast ? null : replacement[i + 2];\n\t\t\t\t\tif (isDigit(next) && next !== '0' && (nextIsLast || !isDigit(nextNext))) {\n\t\t\t\t\t\t// $1 through $9, and not followed by a digit\n\t\t\t\t\t\tvar n = parseInteger(next, 10);\n\t\t\t\t\t\t// if (n > m, impl-defined)\n\t\t\t\t\t\tresult += (n <= m && this.Type(captures[n - 1]) === 'Undefined') ? '' : captures[n - 1];\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t} else if (isDigit(next) && (nextIsLast || isDigit(nextNext))) {\n\t\t\t\t\t\t// $00 through $99\n\t\t\t\t\t\tvar nn = next + nextNext;\n\t\t\t\t\t\tvar nnI = parseInteger(nn, 10) - 1;\n\t\t\t\t\t\t// if nn === '00' or nn > m, impl-defined\n\t\t\t\t\t\tresult += (nn <= m && this.Type(captures[nnI]) === 'Undefined') ? '' : captures[nnI];\n\t\t\t\t\t\ti += 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult += '$';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// the final $, or else not a $\n\t\t\t\tresult += replacement[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n});\n\ndelete ES6.CheckObjectCoercible; // renamed in ES6 to RequireObjectCoercible\n\nmodule.exports = ES6;\n","'use strict';\n\nmodule.exports = require('./es2015');\n","'use strict';\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar isPrimitive = require('./helpers/isPrimitive');\nvar isCallable = require('is-callable');\nvar isDate = require('is-date-object');\nvar isSymbol = require('is-symbol');\n\nvar ordinaryToPrimitive = function OrdinaryToPrimitive(O, hint) {\n\tif (typeof O === 'undefined' || O === null) {\n\t\tthrow new TypeError('Cannot call method on ' + O);\n\t}\n\tif (typeof hint !== 'string' || (hint !== 'number' && hint !== 'string')) {\n\t\tthrow new TypeError('hint must be \"string\" or \"number\"');\n\t}\n\tvar methodNames = hint === 'string' ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\tvar method, result, i;\n\tfor (i = 0; i < methodNames.length; ++i) {\n\t\tmethod = O[methodNames[i]];\n\t\tif (isCallable(method)) {\n\t\t\tresult = method.call(O);\n\t\t\tif (isPrimitive(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\tthrow new TypeError('No default value');\n};\n\nvar GetMethod = function GetMethod(O, P) {\n\tvar func = O[P];\n\tif (func !== null && typeof func !== 'undefined') {\n\t\tif (!isCallable(func)) {\n\t\t\tthrow new TypeError(func + ' returned for property ' + P + ' of object ' + O + ' is not a function');\n\t\t}\n\t\treturn func;\n\t}\n\treturn void 0;\n};\n\n// http://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive\nmodule.exports = function ToPrimitive(input) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tvar hint = 'default';\n\tif (arguments.length > 1) {\n\t\tif (arguments[1] === String) {\n\t\t\thint = 'string';\n\t\t} else if (arguments[1] === Number) {\n\t\t\thint = 'number';\n\t\t}\n\t}\n\n\tvar exoticToPrim;\n\tif (hasSymbols) {\n\t\tif (Symbol.toPrimitive) {\n\t\t\texoticToPrim = GetMethod(input, Symbol.toPrimitive);\n\t\t} else if (isSymbol(input)) {\n\t\t\texoticToPrim = Symbol.prototype.valueOf;\n\t\t}\n\t}\n\tif (typeof exoticToPrim !== 'undefined') {\n\t\tvar result = exoticToPrim.call(input, hint);\n\t\tif (isPrimitive(result)) {\n\t\t\treturn result;\n\t\t}\n\t\tthrow new TypeError('unable to convert exotic object to primitive');\n\t}\n\tif (hint === 'default' && (isDate(input) || isSymbol(input))) {\n\t\thint = 'string';\n\t}\n\treturn ordinaryToPrimitive(input, hint === 'default' ? 'number' : hint);\n};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateObject(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) { return false; }\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = require('has-symbols')();\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isRealSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') {\n\t\t\treturn false;\n\t\t}\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') {\n\t\t\treturn true;\n\t\t}\n\t\tif (toStr.call(value) !== '[object Symbol]') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false && value;\n\t};\n}\n","'use strict';\n\nmodule.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar every = require('./every');\n\nmodule.exports = function isSamePropertyDescriptor(ES, D1, D2) {\n\tvar fields = [\n\t\t'[[Configurable]]',\n\t\t'[[Enumerable]]',\n\t\t'[[Get]]',\n\t\t'[[Set]]',\n\t\t'[[Value]]',\n\t\t'[[Writable]]'\n\t];\n\treturn every(fields, function (field) {\n\t\tif ((field in D1) !== (field in D2)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn ES.SameValue(D1[field], D2[field]);\n\t});\n};\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $Object = GetIntrinsic('%Object%');\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $String = GetIntrinsic('%String%');\nvar $Number = GetIntrinsic('%Number%');\n\nvar assertRecord = require('./helpers/assertRecord');\nvar isPropertyDescriptor = require('./helpers/isPropertyDescriptor');\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\n\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\n\nvar IsCallable = require('is-callable');\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has');\n\nvar callBind = require('./helpers/callBind');\nvar strSlice = callBind($String.prototype.slice);\n\nvar isPrefixOf = function isPrefixOf(prefix, string) {\n\tif (prefix === string) {\n\t\treturn true;\n\t}\n\tif (prefix.length > string.length) {\n\t\treturn false;\n\t}\n\treturn strSlice(string, 0, prefix.length) === prefix;\n};\n\n// https://es5.github.io/#x9\nvar ES5 = {\n\tToPrimitive: toPrimitive,\n\n\tToBoolean: function ToBoolean(value) {\n\t\treturn !!value;\n\t},\n\tToNumber: function ToNumber(value) {\n\t\treturn +value; // eslint-disable-line no-implicit-coercion\n\t},\n\tToInteger: function ToInteger(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number)) { return 0; }\n\t\tif (number === 0 || !$isFinite(number)) { return number; }\n\t\treturn sign(number) * Math.floor(Math.abs(number));\n\t},\n\tToInt32: function ToInt32(x) {\n\t\treturn this.ToNumber(x) >> 0;\n\t},\n\tToUint32: function ToUint32(x) {\n\t\treturn this.ToNumber(x) >>> 0;\n\t},\n\tToUint16: function ToUint16(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x10000);\n\t},\n\tToString: function ToString(value) {\n\t\treturn $String(value);\n\t},\n\tToObject: function ToObject(value) {\n\t\tthis.CheckObjectCoercible(value);\n\t\treturn $Object(value);\n\t},\n\tCheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n\t\t/* jshint eqnull:true */\n\t\tif (value == null) {\n\t\t\tthrow new $TypeError(optMessage || 'Cannot call method on ' + value);\n\t\t}\n\t\treturn value;\n\t},\n\tIsCallable: IsCallable,\n\tSameValue: function SameValue(x, y) {\n\t\tif (x === y) { // 0 === -0, but they are not identical.\n\t\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\t\treturn true;\n\t\t}\n\t\treturn $isNaN(x) && $isNaN(y);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/5.1/#sec-8\n\tType: function Type(x) {\n\t\tif (x === null) {\n\t\t\treturn 'Null';\n\t\t}\n\t\tif (typeof x === 'undefined') {\n\t\t\treturn 'Undefined';\n\t\t}\n\t\tif (typeof x === 'function' || typeof x === 'object') {\n\t\t\treturn 'Object';\n\t\t}\n\t\tif (typeof x === 'number') {\n\t\t\treturn 'Number';\n\t\t}\n\t\tif (typeof x === 'boolean') {\n\t\t\treturn 'Boolean';\n\t\t}\n\t\tif (typeof x === 'string') {\n\t\t\treturn 'String';\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\tIsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n\t\treturn isPropertyDescriptor(this, Desc);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n\tIsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n\tIsDataDescriptor: function IsDataDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n\tIsGenericDescriptor: function IsGenericDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (this.IsDataDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tvalue: Desc['[[Value]]'],\n\t\t\t\twritable: !!Desc['[[Writable]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else if (this.IsAccessorDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tget: Desc['[[Get]]'],\n\t\t\t\tset: Desc['[[Set]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new $TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n\tToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n\t\tif (this.Type(Obj) !== 'Object') {\n\t\t\tthrow new $TypeError('ToPropertyDescriptor requires an object');\n\t\t}\n\n\t\tvar desc = {};\n\t\tif (has(Obj, 'enumerable')) {\n\t\t\tdesc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n\t\t}\n\t\tif (has(Obj, 'configurable')) {\n\t\t\tdesc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n\t\t}\n\t\tif (has(Obj, 'value')) {\n\t\t\tdesc['[[Value]]'] = Obj.value;\n\t\t}\n\t\tif (has(Obj, 'writable')) {\n\t\t\tdesc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n\t\t}\n\t\tif (has(Obj, 'get')) {\n\t\t\tvar getter = Obj.get;\n\t\t\tif (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n\t\t\t\tthrow new TypeError('getter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Get]]'] = getter;\n\t\t}\n\t\tif (has(Obj, 'set')) {\n\t\t\tvar setter = Obj.set;\n\t\t\tif (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n\t\t\t\tthrow new $TypeError('setter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Set]]'] = setter;\n\t\t}\n\n\t\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\t\tthrow new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t\t}\n\t\treturn desc;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3\n\t'Abstract Equality Comparison': function AbstractEqualityComparison(x, y) {\n\t\tvar xType = this.Type(x);\n\t\tvar yType = this.Type(y);\n\t\tif (xType === yType) {\n\t\t\treturn x === y; // ES6+ specified this shortcut anyways.\n\t\t}\n\t\tif (x == null && y == null) {\n\t\t\treturn true;\n\t\t}\n\t\tif (xType === 'Number' && yType === 'String') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif (xType === 'String' && yType === 'Number') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (xType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (yType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif ((xType === 'String' || xType === 'Number') && yType === 'Object') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToPrimitive(y));\n\t\t}\n\t\tif (xType === 'Object' && (yType === 'String' || yType === 'Number')) {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToPrimitive(x), y);\n\t\t}\n\t\treturn false;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/5.1/#sec-11.9.6\n\t'Strict Equality Comparison': function StrictEqualityComparison(x, y) {\n\t\tvar xType = this.Type(x);\n\t\tvar yType = this.Type(y);\n\t\tif (xType !== yType) {\n\t\t\treturn false;\n\t\t}\n\t\tif (xType === 'Undefined' || xType === 'Null') {\n\t\t\treturn true;\n\t\t}\n\t\treturn x === y; // shortcut for steps 4-7\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/5.1/#sec-11.8.5\n\t// eslint-disable-next-line max-statements\n\t'Abstract Relational Comparison': function AbstractRelationalComparison(x, y, LeftFirst) {\n\t\tif (this.Type(LeftFirst) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: LeftFirst argument must be a Boolean');\n\t\t}\n\t\tvar px;\n\t\tvar py;\n\t\tif (LeftFirst) {\n\t\t\tpx = this.ToPrimitive(x, $Number);\n\t\t\tpy = this.ToPrimitive(y, $Number);\n\t\t} else {\n\t\t\tpy = this.ToPrimitive(y, $Number);\n\t\t\tpx = this.ToPrimitive(x, $Number);\n\t\t}\n\t\tvar bothStrings = this.Type(px) === 'String' && this.Type(py) === 'String';\n\t\tif (!bothStrings) {\n\t\t\tvar nx = this.ToNumber(px);\n\t\t\tvar ny = this.ToNumber(py);\n\t\t\tif ($isNaN(nx) || $isNaN(ny)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif ($isFinite(nx) && $isFinite(ny) && nx === ny) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === 0 && ny === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === Infinity) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (ny === Infinity) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (ny === -Infinity) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === -Infinity) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn nx < ny; // by now, these are both nonzero, finite, and not equal\n\t\t}\n\t\tif (isPrefixOf(py, px)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (isPrefixOf(px, py)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn px < py; // both strings, neither a prefix of the other. shortcut for steps c-f\n\t}\n};\n\nmodule.exports = ES5;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable');\n\n// http://ecma-international.org/ecma-262/5.1/#sec-8.12.8\nvar ES5internalSlots = {\n\t'[[DefaultValue]]': function (O) {\n\t\tvar actualHint;\n\t\tif (arguments.length > 1) {\n\t\t\tactualHint = arguments[1];\n\t\t} else {\n\t\t\tactualHint = toStr.call(O) === '[object Date]' ? String : Number;\n\t\t}\n\n\t\tif (actualHint === String || actualHint === Number) {\n\t\t\tvar methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\t\t\tvar value, i;\n\t\t\tfor (i = 0; i < methods.length; ++i) {\n\t\t\t\tif (isCallable(O[methods[i]])) {\n\t\t\t\t\tvalue = O[methods[i]]();\n\t\t\t\t\tif (isPrimitive(value)) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new TypeError('No default value');\n\t\t}\n\t\tthrow new TypeError('invalid [[DefaultValue]] hint supplied');\n\t}\n};\n\n// http://ecma-international.org/ecma-262/5.1/#sec-9.1\nmodule.exports = function ToPrimitive(input) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tif (arguments.length > 1) {\n\t\treturn ES5internalSlots['[[DefaultValue]]'](input, arguments[1]);\n\t}\n\treturn ES5internalSlots['[[DefaultValue]]'](input);\n};\n","'use strict';\n\nvar has = require('has');\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0;\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimAllSettled() {\n\trequirePromise();\n\n\tvar polyfill = getPolyfill();\n\tdefine(Promise, { allSettled: polyfill }, {\n\t\tallSettled: function testAllSettled() {\n\t\t\treturn Promise.allSettled !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","var map = {\n\t\"./7z.svg\": 52,\n\t\"./ai.svg\": 53,\n\t\"./archive.svg\": 54,\n\t\"./audio.svg\": 55,\n\t\"./avi.svg\": 56,\n\t\"./csv.svg\": 57,\n\t\"./doc.svg\": 58,\n\t\"./html.svg\": 59,\n\t\"./iso.svg\": 60,\n\t\"./json.svg\": 61,\n\t\"./mp3.svg\": 62,\n\t\"./mp4.svg\": 63,\n\t\"./pdf.svg\": 64,\n\t\"./ppt.svg\": 65,\n\t\"./psd.svg\": 66,\n\t\"./rar.svg\": 67,\n\t\"./rtf.svg\": 68,\n\t\"./svg.svg\": 69,\n\t\"./tar.svg\": 70,\n\t\"./txt.svg\": 71,\n\t\"./unknown.svg\": 72,\n\t\"./video.svg\": 73,\n\t\"./xls.svg\": 74,\n\t\"./xml.svg\": 75,\n\t\"./zip.svg\": 76\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 51;","module.exports = __webpack_public_path__ + \"image/7z.svg\";","module.exports = __webpack_public_path__ + \"image/ai.svg\";","module.exports = __webpack_public_path__ + \"image/archive.svg\";","module.exports = __webpack_public_path__ + \"image/audio.svg\";","module.exports = __webpack_public_path__ + \"image/avi.svg\";","module.exports = __webpack_public_path__ + \"image/csv.svg\";","module.exports = __webpack_public_path__ + \"image/doc.svg\";","module.exports = __webpack_public_path__ + \"image/html.svg\";","module.exports = __webpack_public_path__ + \"image/iso.svg\";","module.exports = __webpack_public_path__ + \"image/json.svg\";","module.exports = __webpack_public_path__ + \"image/mp3.svg\";","module.exports = __webpack_public_path__ + \"image/mp4.svg\";","module.exports = __webpack_public_path__ + \"image/pdf.svg\";","module.exports = __webpack_public_path__ + \"image/ppt.svg\";","module.exports = __webpack_public_path__ + \"image/psd.svg\";","module.exports = __webpack_public_path__ + \"image/rar.svg\";","module.exports = __webpack_public_path__ + \"image/rtf.svg\";","module.exports = __webpack_public_path__ + \"image/svg.svg\";","module.exports = __webpack_public_path__ + \"image/tar.svg\";","module.exports = __webpack_public_path__ + \"image/txt.svg\";","module.exports = __webpack_public_path__ + \"image/unknown.svg\";","module.exports = __webpack_public_path__ + \"image/video.svg\";","module.exports = __webpack_public_path__ + \"image/xls.svg\";","module.exports = __webpack_public_path__ + \"image/xml.svg\";","module.exports = __webpack_public_path__ + \"image/zip.svg\";","import {FineUploaderBasic, isFile} from \"./fine-uploader/fine-uploader.core\";\nimport {DragAndDrop} from \"./fine-uploader/dnd\";\nimport match from 'mime-match';\n\n// PaperAdmin API\nconst EventEmitter = window.paperAdmin.EventEmitter;\n\n\n/**\n *       onSubmit()\n * @constructor\n */\nfunction ValidationError() {\n    Error.apply(this, arguments) ;\n    this.name = \"ValidationError\";\n    if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, ValidationError);\n    } else {\n        this.stack = (new Error()).stack;\n    }\n}\n\nValidationError.prototype = Object.create(Error.prototype);\n\n\n/**\n * -   Fine Uploader.\n * @param element\n * @param options\n * @constructor\n */\nfunction Uploader(element, options) {\n    this._opts = Object.assign({\n        url: '',\n        multiple: false,\n        maxConnections: 1,\n        button: null,\n        dropzones: null,\n        params: null,\n        validation: {},\n        filters: []\n    }, options);\n\n    this.element = element;\n    this.uploader = this._makeUploader();\n}\n\nUploader.prototype = Object.create(EventEmitter.prototype);\n\nUploader.prototype.getParams = function(id) {\n    if (typeof this._opts.params === 'function') {\n        return Object.assign(getPaperParams(this.element), this._opts.params.call(this, id));\n    } else if (typeof this._opts.params === 'object') {\n        return Object.assign(getPaperParams(this.element), this._opts.params);\n    } else {\n        return getPaperParams(this.element);\n    }\n};\n\nUploader.prototype.formatParams = function(params, id) {\n    const plain_params = {};\n    for (let [key, value] of Object.entries(params)) {\n        if (typeof value === 'function') {\n            plain_params[key] = value(id);\n        } else {\n            plain_params[key] = value;\n        }\n    }\n    return plain_params;\n};\n\nUploader.prototype._makeUploader = function() {\n    const _this = this;\n\n    // ,     multiple=false\n    let is_loading = false;\n\n    let uploader = new FineUploaderBasic({\n        button: this._opts.button,\n        multiple: this._opts.multiple,\n        maxConnections: this._opts.maxConnections,\n        request: {\n            endpoint: this._opts.url\n        },\n        chunking: {\n            enabled: true,\n            partSize: 2 * 1024 * 1024,\n            concurrent: {\n                enabled: false\n            }\n        },\n        text: {\n            fileInputTitle: ''\n        },\n        validation: {\n            stopOnFirstInvalidFile: false,\n            sizeLimit: _this._opts.validation.sizeLimit || 0,\n            acceptFiles: _this._opts.validation.acceptFiles || null,\n            allowedExtensions: _this._opts.validation.allowedExtensions || []\n        },\n        messages: {\n            typeError: \"`{file}` has an invalid extension. Valid extension(s): {extensions}.\",\n            sizeError: \"`{file}` is too large, maximum file size is {sizeLimit}.\",\n        },\n        callbacks: {\n            onSubmit: function(id) {\n                const uploader = this;\n                const file = uploader.getFile(id);\n\n                if (is_loading && !_this._opts.multiple) {\n                    return false\n                } else {\n                    is_loading = true;\n                }\n\n                //     \n                if (_this._opts.filters && _this._opts.filters.length) {\n                    for (let index=0; index<_this._opts.filters.length; index++) {\n                        const filter = _this._opts.filters[index];\n                        try {\n                            filter.call(uploader, id, file);\n                        } catch (error) {\n                            _this.trigger('error', [id, error.message]);\n                            return false;\n                        }\n                    }\n                }\n\n                const validationOptions = _this._opts.validation;\n                if (isFile(file)) {\n                    // check mimetypes\n                    const allowedMimeTypes = validationOptions.acceptFiles;\n                    if (allowedMimeTypes && allowedMimeTypes.length) {\n                        let allowed = false;\n                        if (Array.isArray(allowedMimeTypes)) {\n                            allowed = allowedMimeTypes.some(function(template) {\n                                return match(file.type, template);\n                            });\n                        } else if (typeof allowedMimeTypes === 'string') {\n                            allowed = match(file.type, allowedMimeTypes);\n                        }\n\n                        if (!allowed) {\n                            const reason = `\\`${file.name}\\` has an invalid mimetype '${file.type}'`;\n                            _this.trigger('error', [id, reason]);\n                            return false;\n                        }\n                    }\n\n                    // check image size\n                    if (validationOptions.image) {\n                        return new Promise(function(resolve, reject) {\n                            const image = new Image();\n                            const url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                            if (url) {\n                                image.onerror = function() {\n                                    reject(\"Cannot determine dimensions for an image. May be too large.\");\n                                };\n                                image.onload = function() {\n                                    resolve({\n                                        width: this.width,\n                                        height: this.height\n                                    });\n                                };\n                                image.src = url.createObjectURL(file);\n                            } else {\n                                reject(\"No createObjectURL function available to generate image URL!\");\n                            }\n                        }).then(function(size) {\n                            if (validationOptions.minImageWidth && (size.width < validationOptions.minImageWidth)) {\n                                const reason = `\\`${file.name}\\` is not wide enough. Minimum width is ${validationOptions.minImageWidth}px`;\n                                _this.trigger('error', [id, reason]);\n                                throw new Error(reason);\n                            }\n                            if (validationOptions.minImageHeight && (size.height < validationOptions.minImageHeight)) {\n                                const reason = `\\`${file.name}\\` is not tall enough. Minimum height is ${validationOptions.minImageHeight}px`;\n                                _this.trigger('error', [id, reason]);\n                                throw new Error(reason);\n                            }\n                            if (validationOptions.maxImageWidth && (size.width > validationOptions.maxImageWidth)) {\n                                const reason = `\\`${file.name}\\` is too wide. Maximum width is ${validationOptions.maxImageWidth}px`;\n                                _this.trigger('error', [id, reason]);\n                                throw new Error(reason);\n                            }\n                            if (validationOptions.maxImageHeight && (size.height > validationOptions.maxImageHeight)) {\n                                const reason = `\\`${file.name}\\` is too tall. Maximum height is ${validationOptions.maxImageHeight}px`;\n                                _this.trigger('error', [id, reason]);\n                                throw new Error(reason);\n                            }\n                        });\n                    }\n                }\n\n                try {\n                    _this.trigger('submit', [id]);\n                } catch (e) {\n                    if (e.name === 'ValidationError') {\n                        return false;\n                    } else {\n                        throw e;\n                    }\n                }\n            },\n            onSubmitted: function(id) {\n                _this.trigger('submitted', [id]);\n                let params = _this.getParams(id);\n                if (params) {\n                    params = _this.formatParams(params, id);\n                    this.setParams(params, id);\n                }\n            },\n            onUpload: function(id) {\n                _this.trigger('upload', [id]);\n            },\n            onProgress: function(id, name, uploadedBytes, totalBytes) {\n                const percentage = Math.ceil(100 * (uploadedBytes / totalBytes));\n                _this.trigger('progress', [id, percentage]);\n            },\n            onCancel: function(id) {\n                _this.trigger('cancel', [id]);\n            },\n            onComplete: function(id, name, response) {\n                if (response.success) {\n                    _this.trigger('complete', [id, response]);\n                }\n            },\n            onAllComplete: function(succeeded, failed) {\n                is_loading = false;\n                _this.trigger('all_complete', [succeeded, failed]);\n            },\n            onError: function(id, name, reason, xhr) {\n                let response, messages;\n                try {\n                    response = JSON.parse(xhr.responseText);\n                } catch (error) {\n\n                }\n\n                if (response) {\n                    messages = response.errors || response.error || reason;\n                } else {\n                    messages = reason;\n                }\n\n                _this.trigger('error', [id, messages]);\n            }\n        }\n    });\n\n    if (this._opts.dropzones && this._opts.dropzones.length) {\n        new DragAndDrop({\n            dropZoneElements: this._opts.dropzones,\n            allowMultipleItems: this._opts.multiple,\n            classes: {\n                dropActive: 'dropzone-highlighted'\n            },\n            callbacks: {\n                processingDroppedFilesComplete: function(files) {\n                    uploader.addFiles(files);\n                }\n            }\n        });\n    }\n\n    return uploader;\n};\n\n\nfunction getPaperParams(element) {\n    const params = {};\n    const dataset = element.dataset;\n    Object.keys(dataset).forEach(function(name) {\n        if (/^paper(?:[^a-z0-9]|$)/.test(name)) {\n            params[name] = dataset[name];\n        }\n    });\n    return params;\n}\n\n\nexport {Uploader, ValidationError, getPaperParams};\n","// PaperAdmin API\nconst bootbox = window.paperAdmin.bootbox;\n\nlet _errors = [];\n\n\nfunction formatErrors(errors) {\n    if (Array.isArray(errors)) {\n        if (errors.length === 1) {\n            return errors[0]\n        } else {\n            let output = [\n                `Please correct the following errors:`,\n                `<ul class=\"px-4 mb-0\">`,\n            ];\n            for (let i=0, l=errors.length; i<l; i++) {\n                output.push(`<li>${errors[i]}</li>`);\n            }\n            output.push(`</ul>`);\n            output = output.join('\\n');\n            return output\n        }\n    }\n    return errors\n}\n\n\n/**\n *   .\n *\n * @param {String|String[]} error\n */\nfunction showError(error) {\n    console.debug(`Show error: ${error}`);\n    setTimeout(function() {\n        bootbox.alert({\n            title: 'Error',\n            message: formatErrors(error)\n        });\n    });\n}\n\n/**\n *       .\n * @param {String|String[]} error\n */\nfunction collectError(error) {\n    console.debug(`Collect error: ${error}`);\n    if (typeof error === 'string') {\n        _errors.push(error);\n    } else if (Array.isArray(error)) {\n        _errors = _errors.concat(error);\n    }\n}\n\n/**\n *   \n */\nfunction showCollectedErrors() {\n    if (!_errors || !_errors.length) {\n        return\n    }\n\n    setTimeout(function() {\n        if (!_errors || !_errors.length) {\n            return\n        }\n\n        bootbox.alert({\n            title: 'Error',\n            message: formatErrors(_errors)\n        });\n\n        _errors = [];\n    });\n}\n\nexport {\n    showError,\n    collectError,\n    showCollectedErrors\n};\n","/* global gettext */\n\nimport deepmerge from \"deepmerge\";\nimport {Uploader, getPaperParams} from \"./_uploader\";\nimport {showError} from \"./_utils\";\n\n// PaperAdmin API\nconst EventEmitter = window.paperAdmin.EventEmitter;\nconst bootbox = window.paperAdmin.bootbox;\nconst preloader = window.paperAdmin.preloader;\nconst formUtils = window.paperAdmin.formUtils;\n\n/**\n * @fires upload:submit\n * @fires upload:submitted\n * @fires upload:upload\n * @fires upload:created\n * @fires upload:deleted\n * @fires upload:complete\n * @fires upload:cancel\n * @param element\n * @param options\n * @constructor\n */\nfunction BaseWidget(element, options) {\n    /**\n     * @type object\n     */\n    this._opts = deepmerge({\n        input: '',\n        uploadButton: '',\n        cancelButton: '',\n        changeButton: '',\n        deleteButton: '',\n\n        link: '',\n\n        urls: {\n            upload: '',\n            change: '',\n            delete: ''\n        }\n    }, options || {});\n\n    this.element = element;\n\n    this.input = this.element.querySelector(this._opts.input);\n    if (!this.input) {\n        throw new Error(`Not found element \"${this._opts.input}\"`);\n    }\n\n    this.uploadButton = this.element.querySelector(this._opts.uploadButton);\n    if (!this.uploadButton) {\n        throw new Error(`Not found element \"${this._opts.uploadButton}\"`);\n    }\n\n    this.cancelButton = this.element.querySelector(this._opts.cancelButton);\n    if (!this.cancelButton) {\n        throw new Error(`Not found element \"${this._opts.cancelButton}\"`);\n    }\n\n    this.changeButton = this.element.querySelector(this._opts.changeButton);\n    if (!this.changeButton) {\n        throw new Error(`Not found element \"${this._opts.changeButton}\"`);\n    }\n\n    this.deleteButton = this.element.querySelector(this._opts.deleteButton);\n    if (!this.deleteButton) {\n        throw new Error(`Not found element \"${this._opts.deleteButton}\"`);\n    }\n\n    // \n    this.loading = false;\n    this.empty = isNaN(this.instanceId);\n\n    this.uploader = this.initUploader();\n    this.addListeners();\n}\n\nBaseWidget.prototype = Object.create(EventEmitter.prototype);\n\nObject.defineProperty(BaseWidget.prototype, 'instanceId', {\n    get: function() {\n        return parseInt(this.input.value);\n    },\n    set: function(value) {\n        this.input.value = parseInt(value) || '';\n    }\n});\n\nObject.defineProperty(BaseWidget.prototype, 'empty', {\n    get: function() {\n        return Boolean(this._empty);\n    },\n    set: function(value) {\n        const newValue = Boolean(value);\n        if (newValue === Boolean(this._empty)) {\n            return\n        }\n        if (newValue) {\n            this.element.classList.add('empty');\n        } else {\n            this.element.classList.remove('empty');\n        }\n        this._empty = newValue;\n    }\n});\n\nObject.defineProperty(BaseWidget.prototype, 'loading', {\n    get: function() {\n        return Boolean(this._loading);\n    },\n    set: function(value) {\n        const newValue = Boolean(value);\n        if (newValue === Boolean(this._loading)) {\n            return\n        }\n        if (newValue) {\n            this.element.classList.add('loading');\n        } else {\n            this.element.classList.remove('loading');\n            this.element.classList.remove('processing');\n        }\n        this._loading = newValue;\n    }\n});\n\n/**\n *   .\n */\nBaseWidget.prototype.initUploader = function() {\n    const _this = this;\n    return new Uploader(this.element, {\n        url: this._opts.urls.upload,\n        button: this.uploadButton,\n        dropzones: this.element.querySelectorAll('.dropzone-overlay'),\n        validation: JSON.parse(this.element.dataset.validation),\n    }).on('submitted', function(id) {\n        _this.trigger('upload:submitted', [id]);\n    }).on('upload', function(id) {\n        _this.loading = true;\n\n        const progressBar = _this.element.querySelector('.progress-bar');\n        progressBar && (progressBar.style.width = '');\n        _this.trigger('upload:upload', [id]);\n    }).on('progress', function(id, percentage) {\n        const progressBar = _this.element.querySelector('.progress-bar');\n        progressBar && (progressBar.style.width = percentage + '%');\n\n        if (percentage >= 100) {\n            _this.element.classList.add('processing');\n        }\n    }).on('complete', function(id, response) {\n        _this.empty = false;\n        _this.instanceId = response.id;\n        _this.trigger('upload:created');\n\n        const fileName = _this.element.querySelector('.file-name');\n        fileName && (fileName.textContent = response.name);\n\n        const fileInfo = _this.element.querySelector('.file-info');\n        fileInfo && (fileInfo.textContent = response.file_info);\n\n        const previewLink = _this.element.querySelector(_this._opts.link);\n        previewLink && (previewLink.href = response.url);\n\n        _this.trigger('upload:complete');\n    }).on('cancel', function(id) {\n        _this.trigger('upload:cancel', [id]);\n    }).on('error', function(id, messages) {\n        showError(messages);\n    }).on('all_complete', function() {\n        _this.loading = false;\n    });\n};\n\n/**\n *    .\n * @param $dialog\n * @private\n */\nBaseWidget.prototype._change = function($dialog) {\n    if (isNaN(this.instanceId)) {\n        return\n    }\n\n    const _this = this;\n    const $form = $dialog.find('form');\n    Promise.all([\n        preloader.show(),\n        fetch($form.prop('action'), {\n            method: 'POST',\n            credentials: 'same-origin',\n            body: new FormData($form.get(0))\n        })\n    ]).then(function(values) {\n        const response = values[1];\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        preloader.hide();\n        formUtils.cleanFormErrors($form.get(0));\n        if (response.form_errors) {\n            formUtils.addFormErrorsFromJSON($form.get(0), response.form_errors);\n        } else {\n            $dialog.modal('hide');\n\n            const fileName = _this.element.querySelector('.file-name');\n            fileName && (fileName.textContent = response.name);\n\n            const fileInfo = _this.element.querySelector('.file-info');\n            fileInfo && (fileInfo.textContent = response.file_info);\n\n            const previewLink = _this.element.querySelector(_this._opts.link);\n            previewLink && (previewLink.href = response.url);\n        }\n    }).catch(function(error) {\n        preloader.hide();\n        if ((typeof error === 'object') && error.response && error.response.errors) {\n            showError(error.response.errors);\n        } else if (error instanceof Error) {\n            showError(error.message);\n        } else {\n            showError(error);\n        }\n    });\n};\n\n/**\n *  .\n * @private\n */\nBaseWidget.prototype._delete = function() {\n    if (isNaN(this.instanceId)) {\n        return\n    }\n\n    const data = new FormData();\n    const params = getPaperParams(this.element);\n    Object.keys(params).forEach(function(name) {\n        data.append(name, params[name]);\n    });\n    data.append('instance_id', this.instanceId.toString());\n\n    const _this = this;\n    Promise.all([\n        preloader.show(),\n        fetch(this._opts.urls.delete, {\n            method: 'POST',\n            credentials: 'same-origin',\n            body: data\n        })\n    ]).then(function(values) {\n        const response = values[1];\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        preloader.hide();\n        _this.empty = true;\n        _this.instanceId = '';\n\n        const fileName = _this.element.querySelector('.file-name');\n        fileName && (fileName.textContent = '');\n\n        const fileInfo = _this.element.querySelector('.file-info');\n        fileInfo && (fileInfo.textContent = '');\n\n        _this.trigger('upload:deleted');\n    }).catch(function(error) {\n        preloader.hide();\n        if ((typeof error === 'object') && error.response && error.response.errors) {\n            showError(error.response.errors);\n        } else if (error instanceof Error) {\n            showError(error.message);\n        } else {\n            showError(error);\n        }\n    });\n};\n\nBaseWidget.prototype.addListeners = function() {\n    const _this = this;\n\n    //  \n    this.cancelButton.addEventListener('click', function(event) {\n        event.preventDefault();\n        _this.loading = false;\n        _this.uploader.uploader.cancelAll();\n    });\n\n    //  \n    this.deleteButton.addEventListener('click', function(event) {\n        event.preventDefault();\n\n        bootbox.dialog({\n            size: 'small',\n            title: gettext('Confirmation'),\n            message: gettext('Are you sure you want to <b>DELETE</b> this file?'),\n            onEscape: true,\n            buttons: {\n                cancel: {\n                    label: gettext('Cancel'),\n                    className: 'btn-outline-info'\n                },\n                confirm: {\n                    label: gettext('Delete'),\n                    className: 'btn-danger',\n                    callback: function() {\n                        _this._delete();\n                    }\n                }\n            }\n        });\n    });\n\n    //  \n    this.changeButton.addEventListener('click', function(event) {\n        event.preventDefault();\n\n        const data = new FormData();\n        const params = getPaperParams(_this.element);\n        Object.keys(params).forEach(function(name) {\n            data.append(name, params[name]);\n        });\n        data.append('instance_id', _this.instanceId.toString());\n        const queryString = new URLSearchParams(data).toString();\n\n        Promise.all([\n            preloader.show(),\n            fetch(`${_this._opts.urls.change}?${queryString}`, {\n                credentials: 'same-origin',\n            })\n        ]).then(function(values) {\n            const response = values[1];\n            if (!response.ok) {\n                const error = new Error(`${response.status} ${response.statusText}`);\n                error.response = response;\n                throw error;\n            }\n\n            return response.json();\n        }).then(function(response) {\n            if (response.errors && response.errors.length) {\n                const error = new Error('Invalid request');\n                error.response = response;\n                throw error\n            }\n\n            preloader.hide();\n            const $dialog = bootbox.dialog({\n                title: gettext('Edit file'),\n                message: response.form,\n                onEscape: true,\n                buttons: {\n                    cancel: {\n                        label: gettext('Cancel'),\n                        className: 'btn-outline-info'\n                    },\n                    ok: {\n                        label: gettext('Save'),\n                        className: 'btn-success',\n                        callback: function() {\n                            _this._change(this);\n                            return false;\n                        }\n                    }\n                }\n            });\n\n            const $form = $dialog.find('form');\n            $form.on('submit', function() {\n                _this._change($dialog);\n                return false;\n            });\n        }).catch(function(error) {\n            preloader.hide();\n            if ((typeof error === 'object') && error.response && error.response.errors) {\n                showError(error.response.errors);\n            } else if (error instanceof Error) {\n                showError(error.message);\n            } else {\n                showError(error);\n            }\n        });\n    });\n};\n\n\nexport {BaseWidget};\n","import {BaseWidget} from \"./base_widget\";\n\n// PaperAdmin API\nconst whenDomReady = window.paperAdmin.whenDomReady;\nconst emitters = window.paperAdmin.emitters;\n\n\n// CSS\nimport \"../css/file_widget.scss\";\n\n\nfunction initWidget(element) {\n    if (element.closest('.empty-form')) {\n        return\n    }\n\n    new BaseWidget(element, {\n        input: '.file-uploader__input',\n        uploadButton: '.file-uploader__upload-button',\n        cancelButton: '.file-uploader__cancel-button',\n        changeButton: '.file-uploader__change-button',\n        deleteButton: '.file-uploader__delete-button',\n        link: '.file-uploader__link',\n        urls: {\n            upload: element.dataset.uploadUrl,\n            change: element.dataset.changeUrl,\n            delete: element.dataset.deleteUrl,\n        }\n    });\n}\n\n\nfunction initWidgets(root = document.body) {\n    let file_selector = '.file-uploader';\n    root.matches(file_selector) && initWidget(root);\n    root.querySelectorAll(file_selector).forEach(initWidget);\n}\n\n\nwhenDomReady(initWidgets);\nemitters.dom.on('mutate', initWidgets);\n","import {BaseWidget} from \"./base_widget\";\n\n// PaperAdmin API\nconst whenDomReady = window.paperAdmin.whenDomReady;\nconst emitters = window.paperAdmin.emitters;\n\n// CSS\nimport \"../css/image_widget.scss\";\n\n\nfunction initWidget(element) {\n    if (element.closest('.empty-form')) {\n        return\n    }\n\n    new BaseWidget(element, {\n        input: '.image-uploader__input',\n        uploadButton: '.image-uploader__upload-button',\n        cancelButton: '.image-uploader__cancel-button',\n        changeButton: '.image-uploader__change-button',\n        deleteButton: '.image-uploader__delete-button',\n        link: '.image-uploader__link',\n        urls: {\n            upload: element.dataset.uploadUrl,\n            change: element.dataset.changeUrl,\n            delete: element.dataset.deleteUrl,\n        }\n    });\n}\n\n\nfunction initWidgets(root = document.body) {\n    let file_selector = '.image-uploader';\n    root.matches(file_selector) && initWidget(root);\n    root.querySelectorAll(file_selector).forEach(initWidget);\n}\n\n\nwhenDomReady(initWidgets);\nemitters.dom.on('mutate', initWidgets);\n","/* global gettext */\n\nimport deepmerge from \"deepmerge\";\nimport allSettled from \"promise.allsettled\";\nimport {Uploader, ValidationError, getPaperParams} from \"./_uploader\";\nimport {showError, collectError, showCollectedErrors} from \"./_utils\";\n\n// PaperAdmin API\nconst EventEmitter = window.paperAdmin.EventEmitter;\nconst whenDomReady = window.paperAdmin.whenDomReady;\nconst Sortable = window.paperAdmin.Sortable;\nconst bootbox = window.paperAdmin.bootbox;\nconst emitters = window.paperAdmin.emitters;\nconst preloader = window.paperAdmin.preloader;\nconst formUtils = window.paperAdmin.formUtils;\n\n// CSS\nimport \"../css/collection_widget.scss\";\n\n\n/**\n * @param element\n * @param options\n * @fires collection:created\n * @fires collection:deleted\n * @fires collection:submit_item\n * @fires collection:upload_item\n * @fires collection:cancel_item\n * @fires collection:complete_item\n * @constructor\n */\nfunction Collection(element, options) {\n    /**\n     * @type Object\n     */\n    this._opts = deepmerge({\n        input: '.collection__input',\n        itemContainer: '.collection__items',\n        item: '.collection__item',\n        createButton: '.collection__create-button',\n        uploadButton: '.collection__upload-button',\n        deleteButton: '.collection__delete-button',\n        preloaderItem: '.collection__item--preloader',\n        preloaderTemplate: '.collection__item-preloader',\n\n        itemPreview: '.collection__item-preview',\n        itemLink: '.collection__item-link',\n        itemCheckbox: '.collection__item-checkbox',\n        itemName: '.collection__item-name',\n        changeItemButton: '.collection__item-change-button',\n        cancelItemButton: '.collection__item-cancel-button',\n        deleteItemButton: '.collection__item-delete-button',\n        itemSelectorTemplate: '.collection__{}-item-template',\n\n        collectionEmptyState: 'collection--empty',\n        itemCheckedState: 'collection__item--checked',\n        itemRemovingState: 'collection__item--removing',\n\n        urls: {\n            createCollection: '',\n            deleteCollection: '',\n            uploadItem: '',\n            changeItem: '',\n            deleteItem: '',\n            sortItems: ''\n        }\n    }, options || {});\n\n    this.element = element;\n\n    this.input = this.element.querySelector(this._opts.input);\n    if (!this.input) {\n        throw new Error(`Not found element \"${this._opts.input}\"`);\n    }\n\n    this.itemContainer = this.element.querySelector(this._opts.itemContainer);\n    if (!this.itemContainer) {\n        throw new Error(`Not found element \"${this._opts.itemContainer}\"`);\n    }\n\n    this.createButton = this.element.querySelector(this._opts.createButton);\n    if (!this.createButton) {\n        throw new Error(`Not found element \"${this._opts.createButton}\"`);\n    }\n\n    this.uploadButton = this.element.querySelector(this._opts.uploadButton);\n    if (!this.uploadButton) {\n        throw new Error(`Not found element \"${this._opts.uploadButton}\"`);\n    }\n\n    this.deleteButton = this.element.querySelector(this._opts.deleteButton);\n    if (!this.deleteButton) {\n        throw new Error(`Not found element \"${this._opts.deleteButton}\"`);\n    }\n\n    this.init();\n}\n\nCollection.prototype = Object.create(EventEmitter.prototype);\n\nObject.defineProperty(Collection.prototype, 'collectionId', {\n    get: function() {\n        return parseInt(this.input.value);\n    },\n    set: function(value) {\n        const newValue = parseInt(value);\n        if (isNaN(newValue)) {\n            //  \n            this.input.value = '';\n            this.createButton.disabled = false;\n            this.uploadButton.disabled = true;\n            this.deleteButton.disabled = true;\n            this.element.classList.add(this._opts.collectionEmptyState);\n\n            const uploadInput = this.uploadButton.querySelector('input[type=\"file\"]');\n            uploadInput && (uploadInput.disabled = true);\n        } else {\n            //  \n            this.input.value = newValue;\n            this.createButton.disabled = true;\n            this.uploadButton.disabled = false;\n            this.deleteButton.disabled = false;\n            this.element.classList.remove(this._opts.collectionEmptyState);\n\n            const uploadInput = this.uploadButton.querySelector('input[type=\"file\"]');\n            uploadInput && (uploadInput.disabled = false);\n        }\n    }\n});\n\nObject.defineProperty(Collection.prototype, 'loading', {\n    get: function() {\n        return Boolean(this._loading);\n    },\n    set: function(value) {\n        const newValue = Boolean(value);\n        if (newValue === Boolean(this._loading)) {\n            return\n        }\n        if (newValue) {\n            this.element.classList.add('loading');\n            this.deleteButton.disabled = true;\n        } else {\n            this.element.classList.remove('loading');\n            this.deleteButton.disabled = false;\n        }\n        this._loading = newValue;\n    }\n});\n\n/**\n *  \n */\nCollection.prototype.init = function() {\n    this.uploader = this.initUploader();\n    this.sortable = this.initSortable();\n    this.collectionId = this.input.value;\n    this.loading = false;\n    this.addListeners();\n};\n\n/**\n *   .\n */\nCollection.prototype.initUploader = function() {\n    const _this = this;\n    return new Uploader(this.element, {\n        url: this._opts.urls.uploadItem,\n        multiple: true,\n        maxConnections: 4,\n        button: this.uploadButton,\n        dropzones: this.element.querySelectorAll('.dropzone-overlay'),\n        validation: JSON.parse(this.element.dataset.validation),\n        params: {\n            collectionId: function() {\n                return _this.collectionId;\n            },\n            order: function(id) {\n                const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n                return Array.from(_this.itemContainer.children).indexOf(preloader);\n            }\n        },\n    }).on('submit', function() {\n        if (isNaN(_this.collectionId)) {\n            throw new ValidationError();\n        }\n    }).on('submitted', function(id) {\n        const template = _this.element.querySelector(_this._opts.preloaderTemplate);\n        const clone = document.importNode(template.content, true);\n\n        const preloader = clone.querySelector(_this._opts.item);\n        preloader.dataset.queueId = id;\n        preloader.classList.add(`item-preloader-${id}`);\n\n        const file = this.uploader.getFile(id);\n        const fileName = preloader.querySelector(_this._opts.itemName);\n        if (fileName) {\n            fileName.title = file.name;\n            fileName.textContent = file.name;\n        }\n\n        _this.itemContainer.append(clone);\n\n        _this.trigger('collection:submit_item', [preloader, id]);\n    }).on('upload', function(id) {\n        _this.loading = true;\n\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        _this.trigger('collection:upload_item', [preloader, id]);\n    }).on('progress', function(id, percentage) {\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        const progressBar = preloader.querySelector('.progress-bar');\n        progressBar && (progressBar.style.height = percentage + '%');\n\n        if (percentage >= 100) {\n            preloader.classList.add('processing');\n        }\n    }).on('complete', function(id, response) {\n        if (isNaN(_this.collectionId)) {\n            _this.collectionId = response.collectionId;\n            _this.trigger('collection:created');\n        }\n\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        _this.trigger('collection:complete_item', [preloader, id]);\n\n        const itemType = response.item_type;\n        const templateSelector = _this._opts.itemSelectorTemplate.replace('{}', itemType);\n        const template = _this.element.querySelector(templateSelector);\n        if (!template) {\n            _this.trigger('error', [id, `Invalid item_type: ${itemType}`]);\n            return\n        } else {\n            const clone = document.importNode(template.content, true);\n            const item = clone.querySelector(_this._opts.item);\n            item.setAttribute('data-pk', response.id);\n            item.setAttribute('data-item-type', itemType);\n\n            const preview = clone.querySelector(_this._opts.itemPreview);\n            preview && (preview.innerHTML = response.preview);\n\n            const previewLink = clone.querySelector(_this._opts.itemLink);\n            previewLink && (previewLink.href = response.url);\n\n            const fileName = clone.querySelector(_this._opts.itemName);\n            if (fileName) {\n                fileName.title = response.name;\n                fileName.textContent = response.name;\n            }\n\n            preloader.before(clone);\n        }\n\n        preloader.remove();\n    }).on('cancel', function(id) {\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        _this.trigger('collection:cancel_item', [preloader, id]);\n        if (preloader) {\n            //  \n            preloader.addEventListener('animationend', function() {\n                preloader.remove();\n            });\n            preloader.classList.add(_this._opts.itemRemovingState);\n        }\n    }).on('error', function(id, messages) {\n        collectError(messages);\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        if (preloader) {\n            //  \n            preloader.addEventListener('animationend', function() {\n                preloader.remove();\n            });\n            preloader.classList.add(_this._opts.itemRemovingState);\n        }\n    }).on('all_complete', function() {\n        _this.loading = false;\n        showCollectedErrors();\n    });\n};\n\nCollection.prototype.initSortable = function() {\n    const _this = this;\n    return Sortable.create(this.itemContainer, {\n        animation: 0,\n        draggable: this._opts.item,\n        filter: this._opts.preloaderItem,\n        handle: '.sortable-handler',\n        ghostClass: 'sortable-ghost',\n        onEnd: function() {\n            const items = Array.from(_this.itemContainer.querySelectorAll(_this._opts.item));\n            const order = items.map(function(item) {\n                if (!item.matches(_this._opts.preloaderItem)) {\n                    return item.dataset.pk;\n                }\n            }).filter(Boolean);\n\n            const data = new FormData();\n            const params = getPaperParams(_this.element);\n            Object.keys(params).forEach(function(name) {\n                data.append(name, params[name]);\n            });\n            data.append('collectionId', _this.collectionId.toString());\n            data.append('order', order.join(','));\n\n            fetch(_this._opts.urls.sortItems, {\n                method: 'POST',\n                credentials: 'same-origin',\n                body: data\n            }).then(function(response) {\n                if (!response.ok) {\n                    const error = new Error(`${response.status} ${response.statusText}`);\n                    error.response = response;\n                    throw error;\n                }\n                return response.json();\n            }).then(function(response) {\n                if (response.errors && response.errors.length) {\n                    const error = new Error('Invalid request');\n                    error.response = response;\n                    throw error\n                }\n            }).catch(function(error) {\n                if ((typeof error === 'object') && error.response && error.response.errors) {\n                    showError(error.response.errors);\n                } else if (error instanceof Error) {\n                    showError(error.message);\n                } else {\n                    showError(error);\n                }\n            })\n        },\n    });\n};\n\n/**\n *      .\n */\nCollection.prototype.cleanItems = function() {\n    while (this.itemContainer.firstChild) {\n        this.itemContainer.removeChild(this.itemContainer.firstChild);\n    }\n};\n\n/**\n *  .\n * @private\n * @returns {Promise}\n */\nCollection.prototype._createCollection = function() {\n    if (!isNaN(this.collectionId)) {\n        return Promise.reject('collection already exists');\n    }\n\n    const data = new FormData();\n    const params = getPaperParams(this.element);\n    Object.keys(params).forEach(function(name) {\n        data.append(name, params[name]);\n    });\n\n    const _this = this;\n    return fetch(this._opts.urls.createCollection, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: data\n    }).then(function(response) {\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        _this.collectionId = response.collection_id;\n        _this.trigger('collection:created');\n    });\n};\n\n/**\n *   .\n * @param item\n * @private\n * @returns {Promise}\n */\nCollection.prototype._deleteItem = function(item) {\n    if (isNaN(this.collectionId)) {\n        return Promise.reject('collection required');\n    }\n\n    const instance_id = parseInt(item && item.dataset.pk);\n    if (isNaN(instance_id)) {\n        return Promise.reject('invalid ID')\n    }\n\n    const data = new FormData();\n    const params = getPaperParams(this.element);\n    Object.keys(params).forEach(function(name) {\n        data.append(name, params[name]);\n    });\n    data.append('collectionId', this.collectionId.toString());\n    data.append('instance_id', instance_id.toString());\n    data.append('item_type', item.dataset.itemType);\n\n    const _this = this;\n    return fetch(this._opts.urls.deleteItem, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: data\n    }).then(function(response) {\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        //  \n        item.addEventListener('animationend', function() {\n            item.remove();\n        });\n        item.classList.add(_this._opts.itemRemovingState);\n    });\n};\n\n/**\n *    .\n * @param item\n * @param $dialog\n * @private\n * @returns {Promise}\n */\nCollection.prototype._changeItem = function(item, $dialog) {\n    if (isNaN(this.collectionId)) {\n        return Promise.reject('collection required');\n    }\n\n    const instance_id = parseInt(item && item.dataset.pk);\n    if (isNaN(instance_id)) {\n        return Promise.reject('invalid ID')\n    }\n\n    const _this = this;\n    const $form = $dialog.find('form');\n    return fetch($form.prop('action'), {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new FormData($form.get(0))\n    }).then(function(response) {\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        formUtils.cleanFormErrors($form.get(0));\n        if (response.form_errors) {\n            formUtils.addFormErrorsFromJSON($form.get(0), response.form_errors);\n        } else {\n            $dialog.modal('hide');\n\n            const preview = item.querySelector(_this._opts.itemPreview);\n            preview && (preview.innerHTML = response.preview);\n\n            const previewLink = item.querySelector(_this._opts.itemLink);\n            previewLink && (previewLink.href = response.url);\n\n            const fileName = item.querySelector(_this._opts.itemName);\n            if (fileName) {\n                fileName.title = response.name;\n                fileName.textContent = response.name;\n            }\n        }\n    });\n};\n\n/**\n *  .\n * @private\n * @returns {Promise}\n */\nCollection.prototype._deleteCollection = function() {\n    if (isNaN(this.collectionId)) {\n        return Promise.reject('collection required')\n    }\n\n    const data = new FormData();\n    const params = getPaperParams(this.element);\n    Object.keys(params).forEach(function(name) {\n        data.append(name, params[name]);\n    });\n    data.append('collectionId', this.collectionId.toString());\n\n    //    .  ,      ,\n    // ..  .\n    this.uploader.uploader.cancelAll();\n\n    const _this = this;\n    return fetch(this._opts.urls.deleteCollection, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: data\n    }).then(function(response) {\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        let lastItem = null;\n        Array.from(_this.itemContainer.children).forEach(function(item) {\n            item.classList.add(_this._opts.itemRemovingState);\n            lastItem = item;\n        });\n\n        if (lastItem) {\n            lastItem.addEventListener('animationend', function() {\n                _this.cleanItems();\n                _this.collectionId = '';\n                _this.trigger('collection:deleted');\n            });\n        } else {\n            _this.cleanItems();\n            _this.collectionId = '';\n            _this.trigger('collection:deleted');\n        }\n    });\n};\n\n/**\n *   .\n * @param {HTMLElement} item\n * @param {Boolean} state\n * @private\n */\nCollection.prototype._checkItem = function(item, state=true) {\n    item.classList.toggle(this._opts.itemCheckedState, state);\n    const checkbox = item.querySelector(this._opts.itemCheckbox);\n    checkbox.checked = state;\n};\n\nCollection.prototype.addListeners = function() {\n    const _this = this;\n\n    //  \n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.createButton)) {\n            return\n        }\n\n        event.preventDefault();\n\n        Promise.all([\n            preloader.show(),\n            _this._createCollection()\n        ]).then(function() {\n            preloader.hide();\n        }).catch(function(error) {\n            preloader.hide();\n            if ((typeof error === 'object') && error.response && error.response.errors) {\n                showError(error.response.errors);\n            } else if (error instanceof Error) {\n                showError(error.message);\n            } else {\n                showError(error);\n            }\n        });\n    });\n\n    //  \n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.deleteButton)) {\n            return\n        }\n\n        event.preventDefault();\n\n        bootbox.dialog({\n            size: 'small',\n            title: gettext('Confirmation'),\n            message: gettext('Are you sure you want to <b>DELETE</b> this collection?'),\n            onEscape: true,\n            buttons: {\n                cancel: {\n                    label: gettext('Cancel'),\n                    className: 'btn-outline-info'\n                },\n                confirm: {\n                    label: gettext('Delete'),\n                    className: 'btn-danger',\n                    callback: function() {\n                        Promise.all([\n                            preloader.show(),\n                            _this._deleteCollection()\n                        ]).then(function() {\n                            preloader.hide()\n                        }).catch(function(error) {\n                            preloader.hide();\n                            if ((typeof error === 'object') && error.response && error.response.errors) {\n                                showError(error.response.errors);\n                            } else if (error instanceof Error) {\n                                showError(error.message);\n                            } else {\n                                showError(error);\n                            }\n                        });\n                    }\n                }\n            }\n        });\n    });\n\n    //  \n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.changeItemButton)) {\n            return\n        }\n\n        event.preventDefault();\n\n        const item = event.target.closest(_this._opts.item);\n        const instance_id = parseInt(item && item.dataset.pk);\n        if (isNaN(instance_id)) {\n            return\n        }\n\n        const data = new FormData();\n        const params = getPaperParams(_this.element);\n        Object.keys(params).forEach(function(name) {\n            data.append(name, params[name]);\n        });\n        data.append('collectionId', _this.collectionId.toString());\n        data.append('instance_id', instance_id.toString());\n        data.append('item_type', item.dataset.itemType);\n        const queryString = new URLSearchParams(data).toString();\n\n        Promise.all([\n            preloader.show(),\n            fetch(`${_this._opts.urls.changeItem}?${queryString}`, {\n                credentials: 'same-origin',\n            })\n        ]).then(function(values) {\n            const response = values[1];\n            if (!response.ok) {\n                const error = new Error(`${response.status} ${response.statusText}`);\n                error.response = response;\n                throw error;\n            }\n\n            return response.json();\n        }).then(function(response) {\n            if (response.errors && response.errors.length) {\n                const error = new Error('Invalid request');\n                error.response = response;\n                throw error\n            }\n\n            preloader.hide();\n            const $dialog = bootbox.dialog({\n                title: gettext('Edit file'),\n                message: response.form,\n                onEscape: true,\n                buttons: {\n                    cancel: {\n                        label: gettext('Cancel'),\n                        className: 'btn-outline-info'\n                    },\n                    ok: {\n                        label: gettext('Save'),\n                        className: 'btn-success',\n                        callback: function() {\n                            Promise.all([\n                                preloader.show(),\n                                _this._changeItem(item, $dialog)\n                            ]).then(function() {\n                                preloader.hide();\n                            }).catch(function(error) {\n                                preloader.hide();\n                                if ((typeof error === 'object') && error.response && error.response.errors) {\n                                    showError(error.response.errors);\n                                } else if (error instanceof Error) {\n                                    showError(error.message);\n                                } else {\n                                    showError(error);\n                                }\n                            });\n                            return false;\n                        }\n                    }\n                }\n            });\n\n            const $form = $dialog.find('form');\n            $form.on('submit', function() {\n                Promise.all([\n                    preloader.show(),\n                    _this._changeItem(item, $dialog)\n                ]).then(function() {\n                    preloader.hide();\n                }).catch(function(error) {\n                    preloader.hide();\n                    if ((typeof error === 'object') && error.response && error.response.errors) {\n                        showError(error.response.errors);\n                    } else if (error instanceof Error) {\n                        showError(error.message);\n                    } else {\n                        showError(error);\n                    }\n                });\n                return false;\n            });\n        }).catch(function(error) {\n            preloader.hide();\n            if ((typeof error === 'object') && error.response && error.response.errors) {\n                showError(error.response.errors);\n            } else if (error instanceof Error) {\n                showError(error.message);\n            } else {\n                showError(error);\n            }\n        });\n    });\n\n    //  \n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.cancelItemButton)) {\n            return\n        }\n\n        event.preventDefault();\n        const item = event.target.closest(_this._opts.item);\n        const queueId = parseInt(item.dataset.queueId);\n        _this.uploader.uploader.cancel(queueId);\n    });\n\n    //  \n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.deleteItemButton)) {\n            return\n        }\n\n        event.preventDefault();\n\n        bootbox.dialog({\n            size: 'small',\n            title: gettext('Confirmation'),\n            message: gettext('Are you sure you want to <b>DELETE</b> this file?'),\n            onEscape: true,\n            buttons: {\n                cancel: {\n                    label: gettext('Cancel'),\n                    className: 'btn-outline-info'\n                },\n                confirm: {\n                    label: gettext('Delete'),\n                    className: 'btn-danger',\n                    callback: function() {\n                        const item = event.target.closest(_this._opts.item);\n                        Promise.all([\n                            preloader.show(),\n                            _this._deleteItem(item)\n                        ]).then(function() {\n                            preloader.hide();\n                        }).catch(function(error) {\n                            preloader.hide();\n                            if ((typeof error === 'object') && error.response && error.response.errors) {\n                                showError(error.response.errors);\n                            } else if (error instanceof Error) {\n                                showError(error.message);\n                            } else {\n                                showError(error);\n                            }\n                        });\n                    }\n                }\n            }\n        });\n    });\n\n    //   \n    let lastChecked = null;\n    this.element.addEventListener('click', function(event) {\n        const item = event.target.closest(_this._opts.item);\n        if (!item) {\n            return\n        }\n\n        let target_state;\n        let checkbox = event.target.closest(_this._opts.itemCheckbox);\n        if (!checkbox) {\n            //     ,      ,\n            //     Ctrl ( Shift   )\n            if (!event.ctrlKey && !event.shiftKey) {\n                return\n            }\n\n            checkbox = item.querySelector(_this._opts.itemCheckbox);\n            if (!checkbox) {\n                return\n            }\n            target_state = !checkbox.checked;\n        } else {\n            //        \n            target_state = checkbox.checked;\n        }\n\n        if (lastChecked && event.shiftKey && (lastChecked !== item)) {\n            const items = Array.from(_this.itemContainer.querySelectorAll(_this._opts.item));\n            const lastIndex = items.indexOf(lastChecked);\n            const targetIndex = items.indexOf(item);\n            const startIndex = Math.min(lastIndex, targetIndex);\n            const endIndex = Math.max(lastIndex, targetIndex);\n            const item_slice = items.slice(startIndex, endIndex + 1);\n            item_slice.forEach(function(item) {\n                _this._checkItem(item, target_state)\n            });\n        } else {\n            _this._checkItem(item, target_state);\n        }\n\n        lastChecked = item;\n    });\n\n    //      Delete\n    this.element.addEventListener('keyup', function(event) {\n        if (event.code === 'Delete') {\n            const items = Array.from(_this.itemContainer.querySelectorAll(_this._opts.item));\n            const checkedItems = items.filter(function(item) {\n                const checkbox = item.querySelector(_this._opts.itemCheckbox);\n                return checkbox.checked;\n            });\n\n            if (checkedItems.length) {\n                bootbox.dialog({\n                    size: 'small',\n                    title: gettext('Confirmation'),\n                    message: gettext(`Are you sure you want to <b>DELETE</b> the selected <b>${checkedItems.length}</b> file(s)?`),\n                    onEscape: true,\n                    buttons: {\n                        cancel: {\n                            label: gettext('Cancel'),\n                            className: 'btn-outline-info'\n                        },\n                        confirm: {\n                            label: gettext('Delete'),\n                            className: 'btn-danger',\n                            callback: function() {\n                                const delete_promises = checkedItems.map(function(item) {\n                                    return _this._deleteItem(item)\n                                });\n                                delete_promises.unshift(preloader.show());\n\n                                allSettled(\n                                    delete_promises\n                                ).then(function(results) {\n                                    preloader.hide();\n                                    for (let result of results) {\n                                        if (result.status === 'rejected') {\n                                            const error = result.reason;\n                                            if ((typeof error === 'object') && error.response && error.response.errors) {\n                                                collectError(error.response.errors);\n                                            } else if (error instanceof Error) {\n                                                collectError(error.message);\n                                            } else {\n                                                collectError(error);\n                                            }\n                                        }\n                                    }\n                                    showCollectedErrors();\n                                });\n                            }\n                        }\n                    }\n                });\n            }\n        }\n    });\n\n    //    \n    this.element.addEventListener('dblclick', function(event) {\n        const item = event.target.closest(_this._opts.item);\n        if (!item) {\n            return\n        }\n\n        const itemLink = item.querySelector(_this._opts.itemLink);\n        if (itemLink) {\n            itemLink.dispatchEvent(new MouseEvent('click', {\n                bubbles: true,\n                cancelable: true\n            }));\n        }\n    });\n};\n\n\nfunction initWidget(element) {\n    if (element.closest('.empty-form')) {\n        return\n    }\n\n    new Collection(element, {\n        urls: {\n            createCollection: element.dataset.createCollectionUrl,\n            deleteCollection: element.dataset.deleteCollectionUrl,\n            uploadItem: element.dataset.uploadItemUrl,\n            changeItem: element.dataset.changeItemUrl,\n            deleteItem: element.dataset.deleteItemUrl,\n            sortItems: element.dataset.sortItemsUrl\n        }\n    });\n}\n\n\nfunction initWidgets(root = document.body) {\n    let file_selector = '.collection';\n    root.matches(file_selector) && initWidget(root);\n    root.querySelectorAll(file_selector).forEach(initWidget);\n}\n\n\nwhenDomReady(initWidgets);\nemitters.dom.on('mutate', initWidgets);\n","import \"./file_widget\";\nimport \"./image_widget\";\nimport \"./collection_widget\";\n\n// Images\nfunction importAll(r) {\n    return r.keys().map(r);\n}\nimportAll(require.context('../img/files/', false, /\\.svg$/));\n"],"sourceRoot":""}