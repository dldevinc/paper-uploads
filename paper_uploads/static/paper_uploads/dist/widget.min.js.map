{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/es-abstract/GetIntrinsic.js","webpack:///./node_modules/es-abstract/helpers/callBound.js","webpack:///./node_modules/has/src/index.js","webpack:///./node_modules/function-bind/index.js","webpack:///./node_modules/promise.allsettled/requirePromise.js","webpack:///./node_modules/has-symbols/index.js","webpack:///./node_modules/es-abstract/helpers/assign.js","webpack:///./node_modules/es-abstract/helpers/callBind.js","webpack:///./node_modules/deepmerge/dist/cjs.js","webpack:///./node_modules/object-keys/index.js","webpack:///./node_modules/is-callable/index.js","webpack:///./node_modules/es-abstract/helpers/isNaN.js","webpack:///./node_modules/es-abstract/helpers/forEach.js","webpack:///./node_modules/es-abstract/helpers/every.js","webpack:///./paper_uploads/static/paper_uploads/src/js/fine-uploader/fine-uploader.core.js","webpack:///./node_modules/mime-match/index.js","webpack:///./node_modules/define-properties/index.js","webpack:///./node_modules/object-keys/isArguments.js","webpack:///./node_modules/promise.allsettled/implementation.js","webpack:///./node_modules/object-inspect/index.js","webpack:///./node_modules/es-to-primitive/helpers/isPrimitive.js","webpack:///./node_modules/es-abstract/helpers/assertRecord.js","webpack:///./node_modules/es-abstract/helpers/isFinite.js","webpack:///./node_modules/es-abstract/helpers/sign.js","webpack:///./node_modules/es-abstract/helpers/mod.js","webpack:///./node_modules/es-abstract/helpers/isPropertyDescriptor.js","webpack:///./node_modules/es-abstract/helpers/regexTester.js","webpack:///./node_modules/es-abstract/helpers/getIteratorMethod.js","webpack:///./node_modules/es-abstract/helpers/setProto.js","webpack:///./node_modules/es-abstract/helpers/isPrefixOf.js","webpack:///./node_modules/promise.allsettled/polyfill.js","webpack:///./paper_uploads/static/paper_uploads/src/js/fine-uploader/dnd.js","webpack:///./node_modules/promise.allsettled/index.js","webpack:///./node_modules/wildcard/index.js","webpack:///./node_modules/function-bind/implementation.js","webpack:///./node_modules/object-keys/implementation.js","webpack:///./node_modules/es-abstract/es2018.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/has-symbols/shams.js","webpack:///./node_modules/es-abstract/es2017.js","webpack:///./node_modules/es-abstract/es2016.js","webpack:///./node_modules/es-abstract/es2015.js","webpack:///./node_modules/es-to-primitive/es6.js","webpack:///./node_modules/es-to-primitive/es2015.js","webpack:///./node_modules/is-date-object/index.js","webpack:///./node_modules/is-symbol/index.js","webpack:///./node_modules/es-abstract/helpers/maxSafeInteger.js","webpack:///./node_modules/es-abstract/helpers/isPrimitive.js","webpack:///./node_modules/es-abstract/helpers/isSamePropertyDescriptor.js","webpack:///./node_modules/es-abstract/helpers/getSymbolDescription.js","webpack:///./node_modules/es-abstract/helpers/getInferredName.js","webpack:///./node_modules/es-abstract/es5.js","webpack:///./node_modules/es-to-primitive/es5.js","webpack:///./node_modules/is-regex/index.js","webpack:///./node_modules/es-abstract/helpers/getProto.js","webpack:///./node_modules/promise.allsettled/shim.js","webpack:///./paper_uploads/static/paper_uploads/src/img/files sync nonrecursive \\.svg$","webpack:///./paper_uploads/static/paper_uploads/src/img/files/7z.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/ai.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/archive.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/audio.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/avi.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/csv.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/doc.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/html.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/iso.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/json.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/mp3.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/mp4.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/pdf.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/ppt.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/psd.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/rar.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/rtf.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/svg.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/tar.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/txt.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/unknown.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/video.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/xls.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/xml.svg","webpack:///./paper_uploads/static/paper_uploads/src/img/files/zip.svg","webpack:///./paper_uploads/static/paper_uploads/src/js/_uploader.js","webpack:///./paper_uploads/static/paper_uploads/src/js/_utils.js","webpack:///./paper_uploads/static/paper_uploads/src/js/base_widget.js","webpack:///./paper_uploads/static/paper_uploads/src/js/file_widget.js","webpack:///./paper_uploads/static/paper_uploads/src/js/image_widget.js","webpack:///./paper_uploads/static/paper_uploads/src/js/collection_widget.js","webpack:///./paper_uploads/static/paper_uploads/src/js/widget.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$TypeError","TypeError","ThrowTypeError","getOwnPropertyDescriptor","arguments","hasSymbols","getProto","getPrototypeOf","x","__proto__","asyncGenIterator","undefined","TypedArray","Uint8Array","INTRINSICS","Array","ArrayBuffer","iterator","entries","forEach","keys","values","asyncIterator","Atomics","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Error","eval","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","parse","Map","Math","Number","toString","valueOf","parseFloat","parseInt","Promise","then","all","reject","resolve","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","SyntaxError","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet","$replace","replace","rePropName","reEscapeChar","stringToPath","string","result","match","number","quote","subString","length","getBaseIntrinsic","allowMissing","parts","GetIntrinsic","callBind","$indexOf","intrinsic","implementation","from","origSymbol","global","hasSymbolSham","has","$assign","assign","target","source","$Function","$apply","apply","$call","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","val","isArray","defaultArrayMerge","concat","map","element","getKeys","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","_","mergeObject","destination","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","array","reduce","prev","next","deepmerge_1","slice","isArgs","origKeys","keysShim","originalKeys","shim","args","fnToStr","constructorRegex","isES6ClassFn","fnStr","test","e","toStr","hasToStringTag","tryFunctionObject","strClass","a","callback","predicate","qq","hide","style","display","this","attach","type","fn","addEventListener","attachEvent","detach","removeEventListener","detachEvent","contains","descendant","compareDocumentPosition","insertBefore","elementB","parentNode","remove","removeChild","css","styles","opacity","filters","round","extend","hasClass","considerParent","re","className","addClass","removeClass","getByClass","first","candidates","querySelector","querySelectorAll","getElementsByTagName","each","idx","push","getFirstByClass","children","child","firstChild","nodeType","nextSibling","setText","text","innerText","textContent","clearText","hasAttribute","attrName","attrVal","exec","getAttribute","ExifRestorer","div","canvasToBlob","canvas","mime","quality","dataUriToBlob","toDataURL","dataUri","arrayBuffer","byteString","intArray","mimeString","data","BlobBuilder","blobBuilder","split","indexOf","atob","character","charCodeAt","window","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","Blob","log","message","level","console","isObject","variable","isFunction","buffer","constructor","isItemList","maybeItemList","isNodeList","maybeNodeList","item","namedItem","isString","maybeString","trimStr","trim","format","str","newStr","nextIdxToReplace","strBefore","substring","strAfter","isFile","maybeFile","File","isFileList","maybeFileList","FileList","isFileOrInput","maybeFileOrInput","isInput","maybeInput","notFile","evaluateType","normalizedType","toLowerCase","HTMLInputElement","tagName","isBlob","maybeBlob","isXhrUploadSupported","input","document","createElement","multiple","FormData","createXhrInstance","upload","XMLHttpRequest","ActiveXObject","error","isFolderDropSupported","dataTransfer","items","webkitGetAsEntry","isFileChunkingSupported","androidStock","webkitSlice","mozSlice","sliceBlob","fileOrBlob","start","end","arrayBufferToHex","bytesAsHex","bytes","byt","byteAsHexStr","readBlobToHex","blob","startOffset","initialBlob","fileReader","FileReader","promise","onload","success","onerror","failure","readAsArrayBuffer","second","extendNested","prop","override","sourceFn","super_","srcPropName","srcPropVal","arr","elt","len","getUniqueId","random","ie","navigator","userAgent","ie7","ie8","ie10","ie11","edge","safari","vendor","chrome","opera","firefox","windows","platform","android","ios6","ios","ios7","ios8","ios800","iosChrome","iosSafari","iosSafariWebView","preventDefault","returnValue","toElement","html","innerHTML","iterableItem","keyOrIndex","Storage","getItem","charAt","oldFunc","context","newArgs","obj2url","obj","temp","prefixDone","uristrings","prefix","add","nextObj","nextTemp","join","obj2FormData","formData","arrayKeyName","obj2Inputs","form","setAttribute","appendChild","parseJson","json","getExtension","filename","extIdx","lastIndexOf","substr","getFilename","blobOrFileInput","fileName","DisposeSupport","disposers","dispose","disposer","shift","addDisposer","disposeFunction","define","version","supportedFeatures","supportsUploading","supportsUploadingBlobs","supportsFileDrop","supportsAjaxFileUploading","supportsFolderDrop","supportsChunking","supportsResume","supportsUploadViaPaste","supportsUploadCors","supportsDeleteFileXdr","supportsDeleteFileCorsXhr","supportsDeleteFileCors","supportsFolderSelection","supportsImagePreviews","supportsUploadProgress","span","isCrossOriginXhrSupported","withCredentials","isXdrSupported","XDomainRequest","tempInput","supported","disabled","ex","testSupportsFileInputElement","localStorage","setItem","isLocalStorageSupported","postMessage","webkitdirectory","ajaxUploading","blobUploading","canDetermineSize","chunking","deleteFileCors","deleteFileCorsXdr","deleteFileCorsXhr","dialogElement","HTMLDialogElement","fileDrop","folderDrop","folderSelection","imagePreviews","imageValidation","itemSizeValidation","pause","progressBar","resume","scaling","tiffPreviews","unlimitedScaledImageSize","uploading","uploadCors","uploadCustomHeaders","uploadNonMultipart","uploadViaPaste","isGenericPromise","maybePromise","successArgs","failureArgs","successCallbacks","failureCallbacks","doneCallbacks","state","onSuccess","onFailure","done","BlobProxy","referenceBlob","onCreate","UploadButton","buttonId","self","disposeSupport","acceptFiles","focusClass","folders","hoverClass","ios8BrowserCrashWorkaround","onChange","title","createInput","BUTTON_ID_ATTR_NAME","setMultiple","position","right","top","fontFamily","fontSize","margin","padding","cursor","height","overflow","direction","getInput","getButtonId","isMultiple","optInput","removeAttribute","setAcceptFiles","reset","UploadData","uploaderProxy","byUuid","byStatus","byProxyGroupId","byBatchId","getDataByIds","idOrIds","id","addFile","spec","status","SUBMITTING","originalName","uuid","size","file","batchId","proxyGroupId","onBeforeStatusChange","onStatusChange","retrieve","optionalFilter","uuids","getDataByUuids","statusResults","statuses","index","statusEnum","statusResultIndexes","dataIndex","removeFileRef","record","setStatus","newStatus","oldStatus","byStatusOldStatusIndex","splice","uuidChanged","newUuid","oldUuid","updateName","newName","updateSize","newSize","setParentId","targetId","parentId","getIdsInProxyGroup","getIdsInBatch","SUBMITTED","REJECTED","QUEUED","CANCELED","PAUSED","UPLOADING","UPLOAD_FINALIZING","UPLOAD_RETRYING","UPLOAD_SUCCESSFUL","UPLOAD_FAILED","DELETE_FAILED","DELETING","DELETED","basePublicApi","addBlobs","blobDataOrArray","params","endpoint","addFiles","addInitialFiles","cannedFileList","cannedFile","_addCannedFile","_maybeHandleIos8SafariWorkaround","_storedIds","_currentBatchId","processBlob","_handleNewFile","_options","blobs","defaultName","verifiedFiles","processBlobData","blobData","processCanvas","processCanvasData","canvasData","normalizedQuality","processFileOrInput","fileOrInput","files","fileContainer","_prepareItemsForUpload","cancel","uploadData","_uploadData","getName","_handler","cancelAll","storedIdsCopy","storedFileId","clearStoredFiles","continueUpload","enabled","_uploadFile","deleteFile","_onSubmitDelete","doesExist","fileOrBlobId","isValid","drawThumbnail","fileId","imgOrCanvas","maxSize","fromServer","customResizeFunction","fileOrUrl","promiseToReturn","_imageGenerator","_thumbnailUrls","scale","getFile","container","generate","modifiedContainer","reason","getButton","_getButton","_buttonIdsForFileIds","getEndpoint","_endpointStore","uploadDataRecord","getInProgress","getParentId","uploadDataEntry","getUploads","getResumableFilesData","getSize","getNetUploads","_netUploaded","getRemainingAllowedItems","allowedItems","_currentItemLimit","_netUploadedOrQueued","getUuid","isResumable","hasResumeRecord","debug","pauseUpload","expunge","_autoRetries","_retryTimeouts","_preventRetries","_buttons","button","_paramsStore","_pasteHandler","session","refreshOnReset","_refreshSessionData","_succeededSinceLastAllComplete","_failedSinceLastAllComplete","_totalProgress","_customResumeDataStore","retry","_manualRetry","scaleImage","specs","Scaler","setCustomHeaders","headers","_customHeadersStore","set","setCustomResumeData","setDeleteFileCustomHeaders","_deleteFileCustomHeadersStore","setDeleteFileEndpoint","_deleteFileEndpointStore","setDeleteFileParams","_deleteFileParamsStore","setEndpoint","setForm","elementOrId","_updateFormSupportAndParams","setItemLimit","newItemLimit","setName","setParams","setUuid","_onDeleteComplete","errorMessage","uploadStoredFiles","_itemError","_uploadStoredFiles","basePrivateApi","sessionData","deleteFileEndpoint","deleteFileParams","thumbnailUrl","_annotateWithButtonId","associatedInput","qqButtonId","_getButtonId","_batchError","callbacks","onError","_createDeleteHandler","DeleteFileAjaxRequester","method","toUpperCase","maxConnections","uuidParamName","request","uuidName","customHeaders","paramsStore","endpointStore","cors","onDelete","_onDelete","onDeleteComplete","xhrOrXdr","isError","_createPasteHandler","PasteSupport","targetElement","paste","pasteReceived","_handleCheckedCallback","onPasteReceived","_handlePasteSuccess","identifier","_createStore","initialValue","_readOnlyValues_","store","catchall","perIdReadOnlyValues","readOnlyValues","copy","orig","includeReadOnlyValues","existing","addReadOnly","_createUploadDataTracker","_onUploadStatusChange","_maybeAllComplete","setTimeout","_createUploadButton","accept","validation","allowedExtensions","classes","buttonFocus","buttonHover","workarounds","ios8BrowserCrash","iosEmptyVideos","_isAllowedExtension","inputName","_onInputChange","fileInputTitle","_disposeSupport","_createUploadHandler","additionalOptions","namespace","lastOnProgress","preventRetryParam","preventRetryResponseProperty","onProgress","loaded","total","_onProgress","onComplete","xhr","retVal","_onComplete","onCancel","cancelFinalizationEffort","_onCancel","onUploadPrep","_onUploadPrep","onUpload","_onUpload","onUploadResult","onUploadChunk","chunkData","_onUploadChunk","onUploadChunkResult","partIndex","onUploadChunkSuccess","_onUploadChunkSuccess","onResume","customResumeData","onAutoRetry","responseJSON","_onAutoRetry","onUuidChanged","setSize","_setSize","getDataByUuid","isQueued","isInProgress","getCustomResumeData","_getCustomResumeData","UploadHandlerController","_fileOrBlobRejected","_formatSize","sizeSymbols","max","toFixed","_generateExtraButtonSpecs","_extraButtonSpecs","extraButtons","extraButtonOptionEntry","extraButtonSpec","_initExtraButton","extraButtonsSpec","_defaultButtonId","buttonOrFileInputOrFile","inputs","fileInput","fileBlobOrInput","_getNotFinished","_getValidationBase","_getValidationDescriptor","fileWrapper","_getValidationDescriptors","fileWrappers","fileDescriptors","_handleCameraAccess","camera","optionRoot","details","callbackRetVal","successParam","newFileWrapperList","actualFile","handler","_customNewFileHandler","_handleNewFileGeneric","addFileToHandler","_trackButton","fileList","extSuppliedName","extension","_handleDeleteSuccess","_handleDeleteFailed","_initFormSupportAndParams","_formSupport","FormSupport","attachedToForm","getFormInputsAsObject","autoUpload","newAutoUpload","newEndpoint","_isDeletePossible","expected","allowXdr","allowed","valid","allowedExt","extRegex","code","maybeNameOrNames","extensionsForMessage","placeholderMatch","messages","names","validationBase","replacement","allowedExtension","formatFileName","sizeLimit","minSizeLimit","placeholder","_onBeforeManualRetry","notFinished","_onAllComplete","ios8SafariUploads","alert","unsupportedBrowserIos8Safari","_maybeParseAndSendUploadError","response","errorReason","defaultResponseError","_maybeProcessNextItemAfterOnValidateCallback","validItem","stopOnFirstInvalidFile","validationDescriptor","onValidate","_onValidateCallbackSuccess","_onValidateCallbackFailure","successful","failed","onAllComplete","_shouldAutoRetry","retryWaitPeriod","autoAttemptDelay","_onBeforeAutoRetry","itemLimit","onManualRetry","clearTimeout","storedItemIndex","fileIndex","onIndividualProgress","_onSubmit","_onSubmitCallbackSuccess","_onSubmitted","onSubmitted","_storeForLater","onSuccessCallback","additionalMandatedParams","adjustedOnSuccessCallback","onSubmitDelete","_deleteHandler","sendDelete","_onTotalProgress","onTotalProgress","enableAuto","_onValidateBatchCallbackFailure","_onValidateBatchCallbackSuccess","validationDescriptors","proposedNetFilesUploadedOrQueued","tooManyItemsError","nextIndex","_validateFileOrBlobData","_upload","onValidateBatch","_preventLeaveInProgress","event","onLeave","Session","_session","addFileRecord","refresh","_sessionRequestComplete","onSessionRequestComplete","onNewSize","maxAutoAttempts","formElementOrId","onSubmit","idToUpload","stillSubmitting","validityChecker","allowEmpty","ImageValidation","validate","image","errorCode","_wrapCallbacks","safeCallback","errorMsg","exception","callbackName","callbackFunc","FineUploaderBasic","disableCancelForFormUploads","warnBeforeUnload","filenameParam","forceMultipart","omitDefaultParams","paramsInBody","requireSuccessJson","totalFileSizeName","maxHeight","maxWidth","minHeight","minWidth","maybeXhr","maybeXhrOrXdr","attemptNumber","fileOrBlobData","typeError","sizeError","minSizeError","emptyError","noFilesError","maxHeightImageError","maxWidthImageError","minHeightImageError","minWidthImageError","retryFailTooManyItems","concurrent","mandatory","paramNames","partByteOffset","chunkSize","totalFileSize","totalParts","partSize","jsonPayload","resetOnStatus","recordsExpireIn","resuming","customKeys","fileOrBlobName","sendCredentials","interceptSubmit","customResizer","sendOriginal","orient","defaultType","defaultQuality","failureText","includeExif","sizes","ImageGenerator","_scaler","handleNewFile","TotalProgress","entry","AjaxRequester","shouldParamsBeInQueryString","queue","requestData","acceptHeader","validMethods","contentType","mandatedParams","allowXRequestedWithAndCacheControl","successfulResponseCodes","DELETE","PATCH","POST","PUT","GET","onSend","isXdr","getXhrOrXdr","suppliedXhr","ontimeout","onprogress","getCorsAjaxTransport","dequeue","sendRequest","xdrError","responseCode","optXhr","url","onDemandParams","additionalParams","getParams","payload","additionalQueryParams","addToPath","createUrl","getXdrLoadHandler","getXdrErrorHandler","onreadystatechange","readyState","getXhrReadyStateChangeHandler","lengthComputable","registerForUploadProgress","open","onDemandHeaders","additionalHeaders","allHeaders","setRequestHeader","containsNonSimple","header","setHeaders","send","stringify","initTransport","path","cacheBuster","withPath","appendToPath","withParams","withQueryParams","_additionalQueryParams_","withHeaders","withPayload","thePayload","withCacheBuster","qqtimestamp","getTime","prepareToSend","canceled","UploadHandler","proxy","fileState","fileItem","getThirdPartyFileId","_getFileState","_setThirdPartyFileId","thirdPartyFileId","_wasCanceled","preventRetryResponse","controller","chunkingPossible","concurrentChunkingPossible","chunked","chunkIdx","_getChunkData","attemptingResume","chunkProgress","_getChunkDataForCallback","finalize","finalizeChunks","normaizedResponse","normalizeResponse","_maybeDeletePersistedChunkData","cleanup","normalizedResponse","handleFailure","clearCachedChunk","inProgressIdx","responseToReport","inProgressChunksArray","inProgress","remaining","unshift","ignoreFailure","_getXhrs","ckid","ckXhr","abort","_cancelled","moveInProgressToRemaining","connectionManager","free","hasMoreParts","nextPart","nextIdx","_getTotalChunks","reevaluateChunking","sendNext","inProgressChunks","available","requestOverrides","uploadChunkData","overrides","uploadChunk","inProgressChunkIdx","_maybePersistChunkedState","clearXhr","_open","_openChunks","_waiting","openChunkEntriesCount","openChunksCount","openChunkIndexes","dontAllowNext","nextId","allowNext","waitingIndex","connectionsIndex","getProxyOrBlob","getWaitingOrConnected","waitingOrConnected","chunks","isUsingConnection","pop","openChunksEntry","simple","uploadFile","maybeNewUuid","_clearXhrs","getProxy","initHandler","handlerType","traditional","handlerModuleSubtype","onFinalizing","_removeExpiredChunkingRecords","isDeferredEligibleForUpload","maybeDefer","generatedBlob","updateBlob","maybeSendDeferredFiles","errorResponse","idsInGroup","uploadedThisId","idInGroup","now","originalResponse","_shouldChunkThisFile","blobToUpload","cancelRetVal","isProxied","_getLocalStorageId","isAttemptingResume","WindowReceiveMessage","callbackWrapperDetachers","receiveMessage","stopReceivingMessages","detacher","FormUploadHandler","formHandlerInstanceId","onloadCallbacks","detachLoadEvents","postMessageCallbackTimers","isCors","corsMessageReceiver","getFileIdForIframeName","iframeName","iframe","getElementById","_getIframeName","expungeFile","_attachLoadEvent","responseDescriptor","onloadCallback","_parseJsonResponse","_detachLoadEvent","registerPostMessageCallback","contentDocument","body","_createIframe","initIframeForUpload","_initFormForUpload","targetName","innerHtmlOrMessage","XhrUploadHandler","getChunkSize","chunkFiles","resumeEnabled","xhrId","ajaxRequester","_getAjaxRequester","blobOrProxy","_initTempState","_maybePrepareForResume","cachedChunks","tempState","xhrs","ajaxRequesters","responseParser","lastChunkIdx","_getXhr","resumableFilesData","_iterateResumeRecords","notResumable","optInProgress","optRemaining","chunkingState","reverse","paused","totalChunks","newBlob","chunkId","_createXhr","optChunkIdx","_registerXhr","chunkIndex","fileSize","startBytes","endBytes","part","count","startByte","endByte","localStorageId","_getMimeType","_getPersistableData","ceil","_markNotResumable","removeItem","persistedData","lastUpdated","_registerProgressHandler","progressCalculator","totalSuccessfullyLoadedForFile","loadedForRequest","totalForRequest","estActualChunkLoaded","totalLoadedForFile","chunkLoaded","optAjaxRequester","xhrsId","expirationDays","expirationDate","setDate","getDate","requester","_method","renderImageToCanvas","img","doSquash","modifiedDimensions","iw","naturalWidth","ih","naturalHeight","width","ctx","getContext","save","resize","resizeInfo","imageHeight","imageWidth","orientation","sourceCanvas","sourceCanvasContext","targetCanvas","targetHeight","targetWidth","transformCoordinate","drawImage","qqImageRendered","renderImageToCanvasWithCustomResizer","origHeight","origWidth","newHeight","sqrt","newWidth","maybeCalculateDownsampledDimensions","getImageData","detectSubsampling","tmpCtx","sx","dx","tmpCanvas","vertSquashRatio","ratio","sy","ey","py","detectVerticalSquash","dw","dh","dy","clearRect","restore","translate","rotate","PI","MegaPixImage","srcImage","errorCallback","Image","URL","createObjectURL","webkitURL","src","listeners","imageLoadListeners","render","opt","oldTargetSrc","imgWidth","imgHeight","optionsKey","optionsValue","renderImageToDataURL","onrender","isImg","el","isCanvas","determineMimeOfFileName","nameWithPath","pathSegments","isCrossOrigin","targetProtocol","targetHostname","targetPort","targetAnchor","href","protocol","port","hostname","location","registerThumbnailRenderedListener","registered","registerImgLoadListeners","registerCanvasDrawImageListener","drawOnCanvasOrImgFromUrl","canvasOrImg","draw","tempImg","tempImgRender","crossOrigin","drawOnImgFromUrlWithCssScaling","drawFromUrl","fileBlobOrUrl","drawPreview","Identify","megapixErrorHandler","isPreviewable","dummyExif","exif","Exif","mpImg","Orientation","failureMsg","_testing","TAG_IDS","TAG_INFO","274","parseLittleEndian","hex","pow","getApp1Offset","seekToApp1","offset","theOffset","thePromise","segmentLength","parser","onParseFailure","app1Offset","app1Start","littleEndian","getDirEntryCount","dirEntryCount","dirEntries","getIfd","ifdHex","getDirEntries","tagValues","tagsToFind","vals","tagValHex","tagValLength","idHex","tagsToFindIdx","getTagValues","previewable","isPreviewableSync","PREVIEWABLE_MIME_TYPES","questionableBytes","identifiable","magicBytesEntries","magicBytesArrayEntry","fileMime","isRecognizedImage","limits","sizeDetermination","validationEffort","atLeastOne","limit","hasNonZeroLimits","dimensions","failingLimit","limitName","limitValue","limitMatcher","dimensionPropName","actualValue","getFailingLimit","handleFileItems","fileItems","someItemsIgnored","isJsonResponseValid","err","refreshEffort","requesterOptions","SessionAjaxRequester","queryServer","responseText","includeOriginal","failedToScaleText","_getSortedSizes","getFileRecords","originalFileUuid","originalFileName","originalBlobOrBlobData","records","originalBlob","sizeRecord","outputType","_determineOutputType","requestedType","refType","_getName","_generateScaledImage","failedText","api","param","scaledIds","originalId","blobSize","scaledId","qqparentuuid","qqparentsize","scalingEffort","scalingOptions","scaler","referenceType","scaledVersionProperties","startOfExt","versionType","scaledName","scaledExt","nameAppendage","sort","b","sourceFile","imageGenerator","scaledImageDataUri","signalSuccess","_insertExifHeader","scaledImageDataUriWithExif","originalImage","reader","insertionEffort","originalImageDataUri","readAsDataURL","_dataUriToBlob","_createBlob","chr1","chr2","enc1","enc2","enc3","output","chr3","enc4","KEY_STR","origFileBase64","resizedFileBase64","rawImage","decode64","segments","slice2Segments","exifManipulation","encode64","exifArray","getExifArray","newImageArray","insertExif","seg","imageData","buf","separatePoint","mae","ato","rawImageArray","head","endPoint","perFileProgress","totalLoaded","totalSize","lastLoadedSent","lastTotalSent","callbackProxy","onNew","updateTotalProgress","newLoaded","newTotal","oldLoaded","oldTotal","retryable","none","failedId","noRetryableFiles","detachPasteHandler","clipboardData","isImage","getAsFile","startUpload","formEl","validateForm","nativeSubmit","checkValidity","_form2Obj","determineNewEndpoint","submit","maybeUploadOnSubmit","determineFormEl","ignoreValue","checked","elements","select","selected","selectValue","createForm","responseFromMessage","doc","innerHtml","contentWindow","nodeValue","getIframeContentJson","multipart","allChunksDoneRequester","AllChunksDoneAjaxRequester","createReadyStateChangedHandler","onUploadOrChunkComplete","isErrorUploadResponse","parseResponse","sendChunksCompleteRequest","complete","getChunksCompleteParams","setParamsAndGetEntityToSend","entityToSendParams","xhrOverrides","customParams","defaultParams","xhrOverrideParams","setUploadHeaders","headersOptions","headerOverrides","headerName","headerValue","extraHeaders","uploadChunkParams","toSend","addChunkingSpecificParams","promises","endpointHandler","wildcard","reMimePartSplit","pattern","origDefineProperty","supportsDescriptors","arePropertyDescriptorsSupported","configurable","writable","defineProperties","predicates","props","callee","requirePromise","ES","getIntrinsic","iterable","C","Type","itemPromise","PromiseResolve","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setForEach","booleanValueOf","objectToString","bigIntValueOf","BigInt","inspectCustom","custom","inspectSymbol","isSymbol","wrapQuotes","defaultStyle","opts","quoteChar","quoteStyle","inspect_","depth","seen","lowbyte","inspectString","Infinity","maxDepth","xs","inspect","f","nameOf","symString","markBoxed","HTMLElement","nodeName","isElement","attrs","attributes","childNodes","arrObjKeys","isMap","collectionOf","isSet","isNumber","isBigInt","isBoolean","isDate","isRegExp","hasOwn","8","9","10","12","13","isArr","$SyntaxError","Desc","isData","IsAccessor","recordType","argumentName","$isNaN","modulo","remain","floor","IsDataDescriptor","IsAccessorDescriptor","$test","regex","callBound","$iterator","$arraySlice","$arrayJoin","usingIterator","GetMethod","IsArray","AdvanceStringIndex","originalSetProto","$ArrayProto","O","proto","$strSlice","allSettled","DragAndDrop","dropZones","maybeHideDropZones","HIDE_ZONES_EVENT_NAME","HIDE_BEFORE_ENTER_ATTR","uploadDropZones","droppedFiles","traverseFileTree","parseEntryPromise","qqPath","extractDirectoryPath","fileError","dropLog","fullPath","isDirectory","getFilesInDirectory","accumEntries","existingPromise","dirReader","createReader","readEntries","newEntries","entriesLeft","indexOfNameInFullPath","setupDropzone","dropArea","dropZone","UploadDropZone","onEnter","dropActive","dragEnter","stopPropagation","onLeaveNotDescendants","dragLeave","onDrop","uploadDropZone","pendingFolderPromises","handleDataTransferPromise","processingDroppedFiles","dropDisabled","allowMultipleItems","processingDroppedFilesComplete","dropError","filesAsArray","getElement","uploadDroppedFiles","isFileDrag","dragEvent","fileDrag","types","dropZoneElements","y","leavingDocumentOut","setupExtraDropzone","removeDropzone","dzs","targetEl","errorSpecifics","preventDrop","dropOutsideDisabled","dragoverShouldBeCanceled","isValidFileDrag","effectTest","dt","isSafari","effectAllowed","includes","isOrSetDropDisabled","isDisabled","dropEffect","effect","relatedTarget","elementFromPoint","clientX","clientY","hideZonesEvent","triggerUsingOldApi","createEvent","initEvent","CustomEvent","dispatchEvent","triggerHidezonesEvent","getPolyfill","bound","rebindable","WildcardMatcher","separator","hasWild","ii","testParts","matches","partsCount","matcher","ERROR_MESSAGE","that","binder","boundLength","boundArgs","Empty","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","isArguments","theKeys","skipProto","j","skipConstructor","equalsConstructorPrototypeIfNotBuggy","ES2017","every","isPrefixOf","$String","regexTester","$SymbolValueOf","$parseInt","isDigit","$PromiseResolve","$isEnumerable","$pushApply","$gOPS","padTimeComponent","weekdays","months","ES2018","EnumerableOwnPropertyNames","EnumerableOwnProperties","thisSymbolValue","IsStringPrefix","q","NumberToString","CopyDataProperties","excludedItems","IsPropertyKey","fromObj","ToObject","sourceKeys","ownKeys","OwnPropertyKeys","nextKey","excluded","SameValue","IsInteger","ToNumber","propValue","Get","CreateDataProperty","GetSubstitution","matched","captures","namedCaptures","matchLength","stringLength","capture","tailPos","current","isLast","nextIsLast","nextNext","nn","nnI","endIndex","groupName","ToString","DateString","tv","WeekDay","MonthFromTime","DateFromTime","YearFromTime","TimeString","hour","HourFromTime","minute","MinFromTime","SecFromTime","IsPropertyDescriptor","g","sym","symObj","getOwnPropertyNames","syms","descriptor","ES2016","$arrayPush","ToIndex","integerIndex","ToInteger","ToLength","SameValueZero","kind","EnumerableOwnNames","results","IterableToList","GetIterator","IteratorStep","nextValue","IteratorValue","IterableToArrayLike","ES2015","$setProto","getIteratorMethod","$getProto","SameValueNonNumber","OrdinaryGetPrototypeOf","OrdinarySetPrototypeOf","V","toPrimitive","$RangeError","$Array","$ArrayPrototype","$Object","$Number","$Symbol","$RegExp","$Date","$preventExtensions","preventExtensions","assertRecord","$isFinite","MAX_ARRAY_LENGTH","MAX_SAFE_INTEGER","sign","mod","isPrimitive","isSamePropertyDescriptor","isPropertyDescriptor","parseInteger","getSymbolDescription","$PromiseThen","arraySlice","strSlice","$push","isBinary","isOctal","regexExec","hasNonWS","isInvalidHexLiteral","$charCodeAt","$NumberValueOf","$BooleanValueOf","$StringValueOf","$DateValueOf","$SymbolToString","$floor","$abs","abs","$ObjectCreate","$gOPD","$gOPN","$isExtensible","isExtensible","$defineProperty","DefineOwnProperty","P","desc","FromPropertyDescriptor","ws","trimRegex","ES5","hasRegExpMatcher","ES6","Call","F","IsCallable","ToPrimitive","argument","NaN","trimmed","ToInt16","int16bit","ToUint16","ToInt8","int8bit","ToUint8","posInt","ToUint8Clamp","RequireObjectCoercible","ToPropertyKey","CanonicalNumericIndexString","CheckObjectCoercible","IsConstructor","IsExtensible","IsRegExp","ToBoolean","GetV","func","SpeciesConstructor","defaultConstructor","S","species","CompletePropertyDescriptor","IsGenericDescriptor","Throw","HasOwnProperty","HasProperty","IsConcatSpreadable","isConcatSpreadable","spreadable","Invoke","argumentsList","actualMethod","IteratorNext","IteratorComplete","iterResult","IteratorClose","completion","completionRecord","completionThunk","iteratorReturn","innerResult","CreateIterResultObject","RegExpExec","R","ArraySpeciesCreate","originalArray","oldDesc","extensible","CreateDataPropertyOrThrow","ObjectCreate","internalSlotsList","slots","unicode","CreateMethodProperty","DefinePropertyOrThrow","ToPropertyDescriptor","DeletePropertyOrThrow","thisNumberValue","thisBooleanValue","thisStringValue","thisTimeValue","SetIntegrityLevel","currentDesc","TestIntegrityLevel","OrdinaryHasInstance","OrdinaryHasProperty","InstanceofOperator","instOfHandler","hasInstance","IsPromise","xType","yType","ValidateAndApplyPropertyDescriptor","oType","OrdinaryDefineOwnProperty","OrdinaryGetOwnProperty","arrayLength","regexLastIndex","ArrayCreate","A","ArraySetLength","newLenDesc","newLen","ToUint32","oldLenDesc","newWritable","oldLen","CreateHTML","tag","attribute","p1","GetOwnPropertyKeys","SymbolDescriptiveString","ToDateString","CreateListFromArrayLike","elementTypes","list","indexName","nextType","GetPrototypeFromConstructor","intrinsicDefaultProto","SetFunctionName","nameType","description","isCallable","ordinaryToPrimitive","hint","methodNames","exoticToPrim","getDay","tryDateObject","symToStr","symStringRegex","isSymbolObject","$Math","D1","D2","field","getInferredName","$EvalError","$DateUTC","$getUTCFullYear","ToInt32","optMessage","Obj","setter","LeftFirst","px","nx","ny","msFromTime","msPerSecond","msPerMinute","Day","TimeWithinDay","DayFromYear","TimeFromYear","DaysInYear","InLeapYear","days","DayWithinYear","day","leap","MakeDay","year","month","date","ym","mn","MakeDate","time","MakeTime","min","sec","ms","TimeClip","ES5internalSlots","actualHint","methods","gOPD","lastIndex","tryRegexExecCall","originalGetProto","polyfill","webpackContext","req","webpackContextResolve","EventEmitter","paperAdmin","ValidationError","captureStackTrace","stack","Uploader","_opts","dropzones","uploader","_makeUploader","getPaperParams","dataset","formatParams","plain_params","_this","is_loading","trigger","validationOptions","allowedMimeTypes","some","template","minImageWidth","minImageHeight","maxImageWidth","maxImageHeight","uploadedBytes","totalBytes","percentage","succeeded","errors","bootbox","_errors","formatErrors","showError","collectError","showCollectedErrors","preloader","formUtils","BaseWidget","uploadButton","cancelButton","changeButton","deleteButton","link","urls","change","delete","loading","empty","instanceId","initUploader","addListeners","_empty","newValue","classList","_loading","on","fileInfo","file_info","previewLink","_change","$dialog","$form","find","show","fetch","credentials","ok","statusText","cleanFormErrors","form_errors","addFormErrorsFromJSON","modal","catch","_delete","dialog","gettext","onEscape","buttons","label","confirm","queryString","URLSearchParams","whenDomReady","emitters","initWidget","closest","uploadUrl","changeUrl","deleteUrl","initWidgets","root","dom","Sortable","Collection","itemContainer","createButton","preloaderItem","preloaderTemplate","itemPreview","itemLink","itemCheckbox","itemName","changeItemButton","cancelItemButton","deleteItemButton","itemSelectorTemplate","collectionEmptyState","itemCheckedState","itemRemovingState","createCollection","deleteCollection","uploadItem","changeItem","deleteItem","sortItems","init","createCollectionUrl","deleteCollectionUrl","uploadItemUrl","changeItemUrl","deleteItemUrl","sortItemsUrl","uploadInput","sortable","initSortable","collectionId","order","importNode","content","queueId","itemType","item_type","templateSelector","preview","caption","before","animation","draggable","handle","ghostClass","onEnd","pk","cleanItems","_createCollection","collection_id","_deleteItem","instance_id","_changeItem","_deleteCollection","lastItem","_checkItem","toggle","lastChecked","target_state","checkbox","ctrlKey","shiftKey","targetIndex","startIndex","checkedItems","delete_promises","MouseEvent","bubbles","cancelable","require"],"mappings":"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","file":"widget.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/paper_uploads/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 86);\n","'use strict';\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined; // eslint-disable-line no-shadow-restricted-names\n\nvar $TypeError = TypeError;\n\nvar ThrowTypeError = Object.getOwnPropertyDescriptor\n\t? (function () { return Object.getOwnPropertyDescriptor(arguments, 'callee').get; }())\n\t: function () { throw new $TypeError(); };\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'$ %Array%': Array,\n\t'$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'$ %ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'$ %ArrayPrototype%': Array.prototype,\n\t'$ %ArrayProto_entries%': Array.prototype.entries,\n\t'$ %ArrayProto_forEach%': Array.prototype.forEach,\n\t'$ %ArrayProto_keys%': Array.prototype.keys,\n\t'$ %ArrayProto_values%': Array.prototype.values,\n\t'$ %AsyncFromSyncIteratorPrototype%': undefined,\n\t'$ %AsyncFunction%': asyncFunction,\n\t'$ %AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'$ %AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'$ %AsyncGeneratorFunction%': asyncGenFunction,\n\t'$ %AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'$ %AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'$ %Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'$ %Boolean%': Boolean,\n\t'$ %BooleanPrototype%': Boolean.prototype,\n\t'$ %DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'$ %Date%': Date,\n\t'$ %DatePrototype%': Date.prototype,\n\t'$ %decodeURI%': decodeURI,\n\t'$ %decodeURIComponent%': decodeURIComponent,\n\t'$ %encodeURI%': encodeURI,\n\t'$ %encodeURIComponent%': encodeURIComponent,\n\t'$ %Error%': Error,\n\t'$ %ErrorPrototype%': Error.prototype,\n\t'$ %eval%': eval, // eslint-disable-line no-eval\n\t'$ %EvalError%': EvalError,\n\t'$ %EvalErrorPrototype%': EvalError.prototype,\n\t'$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'$ %Function%': Function,\n\t'$ %FunctionPrototype%': Function.prototype,\n\t'$ %Generator%': generator ? getProto(generator()) : undefined,\n\t'$ %GeneratorFunction%': generatorFunction,\n\t'$ %GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'$ %isFinite%': isFinite,\n\t'$ %isNaN%': isNaN,\n\t'$ %IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'$ %JSON%': JSON,\n\t'$ %JSONParse%': JSON.parse,\n\t'$ %Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'$ %MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'$ %Math%': Math,\n\t'$ %Number%': Number,\n\t'$ %NumberPrototype%': Number.prototype,\n\t'$ %Object%': Object,\n\t'$ %ObjectPrototype%': Object.prototype,\n\t'$ %ObjProto_toString%': Object.prototype.toString,\n\t'$ %ObjProto_valueOf%': Object.prototype.valueOf,\n\t'$ %parseFloat%': parseFloat,\n\t'$ %parseInt%': parseInt,\n\t'$ %Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'$ %Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'$ %Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'$ %Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'$ %RangeError%': RangeError,\n\t'$ %RangeErrorPrototype%': RangeError.prototype,\n\t'$ %ReferenceError%': ReferenceError,\n\t'$ %ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'$ %Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'$ %RegExp%': RegExp,\n\t'$ %RegExpPrototype%': RegExp.prototype,\n\t'$ %Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'$ %SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'$ %String%': String,\n\t'$ %StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'$ %StringPrototype%': String.prototype,\n\t'$ %Symbol%': hasSymbols ? Symbol : undefined,\n\t'$ %SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'$ %SyntaxError%': SyntaxError,\n\t'$ %SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'$ %ThrowTypeError%': ThrowTypeError,\n\t'$ %TypedArray%': TypedArray,\n\t'$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'$ %TypeError%': $TypeError,\n\t'$ %TypeErrorPrototype%': $TypeError.prototype,\n\t'$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'$ %URIError%': URIError,\n\t'$ %URIErrorPrototype%': URIError.prototype,\n\t'$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = require('function-bind');\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar key = '$ ' + name;\n\tif (!(key in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[key];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tif (parts.length === 0) {\n\t\treturn getBaseIntrinsic(name, allowMissing);\n\t}\n\n\tvar value = getBaseIntrinsic('%' + parts[0] + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tvalue = value[parts[i]];\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar callBind = require('./callBind');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nmodule.exports = function requirePromise() {\n\tif (typeof Promise !== 'function') {\n\t\tthrow new TypeError('`Promise.allSettled` requires a global `Promise` be available.');\n\t}\n\tif (typeof Array.from !== 'function') {\n\t\tthrow new TypeError('`Promise.allSettled` requires `Array.from` be available.');\n\t}\n};\n","'use strict';\n\nvar origSymbol = global.Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar has = require('has');\n\nvar $assign = GetIntrinsic('%Object%').assign;\n\nmodule.exports = function assign(target, source) {\n\tif ($assign) {\n\t\treturn $assign(target, source);\n\t}\n\n\t// eslint-disable-next-line no-restricted-syntax\n\tfor (var key in source) {\n\t\tif (has(source, key)) {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n\tif (!value) { return false; }\n\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\tif (typeof value === 'function' && !value.prototype) { return true; }\n\tif (hasToStringTag) { return tryFunctionObject(value); }\n\tif (isES6ClassFn(value)) { return false; }\n\tvar strClass = toStr.call(value);\n\treturn strClass === fnClass || strClass === genClass;\n};\n","'use strict';\n\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nmodule.exports = function forEach(array, callback) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tcallback(array[i], i, array); // eslint-disable-line callback-return\n\t}\n};\n","'use strict';\n\nmodule.exports = function every(array, predicate) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (!predicate(array[i], i, array)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n","// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\n(function(global) {\n    var qq = function(element) {\n        \"use strict\";\n        return {\n            hide: function() {\n                element.style.display = \"none\";\n                return this;\n            },\n            attach: function(type, fn) {\n                if (element.addEventListener) {\n                    element.addEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\" + type, fn);\n                }\n                return function() {\n                    qq(element).detach(type, fn);\n                };\n            },\n            detach: function(type, fn) {\n                if (element.removeEventListener) {\n                    element.removeEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.detachEvent(\"on\" + type, fn);\n                }\n                return this;\n            },\n            contains: function(descendant) {\n                if (!descendant) {\n                    return false;\n                }\n                if (element === descendant) {\n                    return true;\n                }\n                if (element.contains) {\n                    return element.contains(descendant);\n                } else {\n                    return !!(descendant.compareDocumentPosition(element) & 8);\n                }\n            },\n            insertBefore: function(elementB) {\n                elementB.parentNode.insertBefore(element, elementB);\n                return this;\n            },\n            remove: function() {\n                element.parentNode.removeChild(element);\n                return this;\n            },\n            css: function(styles) {\n                if (element.style == null) {\n                    throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n                }\n                if (styles.opacity != null) {\n                    if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n                        styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n                    }\n                }\n                qq.extend(element.style, styles);\n                return this;\n            },\n            hasClass: function(name, considerParent) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n            },\n            addClass: function(name) {\n                if (!qq(element).hasClass(name)) {\n                    element.className += \" \" + name;\n                }\n                return this;\n            },\n            removeClass: function(name) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n                return this;\n            },\n            getByClass: function(className, first) {\n                var candidates, result = [];\n                if (first && element.querySelector) {\n                    return element.querySelector(\".\" + className);\n                } else if (element.querySelectorAll) {\n                    return element.querySelectorAll(\".\" + className);\n                }\n                candidates = element.getElementsByTagName(\"*\");\n                qq.each(candidates, function(idx, val) {\n                    if (qq(val).hasClass(className)) {\n                        result.push(val);\n                    }\n                });\n                return first ? result[0] : result;\n            },\n            getFirstByClass: function(className) {\n                return qq(element).getByClass(className, true);\n            },\n            children: function() {\n                var children = [], child = element.firstChild;\n                while (child) {\n                    if (child.nodeType === 1) {\n                        children.push(child);\n                    }\n                    child = child.nextSibling;\n                }\n                return children;\n            },\n            setText: function(text) {\n                element.innerText = text;\n                element.textContent = text;\n                return this;\n            },\n            clearText: function() {\n                return qq(element).setText(\"\");\n            },\n            hasAttribute: function(attrName) {\n                var attrVal;\n                if (element.hasAttribute) {\n                    if (!element.hasAttribute(attrName)) {\n                        return false;\n                    }\n                    return /^false$/i.exec(element.getAttribute(attrName)) == null;\n                } else {\n                    attrVal = element[attrName];\n                    if (attrVal === undefined) {\n                        return false;\n                    }\n                    return /^false$/i.exec(attrVal) == null;\n                }\n            }\n        };\n    };\n    (function() {\n        \"use strict\";\n        qq.canvasToBlob = function(canvas, mime, quality) {\n            return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n        };\n        qq.dataUriToBlob = function(dataUri) {\n            var arrayBuffer, byteString, createBlob = function(data, mime) {\n                var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n                if (blobBuilder) {\n                    blobBuilder.append(data);\n                    return blobBuilder.getBlob(mime);\n                } else {\n                    return new Blob([ data ], {\n                        type: mime\n                    });\n                }\n            }, intArray, mimeString;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return createBlob(arrayBuffer, mimeString);\n        };\n        qq.log = function(message, level) {\n            if (window.console) {\n                if (!level || level === \"info\") {\n                    window.console.log(message);\n                } else {\n                    if (window.console[level]) {\n                        window.console[level](message);\n                    } else {\n                        window.console.log(\"<\" + level + \"> \" + message);\n                    }\n                }\n            }\n        };\n        qq.isObject = function(variable) {\n            return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n        };\n        qq.isFunction = function(variable) {\n            return typeof variable === \"function\";\n        };\n        qq.isArray = function(value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n        };\n        qq.isItemList = function(maybeItemList) {\n            return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n        };\n        qq.isNodeList = function(maybeNodeList) {\n            return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n        };\n        qq.isString = function(maybeString) {\n            return Object.prototype.toString.call(maybeString) === \"[object String]\";\n        };\n        qq.trimStr = function(string) {\n            if (String.prototype.trim) {\n                return string.trim();\n            }\n            return string.replace(/^\\s+|\\s+$/g, \"\");\n        };\n        qq.format = function(str) {\n            var args = Array.prototype.slice.call(arguments, 1), newStr = str, nextIdxToReplace = newStr.indexOf(\"{}\");\n            qq.each(args, function(idx, val) {\n                var strBefore = newStr.substring(0, nextIdxToReplace), strAfter = newStr.substring(nextIdxToReplace + 2);\n                newStr = strBefore + val + strAfter;\n                nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n                if (nextIdxToReplace < 0) {\n                    return false;\n                }\n            });\n            return newStr;\n        };\n        qq.isFile = function(maybeFile) {\n            return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n        };\n        qq.isFileList = function(maybeFileList) {\n            return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n        };\n        qq.isFileOrInput = function(maybeFileOrInput) {\n            return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n        };\n        qq.isInput = function(maybeInput, notFile) {\n            var evaluateType = function(type) {\n                var normalizedType = type.toLowerCase();\n                if (notFile) {\n                    return normalizedType !== \"file\";\n                }\n                return normalizedType === \"file\";\n            };\n            if (window.HTMLInputElement) {\n                if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            if (maybeInput.tagName) {\n                if (maybeInput.tagName.toLowerCase() === \"input\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        qq.isBlob = function(maybeBlob) {\n            if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n                return true;\n            }\n        };\n        qq.isXhrUploadSupported = function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n        };\n        qq.createXhrInstance = function() {\n            if (window.XMLHttpRequest) {\n                return new XMLHttpRequest();\n            }\n            try {\n                return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            } catch (error) {\n                qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n                return null;\n            }\n        };\n        qq.isFolderDropSupported = function(dataTransfer) {\n            return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n        };\n        qq.isFileChunkingSupported = function() {\n            return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n        };\n        qq.sliceBlob = function(fileOrBlob, start, end) {\n            var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n            return slicer.call(fileOrBlob, start, end);\n        };\n        qq.arrayBufferToHex = function(buffer) {\n            var bytesAsHex = \"\", bytes = new Uint8Array(buffer);\n            qq.each(bytes, function(idx, byt) {\n                var byteAsHexStr = byt.toString(16);\n                if (byteAsHexStr.length < 2) {\n                    byteAsHexStr = \"0\" + byteAsHexStr;\n                }\n                bytesAsHex += byteAsHexStr;\n            });\n            return bytesAsHex;\n        };\n        qq.readBlobToHex = function(blob, startOffset, length) {\n            var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length), fileReader = new FileReader(), promise = new qq.Promise();\n            fileReader.onload = function() {\n                promise.success(qq.arrayBufferToHex(fileReader.result));\n            };\n            fileReader.onerror = promise.failure;\n            fileReader.readAsArrayBuffer(initialBlob);\n            return promise;\n        };\n        qq.extend = function(first, second, extendNested) {\n            qq.each(second, function(prop, val) {\n                if (extendNested && qq.isObject(val)) {\n                    if (first[prop] === undefined) {\n                        first[prop] = {};\n                    }\n                    qq.extend(first[prop], val, true);\n                } else {\n                    first[prop] = val;\n                }\n            });\n            return first;\n        };\n        qq.override = function(target, sourceFn) {\n            var super_ = {}, source = sourceFn(super_);\n            qq.each(source, function(srcPropName, srcPropVal) {\n                if (target[srcPropName] !== undefined) {\n                    super_[srcPropName] = target[srcPropName];\n                }\n                target[srcPropName] = srcPropVal;\n            });\n            return target;\n        };\n        qq.indexOf = function(arr, elt, from) {\n            if (arr.indexOf) {\n                return arr.indexOf(elt, from);\n            }\n            from = from || 0;\n            var len = arr.length;\n            if (from < 0) {\n                from += len;\n            }\n            for (;from < len; from += 1) {\n                if (arr.hasOwnProperty(from) && arr[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n        qq.getUniqueId = function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n                return v.toString(16);\n            });\n        };\n        qq.ie = function() {\n            return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n        };\n        qq.ie7 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n        };\n        qq.ie8 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n        };\n        qq.ie10 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n        };\n        qq.ie11 = function() {\n            return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n        };\n        qq.edge = function() {\n            return navigator.userAgent.indexOf(\"Edge\") >= 0;\n        };\n        qq.safari = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n        };\n        qq.chrome = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n        };\n        qq.opera = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n        };\n        qq.firefox = function() {\n            return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n        };\n        qq.windows = function() {\n            return navigator.platform === \"Win32\";\n        };\n        qq.android = function() {\n            return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n        };\n        qq.androidStock = function() {\n            return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0 && navigator.userAgent.toLowerCase().indexOf(\"firefox\") < 0;\n        };\n        qq.ios6 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n        };\n        qq.ios7 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n        };\n        qq.ios8 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n        };\n        qq.ios800 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n        };\n        qq.ios = function() {\n            return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n        };\n        qq.iosChrome = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n        };\n        qq.iosSafari = function() {\n            return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n        };\n        qq.iosSafariWebView = function() {\n            return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n        };\n        qq.preventDefault = function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n        };\n        qq.toElement = function() {\n            var div = document.createElement(\"div\");\n            return function(html) {\n                div.innerHTML = html;\n                var element = div.firstChild;\n                div.removeChild(element);\n                return element;\n            };\n        }();\n        qq.each = function(iterableItem, callback) {\n            var keyOrIndex, retVal;\n            if (iterableItem) {\n                if (window.Storage && iterableItem.constructor === window.Storage) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isString(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (keyOrIndex in iterableItem) {\n                        if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n                            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                            if (retVal === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        qq.bind = function(oldFunc, context) {\n            if (qq.isFunction(oldFunc)) {\n                var args = Array.prototype.slice.call(arguments, 2);\n                return function() {\n                    var newArgs = qq.extend([], args);\n                    if (arguments.length) {\n                        newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n                    }\n                    return oldFunc.apply(context, newArgs);\n                };\n            }\n            throw new Error(\"first parameter must be a function!\");\n        };\n        qq.obj2url = function(obj, temp, prefixDone) {\n            var uristrings = [], prefix = \"&\", add = function(nextObj, i) {\n                var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n                if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n                    uristrings.push(typeof nextObj === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n                }\n            };\n            if (!prefixDone && temp) {\n                prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n                uristrings.push(temp);\n                uristrings.push(qq.obj2url(obj));\n            } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n                qq.each(obj, function(idx, val) {\n                    add(val, idx);\n                });\n            } else if (typeof obj !== \"undefined\" && obj !== null && typeof obj === \"object\") {\n                qq.each(obj, function(prop, val) {\n                    add(val, prop);\n                });\n            } else {\n                uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n            }\n            if (temp) {\n                return uristrings.join(prefix);\n            } else {\n                return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n            }\n        };\n        qq.obj2FormData = function(obj, formData, arrayKeyName) {\n            if (!formData) {\n                formData = new FormData();\n            }\n            qq.each(obj, function(key, val) {\n                key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n                if (qq.isObject(val)) {\n                    qq.obj2FormData(val, formData, key);\n                } else if (qq.isFunction(val)) {\n                    formData.append(key, val());\n                } else {\n                    formData.append(key, val);\n                }\n            });\n            return formData;\n        };\n        qq.obj2Inputs = function(obj, form) {\n            var input;\n            if (!form) {\n                form = document.createElement(\"form\");\n            }\n            qq.obj2FormData(obj, {\n                append: function(key, val) {\n                    input = document.createElement(\"input\");\n                    input.setAttribute(\"name\", key);\n                    input.setAttribute(\"value\", val);\n                    form.appendChild(input);\n                }\n            });\n            return form;\n        };\n        qq.parseJson = function(json) {\n            if (window.JSON && qq.isFunction(JSON.parse)) {\n                return JSON.parse(json);\n            } else {\n                return eval(\"(\" + json + \")\");\n            }\n        };\n        qq.getExtension = function(filename) {\n            var extIdx = filename.lastIndexOf(\".\") + 1;\n            if (extIdx > 0) {\n                return filename.substr(extIdx, filename.length - extIdx);\n            }\n        };\n        qq.getFilename = function(blobOrFileInput) {\n            if (qq.isInput(blobOrFileInput)) {\n                return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n            } else if (qq.isFile(blobOrFileInput)) {\n                if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n                    return blobOrFileInput.fileName;\n                }\n            }\n            return blobOrFileInput.name;\n        };\n        qq.DisposeSupport = function() {\n            var disposers = [];\n            return {\n                dispose: function() {\n                    var disposer;\n                    do {\n                        disposer = disposers.shift();\n                        if (disposer) {\n                            disposer();\n                        }\n                    } while (disposer);\n                },\n                attach: function() {\n                    var args = arguments;\n                    this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n                },\n                addDisposer: function(disposeFunction) {\n                    disposers.push(disposeFunction);\n                }\n            };\n        };\n    })();\n    (function() {\n        \"use strict\";\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return qq;\n            });\n        } else if (typeof module !== \"undefined\" && module.exports) {\n            module.exports = qq;\n        } else {\n            global.qq = qq;\n        }\n    })();\n    (function() {\n        \"use strict\";\n        qq.Error = function(message) {\n            this.message = \"[Fine Uploader \" + qq.version + \"] \" + message;\n        };\n        qq.Error.prototype = new Error();\n    })();\n    qq.version = \"6.0.3\";\n    qq.supportedFeatures = function() {\n        \"use strict\";\n        var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n        function testSupportsFileInputElement() {\n            var supported = true, tempInput;\n            try {\n                tempInput = document.createElement(\"input\");\n                tempInput.type = \"file\";\n                qq(tempInput).hide();\n                if (tempInput.disabled) {\n                    supported = false;\n                }\n            } catch (ex) {\n                supported = false;\n            }\n            return supported;\n        }\n        function isChrome14OrHigher() {\n            return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n        }\n        function isCrossOriginXhrSupported() {\n            if (window.XMLHttpRequest) {\n                var xhr = qq.createXhrInstance();\n                return xhr.withCredentials !== undefined;\n            }\n            return false;\n        }\n        function isXdrSupported() {\n            return window.XDomainRequest !== undefined;\n        }\n        function isCrossOriginAjaxSupported() {\n            if (isCrossOriginXhrSupported()) {\n                return true;\n            }\n            return isXdrSupported();\n        }\n        function isFolderSelectionSupported() {\n            return document.createElement(\"input\").webkitdirectory !== undefined;\n        }\n        function isLocalStorageSupported() {\n            try {\n                return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n            } catch (error) {\n                return false;\n            }\n        }\n        function isDragAndDropSupported() {\n            var span = document.createElement(\"span\");\n            return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n        }\n        supportsUploading = testSupportsFileInputElement();\n        supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n        supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n        supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n        supportsFolderDrop = supportsFileDrop && function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n        }();\n        supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n        supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n        supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n        supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n        supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n        supportsDeleteFileXdr = isXdrSupported();\n        supportsDeleteFileCors = isCrossOriginAjaxSupported();\n        supportsFolderSelection = isFolderSelectionSupported();\n        supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n        supportsUploadProgress = function() {\n            if (supportsAjaxFileUploading) {\n                return !qq.androidStock() && !qq.iosChrome();\n            }\n            return false;\n        }();\n        return {\n            ajaxUploading: supportsAjaxFileUploading,\n            blobUploading: supportsUploadingBlobs,\n            canDetermineSize: supportsAjaxFileUploading,\n            chunking: supportsChunking,\n            deleteFileCors: supportsDeleteFileCors,\n            deleteFileCorsXdr: supportsDeleteFileXdr,\n            deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n            dialogElement: !!window.HTMLDialogElement,\n            fileDrop: supportsFileDrop,\n            folderDrop: supportsFolderDrop,\n            folderSelection: supportsFolderSelection,\n            imagePreviews: supportsImagePreviews,\n            imageValidation: supportsImagePreviews,\n            itemSizeValidation: supportsAjaxFileUploading,\n            pause: supportsChunking,\n            progressBar: supportsUploadProgress,\n            resume: supportsResume,\n            scaling: supportsImagePreviews && supportsUploadingBlobs,\n            tiffPreviews: qq.safari(),\n            unlimitedScaledImageSize: !qq.ios(),\n            uploading: supportsUploading,\n            uploadCors: supportsUploadCors,\n            uploadCustomHeaders: supportsAjaxFileUploading,\n            uploadNonMultipart: supportsAjaxFileUploading,\n            uploadViaPaste: supportsUploadViaPaste\n        };\n    }();\n    qq.isGenericPromise = function(maybePromise) {\n        \"use strict\";\n        return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n    };\n    qq.Promise = function() {\n        \"use strict\";\n        var successArgs, failureArgs, successCallbacks = [], failureCallbacks = [], doneCallbacks = [], state = 0;\n        qq.extend(this, {\n            then: function(onSuccess, onFailure) {\n                if (state === 0) {\n                    if (onSuccess) {\n                        successCallbacks.push(onSuccess);\n                    }\n                    if (onFailure) {\n                        failureCallbacks.push(onFailure);\n                    }\n                } else if (state === -1) {\n                    onFailure && onFailure.apply(null, failureArgs);\n                } else if (onSuccess) {\n                    onSuccess.apply(null, successArgs);\n                }\n                return this;\n            },\n            done: function(callback) {\n                if (state === 0) {\n                    doneCallbacks.push(callback);\n                } else {\n                    callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n                }\n                return this;\n            },\n            success: function() {\n                state = 1;\n                successArgs = arguments;\n                if (successCallbacks.length) {\n                    qq.each(successCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                return this;\n            },\n            failure: function() {\n                state = -1;\n                failureArgs = arguments;\n                if (failureCallbacks.length) {\n                    qq.each(failureCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                return this;\n            }\n        });\n    };\n    qq.BlobProxy = function(referenceBlob, onCreate) {\n        \"use strict\";\n        qq.extend(this, {\n            referenceBlob: referenceBlob,\n            create: function() {\n                return onCreate(referenceBlob);\n            }\n        });\n    };\n    qq.UploadButton = function(o) {\n        \"use strict\";\n        var self = this, disposeSupport = new qq.DisposeSupport(), options = {\n            acceptFiles: null,\n            element: null,\n            focusClass: \"qq-upload-button-focus\",\n            folders: false,\n            hoverClass: \"qq-upload-button-hover\",\n            ios8BrowserCrashWorkaround: false,\n            multiple: false,\n            name: \"qqfile\",\n            onChange: function(input) {},\n            title: null\n        }, input, buttonId;\n        qq.extend(options, o);\n        buttonId = qq.getUniqueId();\n        function createInput() {\n            var input = document.createElement(\"input\");\n            input.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, buttonId);\n            input.setAttribute(\"title\", options.title);\n            self.setMultiple(options.multiple, input);\n            if (options.folders && qq.supportedFeatures.folderSelection) {\n                input.setAttribute(\"webkitdirectory\", \"\");\n            }\n            if (options.acceptFiles) {\n                input.setAttribute(\"accept\", options.acceptFiles);\n            }\n            input.setAttribute(\"type\", \"file\");\n            input.setAttribute(\"name\", options.name);\n            qq(input).css({\n                position: \"absolute\",\n                right: 0,\n                top: 0,\n                fontFamily: \"Arial\",\n                fontSize: qq.ie() && !qq.ie8() ? \"3500px\" : \"118px\",\n                margin: 0,\n                padding: 0,\n                cursor: \"pointer\",\n                opacity: 0\n            });\n            !qq.ie7() && qq(input).css({\n                height: \"100%\"\n            });\n            options.element.appendChild(input);\n            disposeSupport.attach(input, \"change\", function() {\n                options.onChange(input);\n            });\n            disposeSupport.attach(input, \"mouseover\", function() {\n                qq(options.element).addClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"mouseout\", function() {\n                qq(options.element).removeClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"focus\", function() {\n                qq(options.element).addClass(options.focusClass);\n            });\n            disposeSupport.attach(input, \"blur\", function() {\n                qq(options.element).removeClass(options.focusClass);\n            });\n            return input;\n        }\n        qq(options.element).css({\n            position: \"relative\",\n            overflow: \"hidden\",\n            direction: \"ltr\"\n        });\n        qq.extend(this, {\n            getInput: function() {\n                return input;\n            },\n            getButtonId: function() {\n                return buttonId;\n            },\n            setMultiple: function(isMultiple, optInput) {\n                var input = optInput || this.getInput();\n                if (options.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView())) {\n                    input.setAttribute(\"multiple\", \"\");\n                } else {\n                    if (isMultiple) {\n                        input.setAttribute(\"multiple\", \"\");\n                    } else {\n                        input.removeAttribute(\"multiple\");\n                    }\n                }\n            },\n            setAcceptFiles: function(acceptFiles) {\n                if (acceptFiles !== options.acceptFiles) {\n                    input.setAttribute(\"accept\", acceptFiles);\n                }\n            },\n            reset: function() {\n                if (input.parentNode) {\n                    qq(input).remove();\n                }\n                qq(options.element).removeClass(options.focusClass);\n                input = null;\n                input = createInput();\n            }\n        });\n        input = createInput();\n    };\n    qq.UploadButton.BUTTON_ID_ATTR_NAME = \"qq-button-id\";\n    qq.UploadData = function(uploaderProxy) {\n        \"use strict\";\n        var data = [], byUuid = {}, byStatus = {}, byProxyGroupId = {}, byBatchId = {};\n        function getDataByIds(idOrIds) {\n            if (qq.isArray(idOrIds)) {\n                var entries = [];\n                qq.each(idOrIds, function(idx, id) {\n                    entries.push(data[id]);\n                });\n                return entries;\n            }\n            return data[idOrIds];\n        }\n        function getDataByUuids(uuids) {\n            if (qq.isArray(uuids)) {\n                var entries = [];\n                qq.each(uuids, function(idx, uuid) {\n                    entries.push(data[byUuid[uuid]]);\n                });\n                return entries;\n            }\n            return data[byUuid[uuids]];\n        }\n        function getDataByStatus(status) {\n            var statusResults = [], statuses = [].concat(status);\n            qq.each(statuses, function(index, statusEnum) {\n                var statusResultIndexes = byStatus[statusEnum];\n                if (statusResultIndexes !== undefined) {\n                    qq.each(statusResultIndexes, function(i, dataIndex) {\n                        statusResults.push(data[dataIndex]);\n                    });\n                }\n            });\n            return statusResults;\n        }\n        qq.extend(this, {\n            addFile: function(spec) {\n                var status = spec.status || qq.status.SUBMITTING, id = data.push({\n                    name: spec.name,\n                    originalName: spec.name,\n                    uuid: spec.uuid,\n                    size: spec.size == null ? -1 : spec.size,\n                    status: status,\n                    file: spec.file\n                }) - 1;\n                if (spec.batchId) {\n                    data[id].batchId = spec.batchId;\n                    if (byBatchId[spec.batchId] === undefined) {\n                        byBatchId[spec.batchId] = [];\n                    }\n                    byBatchId[spec.batchId].push(id);\n                }\n                if (spec.proxyGroupId) {\n                    data[id].proxyGroupId = spec.proxyGroupId;\n                    if (byProxyGroupId[spec.proxyGroupId] === undefined) {\n                        byProxyGroupId[spec.proxyGroupId] = [];\n                    }\n                    byProxyGroupId[spec.proxyGroupId].push(id);\n                }\n                data[id].id = id;\n                byUuid[spec.uuid] = id;\n                if (byStatus[status] === undefined) {\n                    byStatus[status] = [];\n                }\n                byStatus[status].push(id);\n                spec.onBeforeStatusChange && spec.onBeforeStatusChange(id);\n                uploaderProxy.onStatusChange(id, null, status);\n                return id;\n            },\n            retrieve: function(optionalFilter) {\n                if (qq.isObject(optionalFilter) && data.length) {\n                    if (optionalFilter.id !== undefined) {\n                        return getDataByIds(optionalFilter.id);\n                    } else if (optionalFilter.uuid !== undefined) {\n                        return getDataByUuids(optionalFilter.uuid);\n                    } else if (optionalFilter.status) {\n                        return getDataByStatus(optionalFilter.status);\n                    }\n                } else {\n                    return qq.extend([], data, true);\n                }\n            },\n            removeFileRef: function(id) {\n                var record = getDataByIds(id);\n                if (record) {\n                    delete record.file;\n                }\n            },\n            reset: function() {\n                data = [];\n                byUuid = {};\n                byStatus = {};\n                byBatchId = {};\n            },\n            setStatus: function(id, newStatus) {\n                var oldStatus = data[id].status, byStatusOldStatusIndex = qq.indexOf(byStatus[oldStatus], id);\n                byStatus[oldStatus].splice(byStatusOldStatusIndex, 1);\n                data[id].status = newStatus;\n                if (byStatus[newStatus] === undefined) {\n                    byStatus[newStatus] = [];\n                }\n                byStatus[newStatus].push(id);\n                uploaderProxy.onStatusChange(id, oldStatus, newStatus);\n            },\n            uuidChanged: function(id, newUuid) {\n                var oldUuid = data[id].uuid;\n                data[id].uuid = newUuid;\n                byUuid[newUuid] = id;\n                delete byUuid[oldUuid];\n            },\n            updateName: function(id, newName) {\n                data[id].name = newName;\n            },\n            updateSize: function(id, newSize) {\n                data[id].size = newSize;\n            },\n            setParentId: function(targetId, parentId) {\n                data[targetId].parentId = parentId;\n            },\n            getIdsInProxyGroup: function(id) {\n                var proxyGroupId = data[id].proxyGroupId;\n                if (proxyGroupId) {\n                    return byProxyGroupId[proxyGroupId];\n                }\n                return [];\n            },\n            getIdsInBatch: function(id) {\n                var batchId = data[id].batchId;\n                return byBatchId[batchId];\n            }\n        });\n    };\n    qq.status = {\n        SUBMITTING: \"submitting\",\n        SUBMITTED: \"submitted\",\n        REJECTED: \"rejected\",\n        QUEUED: \"queued\",\n        CANCELED: \"canceled\",\n        PAUSED: \"paused\",\n        UPLOADING: \"uploading\",\n        UPLOAD_FINALIZING: \"upload finalizing\",\n        UPLOAD_RETRYING: \"retrying upload\",\n        UPLOAD_SUCCESSFUL: \"upload successful\",\n        UPLOAD_FAILED: \"upload failed\",\n        DELETE_FAILED: \"delete failed\",\n        DELETING: \"deleting\",\n        DELETED: \"deleted\"\n    };\n    (function() {\n        \"use strict\";\n        qq.basePublicApi = {\n            addBlobs: function(blobDataOrArray, params, endpoint) {\n                this.addFiles(blobDataOrArray, params, endpoint);\n            },\n            addInitialFiles: function(cannedFileList) {\n                var self = this;\n                qq.each(cannedFileList, function(index, cannedFile) {\n                    self._addCannedFile(cannedFile);\n                });\n            },\n            addFiles: function(data, params, endpoint) {\n                this._maybeHandleIos8SafariWorkaround();\n                var batchId = this._storedIds.length === 0 ? qq.getUniqueId() : this._currentBatchId, processBlob = qq.bind(function(blob) {\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName\n                    }, batchId, verifiedFiles);\n                }, this), processBlobData = qq.bind(function(blobData) {\n                    this._handleNewFile(blobData, batchId, verifiedFiles);\n                }, this), processCanvas = qq.bind(function(canvas) {\n                    var blob = qq.canvasToBlob(canvas);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName + \".png\"\n                    }, batchId, verifiedFiles);\n                }, this), processCanvasData = qq.bind(function(canvasData) {\n                    var normalizedQuality = canvasData.quality && canvasData.quality / 100, blob = qq.canvasToBlob(canvasData.canvas, canvasData.type, normalizedQuality);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: canvasData.name\n                    }, batchId, verifiedFiles);\n                }, this), processFileOrInput = qq.bind(function(fileOrInput) {\n                    if (qq.isInput(fileOrInput) && qq.supportedFeatures.ajaxUploading) {\n                        var files = Array.prototype.slice.call(fileOrInput.files), self = this;\n                        qq.each(files, function(idx, file) {\n                            self._handleNewFile(file, batchId, verifiedFiles);\n                        });\n                    } else {\n                        this._handleNewFile(fileOrInput, batchId, verifiedFiles);\n                    }\n                }, this), normalizeData = function() {\n                    if (qq.isFileList(data)) {\n                        data = Array.prototype.slice.call(data);\n                    }\n                    data = [].concat(data);\n                }, self = this, verifiedFiles = [];\n                this._currentBatchId = batchId;\n                if (data) {\n                    normalizeData();\n                    qq.each(data, function(idx, fileContainer) {\n                        if (qq.isFileOrInput(fileContainer)) {\n                            processFileOrInput(fileContainer);\n                        } else if (qq.isBlob(fileContainer)) {\n                            processBlob(fileContainer);\n                        } else if (qq.isObject(fileContainer)) {\n                            if (fileContainer.blob && fileContainer.name) {\n                                processBlobData(fileContainer);\n                            } else if (fileContainer.canvas && fileContainer.name) {\n                                processCanvasData(fileContainer);\n                            }\n                        } else if (fileContainer.tagName && fileContainer.tagName.toLowerCase() === \"canvas\") {\n                            processCanvas(fileContainer);\n                        } else {\n                            self.log(fileContainer + \" is not a valid file container!  Ignoring!\", \"warn\");\n                        }\n                    });\n                    this.log(\"Received \" + verifiedFiles.length + \" files.\");\n                    this._prepareItemsForUpload(verifiedFiles, params, endpoint);\n                }\n            },\n            cancel: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (uploadData && uploadData.status === qq.status.UPLOAD_FINALIZING) {\n                    this.log(qq.format(\"Ignoring cancel for file ID {} ({}).  Finalizing upload.\", id, this.getName(id)), \"error\");\n                } else {\n                    this._handler.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var storedIdsCopy = [], self = this;\n                qq.extend(storedIdsCopy, this._storedIds);\n                qq.each(storedIdsCopy, function(idx, storedFileId) {\n                    self.cancel(storedFileId);\n                });\n                this._handler.cancelAll();\n            },\n            clearStoredFiles: function() {\n                this._storedIds = [];\n            },\n            continueUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (uploadData.status === qq.status.PAUSED) {\n                    this.log(qq.format(\"Paused file ID {} ({}) will be continued.  Not paused.\", id, this.getName(id)));\n                    this._uploadFile(id);\n                    return true;\n                } else {\n                    this.log(qq.format(\"Ignoring continue for file ID {} ({}).  Not paused.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            deleteFile: function(id) {\n                return this._onSubmitDelete(id);\n            },\n            doesExist: function(fileOrBlobId) {\n                return this._handler.isValid(fileOrBlobId);\n            },\n            drawThumbnail: function(fileId, imgOrCanvas, maxSize, fromServer, customResizeFunction) {\n                var promiseToReturn = new qq.Promise(), fileOrUrl, options;\n                if (this._imageGenerator) {\n                    fileOrUrl = this._thumbnailUrls[fileId];\n                    options = {\n                        customResizeFunction: customResizeFunction,\n                        maxSize: maxSize > 0 ? maxSize : null,\n                        scale: maxSize > 0\n                    };\n                    if (!fromServer && qq.supportedFeatures.imagePreviews) {\n                        fileOrUrl = this.getFile(fileId);\n                    }\n                    if (fileOrUrl == null) {\n                        promiseToReturn.failure({\n                            container: imgOrCanvas,\n                            error: \"File or URL not found.\"\n                        });\n                    } else {\n                        this._imageGenerator.generate(fileOrUrl, imgOrCanvas, options).then(function success(modifiedContainer) {\n                            promiseToReturn.success(modifiedContainer);\n                        }, function failure(container, reason) {\n                            promiseToReturn.failure({\n                                container: container,\n                                error: reason || \"Problem generating thumbnail\"\n                            });\n                        });\n                    }\n                } else {\n                    promiseToReturn.failure({\n                        container: imgOrCanvas,\n                        error: \"Missing image generator module\"\n                    });\n                }\n                return promiseToReturn;\n            },\n            getButton: function(fileId) {\n                return this._getButton(this._buttonIdsForFileIds[fileId]);\n            },\n            getEndpoint: function(fileId) {\n                return this._endpointStore.get(fileId);\n            },\n            getFile: function(fileOrBlobId) {\n                var file = this._handler.getFile(fileOrBlobId);\n                var uploadDataRecord;\n                if (!file) {\n                    uploadDataRecord = this._uploadData.retrieve({\n                        id: fileOrBlobId\n                    });\n                    if (uploadDataRecord) {\n                        file = uploadDataRecord.file;\n                    }\n                }\n                return file || null;\n            },\n            getInProgress: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED ]\n                }).length;\n            },\n            getName: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).name;\n            },\n            getParentId: function(id) {\n                var uploadDataEntry = this.getUploads({\n                    id: id\n                }), parentId = null;\n                if (uploadDataEntry) {\n                    if (uploadDataEntry.parentId !== undefined) {\n                        parentId = uploadDataEntry.parentId;\n                    }\n                }\n                return parentId;\n            },\n            getResumableFilesData: function() {\n                return this._handler.getResumableFilesData();\n            },\n            getSize: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).size;\n            },\n            getNetUploads: function() {\n                return this._netUploaded;\n            },\n            getRemainingAllowedItems: function() {\n                var allowedItems = this._currentItemLimit;\n                if (allowedItems > 0) {\n                    return allowedItems - this._netUploadedOrQueued;\n                }\n                return null;\n            },\n            getUploads: function(optionalFilter) {\n                return this._uploadData.retrieve(optionalFilter);\n            },\n            getUuid: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).uuid;\n            },\n            isResumable: function(id) {\n                return this._handler.hasResumeRecord(id);\n            },\n            log: function(str, level) {\n                if (this._options.debug && (!level || level === \"info\")) {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str);\n                } else if (level && level !== \"info\") {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str, level);\n                }\n            },\n            pauseUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (qq.indexOf([ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING ], uploadData.status) >= 0) {\n                    if (this._handler.pause(id)) {\n                        this._uploadData.setStatus(id, qq.status.PAUSED);\n                        return true;\n                    } else {\n                        this.log(qq.format(\"Unable to pause file ID {} ({}).\", id, this.getName(id)), \"error\");\n                    }\n                } else {\n                    this.log(qq.format(\"Ignoring pause for file ID {} ({}).  Not in progress.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            removeFileRef: function(id) {\n                this._handler.expunge(id);\n                this._uploadData.removeFileRef(id);\n            },\n            reset: function() {\n                this.log(\"Resetting uploader...\");\n                this._handler.reset();\n                this._storedIds = [];\n                this._autoRetries = [];\n                this._retryTimeouts = [];\n                this._preventRetries = [];\n                this._thumbnailUrls = [];\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n                this._paramsStore.reset();\n                this._endpointStore.reset();\n                this._netUploadedOrQueued = 0;\n                this._netUploaded = 0;\n                this._uploadData.reset();\n                this._buttonIdsForFileIds = [];\n                this._pasteHandler && this._pasteHandler.reset();\n                this._options.session.refreshOnReset && this._refreshSessionData();\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n                this._totalProgress && this._totalProgress.reset();\n                this._customResumeDataStore.reset();\n            },\n            retry: function(id) {\n                return this._manualRetry(id);\n            },\n            scaleImage: function(id, specs) {\n                var self = this;\n                return qq.Scaler.prototype.scaleImage(id, specs, {\n                    log: qq.bind(self.log, self),\n                    getFile: qq.bind(self.getFile, self),\n                    uploadData: self._uploadData\n                });\n            },\n            setCustomHeaders: function(headers, id) {\n                this._customHeadersStore.set(headers, id);\n            },\n            setCustomResumeData: function(id, data) {\n                this._customResumeDataStore.set(data, id);\n            },\n            setDeleteFileCustomHeaders: function(headers, id) {\n                this._deleteFileCustomHeadersStore.set(headers, id);\n            },\n            setDeleteFileEndpoint: function(endpoint, id) {\n                this._deleteFileEndpointStore.set(endpoint, id);\n            },\n            setDeleteFileParams: function(params, id) {\n                this._deleteFileParamsStore.set(params, id);\n            },\n            setEndpoint: function(endpoint, id) {\n                this._endpointStore.set(endpoint, id);\n            },\n            setForm: function(elementOrId) {\n                this._updateFormSupportAndParams(elementOrId);\n            },\n            setItemLimit: function(newItemLimit) {\n                this._currentItemLimit = newItemLimit;\n            },\n            setName: function(id, newName) {\n                this._uploadData.updateName(id, newName);\n            },\n            setParams: function(params, id) {\n                this._paramsStore.set(params, id);\n            },\n            setUuid: function(id, newUuid) {\n                return this._uploadData.uuidChanged(id, newUuid);\n            },\n            setStatus: function(id, newStatus) {\n                var fileRecord = this.getUploads({\n                    id: id\n                });\n                if (!fileRecord) {\n                    throw new qq.Error(id + \" is not a valid file ID.\");\n                }\n                switch (newStatus) {\n                  case qq.status.DELETED:\n                    this._onDeleteComplete(id, null, false);\n                    break;\n\n                  case qq.status.DELETE_FAILED:\n                    this._onDeleteComplete(id, null, true);\n                    break;\n\n                  default:\n                    var errorMessage = \"Method setStatus called on '\" + name + \"' not implemented yet for \" + newStatus;\n                    this.log(errorMessage);\n                    throw new qq.Error(errorMessage);\n                }\n            },\n            uploadStoredFiles: function() {\n                if (this._storedIds.length === 0) {\n                    this._itemError(\"noFilesError\");\n                } else {\n                    this._uploadStoredFiles();\n                }\n            }\n        };\n        qq.basePrivateApi = {\n            _addCannedFile: function(sessionData) {\n                var self = this;\n                return this._uploadData.addFile({\n                    uuid: sessionData.uuid,\n                    name: sessionData.name,\n                    size: sessionData.size,\n                    status: qq.status.UPLOAD_SUCCESSFUL,\n                    onBeforeStatusChange: function(id) {\n                        sessionData.deleteFileEndpoint && self.setDeleteFileEndpoint(sessionData.deleteFileEndpoint, id);\n                        sessionData.deleteFileParams && self.setDeleteFileParams(sessionData.deleteFileParams, id);\n                        if (sessionData.thumbnailUrl) {\n                            self._thumbnailUrls[id] = sessionData.thumbnailUrl;\n                        }\n                        self._netUploaded++;\n                        self._netUploadedOrQueued++;\n                    }\n                });\n            },\n            _annotateWithButtonId: function(file, associatedInput) {\n                if (qq.isFile(file)) {\n                    file.qqButtonId = this._getButtonId(associatedInput);\n                }\n            },\n            _batchError: function(message) {\n                this._options.callbacks.onError(null, null, message, undefined);\n            },\n            _createDeleteHandler: function() {\n                var self = this;\n                return new qq.DeleteFileAjaxRequester({\n                    method: this._options.deleteFile.method.toUpperCase(),\n                    maxConnections: this._options.maxConnections,\n                    uuidParamName: this._options.request.uuidName,\n                    customHeaders: this._deleteFileCustomHeadersStore,\n                    paramsStore: this._deleteFileParamsStore,\n                    endpointStore: this._deleteFileEndpointStore,\n                    cors: this._options.cors,\n                    log: qq.bind(self.log, self),\n                    onDelete: function(id) {\n                        self._onDelete(id);\n                        self._options.callbacks.onDelete(id);\n                    },\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {\n                        self._onDeleteComplete(id, xhrOrXdr, isError);\n                        self._options.callbacks.onDeleteComplete(id, xhrOrXdr, isError);\n                    }\n                });\n            },\n            _createPasteHandler: function() {\n                var self = this;\n                return new qq.PasteSupport({\n                    targetElement: this._options.paste.targetElement,\n                    callbacks: {\n                        log: qq.bind(self.log, self),\n                        pasteReceived: function(blob) {\n                            self._handleCheckedCallback({\n                                name: \"onPasteReceived\",\n                                callback: qq.bind(self._options.callbacks.onPasteReceived, self, blob),\n                                onSuccess: qq.bind(self._handlePasteSuccess, self, blob),\n                                identifier: \"pasted image\"\n                            });\n                        }\n                    }\n                });\n            },\n            _createStore: function(initialValue, _readOnlyValues_) {\n                var store = {}, catchall = initialValue, perIdReadOnlyValues = {}, readOnlyValues = _readOnlyValues_, copy = function(orig) {\n                    if (qq.isObject(orig)) {\n                        return qq.extend({}, orig);\n                    }\n                    return orig;\n                }, getReadOnlyValues = function() {\n                    if (qq.isFunction(readOnlyValues)) {\n                        return readOnlyValues();\n                    }\n                    return readOnlyValues;\n                }, includeReadOnlyValues = function(id, existing) {\n                    if (readOnlyValues && qq.isObject(existing)) {\n                        qq.extend(existing, getReadOnlyValues());\n                    }\n                    if (perIdReadOnlyValues[id]) {\n                        qq.extend(existing, perIdReadOnlyValues[id]);\n                    }\n                };\n                return {\n                    set: function(val, id) {\n                        if (id == null) {\n                            store = {};\n                            catchall = copy(val);\n                        } else {\n                            store[id] = copy(val);\n                        }\n                    },\n                    get: function(id) {\n                        var values;\n                        if (id != null && store[id]) {\n                            values = store[id];\n                        } else {\n                            values = copy(catchall);\n                        }\n                        includeReadOnlyValues(id, values);\n                        return copy(values);\n                    },\n                    addReadOnly: function(id, values) {\n                        if (qq.isObject(store)) {\n                            if (id === null) {\n                                if (qq.isFunction(values)) {\n                                    readOnlyValues = values;\n                                } else {\n                                    readOnlyValues = readOnlyValues || {};\n                                    qq.extend(readOnlyValues, values);\n                                }\n                            } else {\n                                perIdReadOnlyValues[id] = perIdReadOnlyValues[id] || {};\n                                qq.extend(perIdReadOnlyValues[id], values);\n                            }\n                        }\n                    },\n                    remove: function(fileId) {\n                        return delete store[fileId];\n                    },\n                    reset: function() {\n                        store = {};\n                        perIdReadOnlyValues = {};\n                        catchall = initialValue;\n                    }\n                };\n            },\n            _createUploadDataTracker: function() {\n                var self = this;\n                return new qq.UploadData({\n                    getName: function(id) {\n                        return self.getName(id);\n                    },\n                    getUuid: function(id) {\n                        return self.getUuid(id);\n                    },\n                    getSize: function(id) {\n                        return self.getSize(id);\n                    },\n                    onStatusChange: function(id, oldStatus, newStatus) {\n                        self._onUploadStatusChange(id, oldStatus, newStatus);\n                        self._options.callbacks.onStatusChange(id, oldStatus, newStatus);\n                        self._maybeAllComplete(id, newStatus);\n                        if (self._totalProgress) {\n                            setTimeout(function() {\n                                self._totalProgress.onStatusChange(id, oldStatus, newStatus);\n                            }, 0);\n                        }\n                    }\n                });\n            },\n            _createUploadButton: function(spec) {\n                var self = this, acceptFiles = spec.accept || this._options.validation.acceptFiles, allowedExtensions = spec.allowedExtensions || this._options.validation.allowedExtensions, button;\n                function allowMultiple() {\n                    if (qq.supportedFeatures.ajaxUploading) {\n                        if (self._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && self._isAllowedExtension(allowedExtensions, \".mov\")) {\n                            return false;\n                        }\n                        if (spec.multiple === undefined) {\n                            return self._options.multiple;\n                        }\n                        return spec.multiple;\n                    }\n                    return false;\n                }\n                button = new qq.UploadButton({\n                    acceptFiles: acceptFiles,\n                    element: spec.element,\n                    focusClass: this._options.classes.buttonFocus,\n                    folders: spec.folders,\n                    hoverClass: this._options.classes.buttonHover,\n                    ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash,\n                    multiple: allowMultiple(),\n                    name: this._options.request.inputName,\n                    onChange: function(input) {\n                        self._onInputChange(input);\n                    },\n                    title: spec.title == null ? this._options.text.fileInputTitle : spec.title\n                });\n                this._disposeSupport.addDisposer(function() {\n                    button.dispose();\n                });\n                self._buttons.push(button);\n                return button;\n            },\n            _createUploadHandler: function(additionalOptions, namespace) {\n                var self = this, lastOnProgress = {}, options = {\n                    debug: this._options.debug,\n                    maxConnections: this._options.maxConnections,\n                    cors: this._options.cors,\n                    paramsStore: this._paramsStore,\n                    endpointStore: this._endpointStore,\n                    chunking: this._options.chunking,\n                    resume: this._options.resume,\n                    blobs: this._options.blobs,\n                    log: qq.bind(self.log, self),\n                    preventRetryParam: this._options.retry.preventRetryResponseProperty,\n                    onProgress: function(id, name, loaded, total) {\n                        if (loaded < 0 || total < 0) {\n                            return;\n                        }\n                        if (lastOnProgress[id]) {\n                            if (lastOnProgress[id].loaded !== loaded || lastOnProgress[id].total !== total) {\n                                self._onProgress(id, name, loaded, total);\n                                self._options.callbacks.onProgress(id, name, loaded, total);\n                            }\n                        } else {\n                            self._onProgress(id, name, loaded, total);\n                            self._options.callbacks.onProgress(id, name, loaded, total);\n                        }\n                        lastOnProgress[id] = {\n                            loaded: loaded,\n                            total: total\n                        };\n                    },\n                    onComplete: function(id, name, result, xhr) {\n                        delete lastOnProgress[id];\n                        var status = self.getUploads({\n                            id: id\n                        }).status, retVal;\n                        if (status === qq.status.UPLOAD_SUCCESSFUL || status === qq.status.UPLOAD_FAILED) {\n                            return;\n                        }\n                        retVal = self._onComplete(id, name, result, xhr);\n                        if (retVal instanceof qq.Promise) {\n                            retVal.done(function() {\n                                self._options.callbacks.onComplete(id, name, result, xhr);\n                            });\n                        } else {\n                            self._options.callbacks.onComplete(id, name, result, xhr);\n                        }\n                    },\n                    onCancel: function(id, name, cancelFinalizationEffort) {\n                        var promise = new qq.Promise();\n                        self._handleCheckedCallback({\n                            name: \"onCancel\",\n                            callback: qq.bind(self._options.callbacks.onCancel, self, id, name),\n                            onFailure: promise.failure,\n                            onSuccess: function() {\n                                cancelFinalizationEffort.then(function() {\n                                    self._onCancel(id, name);\n                                });\n                                promise.success();\n                            },\n                            identifier: id\n                        });\n                        return promise;\n                    },\n                    onUploadPrep: qq.bind(this._onUploadPrep, this),\n                    onUpload: function(id, name) {\n                        self._onUpload(id, name);\n                        var onUploadResult = self._options.callbacks.onUpload(id, name);\n                        if (qq.isGenericPromise(onUploadResult)) {\n                            self.log(qq.format(\"onUpload for {} returned a Promise - waiting for resolution.\", id));\n                            return onUploadResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunk: function(id, name, chunkData) {\n                        self._onUploadChunk(id, chunkData);\n                        var onUploadChunkResult = self._options.callbacks.onUploadChunk(id, name, chunkData);\n                        if (qq.isGenericPromise(onUploadChunkResult)) {\n                            self.log(qq.format(\"onUploadChunk for {}.{} returned a Promise - waiting for resolution.\", id, chunkData.partIndex));\n                            return onUploadChunkResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunkSuccess: function(id, chunkData, result, xhr) {\n                        self._onUploadChunkSuccess(id, chunkData);\n                        self._options.callbacks.onUploadChunkSuccess.apply(self, arguments);\n                    },\n                    onResume: function(id, name, chunkData, customResumeData) {\n                        return self._options.callbacks.onResume(id, name, chunkData, customResumeData);\n                    },\n                    onAutoRetry: function(id, name, responseJSON, xhr) {\n                        return self._onAutoRetry.apply(self, arguments);\n                    },\n                    onUuidChanged: function(id, newUuid) {\n                        self.log(\"Server requested UUID change from '\" + self.getUuid(id) + \"' to '\" + newUuid + \"'\");\n                        self.setUuid(id, newUuid);\n                    },\n                    getName: qq.bind(self.getName, self),\n                    getUuid: qq.bind(self.getUuid, self),\n                    getSize: qq.bind(self.getSize, self),\n                    setSize: qq.bind(self._setSize, self),\n                    getDataByUuid: function(uuid) {\n                        return self.getUploads({\n                            uuid: uuid\n                        });\n                    },\n                    isQueued: function(id) {\n                        var status = self.getUploads({\n                            id: id\n                        }).status;\n                        return status === qq.status.QUEUED || status === qq.status.SUBMITTED || status === qq.status.UPLOAD_RETRYING || status === qq.status.PAUSED;\n                    },\n                    getIdsInProxyGroup: self._uploadData.getIdsInProxyGroup,\n                    getIdsInBatch: self._uploadData.getIdsInBatch,\n                    isInProgress: function(id) {\n                        return self.getUploads({\n                            id: id\n                        }).status === qq.status.UPLOADING;\n                    },\n                    getCustomResumeData: qq.bind(self._getCustomResumeData, self),\n                    setStatus: function(id, status) {\n                        self._uploadData.setStatus(id, status);\n                    }\n                };\n                qq.each(this._options.request, function(prop, val) {\n                    options[prop] = val;\n                });\n                options.customHeaders = this._customHeadersStore;\n                if (additionalOptions) {\n                    qq.each(additionalOptions, function(key, val) {\n                        options[key] = val;\n                    });\n                }\n                return new qq.UploadHandlerController(options, namespace);\n            },\n            _fileOrBlobRejected: function(id) {\n                this._netUploadedOrQueued--;\n                this._uploadData.setStatus(id, qq.status.REJECTED);\n            },\n            _formatSize: function(bytes) {\n                if (bytes === 0) {\n                    return bytes + this._options.text.sizeSymbols[0];\n                }\n                var i = -1;\n                do {\n                    bytes = bytes / 1024;\n                    i++;\n                } while (bytes > 1023);\n                return Math.max(bytes, .1).toFixed(1) + this._options.text.sizeSymbols[i];\n            },\n            _generateExtraButtonSpecs: function() {\n                var self = this;\n                this._extraButtonSpecs = {};\n                qq.each(this._options.extraButtons, function(idx, extraButtonOptionEntry) {\n                    var multiple = extraButtonOptionEntry.multiple, validation = qq.extend({}, self._options.validation, true), extraButtonSpec = qq.extend({}, extraButtonOptionEntry);\n                    if (multiple === undefined) {\n                        multiple = self._options.multiple;\n                    }\n                    if (extraButtonSpec.validation) {\n                        qq.extend(validation, extraButtonOptionEntry.validation, true);\n                    }\n                    qq.extend(extraButtonSpec, {\n                        multiple: multiple,\n                        validation: validation\n                    }, true);\n                    self._initExtraButton(extraButtonSpec);\n                });\n            },\n            _getButton: function(buttonId) {\n                var extraButtonsSpec = this._extraButtonSpecs[buttonId];\n                if (extraButtonsSpec) {\n                    return extraButtonsSpec.element;\n                } else if (buttonId === this._defaultButtonId) {\n                    return this._options.button;\n                }\n            },\n            _getButtonId: function(buttonOrFileInputOrFile) {\n                var inputs, fileInput, fileBlobOrInput = buttonOrFileInputOrFile;\n                if (fileBlobOrInput instanceof qq.BlobProxy) {\n                    fileBlobOrInput = fileBlobOrInput.referenceBlob;\n                }\n                if (fileBlobOrInput && !qq.isBlob(fileBlobOrInput)) {\n                    if (qq.isFile(fileBlobOrInput)) {\n                        return fileBlobOrInput.qqButtonId;\n                    } else if (fileBlobOrInput.tagName.toLowerCase() === \"input\" && fileBlobOrInput.type.toLowerCase() === \"file\") {\n                        return fileBlobOrInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                    inputs = fileBlobOrInput.getElementsByTagName(\"input\");\n                    qq.each(inputs, function(idx, input) {\n                        if (input.getAttribute(\"type\") === \"file\") {\n                            fileInput = input;\n                            return false;\n                        }\n                    });\n                    if (fileInput) {\n                        return fileInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                }\n            },\n            _getCustomResumeData: function(fileId) {\n                return this._customResumeDataStore.get(fileId);\n            },\n            _getNotFinished: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED ]\n                }).length;\n            },\n            _getValidationBase: function(buttonId) {\n                var extraButtonSpec = this._extraButtonSpecs[buttonId];\n                return extraButtonSpec ? extraButtonSpec.validation : this._options.validation;\n            },\n            _getValidationDescriptor: function(fileWrapper) {\n                if (fileWrapper.file instanceof qq.BlobProxy) {\n                    return {\n                        name: qq.getFilename(fileWrapper.file.referenceBlob),\n                        size: fileWrapper.file.referenceBlob.size\n                    };\n                }\n                return {\n                    name: this.getUploads({\n                        id: fileWrapper.id\n                    }).name,\n                    size: this.getUploads({\n                        id: fileWrapper.id\n                    }).size\n                };\n            },\n            _getValidationDescriptors: function(fileWrappers) {\n                var self = this, fileDescriptors = [];\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    fileDescriptors.push(self._getValidationDescriptor(fileWrapper));\n                });\n                return fileDescriptors;\n            },\n            _handleCameraAccess: function() {\n                if (this._options.camera.ios && qq.ios()) {\n                    var acceptIosCamera = \"image/*;capture=camera\", button = this._options.camera.button, buttonId = button ? this._getButtonId(button) : this._defaultButtonId, optionRoot = this._options;\n                    if (buttonId && buttonId !== this._defaultButtonId) {\n                        optionRoot = this._extraButtonSpecs[buttonId];\n                    }\n                    optionRoot.multiple = false;\n                    if (optionRoot.validation.acceptFiles === null) {\n                        optionRoot.validation.acceptFiles = acceptIosCamera;\n                    } else {\n                        optionRoot.validation.acceptFiles += \",\" + acceptIosCamera;\n                    }\n                    qq.each(this._buttons, function(idx, button) {\n                        if (button.getButtonId() === buttonId) {\n                            button.setMultiple(optionRoot.multiple);\n                            button.setAcceptFiles(optionRoot.acceptFiles);\n                            return false;\n                        }\n                    });\n                }\n            },\n            _handleCheckedCallback: function(details) {\n                var self = this, callbackRetVal = details.callback();\n                if (qq.isGenericPromise(callbackRetVal)) {\n                    this.log(details.name + \" - waiting for \" + details.name + \" promise to be fulfilled for \" + details.identifier);\n                    return callbackRetVal.then(function(successParam) {\n                        self.log(details.name + \" promise success for \" + details.identifier);\n                        details.onSuccess(successParam);\n                    }, function() {\n                        if (details.onFailure) {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                            details.onFailure();\n                        } else {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                        }\n                    });\n                }\n                if (callbackRetVal !== false) {\n                    details.onSuccess(callbackRetVal);\n                } else {\n                    if (details.onFailure) {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Invoking failure callback.\");\n                        details.onFailure();\n                    } else {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Will not proceed.\");\n                    }\n                }\n                return callbackRetVal;\n            },\n            _handleNewFile: function(file, batchId, newFileWrapperList) {\n                var self = this, uuid = qq.getUniqueId(), size = -1, name = qq.getFilename(file), actualFile = file.blob || file, handler = this._customNewFileHandler ? this._customNewFileHandler : qq.bind(self._handleNewFileGeneric, self);\n                if (!qq.isInput(actualFile) && actualFile.size >= 0) {\n                    size = actualFile.size;\n                }\n                handler(actualFile, name, uuid, size, newFileWrapperList, batchId, this._options.request.uuidName, {\n                    uploadData: self._uploadData,\n                    paramsStore: self._paramsStore,\n                    addFileToHandler: function(id, file) {\n                        self._handler.add(id, file);\n                        self._netUploadedOrQueued++;\n                        self._trackButton(id);\n                    }\n                });\n            },\n            _handleNewFileGeneric: function(file, name, uuid, size, fileList, batchId) {\n                var id = this._uploadData.addFile({\n                    uuid: uuid,\n                    name: name,\n                    size: size,\n                    batchId: batchId,\n                    file: file\n                });\n                this._handler.add(id, file);\n                this._trackButton(id);\n                this._netUploadedOrQueued++;\n                fileList.push({\n                    id: id,\n                    file: file\n                });\n            },\n            _handlePasteSuccess: function(blob, extSuppliedName) {\n                var extension = blob.type.split(\"/\")[1], name = extSuppliedName;\n                if (name == null) {\n                    name = this._options.paste.defaultName;\n                }\n                name += \".\" + extension;\n                this.addFiles({\n                    name: name,\n                    blob: blob\n                });\n            },\n            _handleDeleteSuccess: function(id) {\n                if (this.getUploads({\n                    id: id\n                }).status !== qq.status.DELETED) {\n                    var name = this.getName(id);\n                    this._netUploadedOrQueued--;\n                    this._netUploaded--;\n                    this._handler.expunge(id);\n                    this._uploadData.setStatus(id, qq.status.DELETED);\n                    this.log(\"Delete request for '\" + name + \"' has succeeded.\");\n                }\n            },\n            _handleDeleteFailed: function(id, xhrOrXdr) {\n                var name = this.getName(id);\n                this._uploadData.setStatus(id, qq.status.DELETE_FAILED);\n                this.log(\"Delete request for '\" + name + \"' has failed.\", \"error\");\n                if (!xhrOrXdr || xhrOrXdr.withCredentials === undefined) {\n                    this._options.callbacks.onError(id, name, \"Delete request failed\", xhrOrXdr);\n                } else {\n                    this._options.callbacks.onError(id, name, \"Delete request failed with response code \" + xhrOrXdr.status, xhrOrXdr);\n                }\n            },\n            _initExtraButton: function(spec) {\n                var button = this._createUploadButton({\n                    accept: spec.validation.acceptFiles,\n                    allowedExtensions: spec.validation.allowedExtensions,\n                    element: spec.element,\n                    folders: spec.folders,\n                    multiple: spec.multiple,\n                    title: spec.fileInputTitle\n                });\n                this._extraButtonSpecs[button.getButtonId()] = spec;\n            },\n            _initFormSupportAndParams: function() {\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this._options.request.endpoint = this._formSupport.newEndpoint;\n                    }\n                } else {\n                    this._paramsStore = this._createStore(this._options.request.params);\n                }\n            },\n            _isDeletePossible: function() {\n                if (!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled) {\n                    return false;\n                }\n                if (this._options.cors.expected) {\n                    if (qq.supportedFeatures.deleteFileCorsXhr) {\n                        return true;\n                    }\n                    if (qq.supportedFeatures.deleteFileCorsXdr && this._options.cors.allowXdr) {\n                        return true;\n                    }\n                    return false;\n                }\n                return true;\n            },\n            _isAllowedExtension: function(allowed, fileName) {\n                var valid = false;\n                if (!allowed.length) {\n                    return true;\n                }\n                qq.each(allowed, function(idx, allowedExt) {\n                    if (qq.isString(allowedExt)) {\n                        var extRegex = new RegExp(\"\\\\.\" + allowedExt + \"$\", \"i\");\n                        if (fileName.match(extRegex) != null) {\n                            valid = true;\n                            return false;\n                        }\n                    }\n                });\n                return valid;\n            },\n            _itemError: function(code, maybeNameOrNames, item) {\n                var message = this._options.messages[code], allowedExtensions = [], names = [].concat(maybeNameOrNames), name = names[0], buttonId = this._getButtonId(item), validationBase = this._getValidationBase(buttonId), extensionsForMessage, placeholderMatch;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                qq.each(validationBase.allowedExtensions, function(idx, allowedExtension) {\n                    if (qq.isString(allowedExtension)) {\n                        allowedExtensions.push(allowedExtension);\n                    }\n                });\n                extensionsForMessage = allowedExtensions.join(\", \").toLowerCase();\n                r(\"{file}\", this._options.formatFileName(name));\n                r(\"{extensions}\", extensionsForMessage);\n                r(\"{sizeLimit}\", this._formatSize(validationBase.sizeLimit));\n                r(\"{minSizeLimit}\", this._formatSize(validationBase.minSizeLimit));\n                placeholderMatch = message.match(/(\\{\\w+\\})/g);\n                if (placeholderMatch !== null) {\n                    qq.each(placeholderMatch, function(idx, placeholder) {\n                        r(placeholder, names[idx]);\n                    });\n                }\n                this._options.callbacks.onError(null, name, message, undefined);\n                return message;\n            },\n            _manualRetry: function(id, callback) {\n                if (this._onBeforeManualRetry(id)) {\n                    this._netUploadedOrQueued++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    if (callback) {\n                        callback(id);\n                    } else {\n                        this._handler.retry(id);\n                    }\n                    return true;\n                }\n            },\n            _maybeAllComplete: function(id, status) {\n                var self = this, notFinished = this._getNotFinished();\n                if (status === qq.status.UPLOAD_SUCCESSFUL) {\n                    this._succeededSinceLastAllComplete.push(id);\n                } else if (status === qq.status.UPLOAD_FAILED || status === qq.status.REJECTED || status === qq.status.CANCELED) {\n                    this._failedSinceLastAllComplete.push(id);\n                }\n                if (notFinished === 0 && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length)) {\n                    setTimeout(function() {\n                        if (self._succeededSinceLastAllComplete.length || self._failedSinceLastAllComplete.length) {\n                            self._onAllComplete(self._succeededSinceLastAllComplete, self._failedSinceLastAllComplete);\n                        }\n                    }, 0);\n                }\n            },\n            _maybeHandleIos8SafariWorkaround: function() {\n                var self = this;\n                if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n                    setTimeout(function() {\n                        window.alert(self._options.messages.unsupportedBrowserIos8Safari);\n                    }, 0);\n                    throw new qq.Error(this._options.messages.unsupportedBrowserIos8Safari);\n                }\n            },\n            _maybeParseAndSendUploadError: function(id, name, response, xhr) {\n                if (!response.success) {\n                    if (xhr && xhr.status !== 200 && !response.error) {\n                        this._options.callbacks.onError(id, name, \"XHR returned response code \" + xhr.status, xhr);\n                    } else {\n                        var errorReason = response.error ? response.error : this._options.text.defaultResponseError;\n                        this._options.callbacks.onError(id, name, errorReason, xhr);\n                    }\n                }\n            },\n            _maybeProcessNextItemAfterOnValidateCallback: function(validItem, items, index, params, endpoint) {\n                var self = this;\n                if (items.length > index) {\n                    if (validItem || !this._options.validation.stopOnFirstInvalidFile) {\n                        setTimeout(function() {\n                            var validationDescriptor = self._getValidationDescriptor(items[index]), buttonId = self._getButtonId(items[index].file), button = self._getButton(buttonId);\n                            self._handleCheckedCallback({\n                                name: \"onValidate\",\n                                callback: qq.bind(self._options.callbacks.onValidate, self, validationDescriptor, button),\n                                onSuccess: qq.bind(self._onValidateCallbackSuccess, self, items, index, params, endpoint),\n                                onFailure: qq.bind(self._onValidateCallbackFailure, self, items, index, params, endpoint),\n                                identifier: \"Item '\" + validationDescriptor.name + \"', size: \" + validationDescriptor.size\n                            });\n                        }, 0);\n                    } else if (!validItem) {\n                        for (;index < items.length; index++) {\n                            self._fileOrBlobRejected(items[index].id);\n                        }\n                    }\n                }\n            },\n            _onAllComplete: function(successful, failed) {\n                this._totalProgress && this._totalProgress.onAllComplete(successful, failed, this._preventRetries);\n                this._options.callbacks.onAllComplete(qq.extend([], successful), qq.extend([], failed));\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n            },\n            _onAutoRetry: function(id, name, responseJSON, xhr, callback) {\n                var self = this;\n                self._preventRetries[id] = responseJSON[self._options.retry.preventRetryResponseProperty];\n                if (self._shouldAutoRetry(id)) {\n                    var retryWaitPeriod = self._options.retry.autoAttemptDelay * 1e3;\n                    self._maybeParseAndSendUploadError.apply(self, arguments);\n                    self._options.callbacks.onAutoRetry(id, name, self._autoRetries[id]);\n                    self._onBeforeAutoRetry(id, name);\n                    self._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    self._retryTimeouts[id] = setTimeout(function() {\n                        self.log(\"Starting retry for \" + name + \"...\");\n                        if (callback) {\n                            callback(id);\n                        } else {\n                            self._handler.retry(id);\n                        }\n                    }, retryWaitPeriod);\n                    return true;\n                }\n            },\n            _onBeforeAutoRetry: function(id, name) {\n                this.log(\"Waiting \" + this._options.retry.autoAttemptDelay + \" seconds before retrying \" + name + \"...\");\n            },\n            _onBeforeManualRetry: function(id) {\n                var itemLimit = this._currentItemLimit, fileName;\n                if (this._preventRetries[id]) {\n                    this.log(\"Retries are forbidden for id \" + id, \"warn\");\n                    return false;\n                } else if (this._handler.isValid(id)) {\n                    fileName = this.getName(id);\n                    if (this._options.callbacks.onManualRetry(id, fileName) === false) {\n                        return false;\n                    }\n                    if (itemLimit > 0 && this._netUploadedOrQueued + 1 > itemLimit) {\n                        this._itemError(\"retryFailTooManyItems\");\n                        return false;\n                    }\n                    this.log(\"Retrying upload for '\" + fileName + \"' (id: \" + id + \")...\");\n                    return true;\n                } else {\n                    this.log(\"'\" + id + \"' is not a valid file ID\", \"error\");\n                    return false;\n                }\n            },\n            _onCancel: function(id, name) {\n                this._netUploadedOrQueued--;\n                clearTimeout(this._retryTimeouts[id]);\n                var storedItemIndex = qq.indexOf(this._storedIds, id);\n                if (!this._options.autoUpload && storedItemIndex >= 0) {\n                    this._storedIds.splice(storedItemIndex, 1);\n                }\n                this._uploadData.setStatus(id, qq.status.CANCELED);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                if (!result.success) {\n                    this._netUploadedOrQueued--;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_FAILED);\n                    if (result[this._options.retry.preventRetryResponseProperty] === true) {\n                        this._preventRetries[id] = true;\n                    }\n                } else {\n                    if (result.thumbnailUrl) {\n                        this._thumbnailUrls[id] = result.thumbnailUrl;\n                    }\n                    this._netUploaded++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_SUCCESSFUL);\n                }\n                this._maybeParseAndSendUploadError(id, name, result, xhr);\n                return result.success ? true : false;\n            },\n            _onDelete: function(id) {\n                this._uploadData.setStatus(id, qq.status.DELETING);\n            },\n            _onDeleteComplete: function(id, xhrOrXdr, isError) {\n                var name = this.getName(id);\n                if (isError) {\n                    this._handleDeleteFailed(id, xhrOrXdr);\n                } else {\n                    this._handleDeleteSuccess(id);\n                }\n            },\n            _onInputChange: function(input) {\n                var fileIndex;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    for (fileIndex = 0; fileIndex < input.files.length; fileIndex++) {\n                        this._annotateWithButtonId(input.files[fileIndex], input);\n                    }\n                    this.addFiles(input.files);\n                } else if (input.value.length > 0) {\n                    this.addFiles(input);\n                }\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._totalProgress && this._totalProgress.onIndividualProgress(id, loaded, total);\n            },\n            _onSubmit: function(id, name) {},\n            _onSubmitCallbackSuccess: function(id, name) {\n                this._onSubmit.apply(this, arguments);\n                this._uploadData.setStatus(id, qq.status.SUBMITTED);\n                this._onSubmitted.apply(this, arguments);\n                if (this._options.autoUpload) {\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                    this._uploadFile(id);\n                } else {\n                    this._storeForLater(id);\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                }\n            },\n            _onSubmitDelete: function(id, onSuccessCallback, additionalMandatedParams) {\n                var uuid = this.getUuid(id), adjustedOnSuccessCallback;\n                if (onSuccessCallback) {\n                    adjustedOnSuccessCallback = qq.bind(onSuccessCallback, this, id, uuid, additionalMandatedParams);\n                }\n                if (this._isDeletePossible()) {\n                    this._handleCheckedCallback({\n                        name: \"onSubmitDelete\",\n                        callback: qq.bind(this._options.callbacks.onSubmitDelete, this, id),\n                        onSuccess: adjustedOnSuccessCallback || qq.bind(this._deleteHandler.sendDelete, this, id, uuid, additionalMandatedParams),\n                        identifier: id\n                    });\n                    return true;\n                } else {\n                    this.log(\"Delete request ignored for ID \" + id + \", delete feature is disabled or request not possible \" + \"due to CORS on a user agent that does not support pre-flighting.\", \"warn\");\n                    return false;\n                }\n            },\n            _onSubmitted: function(id) {},\n            _onTotalProgress: function(loaded, total) {\n                this._options.callbacks.onTotalProgress(loaded, total);\n            },\n            _onUploadPrep: function(id) {},\n            _onUpload: function(id, name) {\n                this._uploadData.setStatus(id, qq.status.UPLOADING);\n            },\n            _onUploadChunk: function(id, chunkData) {},\n            _onUploadChunkSuccess: function(id, chunkData) {\n                if (!this._preventRetries[id] && this._options.retry.enableAuto) {\n                    this._autoRetries[id] = 0;\n                }\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.PAUSED) {\n                    clearTimeout(this._retryTimeouts[id]);\n                }\n            },\n            _onValidateBatchCallbackFailure: function(fileWrappers) {\n                var self = this;\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    self._fileOrBlobRejected(fileWrapper.id);\n                });\n            },\n            _onValidateBatchCallbackSuccess: function(validationDescriptors, items, params, endpoint, button) {\n                var errorMessage, itemLimit = this._currentItemLimit, proposedNetFilesUploadedOrQueued = this._netUploadedOrQueued;\n                if (itemLimit === 0 || proposedNetFilesUploadedOrQueued <= itemLimit) {\n                    if (items.length > 0) {\n                        this._handleCheckedCallback({\n                            name: \"onValidate\",\n                            callback: qq.bind(this._options.callbacks.onValidate, this, validationDescriptors[0], button),\n                            onSuccess: qq.bind(this._onValidateCallbackSuccess, this, items, 0, params, endpoint),\n                            onFailure: qq.bind(this._onValidateCallbackFailure, this, items, 0, params, endpoint),\n                            identifier: \"Item '\" + items[0].file.name + \"', size: \" + items[0].file.size\n                        });\n                    } else {\n                        this._itemError(\"noFilesError\");\n                    }\n                } else {\n                    this._onValidateBatchCallbackFailure(items);\n                    errorMessage = this._options.messages.tooManyItemsError.replace(/\\{netItems\\}/g, proposedNetFilesUploadedOrQueued).replace(/\\{itemLimit\\}/g, itemLimit);\n                    this._batchError(errorMessage);\n                }\n            },\n            _onValidateCallbackFailure: function(items, index, params, endpoint) {\n                var nextIndex = index + 1;\n                this._fileOrBlobRejected(items[index].id, items[index].file.name);\n                this._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n            },\n            _onValidateCallbackSuccess: function(items, index, params, endpoint) {\n                var self = this, nextIndex = index + 1, validationDescriptor = this._getValidationDescriptor(items[index]);\n                this._validateFileOrBlobData(items[index], validationDescriptor).then(function() {\n                    self._upload(items[index].id, params, endpoint);\n                    self._maybeProcessNextItemAfterOnValidateCallback(true, items, nextIndex, params, endpoint);\n                }, function() {\n                    self._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n                });\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                if (items.length === 0) {\n                    this._itemError(\"noFilesError\");\n                    return;\n                }\n                var validationDescriptors = this._getValidationDescriptors(items), buttonId = this._getButtonId(items[0].file), button = this._getButton(buttonId);\n                this._handleCheckedCallback({\n                    name: \"onValidateBatch\",\n                    callback: qq.bind(this._options.callbacks.onValidateBatch, this, validationDescriptors, button),\n                    onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, validationDescriptors, items, params, endpoint, button),\n                    onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, items),\n                    identifier: \"batch validation\"\n                });\n            },\n            _preventLeaveInProgress: function() {\n                var self = this;\n                this._disposeSupport.attach(window, \"beforeunload\", function(e) {\n                    if (self.getInProgress()) {\n                        e = e || window.event;\n                        e.returnValue = self._options.messages.onLeave;\n                        return self._options.messages.onLeave;\n                    }\n                });\n            },\n            _refreshSessionData: function() {\n                var self = this, options = this._options.session;\n                if (qq.Session && this._options.session.endpoint != null) {\n                    if (!this._session) {\n                        qq.extend(options, {\n                            cors: this._options.cors\n                        });\n                        options.log = qq.bind(this.log, this);\n                        options.addFileRecord = qq.bind(this._addCannedFile, this);\n                        this._session = new qq.Session(options);\n                    }\n                    setTimeout(function() {\n                        self._session.refresh().then(function(response, xhrOrXdr) {\n                            self._sessionRequestComplete();\n                            self._options.callbacks.onSessionRequestComplete(response, true, xhrOrXdr);\n                        }, function(response, xhrOrXdr) {\n                            self._options.callbacks.onSessionRequestComplete(response, false, xhrOrXdr);\n                        });\n                    }, 0);\n                }\n            },\n            _sessionRequestComplete: function() {},\n            _setSize: function(id, newSize) {\n                this._uploadData.updateSize(id, newSize);\n                this._totalProgress && this._totalProgress.onNewSize(id);\n            },\n            _shouldAutoRetry: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!this._preventRetries[id] && this._options.retry.enableAuto && uploadData.status !== qq.status.PAUSED) {\n                    if (this._autoRetries[id] === undefined) {\n                        this._autoRetries[id] = 0;\n                    }\n                    if (this._autoRetries[id] < this._options.retry.maxAutoAttempts) {\n                        this._autoRetries[id] += 1;\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _storeForLater: function(id) {\n                this._storedIds.push(id);\n            },\n            _trackButton: function(id) {\n                var buttonId;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    buttonId = this._handler.getFile(id).qqButtonId;\n                } else {\n                    buttonId = this._getButtonId(this._handler.getInput(id));\n                }\n                if (buttonId) {\n                    this._buttonIdsForFileIds[id] = buttonId;\n                }\n            },\n            _updateFormSupportAndParams: function(formElementOrId) {\n                this._options.form.element = formElementOrId;\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore.addReadOnly(null, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this.setEndpoint(this._formSupport.newEndpoint);\n                    }\n                }\n            },\n            _upload: function(id, params, endpoint) {\n                var name = this.getName(id);\n                if (params) {\n                    this.setParams(params, id);\n                }\n                if (endpoint) {\n                    this.setEndpoint(endpoint, id);\n                }\n                this._handleCheckedCallback({\n                    name: \"onSubmit\",\n                    callback: qq.bind(this._options.callbacks.onSubmit, this, id, name),\n                    onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, id, name),\n                    onFailure: qq.bind(this._fileOrBlobRejected, this, id, name),\n                    identifier: id\n                });\n            },\n            _uploadFile: function(id) {\n                if (!this._handler.upload(id)) {\n                    this._uploadData.setStatus(id, qq.status.QUEUED);\n                }\n            },\n            _uploadStoredFiles: function() {\n                var idToUpload, stillSubmitting, self = this;\n                while (this._storedIds.length) {\n                    idToUpload = this._storedIds.shift();\n                    this._uploadFile(idToUpload);\n                }\n                stillSubmitting = this.getUploads({\n                    status: qq.status.SUBMITTING\n                }).length;\n                if (stillSubmitting) {\n                    qq.log(\"Still waiting for \" + stillSubmitting + \" files to clear submit queue. Will re-parse stored IDs array shortly.\");\n                    setTimeout(function() {\n                        self._uploadStoredFiles();\n                    }, 1e3);\n                }\n            },\n            _validateFileOrBlobData: function(fileWrapper, validationDescriptor) {\n                var self = this, file = function() {\n                    if (fileWrapper.file instanceof qq.BlobProxy) {\n                        return fileWrapper.file.referenceBlob;\n                    }\n                    return fileWrapper.file;\n                }(), name = validationDescriptor.name, size = validationDescriptor.size, buttonId = this._getButtonId(fileWrapper.file), validationBase = this._getValidationBase(buttonId), validityChecker = new qq.Promise();\n                validityChecker.then(function() {}, function() {\n                    self._fileOrBlobRejected(fileWrapper.id, name);\n                });\n                if (qq.isFileOrInput(file) && !this._isAllowedExtension(validationBase.allowedExtensions, name)) {\n                    this._itemError(\"typeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (!this._options.validation.allowEmpty && size === 0) {\n                    this._itemError(\"emptyError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && validationBase.sizeLimit && size > validationBase.sizeLimit) {\n                    this._itemError(\"sizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && size < validationBase.minSizeLimit) {\n                    this._itemError(\"minSizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(file)) {\n                    new qq.ImageValidation(file, qq.bind(self.log, self)).validate(validationBase.image).then(validityChecker.success, function(errorCode) {\n                        self._itemError(errorCode + \"ImageError\", name, file);\n                        validityChecker.failure();\n                    });\n                } else {\n                    validityChecker.success();\n                }\n                return validityChecker;\n            },\n            _wrapCallbacks: function() {\n                var self, safeCallback, prop;\n                self = this;\n                safeCallback = function(name, callback, args) {\n                    var errorMsg;\n                    try {\n                        return callback.apply(self, args);\n                    } catch (exception) {\n                        errorMsg = exception.message || exception.toString();\n                        self.log(\"Caught exception in '\" + name + \"' callback - \" + errorMsg, \"error\");\n                    }\n                };\n                for (prop in this._options.callbacks) {\n                    (function() {\n                        var callbackName, callbackFunc;\n                        callbackName = prop;\n                        callbackFunc = self._options.callbacks[callbackName];\n                        self._options.callbacks[callbackName] = function() {\n                            return safeCallback(callbackName, callbackFunc, arguments);\n                        };\n                    })();\n                }\n            }\n        };\n    })();\n    (function() {\n        \"use strict\";\n        qq.FineUploaderBasic = function(o) {\n            var self = this;\n            this._options = {\n                debug: false,\n                button: null,\n                multiple: true,\n                maxConnections: 3,\n                disableCancelForFormUploads: false,\n                autoUpload: true,\n                warnBeforeUnload: true,\n                request: {\n                    customHeaders: {},\n                    endpoint: \"/server/upload\",\n                    filenameParam: \"qqfilename\",\n                    forceMultipart: true,\n                    inputName: \"qqfile\",\n                    method: \"POST\",\n                    omitDefaultParams: false,\n                    params: {},\n                    paramsInBody: true,\n                    requireSuccessJson: true,\n                    totalFileSizeName: \"qqtotalfilesize\",\n                    uuidName: \"qquuid\"\n                },\n                validation: {\n                    allowedExtensions: [],\n                    sizeLimit: 0,\n                    minSizeLimit: 0,\n                    itemLimit: 0,\n                    stopOnFirstInvalidFile: true,\n                    acceptFiles: null,\n                    image: {\n                        maxHeight: 0,\n                        maxWidth: 0,\n                        minHeight: 0,\n                        minWidth: 0\n                    },\n                    allowEmpty: false\n                },\n                callbacks: {\n                    onSubmit: function(id, name) {},\n                    onSubmitted: function(id, name) {},\n                    onComplete: function(id, name, responseJSON, maybeXhr) {},\n                    onAllComplete: function(successful, failed) {},\n                    onCancel: function(id, name) {},\n                    onUpload: function(id, name) {},\n                    onUploadChunk: function(id, name, chunkData) {},\n                    onUploadChunkSuccess: function(id, chunkData, responseJSON, xhr) {},\n                    onResume: function(id, fileName, chunkData, customResumeData) {},\n                    onProgress: function(id, name, loaded, total) {},\n                    onTotalProgress: function(loaded, total) {},\n                    onError: function(id, name, reason, maybeXhrOrXdr) {},\n                    onAutoRetry: function(id, name, attemptNumber) {},\n                    onManualRetry: function(id, name) {},\n                    onValidateBatch: function(fileOrBlobData) {},\n                    onValidate: function(fileOrBlobData) {},\n                    onSubmitDelete: function(id) {},\n                    onDelete: function(id) {},\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {},\n                    onPasteReceived: function(blob) {},\n                    onStatusChange: function(id, oldStatus, newStatus) {},\n                    onSessionRequestComplete: function(response, success, xhrOrXdr) {}\n                },\n                messages: {\n                    typeError: \"{file} has an invalid extension. Valid extension(s): {extensions}.\",\n                    sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n                    minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n                    emptyError: \"{file} is empty, please select files again without it.\",\n                    noFilesError: \"No files to upload.\",\n                    tooManyItemsError: \"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.\",\n                    maxHeightImageError: \"Image is too tall.\",\n                    maxWidthImageError: \"Image is too wide.\",\n                    minHeightImageError: \"Image is not tall enough.\",\n                    minWidthImageError: \"Image is not wide enough.\",\n                    retryFailTooManyItems: \"Retry failed - you have reached your file limit.\",\n                    onLeave: \"The files are being uploaded, if you leave now the upload will be canceled.\",\n                    unsupportedBrowserIos8Safari: \"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues.\"\n                },\n                retry: {\n                    enableAuto: false,\n                    maxAutoAttempts: 3,\n                    autoAttemptDelay: 5,\n                    preventRetryResponseProperty: \"preventRetry\"\n                },\n                classes: {\n                    buttonHover: \"qq-upload-button-hover\",\n                    buttonFocus: \"qq-upload-button-focus\"\n                },\n                chunking: {\n                    enabled: false,\n                    concurrent: {\n                        enabled: false\n                    },\n                    mandatory: false,\n                    paramNames: {\n                        partIndex: \"qqpartindex\",\n                        partByteOffset: \"qqpartbyteoffset\",\n                        chunkSize: \"qqchunksize\",\n                        totalFileSize: \"qqtotalfilesize\",\n                        totalParts: \"qqtotalparts\"\n                    },\n                    partSize: function(id) {\n                        return 2e6;\n                    },\n                    success: {\n                        endpoint: null,\n                        headers: function(id) {\n                            return null;\n                        },\n                        jsonPayload: false,\n                        method: \"POST\",\n                        params: function(id) {\n                            return null;\n                        },\n                        resetOnStatus: []\n                    }\n                },\n                resume: {\n                    enabled: false,\n                    recordsExpireIn: 7,\n                    paramNames: {\n                        resuming: \"qqresume\"\n                    },\n                    customKeys: function(fileId) {\n                        return [];\n                    }\n                },\n                formatFileName: function(fileOrBlobName) {\n                    return fileOrBlobName;\n                },\n                text: {\n                    defaultResponseError: \"Upload failure reason unknown\",\n                    fileInputTitle: \"file input\",\n                    sizeSymbols: [ \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" ]\n                },\n                deleteFile: {\n                    enabled: false,\n                    method: \"DELETE\",\n                    endpoint: \"/server/upload\",\n                    customHeaders: {},\n                    params: {}\n                },\n                cors: {\n                    expected: false,\n                    sendCredentials: false,\n                    allowXdr: false\n                },\n                blobs: {\n                    defaultName: \"misc_data\"\n                },\n                paste: {\n                    targetElement: null,\n                    defaultName: \"pasted_image\"\n                },\n                camera: {\n                    ios: false,\n                    button: null\n                },\n                extraButtons: [],\n                session: {\n                    endpoint: null,\n                    params: {},\n                    customHeaders: {},\n                    refreshOnReset: true\n                },\n                form: {\n                    element: \"qq-form\",\n                    autoUpload: false,\n                    interceptSubmit: true\n                },\n                scaling: {\n                    customResizer: null,\n                    sendOriginal: true,\n                    orient: true,\n                    defaultType: null,\n                    defaultQuality: 80,\n                    failureText: \"Failed to scale\",\n                    includeExif: false,\n                    sizes: []\n                },\n                workarounds: {\n                    iosEmptyVideos: true,\n                    ios8SafariUploads: true,\n                    ios8BrowserCrash: false\n                }\n            };\n            qq.extend(this._options, o, true);\n            this._buttons = [];\n            this._extraButtonSpecs = {};\n            this._buttonIdsForFileIds = [];\n            this._wrapCallbacks();\n            this._disposeSupport = new qq.DisposeSupport();\n            this._storedIds = [];\n            this._autoRetries = [];\n            this._retryTimeouts = [];\n            this._preventRetries = [];\n            this._thumbnailUrls = [];\n            this._netUploadedOrQueued = 0;\n            this._netUploaded = 0;\n            this._uploadData = this._createUploadDataTracker();\n            this._initFormSupportAndParams();\n            this._customHeadersStore = this._createStore(this._options.request.customHeaders);\n            this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders);\n            this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params);\n            this._endpointStore = this._createStore(this._options.request.endpoint);\n            this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint);\n            this._handler = this._createUploadHandler();\n            this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler();\n            if (this._options.button) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._options.button,\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._generateExtraButtonSpecs();\n            this._handleCameraAccess();\n            if (this._options.paste.targetElement) {\n                if (qq.PasteSupport) {\n                    this._pasteHandler = this._createPasteHandler();\n                } else {\n                    this.log(\"Paste support module not found\", \"error\");\n                }\n            }\n            this._options.warnBeforeUnload && this._preventLeaveInProgress();\n            this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this));\n            this._refreshSessionData();\n            this._succeededSinceLastAllComplete = [];\n            this._failedSinceLastAllComplete = [];\n            this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {};\n            if (this._scaler.enabled) {\n                this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler);\n            }\n            if (qq.TotalProgress && qq.supportedFeatures.progressBar) {\n                this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function(id) {\n                    var entry = self._uploadData.retrieve({\n                        id: id\n                    });\n                    return entry && entry.size || 0;\n                });\n            }\n            this._currentItemLimit = this._options.validation.itemLimit;\n            this._customResumeDataStore = this._createStore();\n        };\n        qq.FineUploaderBasic.prototype = qq.basePublicApi;\n        qq.extend(qq.FineUploaderBasic.prototype, qq.basePrivateApi);\n    })();\n    qq.AjaxRequester = function(o) {\n        \"use strict\";\n        var log, shouldParamsBeInQueryString, queue = [], requestData = {}, options = {\n            acceptHeader: null,\n            validMethods: [ \"PATCH\", \"POST\", \"PUT\" ],\n            method: \"POST\",\n            contentType: \"application/x-www-form-urlencoded\",\n            maxConnections: 3,\n            customHeaders: {},\n            endpointStore: {},\n            paramsStore: {},\n            mandatedParams: {},\n            allowXRequestedWithAndCacheControl: true,\n            successfulResponseCodes: {\n                DELETE: [ 200, 202, 204 ],\n                PATCH: [ 200, 201, 202, 203, 204 ],\n                POST: [ 200, 201, 202, 203, 204 ],\n                PUT: [ 200, 201, 202, 203, 204 ],\n                GET: [ 200 ]\n            },\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onSend: function(id) {},\n            onComplete: function(id, xhrOrXdr, isError) {},\n            onProgress: null\n        };\n        qq.extend(options, o);\n        log = options.log;\n        if (qq.indexOf(options.validMethods, options.method) < 0) {\n            throw new Error(\"'\" + options.method + \"' is not a supported method for this type of request!\");\n        }\n        function isSimpleMethod() {\n            return qq.indexOf([ \"GET\", \"POST\", \"HEAD\" ], options.method) >= 0;\n        }\n        function containsNonSimpleHeaders(headers) {\n            var containsNonSimple = false;\n            qq.each(containsNonSimple, function(idx, header) {\n                if (qq.indexOf([ \"Accept\", \"Accept-Language\", \"Content-Language\", \"Content-Type\" ], header) < 0) {\n                    containsNonSimple = true;\n                    return false;\n                }\n            });\n            return containsNonSimple;\n        }\n        function isXdr(xhr) {\n            return options.cors.expected && xhr.withCredentials === undefined;\n        }\n        function getCorsAjaxTransport() {\n            var xhrOrXdr;\n            if (window.XMLHttpRequest || window.ActiveXObject) {\n                xhrOrXdr = qq.createXhrInstance();\n                if (xhrOrXdr.withCredentials === undefined) {\n                    xhrOrXdr = new XDomainRequest();\n                    xhrOrXdr.onload = function() {};\n                    xhrOrXdr.onerror = function() {};\n                    xhrOrXdr.ontimeout = function() {};\n                    xhrOrXdr.onprogress = function() {};\n                }\n            }\n            return xhrOrXdr;\n        }\n        function getXhrOrXdr(id, suppliedXhr) {\n            var xhrOrXdr = requestData[id] && requestData[id].xhr;\n            if (!xhrOrXdr) {\n                if (suppliedXhr) {\n                    xhrOrXdr = suppliedXhr;\n                } else {\n                    if (options.cors.expected) {\n                        xhrOrXdr = getCorsAjaxTransport();\n                    } else {\n                        xhrOrXdr = qq.createXhrInstance();\n                    }\n                }\n                requestData[id].xhr = xhrOrXdr;\n            }\n            return xhrOrXdr;\n        }\n        function dequeue(id) {\n            var i = qq.indexOf(queue, id), max = options.maxConnections, nextId;\n            delete requestData[id];\n            queue.splice(i, 1);\n            if (queue.length >= max && i < max) {\n                nextId = queue[max - 1];\n                sendRequest(nextId);\n            }\n        }\n        function onComplete(id, xdrError) {\n            var xhr = getXhrOrXdr(id), method = options.method, isError = xdrError === true;\n            dequeue(id);\n            if (isError) {\n                log(method + \" request for \" + id + \" has failed\", \"error\");\n            } else if (!isXdr(xhr) && !isResponseSuccessful(xhr.status)) {\n                isError = true;\n                log(method + \" request for \" + id + \" has failed - response code \" + xhr.status, \"error\");\n            }\n            options.onComplete(id, xhr, isError);\n        }\n        function getParams(id) {\n            var onDemandParams = requestData[id].additionalParams, mandatedParams = options.mandatedParams, params;\n            if (options.paramsStore.get) {\n                params = options.paramsStore.get(id);\n            }\n            if (onDemandParams) {\n                qq.each(onDemandParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            if (mandatedParams) {\n                qq.each(mandatedParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            return params;\n        }\n        function sendRequest(id, optXhr) {\n            var xhr = getXhrOrXdr(id, optXhr), method = options.method, params = getParams(id), payload = requestData[id].payload, url;\n            options.onSend(id);\n            url = createUrl(id, params, requestData[id].additionalQueryParams);\n            if (isXdr(xhr)) {\n                xhr.onload = getXdrLoadHandler(id);\n                xhr.onerror = getXdrErrorHandler(id);\n            } else {\n                xhr.onreadystatechange = getXhrReadyStateChangeHandler(id);\n            }\n            registerForUploadProgress(id);\n            xhr.open(method, url, true);\n            if (options.cors.expected && options.cors.sendCredentials && !isXdr(xhr)) {\n                xhr.withCredentials = true;\n            }\n            setHeaders(id);\n            log(\"Sending \" + method + \" request for \" + id);\n            if (payload) {\n                xhr.send(payload);\n            } else if (shouldParamsBeInQueryString || !params) {\n                xhr.send();\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/x-www-form-urlencoded\") >= 0) {\n                xhr.send(qq.obj2url(params, \"\"));\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/json\") >= 0) {\n                xhr.send(JSON.stringify(params));\n            } else {\n                xhr.send(params);\n            }\n            return xhr;\n        }\n        function createUrl(id, params, additionalQueryParams) {\n            var endpoint = options.endpointStore.get(id), addToPath = requestData[id].addToPath;\n            if (addToPath != undefined) {\n                endpoint += \"/\" + addToPath;\n            }\n            if (shouldParamsBeInQueryString && params) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            if (additionalQueryParams) {\n                endpoint = qq.obj2url(additionalQueryParams, endpoint);\n            }\n            return endpoint;\n        }\n        function getXhrReadyStateChangeHandler(id) {\n            return function() {\n                if (getXhrOrXdr(id).readyState === 4) {\n                    onComplete(id);\n                }\n            };\n        }\n        function registerForUploadProgress(id) {\n            var onProgress = options.onProgress;\n            if (onProgress) {\n                getXhrOrXdr(id).upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        onProgress(id, e.loaded, e.total);\n                    }\n                };\n            }\n        }\n        function getXdrLoadHandler(id) {\n            return function() {\n                onComplete(id);\n            };\n        }\n        function getXdrErrorHandler(id) {\n            return function() {\n                onComplete(id, true);\n            };\n        }\n        function setHeaders(id) {\n            var xhr = getXhrOrXdr(id), customHeaders = options.customHeaders, onDemandHeaders = requestData[id].additionalHeaders || {}, method = options.method, allHeaders = {};\n            if (!isXdr(xhr)) {\n                options.acceptHeader && xhr.setRequestHeader(\"Accept\", options.acceptHeader);\n                if (options.allowXRequestedWithAndCacheControl) {\n                    if (!options.cors.expected || (!isSimpleMethod() || containsNonSimpleHeaders(customHeaders))) {\n                        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                    }\n                }\n                if (options.contentType && (method === \"POST\" || method === \"PUT\")) {\n                    xhr.setRequestHeader(\"Content-Type\", options.contentType);\n                }\n                qq.extend(allHeaders, qq.isFunction(customHeaders) ? customHeaders(id) : customHeaders);\n                qq.extend(allHeaders, onDemandHeaders);\n                qq.each(allHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        }\n        function isResponseSuccessful(responseCode) {\n            return qq.indexOf(options.successfulResponseCodes[options.method], responseCode) >= 0;\n        }\n        function prepareToSend(id, optXhr, addToPath, additionalParams, additionalQueryParams, additionalHeaders, payload) {\n            requestData[id] = {\n                addToPath: addToPath,\n                additionalParams: additionalParams,\n                additionalQueryParams: additionalQueryParams,\n                additionalHeaders: additionalHeaders,\n                payload: payload\n            };\n            var len = queue.push(id);\n            if (len <= options.maxConnections) {\n                return sendRequest(id, optXhr);\n            }\n        }\n        shouldParamsBeInQueryString = options.method === \"GET\" || options.method === \"DELETE\";\n        qq.extend(this, {\n            initTransport: function(id) {\n                var path, params, headers, payload, cacheBuster, additionalQueryParams;\n                return {\n                    withPath: function(appendToPath) {\n                        path = appendToPath;\n                        return this;\n                    },\n                    withParams: function(additionalParams) {\n                        params = additionalParams;\n                        return this;\n                    },\n                    withQueryParams: function(_additionalQueryParams_) {\n                        additionalQueryParams = _additionalQueryParams_;\n                        return this;\n                    },\n                    withHeaders: function(additionalHeaders) {\n                        headers = additionalHeaders;\n                        return this;\n                    },\n                    withPayload: function(thePayload) {\n                        payload = thePayload;\n                        return this;\n                    },\n                    withCacheBuster: function() {\n                        cacheBuster = true;\n                        return this;\n                    },\n                    send: function(optXhr) {\n                        if (cacheBuster && qq.indexOf([ \"GET\", \"DELETE\" ], options.method) >= 0) {\n                            params.qqtimestamp = new Date().getTime();\n                        }\n                        return prepareToSend(id, optXhr, path, params, additionalQueryParams, headers, payload);\n                    }\n                };\n            },\n            canceled: function(id) {\n                dequeue(id);\n            }\n        });\n    };\n    qq.UploadHandler = function(spec) {\n        \"use strict\";\n        var proxy = spec.proxy, fileState = {}, onCancel = proxy.onCancel, getName = proxy.getName;\n        qq.extend(this, {\n            add: function(id, fileItem) {\n                fileState[id] = fileItem;\n                fileState[id].temp = {};\n            },\n            cancel: function(id) {\n                var self = this, cancelFinalizationEffort = new qq.Promise(), onCancelRetVal = onCancel(id, getName(id), cancelFinalizationEffort);\n                onCancelRetVal.then(function() {\n                    if (self.isValid(id)) {\n                        fileState[id].canceled = true;\n                        self.expunge(id);\n                    }\n                    cancelFinalizationEffort.success();\n                });\n            },\n            expunge: function(id) {\n                delete fileState[id];\n            },\n            getThirdPartyFileId: function(id) {\n                return fileState[id].key;\n            },\n            isValid: function(id) {\n                return fileState[id] !== undefined;\n            },\n            reset: function() {\n                fileState = {};\n            },\n            _getFileState: function(id) {\n                return fileState[id];\n            },\n            _setThirdPartyFileId: function(id, thirdPartyFileId) {\n                fileState[id].key = thirdPartyFileId;\n            },\n            _wasCanceled: function(id) {\n                return !!fileState[id].canceled;\n            }\n        });\n    };\n    qq.UploadHandlerController = function(o, namespace) {\n        \"use strict\";\n        var controller = this, chunkingPossible = false, concurrentChunkingPossible = false, chunking, preventRetryResponse, log, handler, options = {\n            paramsStore: {},\n            maxConnections: 3,\n            chunking: {\n                enabled: false,\n                multiple: {\n                    enabled: false\n                }\n            },\n            log: function(str, level) {},\n            onProgress: function(id, fileName, loaded, total) {},\n            onComplete: function(id, fileName, response, xhr) {},\n            onCancel: function(id, fileName) {},\n            onUploadPrep: function(id) {},\n            onUpload: function(id, fileName) {},\n            onUploadChunk: function(id, fileName, chunkData) {},\n            onUploadChunkSuccess: function(id, chunkData, response, xhr) {},\n            onAutoRetry: function(id, fileName, response, xhr) {},\n            onResume: function(id, fileName, chunkData, customResumeData) {},\n            onUuidChanged: function(id, newUuid) {},\n            getName: function(id) {},\n            setSize: function(id, newSize) {},\n            isQueued: function(id) {},\n            getIdsInProxyGroup: function(id) {},\n            getIdsInBatch: function(id) {},\n            isInProgress: function(id) {}\n        }, chunked = {\n            done: function(id, chunkIdx, response, xhr) {\n                var chunkData = handler._getChunkData(id, chunkIdx);\n                handler._getFileState(id).attemptingResume = false;\n                delete handler._getFileState(id).temp.chunkProgress[chunkIdx];\n                handler._getFileState(id).loaded += chunkData.size;\n                options.onUploadChunkSuccess(id, handler._getChunkDataForCallback(chunkData), response, xhr);\n            },\n            finalize: function(id) {\n                var size = options.getSize(id), name = options.getName(id);\n                log(\"All chunks have been uploaded for \" + id + \" - finalizing....\");\n                handler.finalizeChunks(id).then(function(response, xhr) {\n                    log(\"Finalize successful for \" + id);\n                    var normaizedResponse = upload.normalizeResponse(response, true);\n                    options.onProgress(id, name, size, size);\n                    handler._maybeDeletePersistedChunkData(id);\n                    upload.cleanup(id, normaizedResponse, xhr);\n                }, function(response, xhr) {\n                    var normalizedResponse = upload.normalizeResponse(response, false);\n                    log(\"Problem finalizing chunks for file ID \" + id + \" - \" + normalizedResponse.error, \"error\");\n                    if (normalizedResponse.reset || xhr && options.chunking.success.resetOnStatus.indexOf(xhr.status) >= 0) {\n                        chunked.reset(id);\n                    }\n                    if (!options.onAutoRetry(id, name, normalizedResponse, xhr)) {\n                        upload.cleanup(id, normalizedResponse, xhr);\n                    }\n                });\n            },\n            handleFailure: function(chunkIdx, id, response, xhr) {\n                var name = options.getName(id);\n                log(\"Chunked upload request failed for \" + id + \", chunk \" + chunkIdx);\n                handler.clearCachedChunk(id, chunkIdx);\n                var responseToReport = upload.normalizeResponse(response, false), inProgressIdx;\n                if (responseToReport.reset) {\n                    chunked.reset(id);\n                } else {\n                    var inProgressChunksArray = handler._getFileState(id).chunking.inProgress;\n                    inProgressIdx = inProgressChunksArray ? qq.indexOf(inProgressChunksArray, chunkIdx) : -1;\n                    if (inProgressIdx >= 0) {\n                        handler._getFileState(id).chunking.inProgress.splice(inProgressIdx, 1);\n                        handler._getFileState(id).chunking.remaining.unshift(chunkIdx);\n                    }\n                }\n                if (!handler._getFileState(id).temp.ignoreFailure) {\n                    if (concurrentChunkingPossible) {\n                        handler._getFileState(id).temp.ignoreFailure = true;\n                        log(qq.format(\"Going to attempt to abort these chunks: {}. These are currently in-progress: {}.\", JSON.stringify(Object.keys(handler._getXhrs(id))), JSON.stringify(handler._getFileState(id).chunking.inProgress)));\n                        qq.each(handler._getXhrs(id), function(ckid, ckXhr) {\n                            log(qq.format(\"Attempting to abort file {}.{}. XHR readyState {}. \", id, ckid, ckXhr.readyState));\n                            ckXhr.abort();\n                            ckXhr._cancelled = true;\n                        });\n                        handler.moveInProgressToRemaining(id);\n                        connectionManager.free(id, true);\n                    }\n                    if (!options.onAutoRetry(id, name, responseToReport, xhr)) {\n                        upload.cleanup(id, responseToReport, xhr);\n                    }\n                }\n            },\n            hasMoreParts: function(id) {\n                return !!handler._getFileState(id).chunking.remaining.length;\n            },\n            nextPart: function(id) {\n                var nextIdx = handler._getFileState(id).chunking.remaining.shift();\n                if (nextIdx >= handler._getTotalChunks(id)) {\n                    nextIdx = null;\n                }\n                return nextIdx;\n            },\n            reset: function(id) {\n                log(\"Server or callback has ordered chunking effort to be restarted on next attempt for item ID \" + id, \"error\");\n                handler._maybeDeletePersistedChunkData(id);\n                handler.reevaluateChunking(id);\n                handler._getFileState(id).loaded = 0;\n                handler._getFileState(id).attemptingResume = false;\n            },\n            sendNext: function(id) {\n                var size = options.getSize(id), name = options.getName(id), chunkIdx = chunked.nextPart(id), chunkData = handler._getChunkData(id, chunkIdx), fileState = handler._getFileState(id), resuming = fileState.attemptingResume, inProgressChunks = fileState.chunking.inProgress || [];\n                if (fileState.loaded == null) {\n                    fileState.loaded = 0;\n                }\n                if (resuming && options.onResume(id, name, chunkData, fileState.customResumeData) === false) {\n                    chunked.reset(id);\n                    chunkIdx = chunked.nextPart(id);\n                    chunkData = handler._getChunkData(id, chunkIdx);\n                    resuming = false;\n                }\n                if (chunkIdx == null && inProgressChunks.length === 0) {\n                    chunked.finalize(id);\n                } else {\n                    inProgressChunks.push(chunkIdx);\n                    handler._getFileState(id).chunking.inProgress = inProgressChunks;\n                    if (concurrentChunkingPossible) {\n                        connectionManager.open(id, chunkIdx);\n                    }\n                    if (concurrentChunkingPossible && connectionManager.available() && handler._getFileState(id).chunking.remaining.length) {\n                        chunked.sendNext(id);\n                    }\n                    if (chunkData.blob.size === 0) {\n                        log(qq.format(\"Chunk {} for file {} will not be uploaded, zero sized chunk.\", chunkIdx, id), \"error\");\n                        chunked.handleFailure(chunkIdx, id, \"File is no longer available\", null);\n                    }\n                    var onUploadChunkPromise = options.onUploadChunk(id, name, handler._getChunkDataForCallback(chunkData));\n                    onUploadChunkPromise.then(function(requestOverrides) {\n                        if (!options.isInProgress(id)) {\n                            log(qq.format(\"Not sending chunked upload request for item {}.{} - no longer in progress.\", id, chunkIdx));\n                        } else {\n                            log(qq.format(\"Sending chunked upload request for item {}.{}, bytes {}-{} of {}.\", id, chunkIdx, chunkData.start + 1, chunkData.end, size));\n                            var uploadChunkData = {\n                                chunkIdx: chunkIdx,\n                                id: id,\n                                overrides: requestOverrides,\n                                resuming: resuming\n                            };\n                            handler.uploadChunk(uploadChunkData).then(function success(response, xhr) {\n                                log(\"Chunked upload request succeeded for \" + id + \", chunk \" + chunkIdx);\n                                handler.clearCachedChunk(id, chunkIdx);\n                                var inProgressChunks = handler._getFileState(id).chunking.inProgress || [], responseToReport = upload.normalizeResponse(response, true), inProgressChunkIdx = qq.indexOf(inProgressChunks, chunkIdx);\n                                log(qq.format(\"Chunk {} for file {} uploaded successfully.\", chunkIdx, id));\n                                chunked.done(id, chunkIdx, responseToReport, xhr);\n                                if (inProgressChunkIdx >= 0) {\n                                    inProgressChunks.splice(inProgressChunkIdx, 1);\n                                }\n                                handler._maybePersistChunkedState(id);\n                                if (!chunked.hasMoreParts(id) && inProgressChunks.length === 0) {\n                                    chunked.finalize(id);\n                                } else if (chunked.hasMoreParts(id)) {\n                                    chunked.sendNext(id);\n                                } else {\n                                    log(qq.format(\"File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}\", id, JSON.stringify(inProgressChunks)));\n                                }\n                            }, function failure(response, xhr) {\n                                chunked.handleFailure(chunkIdx, id, response, xhr);\n                            }).done(function() {\n                                handler.clearXhr(id, chunkIdx);\n                            });\n                        }\n                    }, function(error) {\n                        chunked.handleFailure(chunkIdx, id, error, null);\n                    });\n                }\n            }\n        }, connectionManager = {\n            _open: [],\n            _openChunks: {},\n            _waiting: [],\n            available: function() {\n                var max = options.maxConnections, openChunkEntriesCount = 0, openChunksCount = 0;\n                qq.each(connectionManager._openChunks, function(fileId, openChunkIndexes) {\n                    openChunkEntriesCount++;\n                    openChunksCount += openChunkIndexes.length;\n                });\n                return max - (connectionManager._open.length - openChunkEntriesCount + openChunksCount);\n            },\n            free: function(id, dontAllowNext) {\n                var allowNext = !dontAllowNext, waitingIndex = qq.indexOf(connectionManager._waiting, id), connectionsIndex = qq.indexOf(connectionManager._open, id), nextId;\n                delete connectionManager._openChunks[id];\n                if (upload.getProxyOrBlob(id) instanceof qq.BlobProxy) {\n                    log(\"Generated blob upload has ended for \" + id + \", disposing generated blob.\");\n                    delete handler._getFileState(id).file;\n                }\n                if (waitingIndex >= 0) {\n                    connectionManager._waiting.splice(waitingIndex, 1);\n                } else if (allowNext && connectionsIndex >= 0) {\n                    connectionManager._open.splice(connectionsIndex, 1);\n                    nextId = connectionManager._waiting.shift();\n                    if (nextId >= 0) {\n                        connectionManager._open.push(nextId);\n                        upload.start(nextId);\n                    }\n                }\n            },\n            getWaitingOrConnected: function() {\n                var waitingOrConnected = [];\n                qq.each(connectionManager._openChunks, function(fileId, chunks) {\n                    if (chunks && chunks.length) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                qq.each(connectionManager._open, function(idx, fileId) {\n                    if (!connectionManager._openChunks[fileId]) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                waitingOrConnected = waitingOrConnected.concat(connectionManager._waiting);\n                return waitingOrConnected;\n            },\n            isUsingConnection: function(id) {\n                return qq.indexOf(connectionManager._open, id) >= 0;\n            },\n            open: function(id, chunkIdx) {\n                if (chunkIdx == null) {\n                    connectionManager._waiting.push(id);\n                }\n                if (connectionManager.available()) {\n                    if (chunkIdx == null) {\n                        connectionManager._waiting.pop();\n                        connectionManager._open.push(id);\n                    } else {\n                        (function() {\n                            var openChunksEntry = connectionManager._openChunks[id] || [];\n                            openChunksEntry.push(chunkIdx);\n                            connectionManager._openChunks[id] = openChunksEntry;\n                        })();\n                    }\n                    return true;\n                }\n                return false;\n            },\n            reset: function() {\n                connectionManager._waiting = [];\n                connectionManager._open = [];\n            }\n        }, simple = {\n            send: function(id, name) {\n                var fileState = handler._getFileState(id);\n                if (!fileState) {\n                    log(\"Ignoring send request as this upload may have been cancelled, File ID \" + id, \"warn\");\n                    return;\n                }\n                fileState.loaded = 0;\n                log(\"Sending simple upload request for \" + id);\n                handler.uploadFile(id).then(function(response, optXhr) {\n                    log(\"Simple upload request succeeded for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, true), size = options.getSize(id);\n                    options.onProgress(id, name, size, size);\n                    upload.maybeNewUuid(id, responseToReport);\n                    upload.cleanup(id, responseToReport, optXhr);\n                }, function(response, optXhr) {\n                    log(\"Simple upload request failed for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, false);\n                    if (!options.onAutoRetry(id, name, responseToReport, optXhr)) {\n                        upload.cleanup(id, responseToReport, optXhr);\n                    }\n                });\n            }\n        }, upload = {\n            cancel: function(id) {\n                log(\"Cancelling \" + id);\n                options.paramsStore.remove(id);\n                connectionManager.free(id);\n            },\n            cleanup: function(id, response, optXhr) {\n                var name = options.getName(id);\n                options.onComplete(id, name, response, optXhr);\n                if (handler._getFileState(id)) {\n                    handler._clearXhrs && handler._clearXhrs(id);\n                }\n                connectionManager.free(id);\n            },\n            getProxyOrBlob: function(id) {\n                return handler.getProxy && handler.getProxy(id) || handler.getFile && handler.getFile(id);\n            },\n            initHandler: function() {\n                var handlerType = namespace ? qq[namespace] : qq.traditional, handlerModuleSubtype = qq.supportedFeatures.ajaxUploading ? \"Xhr\" : \"Form\";\n                handler = new handlerType[handlerModuleSubtype + \"UploadHandler\"](options, {\n                    getCustomResumeData: options.getCustomResumeData,\n                    getDataByUuid: options.getDataByUuid,\n                    getName: options.getName,\n                    getSize: options.getSize,\n                    getUuid: options.getUuid,\n                    log: log,\n                    onCancel: options.onCancel,\n                    onProgress: options.onProgress,\n                    onUuidChanged: options.onUuidChanged,\n                    onFinalizing: function(id) {\n                        options.setStatus(id, qq.status.UPLOAD_FINALIZING);\n                    }\n                });\n                if (handler._removeExpiredChunkingRecords) {\n                    handler._removeExpiredChunkingRecords();\n                }\n            },\n            isDeferredEligibleForUpload: function(id) {\n                return options.isQueued(id);\n            },\n            maybeDefer: function(id, blob) {\n                if (blob && !handler.getFile(id) && blob instanceof qq.BlobProxy) {\n                    options.onUploadPrep(id);\n                    log(\"Attempting to generate a blob on-demand for \" + id);\n                    blob.create().then(function(generatedBlob) {\n                        log(\"Generated an on-demand blob for \" + id);\n                        handler.updateBlob(id, generatedBlob);\n                        options.setSize(id, generatedBlob.size);\n                        handler.reevaluateChunking(id);\n                        upload.maybeSendDeferredFiles(id);\n                    }, function(errorMessage) {\n                        var errorResponse = {};\n                        if (errorMessage) {\n                            errorResponse.error = errorMessage;\n                        }\n                        log(qq.format(\"Failed to generate blob for ID {}.  Error message: {}.\", id, errorMessage), \"error\");\n                        options.onComplete(id, options.getName(id), qq.extend(errorResponse, preventRetryResponse), null);\n                        upload.maybeSendDeferredFiles(id);\n                        connectionManager.free(id);\n                    });\n                } else {\n                    return upload.maybeSendDeferredFiles(id);\n                }\n                return false;\n            },\n            maybeSendDeferredFiles: function(id) {\n                var idsInGroup = options.getIdsInProxyGroup(id), uploadedThisId = false;\n                if (idsInGroup && idsInGroup.length) {\n                    log(\"Maybe ready to upload proxy group file \" + id);\n                    qq.each(idsInGroup, function(idx, idInGroup) {\n                        if (upload.isDeferredEligibleForUpload(idInGroup) && !!handler.getFile(idInGroup)) {\n                            uploadedThisId = idInGroup === id;\n                            upload.now(idInGroup);\n                        } else if (upload.isDeferredEligibleForUpload(idInGroup)) {\n                            return false;\n                        }\n                    });\n                } else {\n                    uploadedThisId = true;\n                    upload.now(id);\n                }\n                return uploadedThisId;\n            },\n            maybeNewUuid: function(id, response) {\n                if (response.newUuid !== undefined) {\n                    options.onUuidChanged(id, response.newUuid);\n                }\n            },\n            normalizeResponse: function(originalResponse, successful) {\n                var response = originalResponse;\n                if (!qq.isObject(originalResponse)) {\n                    response = {};\n                    if (qq.isString(originalResponse) && !successful) {\n                        response.error = originalResponse;\n                    }\n                }\n                response.success = successful;\n                return response;\n            },\n            now: function(id) {\n                var name = options.getName(id);\n                if (!controller.isValid(id)) {\n                    throw new qq.Error(id + \" is not a valid file ID to upload!\");\n                }\n                options.onUpload(id, name).then(function(response) {\n                    if (response && response.pause) {\n                        options.setStatus(id, qq.status.PAUSED);\n                        handler.pause(id);\n                        connectionManager.free(id);\n                    } else {\n                        if (chunkingPossible && handler._shouldChunkThisFile(id)) {\n                            chunked.sendNext(id);\n                        } else {\n                            simple.send(id, name);\n                        }\n                    }\n                }, function(error) {\n                    error = error || {};\n                    log(id + \" upload start aborted due to rejected onUpload Promise - details: \" + error, \"error\");\n                    if (!options.onAutoRetry(id, name, error.responseJSON || {})) {\n                        var response = upload.normalizeResponse(error.responseJSON, false);\n                        upload.cleanup(id, response);\n                    }\n                });\n            },\n            start: function(id) {\n                var blobToUpload = upload.getProxyOrBlob(id);\n                if (blobToUpload) {\n                    return upload.maybeDefer(id, blobToUpload);\n                } else {\n                    upload.now(id);\n                    return true;\n                }\n            }\n        };\n        qq.extend(this, {\n            add: function(id, file) {\n                handler.add.apply(this, arguments);\n            },\n            upload: function(id) {\n                if (connectionManager.open(id)) {\n                    return upload.start(id);\n                }\n                return false;\n            },\n            retry: function(id) {\n                if (concurrentChunkingPossible) {\n                    handler._getFileState(id).temp.ignoreFailure = false;\n                }\n                if (connectionManager.isUsingConnection(id)) {\n                    return upload.start(id);\n                } else {\n                    return controller.upload(id);\n                }\n            },\n            cancel: function(id) {\n                var cancelRetVal = handler.cancel(id);\n                if (qq.isGenericPromise(cancelRetVal)) {\n                    cancelRetVal.then(function() {\n                        upload.cancel(id);\n                    });\n                } else if (cancelRetVal !== false) {\n                    upload.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var waitingOrConnected = connectionManager.getWaitingOrConnected(), i;\n                if (waitingOrConnected.length) {\n                    for (i = waitingOrConnected.length - 1; i >= 0; i--) {\n                        controller.cancel(waitingOrConnected[i]);\n                    }\n                }\n                connectionManager.reset();\n            },\n            getFile: function(id) {\n                if (handler.getProxy && handler.getProxy(id)) {\n                    return handler.getProxy(id).referenceBlob;\n                }\n                return handler.getFile && handler.getFile(id);\n            },\n            isProxied: function(id) {\n                return !!(handler.getProxy && handler.getProxy(id));\n            },\n            getInput: function(id) {\n                if (handler.getInput) {\n                    return handler.getInput(id);\n                }\n            },\n            reset: function() {\n                log(\"Resetting upload handler\");\n                controller.cancelAll();\n                connectionManager.reset();\n                handler.reset();\n            },\n            expunge: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.expunge(id);\n                }\n            },\n            isValid: function(id) {\n                return handler.isValid(id);\n            },\n            hasResumeRecord: function(id) {\n                var key = handler.isValid(id) && handler._getLocalStorageId && handler._getLocalStorageId(id);\n                if (key) {\n                    return !!localStorage.getItem(key);\n                }\n                return false;\n            },\n            getResumableFilesData: function() {\n                if (handler.getResumableFilesData) {\n                    return handler.getResumableFilesData();\n                }\n                return [];\n            },\n            getThirdPartyFileId: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.getThirdPartyFileId(id);\n                }\n            },\n            pause: function(id) {\n                if (controller.isResumable(id) && handler.pause && controller.isValid(id) && handler.pause(id)) {\n                    connectionManager.free(id);\n                    handler.moveInProgressToRemaining(id);\n                    return true;\n                }\n                return false;\n            },\n            isAttemptingResume: function(id) {\n                return !!handler.isAttemptingResume && handler.isAttemptingResume(id);\n            },\n            isResumable: function(id) {\n                return !!handler.isResumable && handler.isResumable(id);\n            }\n        });\n        qq.extend(options, o);\n        log = options.log;\n        chunkingPossible = options.chunking.enabled && qq.supportedFeatures.chunking;\n        concurrentChunkingPossible = chunkingPossible && options.chunking.concurrent.enabled;\n        preventRetryResponse = function() {\n            var response = {};\n            response[options.preventRetryParam] = true;\n            return response;\n        }();\n        upload.initHandler();\n    };\n    qq.WindowReceiveMessage = function(o) {\n        \"use strict\";\n        var options = {\n            log: function(message, level) {}\n        }, callbackWrapperDetachers = {};\n        qq.extend(options, o);\n        qq.extend(this, {\n            receiveMessage: function(id, callback) {\n                var onMessageCallbackWrapper = function(event) {\n                    callback(event.data);\n                };\n                if (window.postMessage) {\n                    callbackWrapperDetachers[id] = qq(window).attach(\"message\", onMessageCallbackWrapper);\n                } else {\n                    log(\"iframe message passing not supported in this browser!\", \"error\");\n                }\n            },\n            stopReceivingMessages: function(id) {\n                if (window.postMessage) {\n                    var detacher = callbackWrapperDetachers[id];\n                    if (detacher) {\n                        detacher();\n                    }\n                }\n            }\n        });\n    };\n    qq.FormUploadHandler = function(spec) {\n        \"use strict\";\n        var options = spec.options, handler = this, proxy = spec.proxy, formHandlerInstanceId = qq.getUniqueId(), onloadCallbacks = {}, detachLoadEvents = {}, postMessageCallbackTimers = {}, isCors = options.isCors, inputName = options.inputName, getUuid = proxy.getUuid, log = proxy.log, corsMessageReceiver = new qq.WindowReceiveMessage({\n            log: log\n        });\n        function expungeFile(id) {\n            delete detachLoadEvents[id];\n            if (isCors) {\n                clearTimeout(postMessageCallbackTimers[id]);\n                delete postMessageCallbackTimers[id];\n                corsMessageReceiver.stopReceivingMessages(id);\n            }\n            var iframe = document.getElementById(handler._getIframeName(id));\n            if (iframe) {\n                iframe.setAttribute(\"src\", \"javascript:false;\");\n                qq(iframe).remove();\n            }\n        }\n        function getFileIdForIframeName(iframeName) {\n            return iframeName.split(\"_\")[0];\n        }\n        function initIframeForUpload(name) {\n            var iframe = qq.toElement(\"<iframe src='javascript:false;' name='\" + name + \"' />\");\n            iframe.setAttribute(\"id\", name);\n            iframe.style.display = \"none\";\n            document.body.appendChild(iframe);\n            return iframe;\n        }\n        function registerPostMessageCallback(iframe, callback) {\n            var iframeName = iframe.id, fileId = getFileIdForIframeName(iframeName), uuid = getUuid(fileId);\n            onloadCallbacks[uuid] = callback;\n            detachLoadEvents[fileId] = qq(iframe).attach(\"load\", function() {\n                if (handler.getInput(fileId)) {\n                    log(\"Received iframe load event for CORS upload request (iframe name \" + iframeName + \")\");\n                    postMessageCallbackTimers[iframeName] = setTimeout(function() {\n                        var errorMessage = \"No valid message received from loaded iframe for iframe name \" + iframeName;\n                        log(errorMessage, \"error\");\n                        callback({\n                            error: errorMessage\n                        });\n                    }, 1e3);\n                }\n            });\n            corsMessageReceiver.receiveMessage(iframeName, function(message) {\n                log(\"Received the following window message: '\" + message + \"'\");\n                var fileId = getFileIdForIframeName(iframeName), response = handler._parseJsonResponse(message), uuid = response.uuid, onloadCallback;\n                if (uuid && onloadCallbacks[uuid]) {\n                    log(\"Handling response for iframe name \" + iframeName);\n                    clearTimeout(postMessageCallbackTimers[iframeName]);\n                    delete postMessageCallbackTimers[iframeName];\n                    handler._detachLoadEvent(iframeName);\n                    onloadCallback = onloadCallbacks[uuid];\n                    delete onloadCallbacks[uuid];\n                    corsMessageReceiver.stopReceivingMessages(iframeName);\n                    onloadCallback(response);\n                } else if (!uuid) {\n                    log(\"'\" + message + \"' does not contain a UUID - ignoring.\");\n                }\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, fileInput) {\n                    super_.add(id, {\n                        input: fileInput\n                    });\n                    fileInput.setAttribute(\"name\", inputName);\n                    if (fileInput.parentNode) {\n                        qq(fileInput).remove();\n                    }\n                },\n                expunge: function(id) {\n                    expungeFile(id);\n                    super_.expunge(id);\n                },\n                isValid: function(id) {\n                    return super_.isValid(id) && handler._getFileState(id).input !== undefined;\n                }\n            };\n        });\n        qq.extend(this, {\n            getInput: function(id) {\n                return handler._getFileState(id).input;\n            },\n            _attachLoadEvent: function(iframe, callback) {\n                var responseDescriptor;\n                if (isCors) {\n                    registerPostMessageCallback(iframe, callback);\n                } else {\n                    detachLoadEvents[iframe.id] = qq(iframe).attach(\"load\", function() {\n                        log(\"Received response for \" + iframe.id);\n                        if (!iframe.parentNode) {\n                            return;\n                        }\n                        try {\n                            if (iframe.contentDocument && iframe.contentDocument.body && iframe.contentDocument.body.innerHTML == \"false\") {\n                                return;\n                            }\n                        } catch (error) {\n                            log(\"Error when attempting to access iframe during handling of upload response (\" + error.message + \")\", \"error\");\n                            responseDescriptor = {\n                                success: false\n                            };\n                        }\n                        callback(responseDescriptor);\n                    });\n                }\n            },\n            _createIframe: function(id) {\n                var iframeName = handler._getIframeName(id);\n                return initIframeForUpload(iframeName);\n            },\n            _detachLoadEvent: function(id) {\n                if (detachLoadEvents[id] !== undefined) {\n                    detachLoadEvents[id]();\n                    delete detachLoadEvents[id];\n                }\n            },\n            _getIframeName: function(fileId) {\n                return fileId + \"_\" + formHandlerInstanceId;\n            },\n            _initFormForUpload: function(spec) {\n                var method = spec.method, endpoint = spec.endpoint, params = spec.params, paramsInBody = spec.paramsInBody, targetName = spec.targetName, form = qq.toElement(\"<form method='\" + method + \"' enctype='multipart/form-data'></form>\"), url = endpoint;\n                if (paramsInBody) {\n                    qq.obj2Inputs(params, form);\n                } else {\n                    url = qq.obj2url(params, endpoint);\n                }\n                form.setAttribute(\"action\", url);\n                form.setAttribute(\"target\", targetName);\n                form.style.display = \"none\";\n                document.body.appendChild(form);\n                return form;\n            },\n            _parseJsonResponse: function(innerHtmlOrMessage) {\n                var response = {};\n                try {\n                    response = qq.parseJson(innerHtmlOrMessage);\n                } catch (error) {\n                    log(\"Error when attempting to parse iframe upload response (\" + error.message + \")\", \"error\");\n                }\n                return response;\n            }\n        });\n    };\n    qq.XhrUploadHandler = function(spec) {\n        \"use strict\";\n        var handler = this, namespace = spec.options.namespace, proxy = spec.proxy, chunking = spec.options.chunking, getChunkSize = function(id) {\n            var fileState = handler._getFileState(id);\n            if (fileState.chunkSize) {\n                return fileState.chunkSize;\n            } else {\n                var chunkSize = chunking.partSize;\n                if (qq.isFunction(chunkSize)) {\n                    chunkSize = chunkSize(id, getSize(id));\n                }\n                fileState.chunkSize = chunkSize;\n                return chunkSize;\n            }\n        }, resume = spec.options.resume, chunkFiles = chunking && spec.options.chunking.enabled && qq.supportedFeatures.chunking, resumeEnabled = resume && spec.options.resume.enabled && chunkFiles && qq.supportedFeatures.resume, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, getEndpoint = proxy.getEndpoint, getDataByUuid = proxy.getDataByUuid, onUuidChanged = proxy.onUuidChanged, onProgress = proxy.onProgress, log = proxy.log, getCustomResumeData = proxy.getCustomResumeData;\n        function abort(id) {\n            qq.each(handler._getXhrs(id), function(xhrId, xhr) {\n                var ajaxRequester = handler._getAjaxRequester(id, xhrId);\n                xhr.onreadystatechange = null;\n                xhr.upload.onprogress = null;\n                xhr.abort();\n                ajaxRequester && ajaxRequester.canceled && ajaxRequester.canceled(id);\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, blobOrProxy) {\n                    if (qq.isFile(blobOrProxy) || qq.isBlob(blobOrProxy)) {\n                        super_.add(id, {\n                            file: blobOrProxy\n                        });\n                    } else if (blobOrProxy instanceof qq.BlobProxy) {\n                        super_.add(id, {\n                            proxy: blobOrProxy\n                        });\n                    } else {\n                        throw new Error(\"Passed obj is not a File, Blob, or proxy\");\n                    }\n                    handler._initTempState(id);\n                    resumeEnabled && handler._maybePrepareForResume(id);\n                },\n                expunge: function(id) {\n                    abort(id);\n                    handler._maybeDeletePersistedChunkData(id);\n                    handler._clearXhrs(id);\n                    super_.expunge(id);\n                }\n            };\n        });\n        qq.extend(this, {\n            clearCachedChunk: function(id, chunkIdx) {\n                var fileState = handler._getFileState(id);\n                if (fileState) {\n                    delete fileState.temp.cachedChunks[chunkIdx];\n                }\n            },\n            clearXhr: function(id, chunkIdx) {\n                var tempState = handler._getFileState(id).temp;\n                if (tempState.xhrs) {\n                    delete tempState.xhrs[chunkIdx];\n                }\n                if (tempState.ajaxRequesters) {\n                    delete tempState.ajaxRequesters[chunkIdx];\n                }\n            },\n            finalizeChunks: function(id, responseParser) {\n                var lastChunkIdx = handler._getTotalChunks(id) - 1, xhr = handler._getXhr(id, lastChunkIdx);\n                if (responseParser) {\n                    return new qq.Promise().success(responseParser(xhr), xhr);\n                }\n                return new qq.Promise().success({}, xhr);\n            },\n            getFile: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).file;\n            },\n            getProxy: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).proxy;\n            },\n            getResumableFilesData: function() {\n                var resumableFilesData = [];\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    handler.moveInProgressToRemaining(null, uploadData.chunking.inProgress, uploadData.chunking.remaining);\n                    var data = {\n                        name: uploadData.name,\n                        remaining: uploadData.chunking.remaining,\n                        size: uploadData.size,\n                        uuid: uploadData.uuid\n                    };\n                    if (uploadData.key) {\n                        data.key = uploadData.key;\n                    }\n                    if (uploadData.customResumeData) {\n                        data.customResumeData = uploadData.customResumeData;\n                    }\n                    resumableFilesData.push(data);\n                });\n                return resumableFilesData;\n            },\n            isAttemptingResume: function(id) {\n                return handler._getFileState(id).attemptingResume;\n            },\n            isResumable: function(id) {\n                return !!chunking && handler.isValid(id) && !handler._getFileState(id).notResumable;\n            },\n            moveInProgressToRemaining: function(id, optInProgress, optRemaining) {\n                var fileState = handler._getFileState(id) || {}, chunkingState = fileState.chunking || {}, inProgress = optInProgress || chunkingState.inProgress, remaining = optRemaining || chunkingState.remaining;\n                if (inProgress) {\n                    log(qq.format(\"Moving these chunks from in-progress {}, to remaining.\", JSON.stringify(inProgress)));\n                    inProgress.reverse();\n                    qq.each(inProgress, function(idx, chunkIdx) {\n                        remaining.unshift(chunkIdx);\n                    });\n                    inProgress.length = 0;\n                }\n            },\n            pause: function(id) {\n                if (handler.isValid(id)) {\n                    log(qq.format(\"Aborting XHR upload for {} '{}' due to pause instruction.\", id, getName(id)));\n                    handler._getFileState(id).paused = true;\n                    abort(id);\n                    return true;\n                }\n            },\n            reevaluateChunking: function(id) {\n                if (chunking && handler.isValid(id)) {\n                    var state = handler._getFileState(id), totalChunks, i;\n                    delete state.chunking;\n                    state.chunking = {};\n                    totalChunks = handler._getTotalChunks(id);\n                    if (totalChunks > 1 || chunking.mandatory) {\n                        state.chunking.enabled = true;\n                        state.chunking.parts = totalChunks;\n                        state.chunking.remaining = [];\n                        for (i = 0; i < totalChunks; i++) {\n                            state.chunking.remaining.push(i);\n                        }\n                        handler._initTempState(id);\n                    } else {\n                        state.chunking.enabled = false;\n                    }\n                }\n            },\n            updateBlob: function(id, newBlob) {\n                if (handler.isValid(id)) {\n                    handler._getFileState(id).file = newBlob;\n                }\n            },\n            _clearXhrs: function(id) {\n                var tempState = handler._getFileState(id).temp;\n                qq.each(tempState.ajaxRequesters, function(chunkId) {\n                    delete tempState.ajaxRequesters[chunkId];\n                });\n                qq.each(tempState.xhrs, function(chunkId) {\n                    delete tempState.xhrs[chunkId];\n                });\n            },\n            _createXhr: function(id, optChunkIdx) {\n                return handler._registerXhr(id, optChunkIdx, qq.createXhrInstance());\n            },\n            _getAjaxRequester: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.ajaxRequesters[chunkIdx];\n            },\n            _getChunkData: function(id, chunkIndex) {\n                var chunkSize = getChunkSize(id), fileSize = getSize(id), fileOrBlob = handler.getFile(id), startBytes = chunkSize * chunkIndex, endBytes = startBytes + chunkSize >= fileSize ? fileSize : startBytes + chunkSize, totalChunks = handler._getTotalChunks(id), cachedChunks = this._getFileState(id).temp.cachedChunks, blob = cachedChunks[chunkIndex] || qq.sliceBlob(fileOrBlob, startBytes, endBytes);\n                cachedChunks[chunkIndex] = blob;\n                return {\n                    part: chunkIndex,\n                    start: startBytes,\n                    end: endBytes,\n                    count: totalChunks,\n                    blob: blob,\n                    size: endBytes - startBytes\n                };\n            },\n            _getChunkDataForCallback: function(chunkData) {\n                return {\n                    partIndex: chunkData.part,\n                    startByte: chunkData.start + 1,\n                    endByte: chunkData.end,\n                    totalParts: chunkData.count\n                };\n            },\n            _getLocalStorageId: function(id) {\n                var formatVersion = \"5.0\", name = getName(id), size = getSize(id), chunkSize = getChunkSize(id), endpoint = getEndpoint(id), customKeys = resume.customKeys(id), localStorageId = qq.format(\"qq{}resume{}-{}-{}-{}-{}\", namespace, formatVersion, name, size, chunkSize, endpoint);\n                customKeys.forEach(function(key) {\n                    localStorageId += \"-\" + key;\n                });\n                return localStorageId;\n            },\n            _getMimeType: function(id) {\n                return handler.getFile(id).type;\n            },\n            _getPersistableData: function(id) {\n                return handler._getFileState(id).chunking;\n            },\n            _getTotalChunks: function(id) {\n                if (chunking) {\n                    var fileSize = getSize(id), chunkSize = getChunkSize(id);\n                    return Math.ceil(fileSize / chunkSize);\n                }\n            },\n            _getXhr: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.xhrs[chunkIdx];\n            },\n            _getXhrs: function(id) {\n                return handler._getFileState(id).temp.xhrs;\n            },\n            _iterateResumeRecords: function(callback) {\n                if (resumeEnabled) {\n                    qq.each(localStorage, function(key, item) {\n                        if (key.indexOf(qq.format(\"qq{}resume\", namespace)) === 0) {\n                            var uploadData = JSON.parse(item);\n                            callback(key, uploadData);\n                        }\n                    });\n                }\n            },\n            _initTempState: function(id) {\n                handler._getFileState(id).temp = {\n                    ajaxRequesters: {},\n                    chunkProgress: {},\n                    xhrs: {},\n                    cachedChunks: {}\n                };\n            },\n            _markNotResumable: function(id) {\n                handler._getFileState(id).notResumable = true;\n            },\n            _maybeDeletePersistedChunkData: function(id) {\n                var localStorageId;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    if (localStorageId && localStorage.getItem(localStorageId)) {\n                        localStorage.removeItem(localStorageId);\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _maybePrepareForResume: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && state.key === undefined) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = localStorage.getItem(localStorageId);\n                    if (persistedData) {\n                        persistedData = JSON.parse(persistedData);\n                        if (getDataByUuid(persistedData.uuid)) {\n                            handler._markNotResumable(id);\n                        } else {\n                            log(qq.format(\"Identified file with ID {} and name of {} as resumable.\", id, getName(id)));\n                            onUuidChanged(id, persistedData.uuid);\n                            state.key = persistedData.key;\n                            state.chunking = persistedData.chunking;\n                            state.loaded = persistedData.loaded;\n                            state.customResumeData = persistedData.customResumeData;\n                            state.attemptingResume = true;\n                            handler.moveInProgressToRemaining(id);\n                        }\n                    }\n                }\n            },\n            _maybePersistChunkedState: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    var customResumeData = getCustomResumeData(id);\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = {\n                        name: getName(id),\n                        size: getSize(id),\n                        uuid: getUuid(id),\n                        key: state.key,\n                        chunking: state.chunking,\n                        loaded: state.loaded,\n                        lastUpdated: Date.now()\n                    };\n                    if (customResumeData) {\n                        persistedData.customResumeData = customResumeData;\n                    }\n                    try {\n                        localStorage.setItem(localStorageId, JSON.stringify(persistedData));\n                    } catch (error) {\n                        log(qq.format(\"Unable to save resume data for '{}' due to error: '{}'.\", id, error.toString()), \"warn\");\n                    }\n                }\n            },\n            _registerProgressHandler: function(id, chunkIdx, chunkSize) {\n                var xhr = handler._getXhr(id, chunkIdx), name = getName(id), progressCalculator = {\n                    simple: function(loaded, total) {\n                        var fileSize = getSize(id);\n                        if (loaded === total) {\n                            onProgress(id, name, fileSize, fileSize);\n                        } else {\n                            onProgress(id, name, loaded >= fileSize ? fileSize - 1 : loaded, fileSize);\n                        }\n                    },\n                    chunked: function(loaded, total) {\n                        var chunkProgress = handler._getFileState(id).temp.chunkProgress, totalSuccessfullyLoadedForFile = handler._getFileState(id).loaded, loadedForRequest = loaded, totalForRequest = total, totalFileSize = getSize(id), estActualChunkLoaded = loadedForRequest - (totalForRequest - chunkSize), totalLoadedForFile = totalSuccessfullyLoadedForFile;\n                        chunkProgress[chunkIdx] = estActualChunkLoaded;\n                        qq.each(chunkProgress, function(chunkIdx, chunkLoaded) {\n                            totalLoadedForFile += chunkLoaded;\n                        });\n                        onProgress(id, name, totalLoadedForFile, totalFileSize);\n                    }\n                };\n                xhr.upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        var type = chunkSize == null ? \"simple\" : \"chunked\";\n                        progressCalculator[type](e.loaded, e.total);\n                    }\n                };\n            },\n            _registerXhr: function(id, optChunkIdx, xhr, optAjaxRequester) {\n                var xhrsId = optChunkIdx == null ? -1 : optChunkIdx, tempState = handler._getFileState(id).temp;\n                tempState.xhrs = tempState.xhrs || {};\n                tempState.ajaxRequesters = tempState.ajaxRequesters || {};\n                tempState.xhrs[xhrsId] = xhr;\n                if (optAjaxRequester) {\n                    tempState.ajaxRequesters[xhrsId] = optAjaxRequester;\n                }\n                return xhr;\n            },\n            _removeExpiredChunkingRecords: function() {\n                var expirationDays = resume.recordsExpireIn;\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    var expirationDate = new Date(uploadData.lastUpdated);\n                    expirationDate.setDate(expirationDate.getDate() + expirationDays);\n                    if (expirationDate.getTime() <= Date.now()) {\n                        log(\"Removing expired resume record with key \" + key);\n                        localStorage.removeItem(key);\n                    }\n                });\n            },\n            _shouldChunkThisFile: function(id) {\n                var state = handler._getFileState(id);\n                if (state) {\n                    if (!state.chunking) {\n                        handler.reevaluateChunking(id);\n                    }\n                    return state.chunking.enabled;\n                }\n            }\n        });\n    };\n    qq.DeleteFileAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            method: \"DELETE\",\n            uuidParamName: \"qquuid\",\n            endpointStore: {},\n            maxConnections: 3,\n            customHeaders: function(id) {\n                return {};\n            },\n            paramsStore: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onDelete: function(id) {},\n            onDeleteComplete: function(id, xhrOrXdr, isError) {}\n        };\n        qq.extend(options, o);\n        function getMandatedParams() {\n            if (options.method.toUpperCase() === \"POST\") {\n                return {\n                    _method: \"DELETE\"\n                };\n            }\n            return {};\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"POST\", \"DELETE\" ],\n            method: options.method,\n            endpointStore: options.endpointStore,\n            paramsStore: options.paramsStore,\n            mandatedParams: getMandatedParams(),\n            maxConnections: options.maxConnections,\n            customHeaders: function(id) {\n                return options.customHeaders.get(id);\n            },\n            log: options.log,\n            onSend: options.onDelete,\n            onComplete: options.onDeleteComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            sendDelete: function(id, uuid, additionalMandatedParams) {\n                var additionalOptions = additionalMandatedParams || {};\n                options.log(\"Submitting delete file request for \" + id);\n                if (options.method === \"DELETE\") {\n                    requester.initTransport(id).withPath(uuid).withParams(additionalOptions).send();\n                } else {\n                    additionalOptions[options.uuidParamName] = uuid;\n                    requester.initTransport(id).withParams(additionalOptions).send();\n                }\n            }\n        });\n    };\n    (function() {\n        function detectSubsampling(img) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, canvas = document.createElement(\"canvas\"), ctx;\n            if (iw * ih > 1024 * 1024) {\n                canvas.width = canvas.height = 1;\n                ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(img, -iw + 1, 0);\n                return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n            } else {\n                return false;\n            }\n        }\n        function detectVerticalSquash(img, iw, ih) {\n            var canvas = document.createElement(\"canvas\"), sy = 0, ey = ih, py = ih, ctx, data, alpha, ratio;\n            canvas.width = 1;\n            canvas.height = ih;\n            ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(img, 0, 0);\n            data = ctx.getImageData(0, 0, 1, ih).data;\n            while (py > sy) {\n                alpha = data[(py - 1) * 4 + 3];\n                if (alpha === 0) {\n                    ey = py;\n                } else {\n                    sy = py;\n                }\n                py = ey + sy >> 1;\n            }\n            ratio = py / ih;\n            return ratio === 0 ? 1 : ratio;\n        }\n        function renderImageToDataURL(img, blob, options, doSquash) {\n            var canvas = document.createElement(\"canvas\"), mime = options.mime || \"image/jpeg\", promise = new qq.Promise();\n            renderImageToCanvas(img, blob, canvas, options, doSquash).then(function() {\n                promise.success(canvas.toDataURL(mime, options.quality || .8));\n            });\n            return promise;\n        }\n        function maybeCalculateDownsampledDimensions(spec) {\n            var maxPixels = 5241e3;\n            if (!qq.ios()) {\n                throw new qq.Error(\"Downsampled dimensions can only be reliably calculated for iOS!\");\n            }\n            if (spec.origHeight * spec.origWidth > maxPixels) {\n                return {\n                    newHeight: Math.round(Math.sqrt(maxPixels * (spec.origHeight / spec.origWidth))),\n                    newWidth: Math.round(Math.sqrt(maxPixels * (spec.origWidth / spec.origHeight)))\n                };\n            }\n        }\n        function renderImageToCanvas(img, blob, canvas, options, doSquash) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, width = options.width, height = options.height, ctx = canvas.getContext(\"2d\"), promise = new qq.Promise(), modifiedDimensions;\n            ctx.save();\n            if (options.resize) {\n                return renderImageToCanvasWithCustomResizer({\n                    blob: blob,\n                    canvas: canvas,\n                    image: img,\n                    imageHeight: ih,\n                    imageWidth: iw,\n                    orientation: options.orientation,\n                    resize: options.resize,\n                    targetHeight: height,\n                    targetWidth: width\n                });\n            }\n            if (!qq.supportedFeatures.unlimitedScaledImageSize) {\n                modifiedDimensions = maybeCalculateDownsampledDimensions({\n                    origWidth: width,\n                    origHeight: height\n                });\n                if (modifiedDimensions) {\n                    qq.log(qq.format(\"Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h\", width, height, modifiedDimensions.newWidth, modifiedDimensions.newHeight), \"warn\");\n                    width = modifiedDimensions.newWidth;\n                    height = modifiedDimensions.newHeight;\n                }\n            }\n            transformCoordinate(canvas, width, height, options.orientation);\n            if (qq.ios()) {\n                (function() {\n                    if (detectSubsampling(img)) {\n                        iw /= 2;\n                        ih /= 2;\n                    }\n                    var d = 1024, tmpCanvas = document.createElement(\"canvas\"), vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1, dw = Math.ceil(d * width / iw), dh = Math.ceil(d * height / ih / vertSquashRatio), sy = 0, dy = 0, tmpCtx, sx, dx;\n                    tmpCanvas.width = tmpCanvas.height = d;\n                    tmpCtx = tmpCanvas.getContext(\"2d\");\n                    while (sy < ih) {\n                        sx = 0;\n                        dx = 0;\n                        while (sx < iw) {\n                            tmpCtx.clearRect(0, 0, d, d);\n                            tmpCtx.drawImage(img, -sx, -sy);\n                            ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n                            sx += d;\n                            dx += dw;\n                        }\n                        sy += d;\n                        dy += dh;\n                    }\n                    ctx.restore();\n                    tmpCanvas = tmpCtx = null;\n                })();\n            } else {\n                ctx.drawImage(img, 0, 0, width, height);\n            }\n            canvas.qqImageRendered && canvas.qqImageRendered();\n            promise.success();\n            return promise;\n        }\n        function renderImageToCanvasWithCustomResizer(resizeInfo) {\n            var blob = resizeInfo.blob, image = resizeInfo.image, imageHeight = resizeInfo.imageHeight, imageWidth = resizeInfo.imageWidth, orientation = resizeInfo.orientation, promise = new qq.Promise(), resize = resizeInfo.resize, sourceCanvas = document.createElement(\"canvas\"), sourceCanvasContext = sourceCanvas.getContext(\"2d\"), targetCanvas = resizeInfo.canvas, targetHeight = resizeInfo.targetHeight, targetWidth = resizeInfo.targetWidth;\n            transformCoordinate(sourceCanvas, imageWidth, imageHeight, orientation);\n            targetCanvas.height = targetHeight;\n            targetCanvas.width = targetWidth;\n            sourceCanvasContext.drawImage(image, 0, 0);\n            resize({\n                blob: blob,\n                height: targetHeight,\n                image: image,\n                sourceCanvas: sourceCanvas,\n                targetCanvas: targetCanvas,\n                width: targetWidth\n            }).then(function success() {\n                targetCanvas.qqImageRendered && targetCanvas.qqImageRendered();\n                promise.success();\n            }, promise.failure);\n            return promise;\n        }\n        function transformCoordinate(canvas, width, height, orientation) {\n            switch (orientation) {\n              case 5:\n              case 6:\n              case 7:\n              case 8:\n                canvas.width = height;\n                canvas.height = width;\n                break;\n\n              default:\n                canvas.width = width;\n                canvas.height = height;\n            }\n            var ctx = canvas.getContext(\"2d\");\n            switch (orientation) {\n              case 2:\n                ctx.translate(width, 0);\n                ctx.scale(-1, 1);\n                break;\n\n              case 3:\n                ctx.translate(width, height);\n                ctx.rotate(Math.PI);\n                break;\n\n              case 4:\n                ctx.translate(0, height);\n                ctx.scale(1, -1);\n                break;\n\n              case 5:\n                ctx.rotate(.5 * Math.PI);\n                ctx.scale(1, -1);\n                break;\n\n              case 6:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(0, -height);\n                break;\n\n              case 7:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(width, -height);\n                ctx.scale(-1, 1);\n                break;\n\n              case 8:\n                ctx.rotate(-.5 * Math.PI);\n                ctx.translate(-width, 0);\n                break;\n\n              default:\n                break;\n            }\n        }\n        function MegaPixImage(srcImage, errorCallback) {\n            var self = this;\n            if (window.Blob && srcImage instanceof Blob) {\n                (function() {\n                    var img = new Image(), URL = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                    if (!URL) {\n                        throw Error(\"No createObjectURL function found to create blob url\");\n                    }\n                    img.src = URL.createObjectURL(srcImage);\n                    self.blob = srcImage;\n                    srcImage = img;\n                })();\n            }\n            if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n                srcImage.onload = function() {\n                    var listeners = self.imageLoadListeners;\n                    if (listeners) {\n                        self.imageLoadListeners = null;\n                        setTimeout(function() {\n                            for (var i = 0, len = listeners.length; i < len; i++) {\n                                listeners[i]();\n                            }\n                        }, 0);\n                    }\n                };\n                srcImage.onerror = errorCallback;\n                this.imageLoadListeners = [];\n            }\n            this.srcImage = srcImage;\n        }\n        MegaPixImage.prototype.render = function(target, options) {\n            options = options || {};\n            var self = this, imgWidth = this.srcImage.naturalWidth, imgHeight = this.srcImage.naturalHeight, width = options.width, height = options.height, maxWidth = options.maxWidth, maxHeight = options.maxHeight, doSquash = !this.blob || this.blob.type === \"image/jpeg\", tagName = target.tagName.toLowerCase(), opt;\n            if (this.imageLoadListeners) {\n                this.imageLoadListeners.push(function() {\n                    self.render(target, options);\n                });\n                return;\n            }\n            if (width && !height) {\n                height = imgHeight * width / imgWidth << 0;\n            } else if (height && !width) {\n                width = imgWidth * height / imgHeight << 0;\n            } else {\n                width = imgWidth;\n                height = imgHeight;\n            }\n            if (maxWidth && width > maxWidth) {\n                width = maxWidth;\n                height = imgHeight * width / imgWidth << 0;\n            }\n            if (maxHeight && height > maxHeight) {\n                height = maxHeight;\n                width = imgWidth * height / imgHeight << 0;\n            }\n            opt = {\n                width: width,\n                height: height\n            }, qq.each(options, function(optionsKey, optionsValue) {\n                opt[optionsKey] = optionsValue;\n            });\n            if (tagName === \"img\") {\n                (function() {\n                    var oldTargetSrc = target.src;\n                    renderImageToDataURL(self.srcImage, self.blob, opt, doSquash).then(function(dataUri) {\n                        target.src = dataUri;\n                        oldTargetSrc === target.src && target.onload && target.onload();\n                    });\n                })();\n            } else if (tagName === \"canvas\") {\n                renderImageToCanvas(this.srcImage, this.blob, target, opt, doSquash);\n            }\n            if (typeof this.onrender === \"function\") {\n                this.onrender(target);\n            }\n        };\n        qq.MegaPixImage = MegaPixImage;\n    })();\n    qq.ImageGenerator = function(log) {\n        \"use strict\";\n        function isImg(el) {\n            return el.tagName.toLowerCase() === \"img\";\n        }\n        function isCanvas(el) {\n            return el.tagName.toLowerCase() === \"canvas\";\n        }\n        function isImgCorsSupported() {\n            return new Image().crossOrigin !== undefined;\n        }\n        function isCanvasSupported() {\n            var canvas = document.createElement(\"canvas\");\n            return canvas.getContext && canvas.getContext(\"2d\");\n        }\n        function determineMimeOfFileName(nameWithPath) {\n            var pathSegments = nameWithPath.split(\"/\"), name = pathSegments[pathSegments.length - 1].split(\"?\")[0], extension = qq.getExtension(name);\n            extension = extension && extension.toLowerCase();\n            switch (extension) {\n              case \"jpeg\":\n              case \"jpg\":\n                return \"image/jpeg\";\n\n              case \"png\":\n                return \"image/png\";\n\n              case \"bmp\":\n                return \"image/bmp\";\n\n              case \"gif\":\n                return \"image/gif\";\n\n              case \"tiff\":\n              case \"tif\":\n                return \"image/tiff\";\n            }\n        }\n        function isCrossOrigin(url) {\n            var targetAnchor = document.createElement(\"a\"), targetProtocol, targetHostname, targetPort;\n            targetAnchor.href = url;\n            targetProtocol = targetAnchor.protocol;\n            targetPort = targetAnchor.port;\n            targetHostname = targetAnchor.hostname;\n            if (targetProtocol.toLowerCase() !== window.location.protocol.toLowerCase()) {\n                return true;\n            }\n            if (targetHostname.toLowerCase() !== window.location.hostname.toLowerCase()) {\n                return true;\n            }\n            if (targetPort !== window.location.port && !qq.ie()) {\n                return true;\n            }\n            return false;\n        }\n        function registerImgLoadListeners(img, promise) {\n            img.onload = function() {\n                img.onload = null;\n                img.onerror = null;\n                promise.success(img);\n            };\n            img.onerror = function() {\n                img.onload = null;\n                img.onerror = null;\n                log(\"Problem drawing thumbnail!\", \"error\");\n                promise.failure(img, \"Problem drawing thumbnail!\");\n            };\n        }\n        function registerCanvasDrawImageListener(canvas, promise) {\n            canvas.qqImageRendered = function() {\n                promise.success(canvas);\n            };\n        }\n        function registerThumbnailRenderedListener(imgOrCanvas, promise) {\n            var registered = isImg(imgOrCanvas) || isCanvas(imgOrCanvas);\n            if (isImg(imgOrCanvas)) {\n                registerImgLoadListeners(imgOrCanvas, promise);\n            } else if (isCanvas(imgOrCanvas)) {\n                registerCanvasDrawImageListener(imgOrCanvas, promise);\n            } else {\n                promise.failure(imgOrCanvas);\n                log(qq.format(\"Element container of type {} is not supported!\", imgOrCanvas.tagName), \"error\");\n            }\n            return registered;\n        }\n        function draw(fileOrBlob, container, options) {\n            var drawPreview = new qq.Promise(), identifier = new qq.Identify(fileOrBlob, log), maxSize = options.maxSize, orient = options.orient == null ? true : options.orient, megapixErrorHandler = function() {\n                container.onerror = null;\n                container.onload = null;\n                log(\"Could not render preview, file may be too large!\", \"error\");\n                drawPreview.failure(container, \"Browser cannot render image!\");\n            };\n            identifier.isPreviewable().then(function(mime) {\n                var dummyExif = {\n                    parse: function() {\n                        return new qq.Promise().success();\n                    }\n                }, exif = orient ? new qq.Exif(fileOrBlob, log) : dummyExif, mpImg = new qq.MegaPixImage(fileOrBlob, megapixErrorHandler);\n                if (registerThumbnailRenderedListener(container, drawPreview)) {\n                    exif.parse().then(function(exif) {\n                        var orientation = exif && exif.Orientation;\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            orientation: orientation,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    }, function(failureMsg) {\n                        log(qq.format(\"EXIF data could not be parsed ({}).  Assuming orientation = 1.\", failureMsg));\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    });\n                }\n            }, function() {\n                log(\"Not previewable\");\n                drawPreview.failure(container, \"Not previewable\");\n            });\n            return drawPreview;\n        }\n        function drawOnCanvasOrImgFromUrl(url, canvasOrImg, draw, maxSize, customResizeFunction) {\n            var tempImg = new Image(), tempImgRender = new qq.Promise();\n            registerThumbnailRenderedListener(tempImg, tempImgRender);\n            if (isCrossOrigin(url)) {\n                tempImg.crossOrigin = \"anonymous\";\n            }\n            tempImg.src = url;\n            tempImgRender.then(function rendered() {\n                registerThumbnailRenderedListener(canvasOrImg, draw);\n                var mpImg = new qq.MegaPixImage(tempImg);\n                mpImg.render(canvasOrImg, {\n                    maxWidth: maxSize,\n                    maxHeight: maxSize,\n                    mime: determineMimeOfFileName(url),\n                    resize: customResizeFunction\n                });\n            }, draw.failure);\n        }\n        function drawOnImgFromUrlWithCssScaling(url, img, draw, maxSize) {\n            registerThumbnailRenderedListener(img, draw);\n            qq(img).css({\n                maxWidth: maxSize + \"px\",\n                maxHeight: maxSize + \"px\"\n            });\n            img.src = url;\n        }\n        function drawFromUrl(url, container, options) {\n            var draw = new qq.Promise(), scale = options.scale, maxSize = scale ? options.maxSize : null;\n            if (scale && isImg(container)) {\n                if (isCanvasSupported()) {\n                    if (isCrossOrigin(url) && !isImgCorsSupported()) {\n                        drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                    } else {\n                        drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n                    }\n                } else {\n                    drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                }\n            } else if (isCanvas(container)) {\n                drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n            } else if (registerThumbnailRenderedListener(container, draw)) {\n                container.src = url;\n            }\n            return draw;\n        }\n        qq.extend(this, {\n            generate: function(fileBlobOrUrl, container, options) {\n                if (qq.isString(fileBlobOrUrl)) {\n                    log(\"Attempting to update thumbnail based on server response.\");\n                    return drawFromUrl(fileBlobOrUrl, container, options || {});\n                } else {\n                    log(\"Attempting to draw client-side image preview.\");\n                    return draw(fileBlobOrUrl, container, options || {});\n                }\n            }\n        });\n        this._testing = {};\n        this._testing.isImg = isImg;\n        this._testing.isCanvas = isCanvas;\n        this._testing.isCrossOrigin = isCrossOrigin;\n        this._testing.determineMimeOfFileName = determineMimeOfFileName;\n    };\n    qq.Exif = function(fileOrBlob, log) {\n        \"use strict\";\n        var TAG_IDS = [ 274 ], TAG_INFO = {\n            274: {\n                name: \"Orientation\",\n                bytes: 2\n            }\n        };\n        function parseLittleEndian(hex) {\n            var result = 0, pow = 0;\n            while (hex.length > 0) {\n                result += parseInt(hex.substring(0, 2), 16) * Math.pow(2, pow);\n                hex = hex.substring(2, hex.length);\n                pow += 8;\n            }\n            return result;\n        }\n        function seekToApp1(offset, promise) {\n            var theOffset = offset, thePromise = promise;\n            if (theOffset === undefined) {\n                theOffset = 2;\n                thePromise = new qq.Promise();\n            }\n            qq.readBlobToHex(fileOrBlob, theOffset, 4).then(function(hex) {\n                var match = /^ffe([0-9])/.exec(hex), segmentLength;\n                if (match) {\n                    if (match[1] !== \"1\") {\n                        segmentLength = parseInt(hex.slice(4, 8), 16);\n                        seekToApp1(theOffset + segmentLength + 2, thePromise);\n                    } else {\n                        thePromise.success(theOffset);\n                    }\n                } else {\n                    thePromise.failure(\"No EXIF header to be found!\");\n                }\n            });\n            return thePromise;\n        }\n        function getApp1Offset() {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, 0, 6).then(function(hex) {\n                if (hex.indexOf(\"ffd8\") !== 0) {\n                    promise.failure(\"Not a valid JPEG!\");\n                } else {\n                    seekToApp1().then(function(offset) {\n                        promise.success(offset);\n                    }, function(error) {\n                        promise.failure(error);\n                    });\n                }\n            });\n            return promise;\n        }\n        function isLittleEndian(app1Start) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 10, 2).then(function(hex) {\n                promise.success(hex === \"4949\");\n            });\n            return promise;\n        }\n        function getDirEntryCount(app1Start, littleEndian) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 18, 2).then(function(hex) {\n                if (littleEndian) {\n                    return promise.success(parseLittleEndian(hex));\n                } else {\n                    promise.success(parseInt(hex, 16));\n                }\n            });\n            return promise;\n        }\n        function getIfd(app1Start, dirEntries) {\n            var offset = app1Start + 20, bytes = dirEntries * 12;\n            return qq.readBlobToHex(fileOrBlob, offset, bytes);\n        }\n        function getDirEntries(ifdHex) {\n            var entries = [], offset = 0;\n            while (offset + 24 <= ifdHex.length) {\n                entries.push(ifdHex.slice(offset, offset + 24));\n                offset += 24;\n            }\n            return entries;\n        }\n        function getTagValues(littleEndian, dirEntries) {\n            var TAG_VAL_OFFSET = 16, tagsToFind = qq.extend([], TAG_IDS), vals = {};\n            qq.each(dirEntries, function(idx, entry) {\n                var idHex = entry.slice(0, 4), id = littleEndian ? parseLittleEndian(idHex) : parseInt(idHex, 16), tagsToFindIdx = tagsToFind.indexOf(id), tagValHex, tagName, tagValLength;\n                if (tagsToFindIdx >= 0) {\n                    tagName = TAG_INFO[id].name;\n                    tagValLength = TAG_INFO[id].bytes;\n                    tagValHex = entry.slice(TAG_VAL_OFFSET, TAG_VAL_OFFSET + tagValLength * 2);\n                    vals[tagName] = littleEndian ? parseLittleEndian(tagValHex) : parseInt(tagValHex, 16);\n                    tagsToFind.splice(tagsToFindIdx, 1);\n                }\n                if (tagsToFind.length === 0) {\n                    return false;\n                }\n            });\n            return vals;\n        }\n        qq.extend(this, {\n            parse: function() {\n                var parser = new qq.Promise(), onParseFailure = function(message) {\n                    log(qq.format(\"EXIF header parse failed: '{}' \", message));\n                    parser.failure(message);\n                };\n                getApp1Offset().then(function(app1Offset) {\n                    log(qq.format(\"Moving forward with EXIF header parsing for '{}'\", fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name));\n                    isLittleEndian(app1Offset).then(function(littleEndian) {\n                        log(qq.format(\"EXIF Byte order is {} endian\", littleEndian ? \"little\" : \"big\"));\n                        getDirEntryCount(app1Offset, littleEndian).then(function(dirEntryCount) {\n                            log(qq.format(\"Found {} APP1 directory entries\", dirEntryCount));\n                            getIfd(app1Offset, dirEntryCount).then(function(ifdHex) {\n                                var dirEntries = getDirEntries(ifdHex), tagValues = getTagValues(littleEndian, dirEntries);\n                                log(\"Successfully parsed some EXIF tags\");\n                                parser.success(tagValues);\n                            }, onParseFailure);\n                        }, onParseFailure);\n                    }, onParseFailure);\n                }, onParseFailure);\n                return parser;\n            }\n        });\n        this._testing = {};\n        this._testing.parseLittleEndian = parseLittleEndian;\n    };\n    qq.Identify = function(fileOrBlob, log) {\n        \"use strict\";\n        function isIdentifiable(magicBytes, questionableBytes) {\n            var identifiable = false, magicBytesEntries = [].concat(magicBytes);\n            qq.each(magicBytesEntries, function(idx, magicBytesArrayEntry) {\n                if (questionableBytes.indexOf(magicBytesArrayEntry) === 0) {\n                    identifiable = true;\n                    return false;\n                }\n            });\n            return identifiable;\n        }\n        qq.extend(this, {\n            isPreviewable: function() {\n                var self = this, identifier = new qq.Promise(), previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                log(qq.format(\"Attempting to determine if {} can be rendered in this browser\", name));\n                log(\"First pass: check type attribute of blob object.\");\n                if (this.isPreviewableSync()) {\n                    log(\"Second pass: check for magic bytes in file header.\");\n                    qq.readBlobToHex(fileOrBlob, 0, 4).then(function(hex) {\n                        qq.each(self.PREVIEWABLE_MIME_TYPES, function(mime, bytes) {\n                            if (isIdentifiable(bytes, hex)) {\n                                if (mime !== \"image/tiff\" || qq.supportedFeatures.tiffPreviews) {\n                                    previewable = true;\n                                    identifier.success(mime);\n                                }\n                                return false;\n                            }\n                        });\n                        log(qq.format(\"'{}' is {} able to be rendered in this browser\", name, previewable ? \"\" : \"NOT\"));\n                        if (!previewable) {\n                            identifier.failure();\n                        }\n                    }, function() {\n                        log(\"Error reading file w/ name '\" + name + \"'.  Not able to be rendered in this browser.\");\n                        identifier.failure();\n                    });\n                } else {\n                    identifier.failure();\n                }\n                return identifier;\n            },\n            isPreviewableSync: function() {\n                var fileMime = fileOrBlob.type, isRecognizedImage = qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), fileMime) >= 0, previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                if (isRecognizedImage) {\n                    if (fileMime === \"image/tiff\") {\n                        previewable = qq.supportedFeatures.tiffPreviews;\n                    } else {\n                        previewable = true;\n                    }\n                }\n                !previewable && log(name + \" is not previewable in this browser per the blob's type attr\");\n                return previewable;\n            }\n        });\n    };\n    qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {\n        \"image/jpeg\": \"ffd8ff\",\n        \"image/gif\": \"474946\",\n        \"image/png\": \"89504e\",\n        \"image/bmp\": \"424d\",\n        \"image/tiff\": [ \"49492a00\", \"4d4d002a\" ]\n    };\n    qq.ImageValidation = function(blob, log) {\n        \"use strict\";\n        function hasNonZeroLimits(limits) {\n            var atLeastOne = false;\n            qq.each(limits, function(limit, value) {\n                if (value > 0) {\n                    atLeastOne = true;\n                    return false;\n                }\n            });\n            return atLeastOne;\n        }\n        function getWidthHeight() {\n            var sizeDetermination = new qq.Promise();\n            new qq.Identify(blob, log).isPreviewable().then(function() {\n                var image = new Image(), url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                if (url) {\n                    image.onerror = function() {\n                        log(\"Cannot determine dimensions for image.  May be too large.\", \"error\");\n                        sizeDetermination.failure();\n                    };\n                    image.onload = function() {\n                        sizeDetermination.success({\n                            width: this.width,\n                            height: this.height\n                        });\n                    };\n                    image.src = url.createObjectURL(blob);\n                } else {\n                    log(\"No createObjectURL function available to generate image URL!\", \"error\");\n                    sizeDetermination.failure();\n                }\n            }, sizeDetermination.failure);\n            return sizeDetermination;\n        }\n        function getFailingLimit(limits, dimensions) {\n            var failingLimit;\n            qq.each(limits, function(limitName, limitValue) {\n                if (limitValue > 0) {\n                    var limitMatcher = /(max|min)(Width|Height)/.exec(limitName), dimensionPropName = limitMatcher[2].charAt(0).toLowerCase() + limitMatcher[2].slice(1), actualValue = dimensions[dimensionPropName];\n                    switch (limitMatcher[1]) {\n                      case \"min\":\n                        if (actualValue < limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n\n                      case \"max\":\n                        if (actualValue > limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n                    }\n                }\n            });\n            return failingLimit;\n        }\n        this.validate = function(limits) {\n            var validationEffort = new qq.Promise();\n            log(\"Attempting to validate image.\");\n            if (hasNonZeroLimits(limits)) {\n                getWidthHeight().then(function(dimensions) {\n                    var failingLimit = getFailingLimit(limits, dimensions);\n                    if (failingLimit) {\n                        validationEffort.failure(failingLimit);\n                    } else {\n                        validationEffort.success();\n                    }\n                }, validationEffort.success);\n            } else {\n                validationEffort.success();\n            }\n            return validationEffort;\n        };\n    };\n    qq.Session = function(spec) {\n        \"use strict\";\n        var options = {\n            endpoint: null,\n            params: {},\n            customHeaders: {},\n            cors: {},\n            addFileRecord: function(sessionData) {},\n            log: function(message, level) {}\n        };\n        qq.extend(options, spec, true);\n        function isJsonResponseValid(response) {\n            if (qq.isArray(response)) {\n                return true;\n            }\n            options.log(\"Session response is not an array.\", \"error\");\n        }\n        function handleFileItems(fileItems, success, xhrOrXdr, promise) {\n            var someItemsIgnored = false;\n            success = success && isJsonResponseValid(fileItems);\n            if (success) {\n                qq.each(fileItems, function(idx, fileItem) {\n                    if (fileItem.uuid == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid UUID - ignoring.\", idx), \"error\");\n                    } else if (fileItem.name == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid name - ignoring.\", idx), \"error\");\n                    } else {\n                        try {\n                            options.addFileRecord(fileItem);\n                            return true;\n                        } catch (err) {\n                            someItemsIgnored = true;\n                            options.log(err.message, \"error\");\n                        }\n                    }\n                    return false;\n                });\n            }\n            promise[success && !someItemsIgnored ? \"success\" : \"failure\"](fileItems, xhrOrXdr);\n        }\n        this.refresh = function() {\n            var refreshEffort = new qq.Promise(), refreshCompleteCallback = function(response, success, xhrOrXdr) {\n                handleFileItems(response, success, xhrOrXdr, refreshEffort);\n            }, requesterOptions = qq.extend({}, options), requester = new qq.SessionAjaxRequester(qq.extend(requesterOptions, {\n                onComplete: refreshCompleteCallback\n            }));\n            requester.queryServer();\n            return refreshEffort;\n        };\n    };\n    qq.SessionAjaxRequester = function(spec) {\n        \"use strict\";\n        var requester, options = {\n            endpoint: null,\n            customHeaders: {},\n            params: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            onComplete: function(response, success, xhrOrXdr) {},\n            log: function(str, level) {}\n        };\n        qq.extend(options, spec);\n        function onComplete(id, xhrOrXdr, isError) {\n            var response = null;\n            if (xhrOrXdr.responseText != null) {\n                try {\n                    response = qq.parseJson(xhrOrXdr.responseText);\n                } catch (err) {\n                    options.log(\"Problem parsing session response: \" + err.message, \"error\");\n                    isError = true;\n                }\n            }\n            options.onComplete(response, !isError, xhrOrXdr);\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"GET\" ],\n            method: \"GET\",\n            endpointStore: {\n                get: function() {\n                    return options.endpoint;\n                }\n            },\n            customHeaders: options.customHeaders,\n            log: options.log,\n            onComplete: onComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            queryServer: function() {\n                var params = qq.extend({}, options.params);\n                options.log(\"Session query request.\");\n                requester.initTransport(\"sessionRefresh\").withParams(params).withCacheBuster().send();\n            }\n        });\n    };\n    qq.Scaler = function(spec, log) {\n        \"use strict\";\n        var self = this, customResizeFunction = spec.customResizer, includeOriginal = spec.sendOriginal, orient = spec.orient, defaultType = spec.defaultType, defaultQuality = spec.defaultQuality / 100, failedToScaleText = spec.failureText, includeExif = spec.includeExif, sizes = this._getSortedSizes(spec.sizes);\n        qq.extend(this, {\n            enabled: qq.supportedFeatures.scaling && sizes.length > 0,\n            getFileRecords: function(originalFileUuid, originalFileName, originalBlobOrBlobData) {\n                var self = this, records = [], originalBlob = originalBlobOrBlobData.blob ? originalBlobOrBlobData.blob : originalBlobOrBlobData, identifier = new qq.Identify(originalBlob, log);\n                if (identifier.isPreviewableSync()) {\n                    qq.each(sizes, function(idx, sizeRecord) {\n                        var outputType = self._determineOutputType({\n                            defaultType: defaultType,\n                            requestedType: sizeRecord.type,\n                            refType: originalBlob.type\n                        });\n                        records.push({\n                            uuid: qq.getUniqueId(),\n                            name: self._getName(originalFileName, {\n                                name: sizeRecord.name,\n                                type: outputType,\n                                refType: originalBlob.type\n                            }),\n                            blob: new qq.BlobProxy(originalBlob, qq.bind(self._generateScaledImage, self, {\n                                customResizeFunction: customResizeFunction,\n                                maxSize: sizeRecord.maxSize,\n                                orient: orient,\n                                type: outputType,\n                                quality: defaultQuality,\n                                failedText: failedToScaleText,\n                                includeExif: includeExif,\n                                log: log\n                            }))\n                        });\n                    });\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: includeOriginal ? originalBlob : null\n                    });\n                } else {\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: originalBlob\n                    });\n                }\n                return records;\n            },\n            handleNewFile: function(file, name, uuid, size, fileList, batchId, uuidParamName, api) {\n                var self = this, buttonId = file.qqButtonId || file.blob && file.blob.qqButtonId, scaledIds = [], originalId = null, addFileToHandler = api.addFileToHandler, uploadData = api.uploadData, paramsStore = api.paramsStore, proxyGroupId = qq.getUniqueId();\n                qq.each(self.getFileRecords(uuid, name, file), function(idx, record) {\n                    var blobSize = record.size, id;\n                    if (record.blob instanceof qq.BlobProxy) {\n                        blobSize = -1;\n                    }\n                    id = uploadData.addFile({\n                        uuid: record.uuid,\n                        name: record.name,\n                        size: blobSize,\n                        batchId: batchId,\n                        proxyGroupId: proxyGroupId\n                    });\n                    if (record.blob instanceof qq.BlobProxy) {\n                        scaledIds.push(id);\n                    } else {\n                        originalId = id;\n                    }\n                    if (record.blob) {\n                        addFileToHandler(id, record.blob);\n                        fileList.push({\n                            id: id,\n                            file: record.blob\n                        });\n                    } else {\n                        uploadData.setStatus(id, qq.status.REJECTED);\n                    }\n                });\n                if (originalId !== null) {\n                    qq.each(scaledIds, function(idx, scaledId) {\n                        var params = {\n                            qqparentuuid: uploadData.retrieve({\n                                id: originalId\n                            }).uuid,\n                            qqparentsize: uploadData.retrieve({\n                                id: originalId\n                            }).size\n                        };\n                        params[uuidParamName] = uploadData.retrieve({\n                            id: scaledId\n                        }).uuid;\n                        uploadData.setParentId(scaledId, originalId);\n                        paramsStore.addReadOnly(scaledId, params);\n                    });\n                    if (scaledIds.length) {\n                        (function() {\n                            var param = {};\n                            param[uuidParamName] = uploadData.retrieve({\n                                id: originalId\n                            }).uuid;\n                            paramsStore.addReadOnly(originalId, param);\n                        })();\n                    }\n                }\n            }\n        });\n    };\n    qq.extend(qq.Scaler.prototype, {\n        scaleImage: function(id, specs, api) {\n            \"use strict\";\n            if (!qq.supportedFeatures.scaling) {\n                throw new qq.Error(\"Scaling is not supported in this browser!\");\n            }\n            var scalingEffort = new qq.Promise(), log = api.log, file = api.getFile(id), uploadData = api.uploadData.retrieve({\n                id: id\n            }), name = uploadData && uploadData.name, uuid = uploadData && uploadData.uuid, scalingOptions = {\n                customResizer: specs.customResizer,\n                sendOriginal: false,\n                orient: specs.orient,\n                defaultType: specs.type || null,\n                defaultQuality: specs.quality,\n                failedToScaleText: \"Unable to scale\",\n                sizes: [ {\n                    name: \"\",\n                    maxSize: specs.maxSize\n                } ]\n            }, scaler = new qq.Scaler(scalingOptions, log);\n            if (!qq.Scaler || !qq.supportedFeatures.imagePreviews || !file) {\n                scalingEffort.failure();\n                log(\"Could not generate requested scaled image for \" + id + \".  \" + \"Scaling is either not possible in this browser, or the file could not be located.\", \"error\");\n            } else {\n                qq.bind(function() {\n                    var record = scaler.getFileRecords(uuid, name, file)[0];\n                    if (record && record.blob instanceof qq.BlobProxy) {\n                        record.blob.create().then(scalingEffort.success, scalingEffort.failure);\n                    } else {\n                        log(id + \" is not a scalable image!\", \"error\");\n                        scalingEffort.failure();\n                    }\n                }, this)();\n            }\n            return scalingEffort;\n        },\n        _determineOutputType: function(spec) {\n            \"use strict\";\n            var requestedType = spec.requestedType, defaultType = spec.defaultType, referenceType = spec.refType;\n            if (!defaultType && !requestedType) {\n                if (referenceType !== \"image/jpeg\") {\n                    return \"image/png\";\n                }\n                return referenceType;\n            }\n            if (!requestedType) {\n                return defaultType;\n            }\n            if (qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), requestedType) >= 0) {\n                if (requestedType === \"image/tiff\") {\n                    return qq.supportedFeatures.tiffPreviews ? requestedType : defaultType;\n                }\n                return requestedType;\n            }\n            return defaultType;\n        },\n        _getName: function(originalName, scaledVersionProperties) {\n            \"use strict\";\n            var startOfExt = originalName.lastIndexOf(\".\"), versionType = scaledVersionProperties.type || \"image/png\", referenceType = scaledVersionProperties.refType, scaledName = \"\", scaledExt = qq.getExtension(originalName), nameAppendage = \"\";\n            if (scaledVersionProperties.name && scaledVersionProperties.name.trim().length) {\n                nameAppendage = \" (\" + scaledVersionProperties.name + \")\";\n            }\n            if (startOfExt >= 0) {\n                scaledName = originalName.substr(0, startOfExt);\n                if (referenceType !== versionType) {\n                    scaledExt = versionType.split(\"/\")[1];\n                }\n                scaledName += nameAppendage + \".\" + scaledExt;\n            } else {\n                scaledName = originalName + nameAppendage;\n            }\n            return scaledName;\n        },\n        _getSortedSizes: function(sizes) {\n            \"use strict\";\n            sizes = qq.extend([], sizes);\n            return sizes.sort(function(a, b) {\n                if (a.maxSize > b.maxSize) {\n                    return 1;\n                }\n                if (a.maxSize < b.maxSize) {\n                    return -1;\n                }\n                return 0;\n            });\n        },\n        _generateScaledImage: function(spec, sourceFile) {\n            \"use strict\";\n            var self = this, customResizeFunction = spec.customResizeFunction, log = spec.log, maxSize = spec.maxSize, orient = spec.orient, type = spec.type, quality = spec.quality, failedText = spec.failedText, includeExif = spec.includeExif && sourceFile.type === \"image/jpeg\" && type === \"image/jpeg\", scalingEffort = new qq.Promise(), imageGenerator = new qq.ImageGenerator(log), canvas = document.createElement(\"canvas\");\n            log(\"Attempting to generate scaled version for \" + sourceFile.name);\n            imageGenerator.generate(sourceFile, canvas, {\n                maxSize: maxSize,\n                orient: orient,\n                customResizeFunction: customResizeFunction\n            }).then(function() {\n                var scaledImageDataUri = canvas.toDataURL(type, quality), signalSuccess = function() {\n                    log(\"Success generating scaled version for \" + sourceFile.name);\n                    var blob = qq.dataUriToBlob(scaledImageDataUri);\n                    scalingEffort.success(blob);\n                };\n                if (includeExif) {\n                    self._insertExifHeader(sourceFile, scaledImageDataUri, log).then(function(scaledImageDataUriWithExif) {\n                        scaledImageDataUri = scaledImageDataUriWithExif;\n                        signalSuccess();\n                    }, function() {\n                        log(\"Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.\", \"error\");\n                        signalSuccess();\n                    });\n                } else {\n                    signalSuccess();\n                }\n            }, function() {\n                log(\"Failed attempt to generate scaled version for \" + sourceFile.name, \"error\");\n                scalingEffort.failure(failedText);\n            });\n            return scalingEffort;\n        },\n        _insertExifHeader: function(originalImage, scaledImageDataUri, log) {\n            \"use strict\";\n            var reader = new FileReader(), insertionEffort = new qq.Promise(), originalImageDataUri = \"\";\n            reader.onload = function() {\n                originalImageDataUri = reader.result;\n                insertionEffort.success(qq.ExifRestorer.restore(originalImageDataUri, scaledImageDataUri));\n            };\n            reader.onerror = function() {\n                log(\"Problem reading \" + originalImage.name + \" during attempt to transfer EXIF data to scaled version.\", \"error\");\n                insertionEffort.failure();\n            };\n            reader.readAsDataURL(originalImage);\n            return insertionEffort;\n        },\n        _dataUriToBlob: function(dataUri) {\n            \"use strict\";\n            var byteString, mimeString, arrayBuffer, intArray;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return this._createBlob(arrayBuffer, mimeString);\n        },\n        _createBlob: function(data, mime) {\n            \"use strict\";\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n            if (blobBuilder) {\n                blobBuilder.append(data);\n                return blobBuilder.getBlob(mime);\n            } else {\n                return new Blob([ data ], {\n                    type: mime\n                });\n            }\n        }\n    });\n    qq.ExifRestorer = function() {\n        var ExifRestorer = {};\n        ExifRestorer.KEY_STR = \"ABCDEFGHIJKLMNOP\" + \"QRSTUVWXYZabcdef\" + \"ghijklmnopqrstuv\" + \"wxyz0123456789+/\" + \"=\";\n        ExifRestorer.encode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0;\n            do {\n                chr1 = input[i++];\n                chr2 = input[i++];\n                chr3 = input[i++];\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return output;\n        };\n        ExifRestorer.restore = function(origFileBase64, resizedFileBase64) {\n            var expectedBase64Header = \"data:image/jpeg;base64,\";\n            if (!origFileBase64.match(expectedBase64Header)) {\n                return resizedFileBase64;\n            }\n            var rawImage = this.decode64(origFileBase64.replace(expectedBase64Header, \"\"));\n            var segments = this.slice2Segments(rawImage);\n            var image = this.exifManipulation(resizedFileBase64, segments);\n            return expectedBase64Header + this.encode64(image);\n        };\n        ExifRestorer.exifManipulation = function(resizedFileBase64, segments) {\n            var exifArray = this.getExifArray(segments), newImageArray = this.insertExif(resizedFileBase64, exifArray), aBuffer = new Uint8Array(newImageArray);\n            return aBuffer;\n        };\n        ExifRestorer.getExifArray = function(segments) {\n            var seg;\n            for (var x = 0; x < segments.length; x++) {\n                seg = segments[x];\n                if (seg[0] == 255 & seg[1] == 225) {\n                    return seg;\n                }\n            }\n            return [];\n        };\n        ExifRestorer.insertExif = function(resizedFileBase64, exifArray) {\n            var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\"), buf = this.decode64(imageData), separatePoint = buf.indexOf(255, 3), mae = buf.slice(0, separatePoint), ato = buf.slice(separatePoint), array = mae;\n            array = array.concat(exifArray);\n            array = array.concat(ato);\n            return array;\n        };\n        ExifRestorer.slice2Segments = function(rawImageArray) {\n            var head = 0, segments = [];\n            while (1) {\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 218) {\n                    break;\n                }\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 216) {\n                    head += 2;\n                } else {\n                    var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3], endPoint = head + length + 2, seg = rawImageArray.slice(head, endPoint);\n                    segments.push(seg);\n                    head = endPoint;\n                }\n                if (head > rawImageArray.length) {\n                    break;\n                }\n            }\n            return segments;\n        };\n        ExifRestorer.decode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0, buf = [];\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                throw new Error(\"There were invalid base64 characters in the input text.  \" + \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n            do {\n                enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n                chr1 = enc1 << 2 | enc2 >> 4;\n                chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n                chr3 = (enc3 & 3) << 6 | enc4;\n                buf.push(chr1);\n                if (enc3 != 64) {\n                    buf.push(chr2);\n                }\n                if (enc4 != 64) {\n                    buf.push(chr3);\n                }\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return buf;\n        };\n        return ExifRestorer;\n    }();\n    qq.TotalProgress = function(callback, getSize) {\n        \"use strict\";\n        var perFileProgress = {}, totalLoaded = 0, totalSize = 0, lastLoadedSent = -1, lastTotalSent = -1, callbackProxy = function(loaded, total) {\n            if (loaded !== lastLoadedSent || total !== lastTotalSent) {\n                callback(loaded, total);\n            }\n            lastLoadedSent = loaded;\n            lastTotalSent = total;\n        }, noRetryableFiles = function(failed, retryable) {\n            var none = true;\n            qq.each(failed, function(idx, failedId) {\n                if (qq.indexOf(retryable, failedId) >= 0) {\n                    none = false;\n                    return false;\n                }\n            });\n            return none;\n        }, onCancel = function(id) {\n            updateTotalProgress(id, -1, -1);\n            delete perFileProgress[id];\n        }, onAllComplete = function(successful, failed, retryable) {\n            if (failed.length === 0 || noRetryableFiles(failed, retryable)) {\n                callbackProxy(totalSize, totalSize);\n                this.reset();\n            }\n        }, onNew = function(id) {\n            var size = getSize(id);\n            if (size > 0) {\n                updateTotalProgress(id, 0, size);\n                perFileProgress[id] = {\n                    loaded: 0,\n                    total: size\n                };\n            }\n        }, updateTotalProgress = function(id, newLoaded, newTotal) {\n            var oldLoaded = perFileProgress[id] ? perFileProgress[id].loaded : 0, oldTotal = perFileProgress[id] ? perFileProgress[id].total : 0;\n            if (newLoaded === -1 && newTotal === -1) {\n                totalLoaded -= oldLoaded;\n                totalSize -= oldTotal;\n            } else {\n                if (newLoaded) {\n                    totalLoaded += newLoaded - oldLoaded;\n                }\n                if (newTotal) {\n                    totalSize += newTotal - oldTotal;\n                }\n            }\n            callbackProxy(totalLoaded, totalSize);\n        };\n        qq.extend(this, {\n            onAllComplete: onAllComplete,\n            onStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.CANCELED || newStatus === qq.status.REJECTED) {\n                    onCancel(id);\n                } else if (newStatus === qq.status.SUBMITTING) {\n                    onNew(id);\n                }\n            },\n            onIndividualProgress: function(id, loaded, total) {\n                updateTotalProgress(id, loaded, total);\n                perFileProgress[id] = {\n                    loaded: loaded,\n                    total: total\n                };\n            },\n            onNewSize: function(id) {\n                onNew(id);\n            },\n            reset: function() {\n                perFileProgress = {};\n                totalLoaded = 0;\n                totalSize = 0;\n            }\n        });\n    };\n    qq.PasteSupport = function(o) {\n        \"use strict\";\n        var options, detachPasteHandler;\n        options = {\n            targetElement: null,\n            callbacks: {\n                log: function(message, level) {},\n                pasteReceived: function(blob) {}\n            }\n        };\n        function isImage(item) {\n            return item.type && item.type.indexOf(\"image/\") === 0;\n        }\n        function registerPasteHandler() {\n            detachPasteHandler = qq(options.targetElement).attach(\"paste\", function(event) {\n                var clipboardData = event.clipboardData;\n                if (clipboardData) {\n                    qq.each(clipboardData.items, function(idx, item) {\n                        if (isImage(item)) {\n                            var blob = item.getAsFile();\n                            options.callbacks.pasteReceived(blob);\n                        }\n                    });\n                }\n            });\n        }\n        function unregisterPasteHandler() {\n            if (detachPasteHandler) {\n                detachPasteHandler();\n            }\n        }\n        qq.extend(options, o);\n        registerPasteHandler();\n        qq.extend(this, {\n            reset: function() {\n                unregisterPasteHandler();\n            }\n        });\n    };\n    qq.FormSupport = function(options, startUpload, log) {\n        \"use strict\";\n        var self = this, interceptSubmit = options.interceptSubmit, formEl = options.element, autoUpload = options.autoUpload;\n        qq.extend(this, {\n            newEndpoint: null,\n            newAutoUpload: autoUpload,\n            attachedToForm: false,\n            getFormInputsAsObject: function() {\n                if (formEl == null) {\n                    return null;\n                }\n                return self._form2Obj(formEl);\n            }\n        });\n        function determineNewEndpoint(formEl) {\n            if (formEl.getAttribute(\"action\")) {\n                self.newEndpoint = formEl.getAttribute(\"action\");\n            }\n        }\n        function validateForm(formEl, nativeSubmit) {\n            if (formEl.checkValidity && !formEl.checkValidity()) {\n                log(\"Form did not pass validation checks - will not upload.\", \"error\");\n                nativeSubmit();\n            } else {\n                return true;\n            }\n        }\n        function maybeUploadOnSubmit(formEl) {\n            var nativeSubmit = formEl.submit;\n            qq(formEl).attach(\"submit\", function(event) {\n                event = event || window.event;\n                if (event.preventDefault) {\n                    event.preventDefault();\n                } else {\n                    event.returnValue = false;\n                }\n                validateForm(formEl, nativeSubmit) && startUpload();\n            });\n            formEl.submit = function() {\n                validateForm(formEl, nativeSubmit) && startUpload();\n            };\n        }\n        function determineFormEl(formEl) {\n            if (formEl) {\n                if (qq.isString(formEl)) {\n                    formEl = document.getElementById(formEl);\n                }\n                if (formEl) {\n                    log(\"Attaching to form element.\");\n                    determineNewEndpoint(formEl);\n                    interceptSubmit && maybeUploadOnSubmit(formEl);\n                }\n            }\n            return formEl;\n        }\n        formEl = determineFormEl(formEl);\n        this.attachedToForm = !!formEl;\n    };\n    qq.extend(qq.FormSupport.prototype, {\n        _form2Obj: function(form) {\n            \"use strict\";\n            var obj = {}, notIrrelevantType = function(type) {\n                var irrelevantTypes = [ \"button\", \"image\", \"reset\", \"submit\" ];\n                return qq.indexOf(irrelevantTypes, type.toLowerCase()) < 0;\n            }, radioOrCheckbox = function(type) {\n                return qq.indexOf([ \"checkbox\", \"radio\" ], type.toLowerCase()) >= 0;\n            }, ignoreValue = function(el) {\n                if (radioOrCheckbox(el.type) && !el.checked) {\n                    return true;\n                }\n                return el.disabled && el.type.toLowerCase() !== \"hidden\";\n            }, selectValue = function(select) {\n                var value = null;\n                qq.each(qq(select).children(), function(idx, child) {\n                    if (child.tagName.toLowerCase() === \"option\" && child.selected) {\n                        value = child.value;\n                        return false;\n                    }\n                });\n                return value;\n            };\n            qq.each(form.elements, function(idx, el) {\n                if ((qq.isInput(el, true) || el.tagName.toLowerCase() === \"textarea\") && notIrrelevantType(el.type) && !ignoreValue(el)) {\n                    obj[el.name] = el.value;\n                } else if (el.tagName.toLowerCase() === \"select\" && !ignoreValue(el)) {\n                    var value = selectValue(el);\n                    if (value !== null) {\n                        obj[el.name] = value;\n                    }\n                }\n            });\n            return obj;\n        }\n    });\n    qq.traditional = qq.traditional || {};\n    qq.traditional.FormUploadHandler = function(options, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getUuid = proxy.getUuid, log = proxy.log;\n        function getIframeContentJson(id, iframe) {\n            var response, doc, innerHtml;\n            try {\n                doc = iframe.contentDocument || iframe.contentWindow.document;\n                innerHtml = doc.body.innerHTML;\n                log(\"converting iframe's innerHTML to JSON\");\n                log(\"innerHTML = \" + innerHtml);\n                if (innerHtml && innerHtml.match(/^<pre/i)) {\n                    innerHtml = doc.body.firstChild.firstChild.nodeValue;\n                }\n                response = handler._parseJsonResponse(innerHtml);\n            } catch (error) {\n                log(\"Error when attempting to parse form upload response (\" + error.message + \")\", \"error\");\n                response = {\n                    success: false\n                };\n            }\n            return response;\n        }\n        function createForm(id, iframe) {\n            var params = options.paramsStore.get(id), method = options.method.toLowerCase() === \"get\" ? \"GET\" : \"POST\", endpoint = options.endpointStore.get(id), name = getName(id);\n            params[options.uuidName] = getUuid(id);\n            params[options.filenameParam] = name;\n            return handler._initFormForUpload({\n                method: method,\n                endpoint: endpoint,\n                params: params,\n                paramsInBody: options.paramsInBody,\n                targetName: iframe.name\n            });\n        }\n        this.uploadFile = function(id) {\n            var input = handler.getInput(id), iframe = handler._createIframe(id), promise = new qq.Promise(), form;\n            form = createForm(id, iframe);\n            form.appendChild(input);\n            handler._attachLoadEvent(iframe, function(responseFromMessage) {\n                log(\"iframe loaded\");\n                var response = responseFromMessage ? responseFromMessage : getIframeContentJson(id, iframe);\n                handler._detachLoadEvent(id);\n                if (!options.cors.expected) {\n                    qq(iframe).remove();\n                }\n                if (response.success) {\n                    promise.success(response);\n                } else {\n                    promise.failure(response);\n                }\n            });\n            log(\"Sending upload request for \" + id);\n            form.submit();\n            qq(form).remove();\n            return promise;\n        };\n        qq.extend(this, new qq.FormUploadHandler({\n            options: {\n                isCors: options.cors.expected,\n                inputName: options.inputName\n            },\n            proxy: {\n                onCancel: options.onCancel,\n                getName: getName,\n                getUuid: getUuid,\n                log: log\n            }\n        }));\n    };\n    qq.traditional = qq.traditional || {};\n    qq.traditional.XhrUploadHandler = function(spec, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, log = proxy.log, multipart = spec.forceMultipart || spec.paramsInBody, addChunkingSpecificParams = function(id, params, chunkData) {\n            var size = getSize(id), name = getName(id);\n            if (!spec.omitDefaultParams) {\n                params[spec.chunking.paramNames.partIndex] = chunkData.part;\n                params[spec.chunking.paramNames.partByteOffset] = chunkData.start;\n                params[spec.chunking.paramNames.chunkSize] = chunkData.size;\n                params[spec.chunking.paramNames.totalParts] = chunkData.count;\n                params[spec.totalFileSizeName] = size;\n            }\n            if (multipart && !spec.omitDefaultParams) {\n                params[spec.filenameParam] = name;\n            }\n        }, allChunksDoneRequester = new qq.traditional.AllChunksDoneAjaxRequester({\n            cors: spec.cors,\n            endpoint: spec.chunking.success.endpoint,\n            headers: spec.chunking.success.headers,\n            jsonPayload: spec.chunking.success.jsonPayload,\n            log: log,\n            method: spec.chunking.success.method,\n            params: spec.chunking.success.params\n        }), createReadyStateChangedHandler = function(id, xhr) {\n            var promise = new qq.Promise();\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    var result = onUploadOrChunkComplete(id, xhr);\n                    if (result.success) {\n                        promise.success(result.response, xhr);\n                    } else {\n                        promise.failure(result.response, xhr);\n                    }\n                }\n            };\n            return promise;\n        }, getChunksCompleteParams = function(id) {\n            var params = spec.paramsStore.get(id), name = getName(id), size = getSize(id);\n            params[spec.uuidName] = getUuid(id);\n            params[spec.filenameParam] = name;\n            params[spec.totalFileSizeName] = size;\n            params[spec.chunking.paramNames.totalParts] = handler._getTotalChunks(id);\n            return params;\n        }, isErrorUploadResponse = function(xhr, response) {\n            return qq.indexOf([ 200, 201, 202, 203, 204 ], xhr.status) < 0 || spec.requireSuccessJson && !response.success || response.reset;\n        }, onUploadOrChunkComplete = function(id, xhr) {\n            var response;\n            log(\"xhr - server response received for \" + id);\n            log(\"responseText = \" + xhr.responseText);\n            response = parseResponse(true, xhr);\n            return {\n                success: !isErrorUploadResponse(xhr, response),\n                response: response\n            };\n        }, parseResponse = function(upload, xhr) {\n            var response = {};\n            try {\n                log(qq.format(\"Received response status {} with body: {}\", xhr.status, xhr.responseText));\n                response = qq.parseJson(xhr.responseText);\n            } catch (error) {\n                upload && spec.requireSuccessJson && log(\"Error when attempting to parse xhr response text (\" + error.message + \")\", \"error\");\n            }\n            return response;\n        }, sendChunksCompleteRequest = function(id) {\n            var promise = new qq.Promise();\n            allChunksDoneRequester.complete(id, handler._createXhr(id), getChunksCompleteParams(id), spec.customHeaders.get(id)).then(function(xhr) {\n                promise.success(parseResponse(false, xhr), xhr);\n            }, function(xhr) {\n                promise.failure(parseResponse(false, xhr), xhr);\n            });\n            return promise;\n        }, setParamsAndGetEntityToSend = function(entityToSendParams) {\n            var fileOrBlob = entityToSendParams.fileOrBlob;\n            var id = entityToSendParams.id;\n            var xhr = entityToSendParams.xhr;\n            var xhrOverrides = entityToSendParams.xhrOverrides || {};\n            var customParams = entityToSendParams.customParams || {};\n            var defaultParams = entityToSendParams.params || {};\n            var xhrOverrideParams = xhrOverrides.params || {};\n            var params;\n            var formData = multipart ? new FormData() : null, method = xhrOverrides.method || spec.method, endpoint = xhrOverrides.endpoint || spec.endpointStore.get(id), name = getName(id), size = getSize(id);\n            if (spec.omitDefaultParams) {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n            } else {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n                qq.extend(params, defaultParams);\n                params[spec.uuidName] = getUuid(id);\n                params[spec.filenameParam] = name;\n                if (multipart) {\n                    params[spec.totalFileSizeName] = size;\n                } else if (!spec.paramsInBody) {\n                    params[spec.inputName] = name;\n                }\n            }\n            if (!spec.paramsInBody) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            xhr.open(method, endpoint, true);\n            if (spec.cors.expected && spec.cors.sendCredentials) {\n                xhr.withCredentials = true;\n            }\n            if (multipart) {\n                if (spec.paramsInBody) {\n                    qq.obj2FormData(params, formData);\n                }\n                formData.append(spec.inputName, fileOrBlob);\n                return formData;\n            }\n            return fileOrBlob;\n        }, setUploadHeaders = function(headersOptions) {\n            var headerOverrides = headersOptions.headerOverrides;\n            var id = headersOptions.id;\n            var xhr = headersOptions.xhr;\n            if (headerOverrides) {\n                qq.each(headerOverrides, function(headerName, headerValue) {\n                    xhr.setRequestHeader(headerName, headerValue);\n                });\n            } else {\n                var extraHeaders = spec.customHeaders.get(id), fileOrBlob = handler.getFile(id);\n                xhr.setRequestHeader(\"Accept\", \"application/json\");\n                xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                if (!multipart) {\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n                    xhr.setRequestHeader(\"X-Mime-Type\", fileOrBlob.type);\n                }\n                qq.each(extraHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        };\n        qq.extend(this, {\n            uploadChunk: function(uploadChunkParams) {\n                var id = uploadChunkParams.id;\n                var chunkIdx = uploadChunkParams.chunkIdx;\n                var overrides = uploadChunkParams.overrides || {};\n                var resuming = uploadChunkParams.resuming;\n                var chunkData = handler._getChunkData(id, chunkIdx), xhr = handler._createXhr(id, chunkIdx), promise, toSend, customParams, params = {};\n                promise = createReadyStateChangedHandler(id, xhr);\n                handler._registerProgressHandler(id, chunkIdx, chunkData.size);\n                customParams = spec.paramsStore.get(id);\n                addChunkingSpecificParams(id, params, chunkData);\n                if (resuming) {\n                    params[spec.resume.paramNames.resuming] = true;\n                }\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: chunkData.blob,\n                    id: id,\n                    customParams: customParams,\n                    params: params,\n                    xhr: xhr,\n                    xhrOverrides: overrides\n                });\n                setUploadHeaders({\n                    headerOverrides: overrides.headers,\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            },\n            uploadFile: function(id) {\n                var fileOrBlob = handler.getFile(id), promise, xhr, customParams, toSend;\n                xhr = handler._createXhr(id);\n                handler._registerProgressHandler(id);\n                promise = createReadyStateChangedHandler(id, xhr);\n                customParams = spec.paramsStore.get(id);\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: fileOrBlob,\n                    id: id,\n                    customParams: customParams,\n                    xhr: xhr\n                });\n                setUploadHeaders({\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            }\n        });\n        qq.extend(this, new qq.XhrUploadHandler({\n            options: qq.extend({\n                namespace: \"traditional\"\n            }, spec),\n            proxy: qq.extend({\n                getEndpoint: spec.endpointStore.get\n            }, proxy)\n        }));\n        qq.override(this, function(super_) {\n            return {\n                finalizeChunks: function(id) {\n                    proxy.onFinalizing(id);\n                    if (spec.chunking.success.endpoint) {\n                        return sendChunksCompleteRequest(id);\n                    } else {\n                        return super_.finalizeChunks(id, qq.bind(parseResponse, this, true));\n                    }\n                }\n            };\n        });\n    };\n    qq.traditional.AllChunksDoneAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            cors: {\n                allowXdr: false,\n                expected: false,\n                sendCredentials: false\n            },\n            endpoint: null,\n            log: function(str, level) {},\n            method: \"POST\"\n        }, promises = {}, endpointHandler = {\n            get: function(id) {\n                if (qq.isFunction(options.endpoint)) {\n                    return options.endpoint(id);\n                }\n                return options.endpoint;\n            }\n        };\n        qq.extend(options, o);\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            contentType: options.jsonPayload ? \"application/json\" : \"application/x-www-form-urlencoded\",\n            validMethods: [ options.method ],\n            method: options.method,\n            endpointStore: endpointHandler,\n            allowXRequestedWithAndCacheControl: false,\n            cors: options.cors,\n            log: options.log,\n            onComplete: function(id, xhr, isError) {\n                var promise = promises[id];\n                delete promises[id];\n                if (isError) {\n                    promise.failure(xhr);\n                } else {\n                    promise.success(xhr);\n                }\n            }\n        }));\n        qq.extend(this, {\n            complete: function(id, xhr, params, headers) {\n                var promise = new qq.Promise();\n                options.log(\"Submitting All Chunks Done request for \" + id);\n                promises[id] = promise;\n                requester.initTransport(id).withParams(options.params(id) || params).withHeaders(options.headers(id) || headers).send(xhr);\n                return promise;\n            }\n        });\n    };\n})(window);\n//# sourceMappingURL=fine-uploader.core.js.map","var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nrequirePromise();\n\nvar ES = require('es-abstract/es2018');\nvar getIntrinsic = require('es-abstract/GetIntrinsic');\nvar bind = require('function-bind');\n\nvar all = bind.call(Function.call, getIntrinsic('%Promise_all%'));\nvar reject = bind.call(Function.call, getIntrinsic('%Promise_reject%'));\n\nmodule.exports = function allSettled(iterable) {\n\tvar C = this;\n\tif (ES.Type(C) !== 'Object') {\n\t\tthrow new TypeError('`this` value must be an object');\n\t}\n\treturn all(C, Array.from(iterable, function (item) {\n\t\tvar onFulfill = function (value) {\n\t\t\treturn { status: 'fulfilled', value: value };\n\t\t};\n\t\tvar onReject = function (reason) {\n\t\t\treturn { status: 'rejected', reason: reason };\n\t\t};\n\t\tvar itemPromise = ES.PromiseResolve(C, item);\n\t\ttry {\n\t\t\treturn itemPromise.then(onFulfill, onReject);\n\t\t} catch (e) {\n\t\t\treturn reject(C, e);\n\t\t}\n\t}));\n};\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\n\nvar inspectCustom = require('./util.inspect').custom;\nvar inspectSymbol = (inspectCustom && isSymbol(inspectCustom)) ? inspectCustom : null;\n\nmodule.exports = function inspect_ (obj, opts, depth, seen) {\n    if (!opts) opts = {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n      if (obj === 0) {\n        return Infinity / obj > 0 ? '0' : '-0';\n      }\n      return String(obj);\n    }\n    if (typeof obj === 'bigint') {\n      return String(obj) + 'n';\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') depth = 0;\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return '[Object]';\n    }\n\n    if (typeof seen === 'undefined') seen = [];\n    else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect (value, from) {\n        if (from) {\n            seen = seen.slice();\n            seen.push(from);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function') {\n        var name = nameOf(obj);\n        return '[Function' + (name ? ': ' + name : '') + ']';\n    }\n    if (isSymbol(obj)) {\n        var symString = Symbol.prototype.toString.call(obj);\n        return typeof obj === 'object' ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + String(obj.nodeName).toLowerCase();\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) s += '...';\n        s += '</' + String(obj.nodeName).toLowerCase() + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) return '[]';\n        return '[ ' + arrObjKeys(obj, inspect).join(', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (parts.length === 0) return '[' + String(obj) + ']';\n        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';\n    }\n    if (typeof obj === 'object') {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {\n            return obj[inspectSymbol]();\n        } else if (typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var parts = [];\n        mapForEach.call(obj, function (value, key) {\n            parts.push(inspect(key, obj) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), parts);\n    }\n    if (isSet(obj)) {\n        var parts = [];\n        setForEach.call(obj, function (value ) {\n            parts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), parts);\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var xs = arrObjKeys(obj, inspect);\n        if (xs.length === 0) return '{}';\n        return '{ ' + xs.join(', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes (s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote (s) {\n    return String(s).replace(/\"/g, '&quot;');\n}\n\nfunction isArray (obj) { return toStr(obj) === '[object Array]'; }\nfunction isDate (obj) { return toStr(obj) === '[object Date]'; }\nfunction isRegExp (obj) { return toStr(obj) === '[object RegExp]'; }\nfunction isError (obj) { return toStr(obj) === '[object Error]'; }\nfunction isSymbol (obj) { return toStr(obj) === '[object Symbol]'; }\nfunction isString (obj) { return toStr(obj) === '[object String]'; }\nfunction isNumber (obj) { return toStr(obj) === '[object Number]'; }\nfunction isBigInt (obj) { return toStr(obj) === '[object BigInt]'; }\nfunction isBoolean (obj) { return toStr(obj) === '[object Boolean]'; }\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has (obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr (obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf (f) {\n    if (f.name) return f.name;\n    var m = String(f).match(/^function\\s*([\\w$]+)/);\n    if (m) return m[1];\n}\n\nfunction indexOf (xs, x) {\n    if (xs.indexOf) return xs.indexOf(x);\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) return i;\n    }\n    return -1;\n}\n\nfunction isMap (x) {\n    if (!mapSize) {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet (x) {\n    if (!setSize) {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement (x) {\n    if (!x || typeof x !== 'object') return false;\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string'\n        && typeof x.getAttribute === 'function'\n    ;\n}\n\nfunction inspectString (str, opts) {\n    var s = str.replace(/(['\\\\])/g, '\\\\$1').replace(/[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte (c) {\n    var n = c.charCodeAt(0);\n    var x = { 8: 'b', 9: 't', 10: 'n', 12: 'f', 13: 'r' }[n];\n    if (x) return '\\\\' + x;\n    return '\\\\x' + (n < 0x10 ? '0' : '') + n.toString(16);\n}\n\nfunction markBoxed (str) {\n    return 'Object(' + str + ')';\n}\n\nfunction collectionOf (type, size, entries) {\n    return type + ' (' + size + ') {' + entries.join(', ') + '}';\n}\n\nfunction arrObjKeys (obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    for (var key in obj) {\n        if (!has(obj, key)) continue;\n        if (isArr && String(Number(key)) === key && key < obj.length) continue;\n        if (/[^\\w$]/.test(key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    return xs;\n}\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar has = require('has');\n\nvar predicates = {\n\t// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\t'Property Descriptor': function isPropertyDescriptor(ES, Desc) {\n\t\tif (ES.Type(Desc) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t}\n};\n\nmodule.exports = function assertRecord(ES, recordType, argumentName, value) {\n\tvar predicate = predicates[recordType];\n\tif (typeof predicate !== 'function') {\n\t\tthrow new $SyntaxError('unknown record type: ' + recordType);\n\t}\n\tif (!predicate(ES, value)) {\n\t\tthrow new $TypeError(argumentName + ' must be a ' + recordType);\n\t}\n};\n","'use strict';\n\nvar $isNaN = Number.isNaN || function (a) { return a !== a; };\n\nmodule.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","'use strict';\n\nmodule.exports = function sign(number) {\n\treturn number >= 0 ? 1 : -1;\n};\n","'use strict';\n\nmodule.exports = function mod(number, modulo) {\n\tvar remain = number % modulo;\n\treturn Math.floor(remain >= 0 ? remain : remain + modulo);\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar has = require('has');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nmodule.exports = function IsPropertyDescriptor(ES, Desc) {\n\tif (ES.Type(Desc) !== 'Object') {\n\t\treturn false;\n\t}\n\tvar allowed = {\n\t\t'[[Configurable]]': true,\n\t\t'[[Enumerable]]': true,\n\t\t'[[Get]]': true,\n\t\t'[[Set]]': true,\n\t\t'[[Value]]': true,\n\t\t'[[Writable]]': true\n\t};\n\n    for (var key in Desc) { // eslint-disable-line\n\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (ES.IsDataDescriptor(Desc) && ES.IsAccessorDescriptor(Desc)) {\n\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t}\n\treturn true;\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $test = GetIntrinsic('RegExp.prototype.test');\n\nvar callBind = require('./callBind');\n\nmodule.exports = function regexTester(regex) {\n\treturn callBind($test, regex);\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols')();\nvar GetIntrinsic = require('../GetIntrinsic');\nvar callBound = require('./callBound');\n\nvar $iterator = GetIntrinsic('%Symbol.iterator%', true);\nvar $arraySlice = callBound('Array.prototype.slice');\nvar $arrayJoin = callBound('Array.prototype.join');\n\nmodule.exports = function getIteratorMethod(ES, iterable) {\n\tvar usingIterator;\n\tif (hasSymbols) {\n\t\tusingIterator = ES.GetMethod(iterable, $iterator);\n\t} else if (ES.IsArray(iterable)) {\n\t\tusingIterator = function () {\n\t\t\tvar i = -1;\n\t\t\tvar arr = this; // eslint-disable-line no-invalid-this\n\t\t\treturn {\n\t\t\t\tnext: function () {\n\t\t\t\t\ti += 1;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: i >= arr.length,\n\t\t\t\t\t\tvalue: arr[i]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t} else if (ES.Type(iterable) === 'String') {\n\t\tusingIterator = function () {\n\t\t\tvar i = 0;\n\t\t\treturn {\n\t\t\t\tnext: function () {\n\t\t\t\t\tvar nextIndex = ES.AdvanceStringIndex(iterable, i, true);\n\t\t\t\t\tvar value = $arrayJoin($arraySlice(iterable, i, nextIndex), '');\n\t\t\t\t\ti = nextIndex;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: nextIndex > iterable.length,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n\treturn usingIterator;\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar originalSetProto = GetIntrinsic('%Object.setPrototypeOf%', true);\nvar $ArrayProto = GetIntrinsic('%Array.prototype%');\n\nmodule.exports = originalSetProto || (\n\t// eslint-disable-next-line no-proto, no-negated-condition\n\t[].__proto__ !== $ArrayProto\n\t\t? null\n\t\t: function (O, proto) {\n\t\t\tO.__proto__ = proto; // eslint-disable-line no-proto\n\t\t\treturn O;\n\t\t}\n);\n","'use strict';\n\nvar $strSlice = require('../helpers/callBound')('String.prototype.slice');\n\nmodule.exports = function isPrefixOf(prefix, string) {\n\tif (prefix === string) {\n\t\treturn true;\n\t}\n\tif (prefix.length > string.length) {\n\t\treturn false;\n\t}\n\treturn $strSlice(string, 0, prefix.length) === prefix;\n};\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\trequirePromise();\n\treturn typeof Promise.allSettled === 'function' ? Promise.allSettled : implementation;\n};\n","// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\n(function(global) {\n    var qq = function(element) {\n        \"use strict\";\n        return {\n            hide: function() {\n                element.style.display = \"none\";\n                return this;\n            },\n            attach: function(type, fn) {\n                if (element.addEventListener) {\n                    element.addEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\" + type, fn);\n                }\n                return function() {\n                    qq(element).detach(type, fn);\n                };\n            },\n            detach: function(type, fn) {\n                if (element.removeEventListener) {\n                    element.removeEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.detachEvent(\"on\" + type, fn);\n                }\n                return this;\n            },\n            contains: function(descendant) {\n                if (!descendant) {\n                    return false;\n                }\n                if (element === descendant) {\n                    return true;\n                }\n                if (element.contains) {\n                    return element.contains(descendant);\n                } else {\n                    return !!(descendant.compareDocumentPosition(element) & 8);\n                }\n            },\n            insertBefore: function(elementB) {\n                elementB.parentNode.insertBefore(element, elementB);\n                return this;\n            },\n            remove: function() {\n                element.parentNode.removeChild(element);\n                return this;\n            },\n            css: function(styles) {\n                if (element.style == null) {\n                    throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n                }\n                if (styles.opacity != null) {\n                    if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n                        styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n                    }\n                }\n                qq.extend(element.style, styles);\n                return this;\n            },\n            hasClass: function(name, considerParent) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n            },\n            addClass: function(name) {\n                if (!qq(element).hasClass(name)) {\n                    element.className += \" \" + name;\n                }\n                return this;\n            },\n            removeClass: function(name) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n                return this;\n            },\n            getByClass: function(className, first) {\n                var candidates, result = [];\n                if (first && element.querySelector) {\n                    return element.querySelector(\".\" + className);\n                } else if (element.querySelectorAll) {\n                    return element.querySelectorAll(\".\" + className);\n                }\n                candidates = element.getElementsByTagName(\"*\");\n                qq.each(candidates, function(idx, val) {\n                    if (qq(val).hasClass(className)) {\n                        result.push(val);\n                    }\n                });\n                return first ? result[0] : result;\n            },\n            getFirstByClass: function(className) {\n                return qq(element).getByClass(className, true);\n            },\n            children: function() {\n                var children = [], child = element.firstChild;\n                while (child) {\n                    if (child.nodeType === 1) {\n                        children.push(child);\n                    }\n                    child = child.nextSibling;\n                }\n                return children;\n            },\n            setText: function(text) {\n                element.innerText = text;\n                element.textContent = text;\n                return this;\n            },\n            clearText: function() {\n                return qq(element).setText(\"\");\n            },\n            hasAttribute: function(attrName) {\n                var attrVal;\n                if (element.hasAttribute) {\n                    if (!element.hasAttribute(attrName)) {\n                        return false;\n                    }\n                    return /^false$/i.exec(element.getAttribute(attrName)) == null;\n                } else {\n                    attrVal = element[attrName];\n                    if (attrVal === undefined) {\n                        return false;\n                    }\n                    return /^false$/i.exec(attrVal) == null;\n                }\n            }\n        };\n    };\n    (function() {\n        \"use strict\";\n        qq.canvasToBlob = function(canvas, mime, quality) {\n            return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n        };\n        qq.dataUriToBlob = function(dataUri) {\n            var arrayBuffer, byteString, createBlob = function(data, mime) {\n                var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n                if (blobBuilder) {\n                    blobBuilder.append(data);\n                    return blobBuilder.getBlob(mime);\n                } else {\n                    return new Blob([ data ], {\n                        type: mime\n                    });\n                }\n            }, intArray, mimeString;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return createBlob(arrayBuffer, mimeString);\n        };\n        qq.log = function(message, level) {\n            if (window.console) {\n                if (!level || level === \"info\") {\n                    window.console.log(message);\n                } else {\n                    if (window.console[level]) {\n                        window.console[level](message);\n                    } else {\n                        window.console.log(\"<\" + level + \"> \" + message);\n                    }\n                }\n            }\n        };\n        qq.isObject = function(variable) {\n            return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n        };\n        qq.isFunction = function(variable) {\n            return typeof variable === \"function\";\n        };\n        qq.isArray = function(value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n        };\n        qq.isItemList = function(maybeItemList) {\n            return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n        };\n        qq.isNodeList = function(maybeNodeList) {\n            return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n        };\n        qq.isString = function(maybeString) {\n            return Object.prototype.toString.call(maybeString) === \"[object String]\";\n        };\n        qq.trimStr = function(string) {\n            if (String.prototype.trim) {\n                return string.trim();\n            }\n            return string.replace(/^\\s+|\\s+$/g, \"\");\n        };\n        qq.format = function(str) {\n            var args = Array.prototype.slice.call(arguments, 1), newStr = str, nextIdxToReplace = newStr.indexOf(\"{}\");\n            qq.each(args, function(idx, val) {\n                var strBefore = newStr.substring(0, nextIdxToReplace), strAfter = newStr.substring(nextIdxToReplace + 2);\n                newStr = strBefore + val + strAfter;\n                nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n                if (nextIdxToReplace < 0) {\n                    return false;\n                }\n            });\n            return newStr;\n        };\n        qq.isFile = function(maybeFile) {\n            return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n        };\n        qq.isFileList = function(maybeFileList) {\n            return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n        };\n        qq.isFileOrInput = function(maybeFileOrInput) {\n            return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n        };\n        qq.isInput = function(maybeInput, notFile) {\n            var evaluateType = function(type) {\n                var normalizedType = type.toLowerCase();\n                if (notFile) {\n                    return normalizedType !== \"file\";\n                }\n                return normalizedType === \"file\";\n            };\n            if (window.HTMLInputElement) {\n                if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            if (maybeInput.tagName) {\n                if (maybeInput.tagName.toLowerCase() === \"input\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        qq.isBlob = function(maybeBlob) {\n            if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n                return true;\n            }\n        };\n        qq.isXhrUploadSupported = function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n        };\n        qq.createXhrInstance = function() {\n            if (window.XMLHttpRequest) {\n                return new XMLHttpRequest();\n            }\n            try {\n                return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            } catch (error) {\n                qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n                return null;\n            }\n        };\n        qq.isFolderDropSupported = function(dataTransfer) {\n            return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n        };\n        qq.isFileChunkingSupported = function() {\n            return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n        };\n        qq.sliceBlob = function(fileOrBlob, start, end) {\n            var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n            return slicer.call(fileOrBlob, start, end);\n        };\n        qq.arrayBufferToHex = function(buffer) {\n            var bytesAsHex = \"\", bytes = new Uint8Array(buffer);\n            qq.each(bytes, function(idx, byt) {\n                var byteAsHexStr = byt.toString(16);\n                if (byteAsHexStr.length < 2) {\n                    byteAsHexStr = \"0\" + byteAsHexStr;\n                }\n                bytesAsHex += byteAsHexStr;\n            });\n            return bytesAsHex;\n        };\n        qq.readBlobToHex = function(blob, startOffset, length) {\n            var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length), fileReader = new FileReader(), promise = new qq.Promise();\n            fileReader.onload = function() {\n                promise.success(qq.arrayBufferToHex(fileReader.result));\n            };\n            fileReader.onerror = promise.failure;\n            fileReader.readAsArrayBuffer(initialBlob);\n            return promise;\n        };\n        qq.extend = function(first, second, extendNested) {\n            qq.each(second, function(prop, val) {\n                if (extendNested && qq.isObject(val)) {\n                    if (first[prop] === undefined) {\n                        first[prop] = {};\n                    }\n                    qq.extend(first[prop], val, true);\n                } else {\n                    first[prop] = val;\n                }\n            });\n            return first;\n        };\n        qq.override = function(target, sourceFn) {\n            var super_ = {}, source = sourceFn(super_);\n            qq.each(source, function(srcPropName, srcPropVal) {\n                if (target[srcPropName] !== undefined) {\n                    super_[srcPropName] = target[srcPropName];\n                }\n                target[srcPropName] = srcPropVal;\n            });\n            return target;\n        };\n        qq.indexOf = function(arr, elt, from) {\n            if (arr.indexOf) {\n                return arr.indexOf(elt, from);\n            }\n            from = from || 0;\n            var len = arr.length;\n            if (from < 0) {\n                from += len;\n            }\n            for (;from < len; from += 1) {\n                if (arr.hasOwnProperty(from) && arr[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n        qq.getUniqueId = function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n                return v.toString(16);\n            });\n        };\n        qq.ie = function() {\n            return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n        };\n        qq.ie7 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n        };\n        qq.ie8 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n        };\n        qq.ie10 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n        };\n        qq.ie11 = function() {\n            return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n        };\n        qq.edge = function() {\n            return navigator.userAgent.indexOf(\"Edge\") >= 0;\n        };\n        qq.safari = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n        };\n        qq.chrome = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n        };\n        qq.opera = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n        };\n        qq.firefox = function() {\n            return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n        };\n        qq.windows = function() {\n            return navigator.platform === \"Win32\";\n        };\n        qq.android = function() {\n            return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n        };\n        qq.androidStock = function() {\n            return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0 && navigator.userAgent.toLowerCase().indexOf(\"firefox\") < 0;\n        };\n        qq.ios6 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n        };\n        qq.ios7 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n        };\n        qq.ios8 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n        };\n        qq.ios800 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n        };\n        qq.ios = function() {\n            return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n        };\n        qq.iosChrome = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n        };\n        qq.iosSafari = function() {\n            return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n        };\n        qq.iosSafariWebView = function() {\n            return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n        };\n        qq.preventDefault = function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n        };\n        qq.toElement = function() {\n            var div = document.createElement(\"div\");\n            return function(html) {\n                div.innerHTML = html;\n                var element = div.firstChild;\n                div.removeChild(element);\n                return element;\n            };\n        }();\n        qq.each = function(iterableItem, callback) {\n            var keyOrIndex, retVal;\n            if (iterableItem) {\n                if (window.Storage && iterableItem.constructor === window.Storage) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isString(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (keyOrIndex in iterableItem) {\n                        if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n                            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                            if (retVal === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        qq.bind = function(oldFunc, context) {\n            if (qq.isFunction(oldFunc)) {\n                var args = Array.prototype.slice.call(arguments, 2);\n                return function() {\n                    var newArgs = qq.extend([], args);\n                    if (arguments.length) {\n                        newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n                    }\n                    return oldFunc.apply(context, newArgs);\n                };\n            }\n            throw new Error(\"first parameter must be a function!\");\n        };\n        qq.obj2url = function(obj, temp, prefixDone) {\n            var uristrings = [], prefix = \"&\", add = function(nextObj, i) {\n                var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n                if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n                    uristrings.push(typeof nextObj === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n                }\n            };\n            if (!prefixDone && temp) {\n                prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n                uristrings.push(temp);\n                uristrings.push(qq.obj2url(obj));\n            } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n                qq.each(obj, function(idx, val) {\n                    add(val, idx);\n                });\n            } else if (typeof obj !== \"undefined\" && obj !== null && typeof obj === \"object\") {\n                qq.each(obj, function(prop, val) {\n                    add(val, prop);\n                });\n            } else {\n                uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n            }\n            if (temp) {\n                return uristrings.join(prefix);\n            } else {\n                return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n            }\n        };\n        qq.obj2FormData = function(obj, formData, arrayKeyName) {\n            if (!formData) {\n                formData = new FormData();\n            }\n            qq.each(obj, function(key, val) {\n                key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n                if (qq.isObject(val)) {\n                    qq.obj2FormData(val, formData, key);\n                } else if (qq.isFunction(val)) {\n                    formData.append(key, val());\n                } else {\n                    formData.append(key, val);\n                }\n            });\n            return formData;\n        };\n        qq.obj2Inputs = function(obj, form) {\n            var input;\n            if (!form) {\n                form = document.createElement(\"form\");\n            }\n            qq.obj2FormData(obj, {\n                append: function(key, val) {\n                    input = document.createElement(\"input\");\n                    input.setAttribute(\"name\", key);\n                    input.setAttribute(\"value\", val);\n                    form.appendChild(input);\n                }\n            });\n            return form;\n        };\n        qq.parseJson = function(json) {\n            if (window.JSON && qq.isFunction(JSON.parse)) {\n                return JSON.parse(json);\n            } else {\n                return eval(\"(\" + json + \")\");\n            }\n        };\n        qq.getExtension = function(filename) {\n            var extIdx = filename.lastIndexOf(\".\") + 1;\n            if (extIdx > 0) {\n                return filename.substr(extIdx, filename.length - extIdx);\n            }\n        };\n        qq.getFilename = function(blobOrFileInput) {\n            if (qq.isInput(blobOrFileInput)) {\n                return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n            } else if (qq.isFile(blobOrFileInput)) {\n                if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n                    return blobOrFileInput.fileName;\n                }\n            }\n            return blobOrFileInput.name;\n        };\n        qq.DisposeSupport = function() {\n            var disposers = [];\n            return {\n                dispose: function() {\n                    var disposer;\n                    do {\n                        disposer = disposers.shift();\n                        if (disposer) {\n                            disposer();\n                        }\n                    } while (disposer);\n                },\n                attach: function() {\n                    var args = arguments;\n                    this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n                },\n                addDisposer: function(disposeFunction) {\n                    disposers.push(disposeFunction);\n                }\n            };\n        };\n    })();\n    (function() {\n        \"use strict\";\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return qq;\n            });\n        } else if (typeof module !== \"undefined\" && module.exports) {\n            module.exports = qq;\n        } else {\n            global.qq = qq;\n        }\n    })();\n    qq.version = \"6.0.3\";\n    qq.supportedFeatures = function() {\n        \"use strict\";\n        var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n        function testSupportsFileInputElement() {\n            var supported = true, tempInput;\n            try {\n                tempInput = document.createElement(\"input\");\n                tempInput.type = \"file\";\n                qq(tempInput).hide();\n                if (tempInput.disabled) {\n                    supported = false;\n                }\n            } catch (ex) {\n                supported = false;\n            }\n            return supported;\n        }\n        function isChrome14OrHigher() {\n            return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n        }\n        function isCrossOriginXhrSupported() {\n            if (window.XMLHttpRequest) {\n                var xhr = qq.createXhrInstance();\n                return xhr.withCredentials !== undefined;\n            }\n            return false;\n        }\n        function isXdrSupported() {\n            return window.XDomainRequest !== undefined;\n        }\n        function isCrossOriginAjaxSupported() {\n            if (isCrossOriginXhrSupported()) {\n                return true;\n            }\n            return isXdrSupported();\n        }\n        function isFolderSelectionSupported() {\n            return document.createElement(\"input\").webkitdirectory !== undefined;\n        }\n        function isLocalStorageSupported() {\n            try {\n                return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n            } catch (error) {\n                return false;\n            }\n        }\n        function isDragAndDropSupported() {\n            var span = document.createElement(\"span\");\n            return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n        }\n        supportsUploading = testSupportsFileInputElement();\n        supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n        supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n        supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n        supportsFolderDrop = supportsFileDrop && function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n        }();\n        supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n        supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n        supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n        supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n        supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n        supportsDeleteFileXdr = isXdrSupported();\n        supportsDeleteFileCors = isCrossOriginAjaxSupported();\n        supportsFolderSelection = isFolderSelectionSupported();\n        supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n        supportsUploadProgress = function() {\n            if (supportsAjaxFileUploading) {\n                return !qq.androidStock() && !qq.iosChrome();\n            }\n            return false;\n        }();\n        return {\n            ajaxUploading: supportsAjaxFileUploading,\n            blobUploading: supportsUploadingBlobs,\n            canDetermineSize: supportsAjaxFileUploading,\n            chunking: supportsChunking,\n            deleteFileCors: supportsDeleteFileCors,\n            deleteFileCorsXdr: supportsDeleteFileXdr,\n            deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n            dialogElement: !!window.HTMLDialogElement,\n            fileDrop: supportsFileDrop,\n            folderDrop: supportsFolderDrop,\n            folderSelection: supportsFolderSelection,\n            imagePreviews: supportsImagePreviews,\n            imageValidation: supportsImagePreviews,\n            itemSizeValidation: supportsAjaxFileUploading,\n            pause: supportsChunking,\n            progressBar: supportsUploadProgress,\n            resume: supportsResume,\n            scaling: supportsImagePreviews && supportsUploadingBlobs,\n            tiffPreviews: qq.safari(),\n            unlimitedScaledImageSize: !qq.ios(),\n            uploading: supportsUploading,\n            uploadCors: supportsUploadCors,\n            uploadCustomHeaders: supportsAjaxFileUploading,\n            uploadNonMultipart: supportsAjaxFileUploading,\n            uploadViaPaste: supportsUploadViaPaste\n        };\n    }();\n    qq.isGenericPromise = function(maybePromise) {\n        \"use strict\";\n        return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n    };\n    qq.Promise = function() {\n        \"use strict\";\n        var successArgs, failureArgs, successCallbacks = [], failureCallbacks = [], doneCallbacks = [], state = 0;\n        qq.extend(this, {\n            then: function(onSuccess, onFailure) {\n                if (state === 0) {\n                    if (onSuccess) {\n                        successCallbacks.push(onSuccess);\n                    }\n                    if (onFailure) {\n                        failureCallbacks.push(onFailure);\n                    }\n                } else if (state === -1) {\n                    onFailure && onFailure.apply(null, failureArgs);\n                } else if (onSuccess) {\n                    onSuccess.apply(null, successArgs);\n                }\n                return this;\n            },\n            done: function(callback) {\n                if (state === 0) {\n                    doneCallbacks.push(callback);\n                } else {\n                    callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n                }\n                return this;\n            },\n            success: function() {\n                state = 1;\n                successArgs = arguments;\n                if (successCallbacks.length) {\n                    qq.each(successCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                return this;\n            },\n            failure: function() {\n                state = -1;\n                failureArgs = arguments;\n                if (failureCallbacks.length) {\n                    qq.each(failureCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                return this;\n            }\n        });\n    };\n    qq.DragAndDrop = function(o) {\n        \"use strict\";\n        var options, HIDE_ZONES_EVENT_NAME = \"qq-hidezones\", HIDE_BEFORE_ENTER_ATTR = \"qq-hide-dropzone\", uploadDropZones = [], droppedFiles = [], disposeSupport = new qq.DisposeSupport();\n        options = {\n            dropZoneElements: [],\n            allowMultipleItems: true,\n            classes: {\n                dropActive: null\n            },\n            callbacks: new qq.DragAndDrop.callbacks()\n        };\n        qq.extend(options, o, true);\n        function uploadDroppedFiles(files, uploadDropZone) {\n            var filesAsArray = Array.prototype.slice.call(files);\n            options.callbacks.dropLog(\"Grabbed \" + files.length + \" dropped files.\");\n            uploadDropZone.dropDisabled(false);\n            options.callbacks.processingDroppedFilesComplete(filesAsArray, uploadDropZone.getElement());\n        }\n        function traverseFileTree(entry) {\n            var parseEntryPromise = new qq.Promise();\n            if (entry.isFile) {\n                entry.file(function(file) {\n                    file.qqPath = extractDirectoryPath(entry);\n                    droppedFiles.push(file);\n                    parseEntryPromise.success();\n                }, function(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            } else if (entry.isDirectory) {\n                getFilesInDirectory(entry).then(function allEntriesRead(entries) {\n                    var entriesLeft = entries.length;\n                    qq.each(entries, function(idx, entry) {\n                        traverseFileTree(entry).done(function() {\n                            entriesLeft -= 1;\n                            if (entriesLeft === 0) {\n                                parseEntryPromise.success();\n                            }\n                        });\n                    });\n                    if (!entries.length) {\n                        parseEntryPromise.success();\n                    }\n                }, function readFailure(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            }\n            return parseEntryPromise;\n        }\n        function extractDirectoryPath(entry) {\n            var name = entry.name, fullPath = entry.fullPath, indexOfNameInFullPath = fullPath.lastIndexOf(name);\n            fullPath = fullPath.substr(0, indexOfNameInFullPath);\n            if (fullPath.charAt(0) === \"/\") {\n                fullPath = fullPath.substr(1);\n            }\n            return fullPath;\n        }\n        function getFilesInDirectory(entry, reader, accumEntries, existingPromise) {\n            var promise = existingPromise || new qq.Promise(), dirReader = reader || entry.createReader();\n            dirReader.readEntries(function readSuccess(entries) {\n                var newEntries = accumEntries ? accumEntries.concat(entries) : entries;\n                if (entries.length) {\n                    setTimeout(function() {\n                        getFilesInDirectory(entry, dirReader, newEntries, promise);\n                    }, 0);\n                } else {\n                    promise.success(newEntries);\n                }\n            }, promise.failure);\n            return promise;\n        }\n        function handleDataTransfer(dataTransfer, uploadDropZone) {\n            var pendingFolderPromises = [], handleDataTransferPromise = new qq.Promise();\n            options.callbacks.processingDroppedFiles();\n            uploadDropZone.dropDisabled(true);\n            if (dataTransfer.files.length > 1 && !options.allowMultipleItems) {\n                options.callbacks.processingDroppedFilesComplete([]);\n                options.callbacks.dropError(\"tooManyFilesError\", \"\");\n                uploadDropZone.dropDisabled(false);\n                handleDataTransferPromise.failure();\n            } else {\n                droppedFiles = [];\n                if (qq.isFolderDropSupported(dataTransfer)) {\n                    qq.each(dataTransfer.items, function(idx, item) {\n                        var entry = item.webkitGetAsEntry();\n                        if (entry) {\n                            if (entry.isFile) {\n                                droppedFiles.push(item.getAsFile());\n                            } else {\n                                pendingFolderPromises.push(traverseFileTree(entry).done(function() {\n                                    pendingFolderPromises.pop();\n                                    if (pendingFolderPromises.length === 0) {\n                                        handleDataTransferPromise.success();\n                                    }\n                                }));\n                            }\n                        }\n                    });\n                } else {\n                    droppedFiles = dataTransfer.files;\n                }\n                if (pendingFolderPromises.length === 0) {\n                    handleDataTransferPromise.success();\n                }\n            }\n            return handleDataTransferPromise;\n        }\n        function setupDropzone(dropArea) {\n            var dropZone = new qq.UploadDropZone({\n                HIDE_ZONES_EVENT_NAME: HIDE_ZONES_EVENT_NAME,\n                element: dropArea,\n                onEnter: function(e) {\n                    qq(dropArea).addClass(options.classes.dropActive);\n                    options.callbacks.dragEnter();\n                    e.stopPropagation();\n                },\n                onLeaveNotDescendants: function(e) {\n                    qq(dropArea).removeClass(options.classes.dropActive);\n                    options.callbacks.dragLeave();\n                },\n                onDrop: function(e) {\n                    handleDataTransfer(e.dataTransfer, dropZone).then(function() {\n                        uploadDroppedFiles(droppedFiles, dropZone);\n                    }, function() {\n                        options.callbacks.dropLog(\"Drop event DataTransfer parsing failed.  No files will be uploaded.\", \"error\");\n                    });\n                }\n            });\n            disposeSupport.addDisposer(function() {\n                dropZone.dispose();\n            });\n            qq(dropArea).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropArea).hide();\n            uploadDropZones.push(dropZone);\n            return dropZone;\n        }\n        function isFileDrag(dragEvent) {\n            var fileDrag;\n            qq.each(dragEvent.dataTransfer.types, function(key, val) {\n                if (val === \"Files\") {\n                    fileDrag = true;\n                    return false;\n                }\n            });\n            return fileDrag;\n        }\n        function leavingDocumentOut(e) {\n            if (qq.safari()) {\n                return e.x < 0 || e.y < 0;\n            }\n            return e.x === 0 && e.y === 0;\n        }\n        function setupDragDrop() {\n            var dropZones = options.dropZoneElements, maybeHideDropZones = function() {\n                setTimeout(function() {\n                    qq.each(dropZones, function(idx, dropZone) {\n                        qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropZone).hide();\n                        qq(dropZone).removeClass(options.classes.dropActive);\n                    });\n                }, 10);\n            };\n            qq.each(dropZones, function(idx, dropZone) {\n                var uploadDropZone = setupDropzone(dropZone);\n                if (dropZones.length && qq.supportedFeatures.fileDrop) {\n                    disposeSupport.attach(document, \"dragenter\", function(e) {\n                        if (!uploadDropZone.dropDisabled() && isFileDrag(e)) {\n                            qq.each(dropZones, function(idx, dropZone) {\n                                if (dropZone instanceof HTMLElement && qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR)) {\n                                    qq(dropZone).css({\n                                        display: \"block\"\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n            disposeSupport.attach(document, \"dragleave\", function(e) {\n                if (leavingDocumentOut(e)) {\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(qq(document).children()[0], \"mouseenter\", function(e) {\n                maybeHideDropZones();\n            });\n            disposeSupport.attach(document, \"drop\", function(e) {\n                if (isFileDrag(e)) {\n                    e.preventDefault();\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(document, HIDE_ZONES_EVENT_NAME, maybeHideDropZones);\n        }\n        setupDragDrop();\n        qq.extend(this, {\n            setupExtraDropzone: function(element) {\n                options.dropZoneElements.push(element);\n                setupDropzone(element);\n            },\n            removeDropzone: function(element) {\n                var i, dzs = options.dropZoneElements;\n                for (i in dzs) {\n                    if (dzs[i] === element) {\n                        return dzs.splice(i, 1);\n                    }\n                }\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n                qq.each(uploadDropZones, function(idx, dropZone) {\n                    dropZone.dispose();\n                });\n            }\n        });\n        this._testing = {};\n        this._testing.extractDirectoryPath = extractDirectoryPath;\n    };\n    qq.DragAndDrop.callbacks = function() {\n        \"use strict\";\n        return {\n            dragEnter: function() {},\n            dragLeave: function() {},\n            processingDroppedFiles: function() {},\n            processingDroppedFilesComplete: function(files, targetEl) {},\n            dropError: function(code, errorSpecifics) {\n                qq.log(\"Drag & drop error code '\" + code + \" with these specifics: '\" + errorSpecifics + \"'\", \"error\");\n            },\n            dropLog: function(message, level) {\n                qq.log(message, level);\n            }\n        };\n    };\n    qq.UploadDropZone = function(o) {\n        \"use strict\";\n        var disposeSupport = new qq.DisposeSupport(), options, element, preventDrop, dropOutsideDisabled;\n        options = {\n            element: null,\n            onEnter: function(e) {},\n            onLeave: function(e) {},\n            onLeaveNotDescendants: function(e) {},\n            onDrop: function(e) {}\n        };\n        qq.extend(options, o);\n        element = options.element;\n        function dragoverShouldBeCanceled() {\n            return qq.safari() || qq.firefox() && qq.windows();\n        }\n        function disableDropOutside(e) {\n            if (!dropOutsideDisabled) {\n                if (dragoverShouldBeCanceled) {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        e.preventDefault();\n                    });\n                } else {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        if (e.dataTransfer) {\n                            e.dataTransfer.dropEffect = \"none\";\n                            e.preventDefault();\n                        }\n                    });\n                }\n                dropOutsideDisabled = true;\n            }\n        }\n        function isValidFileDrag(e) {\n            if (!qq.supportedFeatures.fileDrop) {\n                return false;\n            }\n            var effectTest, dt = e.dataTransfer, isSafari = qq.safari();\n            effectTest = qq.ie() && qq.supportedFeatures.fileDrop ? true : dt.effectAllowed !== \"none\";\n            return dt && effectTest && (dt.files && dt.files.length || !isSafari && dt.types.contains && dt.types.contains(\"Files\") || dt.types.includes && dt.types.includes(\"Files\"));\n        }\n        function isOrSetDropDisabled(isDisabled) {\n            if (isDisabled !== undefined) {\n                preventDrop = isDisabled;\n            }\n            return preventDrop;\n        }\n        function triggerHidezonesEvent() {\n            var hideZonesEvent;\n            function triggerUsingOldApi() {\n                hideZonesEvent = document.createEvent(\"Event\");\n                hideZonesEvent.initEvent(options.HIDE_ZONES_EVENT_NAME, true, true);\n            }\n            if (window.CustomEvent) {\n                try {\n                    hideZonesEvent = new CustomEvent(options.HIDE_ZONES_EVENT_NAME);\n                } catch (err) {\n                    triggerUsingOldApi();\n                }\n            } else {\n                triggerUsingOldApi();\n            }\n            document.dispatchEvent(hideZonesEvent);\n        }\n        function attachEvents() {\n            disposeSupport.attach(element, \"dragover\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                var effect = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed;\n                if (effect === \"move\" || effect === \"linkMove\") {\n                    e.dataTransfer.dropEffect = \"move\";\n                } else {\n                    e.dataTransfer.dropEffect = \"copy\";\n                }\n                e.stopPropagation();\n                e.preventDefault();\n            });\n            disposeSupport.attach(element, \"dragenter\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    options.onEnter(e);\n                }\n            });\n            disposeSupport.attach(element, \"dragleave\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                options.onLeave(e);\n                var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n                if (qq(this).contains(relatedTarget)) {\n                    return;\n                }\n                options.onLeaveNotDescendants(e);\n            });\n            disposeSupport.attach(element, \"drop\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    e.preventDefault();\n                    e.stopPropagation();\n                    options.onDrop(e);\n                    triggerHidezonesEvent();\n                }\n            });\n        }\n        disableDropOutside();\n        attachEvents();\n        qq.extend(this, {\n            dropDisabled: function(isDisabled) {\n                return isOrSetDropDisabled(isDisabled);\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n            },\n            getElement: function() {\n                return element;\n            }\n        });\n        this._testing = {};\n        this._testing.isValidFileDrag = isValidFileDrag;\n    };\n})(window);\n//# sourceMappingURL=dnd.js.map","'use strict';\n\nvar bind = require('function-bind');\nvar define = require('define-properties');\n\nvar requirePromise = require('./requirePromise');\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nrequirePromise();\nvar bound = bind.call(Function.call, getPolyfill());\n\nvar rebindable = function allSettled(iterable) {\n\t// eslint-disable-next-line no-invalid-this\n\treturn bound(typeof this === 'undefined' ? Promise : this, iterable);\n};\n\ndefine(rebindable, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = rebindable;\n","/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar keys = require('object-keys');\nvar inspect = require('object-inspect');\n\nvar ES2017 = require('./es2017');\nvar assign = require('./helpers/assign');\nvar forEach = require('./helpers/forEach');\nvar callBind = require('./helpers/callBind');\nvar every = require('./helpers/every');\nvar isPrefixOf = require('./helpers/isPrefixOf');\n\nvar $String = GetIntrinsic('%String%');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar callBound = require('./helpers/callBound');\nvar regexTester = require('./helpers/regexTester');\nvar $isNaN = require('./helpers/isNaN');\n\nvar $SymbolValueOf = callBound('Symbol.prototype.valueOf', true);\n// var $charAt = callBound('String.prototype.charAt');\nvar $strSlice = callBound('String.prototype.slice');\nvar $indexOf = callBound('String.prototype.indexOf');\nvar $parseInt = parseInt;\n\nvar isDigit = regexTester(/^[0-9]$/);\n\nvar $PromiseResolve = callBound('Promise.resolve', true);\n\nvar $isEnumerable = callBound('Object.prototype.propertyIsEnumerable');\nvar $pushApply = callBind.apply(GetIntrinsic('%Array.prototype.push%'));\nvar $gOPS = $SymbolValueOf ? GetIntrinsic('%Object.getOwnPropertySymbols%') : null;\n\nvar padTimeComponent = function padTimeComponent(c, count) {\n\treturn $strSlice('00' + c, -(count || 2));\n};\n\nvar weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\nvar OwnPropertyKeys = function OwnPropertyKeys(ES, source) {\n\tvar ownKeys = keys(source);\n\tif ($gOPS) {\n\t\t$pushApply(ownKeys, $gOPS(source));\n\t}\n\treturn ownKeys;\n};\n\nvar ES2018 = assign(assign({}, ES2017), {\n\tEnumerableOwnPropertyNames: ES2017.EnumerableOwnProperties,\n\n\t// https://ecma-international.org/ecma-262/9.0/#sec-thissymbolvalue\n\tthisSymbolValue: function thisSymbolValue(value) {\n\t\tif (!$SymbolValueOf) {\n\t\t\tthrow new SyntaxError('Symbols are not supported; thisSymbolValue requires that `value` be a Symbol or a Symbol object');\n\t\t}\n\t\tif (this.Type(value) === 'Symbol') {\n\t\t\treturn value;\n\t\t}\n\t\treturn $SymbolValueOf(value);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/9.0/#sec-isstringprefix\n\tIsStringPrefix: function IsStringPrefix(p, q) {\n\t\tif (this.Type(p) !== 'String') {\n\t\t\tthrow new TypeError('Assertion failed: \"p\" must be a String');\n\t\t}\n\n\t\tif (this.Type(q) !== 'String') {\n\t\t\tthrow new TypeError('Assertion failed: \"q\" must be a String');\n\t\t}\n\n\t\treturn isPrefixOf(p, q);\n\t\t/*\n\t\tif (p === q || p === '') {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar pLength = p.length;\n\t\tvar qLength = q.length;\n\t\tif (pLength >= qLength) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// assert: pLength < qLength\n\n\t\tfor (var i = 0; i < pLength; i += 1) {\n\t\t\tif ($charAt(p, i) !== $charAt(q, i)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t\t*/\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/9.0/#sec-tostring-applied-to-the-number-type\n\tNumberToString: function NumberToString(m) {\n\t\tif (this.Type(m) !== 'Number') {\n\t\t\tthrow new TypeError('Assertion failed: \"m\" must be a String');\n\t\t}\n\n\t\treturn $String(m);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/9.0/#sec-copydataproperties\n\tCopyDataProperties: function CopyDataProperties(target, source, excludedItems) {\n\t\tif (this.Type(target) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: \"target\" must be an Object');\n\t\t}\n\n\t\tif (!this.IsArray(excludedItems)) {\n\t\t\tthrow new TypeError('Assertion failed: \"excludedItems\" must be a List of Property Keys');\n\t\t}\n\t\tfor (var i = 0; i < excludedItems.length; i += 1) {\n\t\t\tif (!this.IsPropertyKey(excludedItems[i])) {\n\t\t\t\tthrow new TypeError('Assertion failed: \"excludedItems\" must be a List of Property Keys');\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'undefined' || source === null) {\n\t\t\treturn target;\n\t\t}\n\n\t\tvar ES = this;\n\n\t\tvar fromObj = ES.ToObject(source);\n\n\t\tvar sourceKeys = OwnPropertyKeys(ES, fromObj);\n\t\tforEach(sourceKeys, function (nextKey) {\n\t\t\tvar excluded = false;\n\n\t\t\tforEach(excludedItems, function (e) {\n\t\t\t\tif (ES.SameValue(e, nextKey) === true) {\n\t\t\t\t\texcluded = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar enumerable = $isEnumerable(fromObj, nextKey) || (\n\t\t\t\t// this is to handle string keys being non-enumerable in older engines\n\t\t\t\ttypeof source === 'string'\n\t\t\t\t&& nextKey >= 0\n\t\t\t\t&& ES.IsInteger(ES.ToNumber(nextKey))\n\t\t\t);\n\t\t\tif (excluded === false && enumerable) {\n\t\t\t\tvar propValue = ES.Get(fromObj, nextKey);\n\t\t\t\tES.CreateDataProperty(target, nextKey, propValue);\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t},\n\n\t// https://ecma-international.org/ecma-262/9.0/#sec-promise-resolve\n\tPromiseResolve: function PromiseResolve(C, x) {\n\t\tif (!$PromiseResolve) {\n\t\t\tthrow new SyntaxError('This environment does not support Promises.');\n\t\t}\n\t\treturn $PromiseResolve(C, x);\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/9.0/#sec-getsubstitution\n\t// eslint-disable-next-line max-statements, max-params, max-lines-per-function\n\tGetSubstitution: function GetSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n\t\tif (this.Type(matched) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `matched` must be a String');\n\t\t}\n\t\tvar matchLength = matched.length;\n\n\t\tif (this.Type(str) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `str` must be a String');\n\t\t}\n\t\tvar stringLength = str.length;\n\n\t\tif (!this.IsInteger(position) || position < 0 || position > stringLength) {\n\t\t\tthrow new $TypeError('Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got ' + inspect(position));\n\t\t}\n\n\t\tvar ES = this;\n\t\tvar isStringOrHole = function (capture, index, arr) { return ES.Type(capture) === 'String' || !(index in arr); };\n\t\tif (!this.IsArray(captures) || !every(captures, isStringOrHole)) {\n\t\t\tthrow new $TypeError('Assertion failed: `captures` must be a List of Strings, got ' + inspect(captures));\n\t\t}\n\n\t\tif (this.Type(replacement) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `replacement` must be a String');\n\t\t}\n\n\t\tvar tailPos = position + matchLength;\n\t\tvar m = captures.length;\n\t\tif (this.Type(namedCaptures) !== 'Undefined') {\n\t\t\tnamedCaptures = this.ToObject(namedCaptures); // eslint-disable-line no-param-reassign\n\t\t}\n\n\t\tvar result = '';\n\t\tfor (var i = 0; i < replacement.length; i += 1) {\n\t\t\t// if this is a $, and it's not the end of the replacement\n\t\t\tvar current = replacement[i];\n\t\t\tvar isLast = (i + 1) >= replacement.length;\n\t\t\tvar nextIsLast = (i + 2) >= replacement.length;\n\t\t\tif (current === '$' && !isLast) {\n\t\t\t\tvar next = replacement[i + 1];\n\t\t\t\tif (next === '$') {\n\t\t\t\t\tresult += '$';\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === '&') {\n\t\t\t\t\tresult += matched;\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === '`') {\n\t\t\t\t\tresult += position === 0 ? '' : $strSlice(str, 0, position - 1);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === \"'\") {\n\t\t\t\t\tresult += tailPos >= stringLength ? '' : $strSlice(str, tailPos);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else {\n\t\t\t\t\tvar nextNext = nextIsLast ? null : replacement[i + 2];\n\t\t\t\t\tif (isDigit(next) && next !== '0' && (nextIsLast || !isDigit(nextNext))) {\n\t\t\t\t\t\t// $1 through $9, and not followed by a digit\n\t\t\t\t\t\tvar n = $parseInt(next, 10);\n\t\t\t\t\t\t// if (n > m, impl-defined)\n\t\t\t\t\t\tresult += (n <= m && this.Type(captures[n - 1]) === 'Undefined') ? '' : captures[n - 1];\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t} else if (isDigit(next) && (nextIsLast || isDigit(nextNext))) {\n\t\t\t\t\t\t// $00 through $99\n\t\t\t\t\t\tvar nn = next + nextNext;\n\t\t\t\t\t\tvar nnI = $parseInt(nn, 10) - 1;\n\t\t\t\t\t\t// if nn === '00' or nn > m, impl-defined\n\t\t\t\t\t\tresult += (nn <= m && this.Type(captures[nnI]) === 'Undefined') ? '' : captures[nnI];\n\t\t\t\t\t\ti += 2;\n\t\t\t\t\t} else if (next === '<') {\n\t\t\t\t\t\t// eslint-disable-next-line max-depth\n\t\t\t\t\t\tif (this.Type(namedCaptures) === 'Undefined') {\n\t\t\t\t\t\t\tresult += '$<';\n\t\t\t\t\t\t\ti += 2;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar endIndex = $indexOf(replacement, '>', i);\n\t\t\t\t\t\t\t// eslint-disable-next-line max-depth\n\t\t\t\t\t\t\tif (endIndex > -1) {\n\t\t\t\t\t\t\t\tvar groupName = $strSlice(replacement, i, endIndex);\n\t\t\t\t\t\t\t\tvar capture = this.Get(namedCaptures, groupName);\n\t\t\t\t\t\t\t\t// eslint-disable-next-line max-depth\n\t\t\t\t\t\t\t\tif (this.Type(capture) !== 'Undefined') {\n\t\t\t\t\t\t\t\t\tresult += this.ToString(capture);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ti += '$<' + groupName + '>'.length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult += '$';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// the final $, or else not a $\n\t\t\t\tresult += replacement[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/9.0/#sec-datestring\n\tDateString: function DateString(tv) {\n\t\tif (this.Type(tv) !== 'Number' || $isNaN(tv)) {\n\t\t\tthrow new $TypeError('Assertion failed: `tv` must be a non-NaN Number');\n\t\t}\n\t\tvar weekday = weekdays[this.WeekDay(tv)];\n\t\tvar month = months[this.MonthFromTime(tv)];\n\t\tvar day = padTimeComponent(this.DateFromTime(tv));\n\t\tvar year = padTimeComponent(this.YearFromTime(tv), 4);\n\t\treturn weekday + '\\x20' + month + '\\x20' + day + '\\x20' + year;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/9.0/#sec-timestring\n\tTimeString: function TimeString(tv) {\n\t\tif (this.Type(tv) !== 'Number' || $isNaN(tv)) {\n\t\t\tthrow new $TypeError('Assertion failed: `tv` must be a non-NaN Number');\n\t\t}\n\t\tvar hour = this.HourFromTime(tv);\n\t\tvar minute = this.MinFromTime(tv);\n\t\tvar second = this.SecFromTime(tv);\n\t\treturn padTimeComponent(hour) + ':' + padTimeComponent(minute) + ':' + padTimeComponent(second) + '\\x20GMT';\n\t}\n});\n\ndelete ES2018.EnumerableOwnProperties; // replaced with EnumerableOwnPropertyNames\n\ndelete ES2018.IsPropertyDescriptor; // not an actual abstract operation\n\nmodule.exports = ES2018;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\n/* eslint complexity: [2, 17], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar ES2016 = require('./es2016');\nvar assign = require('./helpers/assign');\nvar forEach = require('./helpers/forEach');\nvar callBind = require('./helpers/callBind');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar callBound = require('./helpers/callBound');\nvar $isEnumerable = callBound('Object.prototype.propertyIsEnumerable');\nvar $pushApply = callBind.apply(GetIntrinsic('%Array.prototype.push%'));\nvar $arrayPush = callBound('Array.prototype.push');\n\nvar ES2017 = assign(assign({}, ES2016), {\n\tToIndex: function ToIndex(value) {\n\t\tif (typeof value === 'undefined') {\n\t\t\treturn 0;\n\t\t}\n\t\tvar integerIndex = this.ToInteger(value);\n\t\tif (integerIndex < 0) {\n\t\t\tthrow new RangeError('index must be >= 0');\n\t\t}\n\t\tvar index = this.ToLength(integerIndex);\n\t\tif (!this.SameValueZero(integerIndex, index)) {\n\t\t\tthrow new RangeError('index must be >= 0 and < 2 ** 53 - 1');\n\t\t}\n\t\treturn index;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/8.0/#sec-enumerableownproperties\n\tEnumerableOwnProperties: function EnumerableOwnProperties(O, kind) {\n\t\tvar keys = ES2016.EnumerableOwnNames(O);\n\t\tif (kind === 'key') {\n\t\t\treturn keys;\n\t\t}\n\t\tif (kind === 'value' || kind === 'key+value') {\n\t\t\tvar results = [];\n\t\t\tforEach(keys, function (key) {\n\t\t\t\tif ($isEnumerable(O, key)) {\n\t\t\t\t\t$pushApply(results, [\n\t\t\t\t\t\tkind === 'value' ? O[key] : [key, O[key]]\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn results;\n\t\t}\n\t\tthrow new $TypeError('Assertion failed: \"kind\" is not \"key\", \"value\", or \"key+value\": ' + kind);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/8.0/#sec-iterabletolist\n\tIterableToList: function IterableToList(items, method) {\n\t\tvar iterator = this.GetIterator(items, method);\n\t\tvar values = [];\n\t\tvar next = true;\n\t\twhile (next) {\n\t\t\tnext = this.IteratorStep(iterator);\n\t\t\tif (next) {\n\t\t\t\tvar nextValue = this.IteratorValue(next);\n\t\t\t\t$arrayPush(values, nextValue);\n\t\t\t}\n\t\t}\n\t\treturn values;\n\t}\n});\n\ndelete ES2017.EnumerableOwnNames; // replaced with EnumerableOwnProperties\ndelete ES2017.IterableToArrayLike; // replaced with IterableToList\n\nmodule.exports = ES2017;\n","'use strict';\n\nvar ES2015 = require('./es2015');\nvar GetIntrinsic = require('./GetIntrinsic');\nvar assign = require('./helpers/assign');\nvar $setProto = require('./helpers/setProto');\n\nvar callBound = require('./helpers/callBound');\nvar getIteratorMethod = require('./helpers/getIteratorMethod');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $arrayPush = callBound('Array.prototype.push');\nvar $getProto = require('./helpers/getProto');\n\nvar ES2016 = assign(assign({}, ES2015), {\n\t// https://www.ecma-international.org/ecma-262/7.0/#sec-samevaluenonnumber\n\tSameValueNonNumber: function SameValueNonNumber(x, y) {\n\t\tif (typeof x === 'number' || typeof x !== typeof y) {\n\t\t\tthrow new TypeError('SameValueNonNumber requires two non-number values of the same type.');\n\t\t}\n\t\treturn this.SameValue(x, y);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/7.0/#sec-iterabletoarraylike\n\tIterableToArrayLike: function IterableToArrayLike(items) {\n\t\tvar usingIterator = getIteratorMethod(this, items);\n\t\tif (typeof usingIterator !== 'undefined') {\n\t\t\tvar iterator = this.GetIterator(items, usingIterator);\n\t\t\tvar values = [];\n\t\t\tvar next = true;\n\t\t\twhile (next) {\n\t\t\t\tnext = this.IteratorStep(iterator);\n\t\t\t\tif (next) {\n\t\t\t\t\tvar nextValue = this.IteratorValue(next);\n\t\t\t\t\t$arrayPush(values, nextValue);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn values;\n\t\t}\n\n\t\treturn this.ToObject(items);\n\t},\n\n\t// https://ecma-international.org/ecma-262/7.0/#sec-ordinarygetprototypeof\n\tOrdinaryGetPrototypeOf: function (O) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: O must be an Object');\n\t\t}\n\t\tif (!$getProto) {\n\t\t\tthrow new $TypeError('This environment does not support fetching prototypes.');\n\t\t}\n\t\treturn $getProto(O);\n\t},\n\n\t// https://ecma-international.org/ecma-262/7.0/#sec-ordinarysetprototypeof\n\tOrdinarySetPrototypeOf: function (O, V) {\n\t\tif (this.Type(V) !== 'Object' && this.Type(V) !== 'Null') {\n\t\t\tthrow new $TypeError('Assertion failed: V must be Object or Null');\n\t\t}\n\t\t/*\n\t\tvar extensible = this.IsExtensible(O);\n\t\tvar current = this.OrdinaryGetPrototypeOf(O);\n\t\tif (this.SameValue(V, current)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!extensible) {\n\t\t\treturn false;\n\t\t}\n\t\t*/\n\t\ttry {\n\t\t\t$setProto(O, V);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.OrdinaryGetPrototypeOf(O) === V;\n\t\t/*\n\t\tvar p = V;\n\t\tvar done = false;\n\t\twhile (!done) {\n\t\t\tif (p === null) {\n\t\t\t\tdone = true;\n\t\t\t} else if (this.SameValue(p, O)) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tif (wat) {\n\t\t\t\t\tdone = true;\n\t\t\t\t} else {\n\t\t\t\t\tp = p.[[Prototype]];\n\t\t\t\t}\n\t\t\t}\n\t\t }\n\t\t O.[[Prototype]] = V;\n\t\t return true;\n\t\t */\n\t}\n});\n\nmodule.exports = ES2016;\n","'use strict';\n\nvar has = require('has');\nvar toPrimitive = require('es-to-primitive/es6');\nvar keys = require('object-keys');\nvar inspect = require('object-inspect');\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $RangeError = GetIntrinsic('%RangeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\nvar $Array = GetIntrinsic('%Array%');\nvar $ArrayPrototype = $Array.prototype;\nvar $String = GetIntrinsic('%String%');\nvar $Object = GetIntrinsic('%Object%');\nvar $Number = GetIntrinsic('%Number%');\nvar $Symbol = GetIntrinsic('%Symbol%', true);\nvar $RegExp = GetIntrinsic('%RegExp%');\nvar $Date = GetIntrinsic('%Date%');\nvar $Function = GetIntrinsic('%Function%');\nvar $preventExtensions = $Object.preventExtensions;\n\nvar hasSymbols = require('has-symbols')();\n\nvar assertRecord = require('./helpers/assertRecord');\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\nvar MAX_ARRAY_LENGTH = Math.pow(2, 32) - 1;\nvar MAX_SAFE_INTEGER = require('./helpers/maxSafeInteger');\n\nvar assign = require('./helpers/assign');\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\nvar isPrimitive = require('./helpers/isPrimitive');\nvar forEach = require('./helpers/forEach');\nvar every = require('./helpers/every');\nvar isSamePropertyDescriptor = require('./helpers/isSamePropertyDescriptor');\nvar isPropertyDescriptor = require('./helpers/isPropertyDescriptor');\nvar parseInteger = parseInt;\nvar callBound = require('./helpers/callBound');\nvar regexTester = require('./helpers/regexTester');\nvar getIteratorMethod = require('./helpers/getIteratorMethod');\nvar getSymbolDescription = require('./helpers/getSymbolDescription');\n\nvar $PromiseThen = callBound('Promise.prototype.then', true);\nvar arraySlice = callBound('Array.prototype.slice');\nvar strSlice = callBound('String.prototype.slice');\nvar $indexOf = callBound('Array.prototype.indexOf');\nvar $push = callBound('Array.prototype.push');\n\nvar isBinary = regexTester(/^0b[01]+$/i);\nvar isOctal = regexTester(/^0o[0-7]+$/i);\nvar isDigit = regexTester(/^[0-9]$/);\nvar regexExec = callBound('RegExp.prototype.exec');\nvar nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\nvar nonWSregex = new $RegExp('[' + nonWS + ']', 'g');\nvar hasNonWS = regexTester(nonWSregex);\nvar isInvalidHexLiteral = regexTester(/^[-+]0x[0-9a-f]+$/i);\nvar $charCodeAt = callBound('String.prototype.charCodeAt');\nvar $isEnumerable = callBound('Object.prototype.propertyIsEnumerable');\n\nvar toStr = callBound('Object.prototype.toString');\n\nvar $NumberValueOf = callBound('Number.prototype.valueOf');\nvar $BooleanValueOf = callBound('Boolean.prototype.valueOf');\nvar $StringValueOf = callBound('String.prototype.valueOf');\nvar $DateValueOf = callBound('Date.prototype.valueOf');\nvar $SymbolToString = callBound('Symbol.prototype.toString', true);\n\nvar $floor = Math.floor;\nvar $abs = Math.abs;\n\nvar $ObjectCreate = $Object.create;\nvar $gOPD = $Object.getOwnPropertyDescriptor;\nvar $gOPN = $Object.getOwnPropertyNames;\nvar $gOPS = $Object.getOwnPropertySymbols;\nvar $isExtensible = $Object.isExtensible;\nvar $defineProperty = $Object.defineProperty;\nvar $setProto = require('./helpers/setProto');\n\nvar DefineOwnProperty = function DefineOwnProperty(ES, O, P, desc) {\n\tif (!$defineProperty) {\n\t\tif (!ES.IsDataDescriptor(desc)) {\n\t\t\t// ES3 does not support getters/setters\n\t\t\treturn false;\n\t\t}\n\t\tif (!desc['[[Configurable]]'] || !desc['[[Writable]]']) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// fallback for ES3\n\t\tif (P in O && $isEnumerable(O, P) !== !!desc['[[Enumerable]]']) {\n\t\t\t// a non-enumerable existing property\n\t\t\treturn false;\n\t\t}\n\n\t\t// property does not exist at all, or exists but is enumerable\n\t\tvar V = desc['[[Value]]'];\n\t\tO[P] = V; // will use [[Define]]\n\t\treturn ES.SameValue(O[P], V);\n\t}\n\t$defineProperty(O, P, ES.FromPropertyDescriptor(desc));\n\treturn true;\n};\n\n// whitespace from: https://es5.github.io/#x15.5.4.20\n// implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\nvar ws = [\n\t'\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n\t'\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n\t'\\u2029\\uFEFF'\n].join('');\nvar trimRegex = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\nvar $replace = callBound('String.prototype.replace');\nvar trim = function (value) {\n\treturn $replace(value, trimRegex, '');\n};\n\nvar ES5 = require('./es5');\n\nvar hasRegExpMatcher = require('is-regex');\n\n// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-abstract-operations\nvar ES6 = assign(assign({}, ES5), {\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-call-f-v-args\n\tCall: function Call(F, V) {\n\t\tvar args = arguments.length > 2 ? arguments[2] : [];\n\t\tif (!this.IsCallable(F)) {\n\t\t\tthrow new $TypeError(inspect(F) + ' is not a function');\n\t\t}\n\t\treturn F.apply(V, args);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toprimitive\n\tToPrimitive: toPrimitive,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toboolean\n\t// ToBoolean: ES5.ToBoolean,\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-tonumber\n\tToNumber: function ToNumber(argument) {\n\t\tvar value = isPrimitive(argument) ? argument : toPrimitive(argument, $Number);\n\t\tif (typeof value === 'symbol') {\n\t\t\tthrow new $TypeError('Cannot convert a Symbol value to a number');\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\tif (isBinary(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 2));\n\t\t\t} else if (isOctal(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 8));\n\t\t\t} else if (hasNonWS(value) || isInvalidHexLiteral(value)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar trimmed = trim(value);\n\t\t\t\tif (trimmed !== value) {\n\t\t\t\t\treturn this.ToNumber(trimmed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn $Number(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tointeger\n\t// ToInteger: ES5.ToNumber,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint32\n\t// ToInt32: ES5.ToInt32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint32\n\t// ToUint32: ES5.ToUint32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint16\n\tToInt16: function ToInt16(argument) {\n\t\tvar int16bit = this.ToUint16(argument);\n\t\treturn int16bit >= 0x8000 ? int16bit - 0x10000 : int16bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint16\n\t// ToUint16: ES5.ToUint16,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint8\n\tToInt8: function ToInt8(argument) {\n\t\tvar int8bit = this.ToUint8(argument);\n\t\treturn int8bit >= 0x80 ? int8bit - 0x100 : int8bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8\n\tToUint8: function ToUint8(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * $floor($abs(number));\n\t\treturn mod(posInt, 0x100);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8clamp\n\tToUint8Clamp: function ToUint8Clamp(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number <= 0) { return 0; }\n\t\tif (number >= 0xFF) { return 0xFF; }\n\t\tvar f = $floor(argument);\n\t\tif (f + 0.5 < number) { return f + 1; }\n\t\tif (number < f + 0.5) { return f; }\n\t\tif (f % 2 !== 0) { return f + 1; }\n\t\treturn f;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tostring\n\tToString: function ToString(argument) {\n\t\tif (typeof argument === 'symbol') {\n\t\t\tthrow new $TypeError('Cannot convert a Symbol value to a string');\n\t\t}\n\t\treturn $String(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toobject\n\tToObject: function ToObject(value) {\n\t\tthis.RequireObjectCoercible(value);\n\t\treturn $Object(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-topropertykey\n\tToPropertyKey: function ToPropertyKey(argument) {\n\t\tvar key = this.ToPrimitive(argument, $String);\n\t\treturn typeof key === 'symbol' ? key : this.ToString(key);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n\tToLength: function ToLength(argument) {\n\t\tvar len = this.ToInteger(argument);\n\t\tif (len <= 0) { return 0; } // includes converting -0 to +0\n\t\tif (len > MAX_SAFE_INTEGER) { return MAX_SAFE_INTEGER; }\n\t\treturn len;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-canonicalnumericindexstring\n\tCanonicalNumericIndexString: function CanonicalNumericIndexString(argument) {\n\t\tif (toStr(argument) !== '[object String]') {\n\t\t\tthrow new $TypeError('must be a string');\n\t\t}\n\t\tif (argument === '-0') { return -0; }\n\t\tvar n = this.ToNumber(argument);\n\t\tif (this.SameValue(this.ToString(n), argument)) { return n; }\n\t\treturn void 0;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-requireobjectcoercible\n\tRequireObjectCoercible: ES5.CheckObjectCoercible,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isarray\n\tIsArray: $Array.isArray || function IsArray(argument) {\n\t\treturn toStr(argument) === '[object Array]';\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-iscallable\n\t// IsCallable: ES5.IsCallable,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isconstructor\n\tIsConstructor: function IsConstructor(argument) {\n\t\treturn typeof argument === 'function' && !!argument.prototype; // unfortunately there's no way to truly check this without try/catch `new argument` or Proxy\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isextensible-o\n\tIsExtensible: $preventExtensions\n\t\t? function IsExtensible(obj) {\n\t\t\tif (isPrimitive(obj)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn $isExtensible(obj);\n\t\t}\n\t\t: function isExtensible(obj) { return true; }, // eslint-disable-line no-unused-vars\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isinteger\n\tIsInteger: function IsInteger(argument) {\n\t\tif (typeof argument !== 'number' || $isNaN(argument) || !$isFinite(argument)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar abs = $abs(argument);\n\t\treturn $floor(abs) === abs;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ispropertykey\n\tIsPropertyKey: function IsPropertyKey(argument) {\n\t\treturn typeof argument === 'string' || typeof argument === 'symbol';\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-isregexp\n\tIsRegExp: function IsRegExp(argument) {\n\t\tif (!argument || typeof argument !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols) {\n\t\t\tvar isRegExp = argument[$Symbol.match];\n\t\t\tif (typeof isRegExp !== 'undefined') {\n\t\t\t\treturn ES5.ToBoolean(isRegExp);\n\t\t\t}\n\t\t}\n\t\treturn hasRegExpMatcher(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevalue\n\t// SameValue: ES5.SameValue,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero\n\tSameValueZero: function SameValueZero(x, y) {\n\t\treturn (x === y) || ($isNaN(x) && $isNaN(y));\n\t},\n\n\t/**\n\t * 7.3.2 GetV (V, P)\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let O be ToObject(V).\n\t * 3. ReturnIfAbrupt(O).\n\t * 4. Return O.[[Get]](P, V).\n\t */\n\tGetV: function GetV(V, P) {\n\t\t// 7.3.2.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.2.2-3\n\t\tvar O = this.ToObject(V);\n\n\t\t// 7.3.2.4\n\t\treturn O[P];\n\t},\n\n\t/**\n\t * 7.3.9 - https://ecma-international.org/ecma-262/6.0/#sec-getmethod\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let func be GetV(O, P).\n\t * 3. ReturnIfAbrupt(func).\n\t * 4. If func is either undefined or null, return undefined.\n\t * 5. If IsCallable(func) is false, throw a TypeError exception.\n\t * 6. Return func.\n\t */\n\tGetMethod: function GetMethod(O, P) {\n\t\t// 7.3.9.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.9.2\n\t\tvar func = this.GetV(O, P);\n\n\t\t// 7.3.9.4\n\t\tif (func == null) {\n\t\t\treturn void 0;\n\t\t}\n\n\t\t// 7.3.9.5\n\t\tif (!this.IsCallable(func)) {\n\t\t\tthrow new $TypeError(P + 'is not a function');\n\t\t}\n\n\t\t// 7.3.9.6\n\t\treturn func;\n\t},\n\n\t/**\n\t * 7.3.1 Get (O, P) - https://ecma-international.org/ecma-262/6.0/#sec-get-o-p\n\t * 1. Assert: Type(O) is Object.\n\t * 2. Assert: IsPropertyKey(P) is true.\n\t * 3. Return O.[[Get]](P, O).\n\t */\n\tGet: function Get(O, P) {\n\t\t// 7.3.1.1\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\t// 7.3.1.2\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true, got ' + inspect(P));\n\t\t}\n\t\t// 7.3.1.3\n\t\treturn O[P];\n\t},\n\n\tType: function Type(x) {\n\t\tif (typeof x === 'symbol') {\n\t\t\treturn 'Symbol';\n\t\t}\n\t\treturn ES5.Type(x);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-speciesconstructor\n\tSpeciesConstructor: function SpeciesConstructor(O, defaultConstructor) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tvar C = O.constructor;\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.Type(C) !== 'Object') {\n\t\t\tthrow new $TypeError('O.constructor is not an Object');\n\t\t}\n\t\tvar S = hasSymbols && $Symbol.species ? C[$Symbol.species] : void 0;\n\t\tif (S == null) {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.IsConstructor(S)) {\n\t\t\treturn S;\n\t\t}\n\t\tthrow new $TypeError('no constructor found');\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-frompropertydescriptor\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tvar obj = {};\n\t\tif ('[[Value]]' in Desc) {\n\t\t\tobj.value = Desc['[[Value]]'];\n\t\t}\n\t\tif ('[[Writable]]' in Desc) {\n\t\t\tobj.writable = Desc['[[Writable]]'];\n\t\t}\n\t\tif ('[[Get]]' in Desc) {\n\t\t\tobj.get = Desc['[[Get]]'];\n\t\t}\n\t\tif ('[[Set]]' in Desc) {\n\t\t\tobj.set = Desc['[[Set]]'];\n\t\t}\n\t\tif ('[[Enumerable]]' in Desc) {\n\t\t\tobj.enumerable = Desc['[[Enumerable]]'];\n\t\t}\n\t\tif ('[[Configurable]]' in Desc) {\n\t\t\tobj.configurable = Desc['[[Configurable]]'];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-completepropertydescriptor\n\tCompletePropertyDescriptor: function CompletePropertyDescriptor(Desc) {\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (this.IsGenericDescriptor(Desc) || this.IsDataDescriptor(Desc)) {\n\t\t\tif (!has(Desc, '[[Value]]')) {\n\t\t\t\tDesc['[[Value]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Writable]]')) {\n\t\t\t\tDesc['[[Writable]]'] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!has(Desc, '[[Get]]')) {\n\t\t\t\tDesc['[[Get]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Set]]')) {\n\t\t\t\tDesc['[[Set]]'] = void 0;\n\t\t\t}\n\t\t}\n\t\tif (!has(Desc, '[[Enumerable]]')) {\n\t\t\tDesc['[[Enumerable]]'] = false;\n\t\t}\n\t\tif (!has(Desc, '[[Configurable]]')) {\n\t\t\tDesc['[[Configurable]]'] = false;\n\t\t}\n\t\treturn Desc;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-set-o-p-v-throw\n\tSet: function Set(O, P, V, Throw) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('P must be a Property Key');\n\t\t}\n\t\tif (this.Type(Throw) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Throw must be a Boolean');\n\t\t}\n\t\tif (Throw) {\n\t\t\tO[P] = V;\n\t\t\treturn true;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tO[P] = V;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-hasownproperty\n\tHasOwnProperty: function HasOwnProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('P must be a Property Key');\n\t\t}\n\t\treturn has(O, P);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-hasproperty\n\tHasProperty: function HasProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('P must be a Property Key');\n\t\t}\n\t\treturn P in O;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-isconcatspreadable\n\tIsConcatSpreadable: function IsConcatSpreadable(O) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols && typeof $Symbol.isConcatSpreadable === 'symbol') {\n\t\t\tvar spreadable = this.Get(O, Symbol.isConcatSpreadable);\n\t\t\tif (typeof spreadable !== 'undefined') {\n\t\t\t\treturn this.ToBoolean(spreadable);\n\t\t\t}\n\t\t}\n\t\treturn this.IsArray(O);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-invoke\n\tInvoke: function Invoke(O, P) {\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('P must be a Property Key');\n\t\t}\n\t\tvar argumentsList = arraySlice(arguments, 2);\n\t\tvar func = this.GetV(O, P);\n\t\treturn this.Call(func, O, argumentsList);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-getiterator\n\tGetIterator: function GetIterator(obj, method) {\n\t\tvar actualMethod = method;\n\t\tif (arguments.length < 2) {\n\t\t\tactualMethod = getIteratorMethod(this, obj);\n\t\t}\n\t\tvar iterator = this.Call(actualMethod, obj);\n\t\tif (this.Type(iterator) !== 'Object') {\n\t\t\tthrow new $TypeError('iterator must return an object');\n\t\t}\n\n\t\treturn iterator;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratornext\n\tIteratorNext: function IteratorNext(iterator, value) {\n\t\tvar result = this.Invoke(iterator, 'next', arguments.length < 2 ? [] : [value]);\n\t\tif (this.Type(result) !== 'Object') {\n\t\t\tthrow new $TypeError('iterator next must return an object');\n\t\t}\n\t\treturn result;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratorcomplete\n\tIteratorComplete: function IteratorComplete(iterResult) {\n\t\tif (this.Type(iterResult) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(iterResult) is not Object');\n\t\t}\n\t\treturn this.ToBoolean(this.Get(iterResult, 'done'));\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratorvalue\n\tIteratorValue: function IteratorValue(iterResult) {\n\t\tif (this.Type(iterResult) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(iterResult) is not Object');\n\t\t}\n\t\treturn this.Get(iterResult, 'value');\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratorstep\n\tIteratorStep: function IteratorStep(iterator) {\n\t\tvar result = this.IteratorNext(iterator);\n\t\tvar done = this.IteratorComplete(result);\n\t\treturn done === true ? false : result;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-iteratorclose\n\tIteratorClose: function IteratorClose(iterator, completion) {\n\t\tif (this.Type(iterator) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(iterator) is not Object');\n\t\t}\n\t\tif (!this.IsCallable(completion)) {\n\t\t\tthrow new $TypeError('Assertion failed: completion is not a thunk for a Completion Record');\n\t\t}\n\t\tvar completionThunk = completion;\n\n\t\tvar iteratorReturn = this.GetMethod(iterator, 'return');\n\n\t\tif (typeof iteratorReturn === 'undefined') {\n\t\t\treturn completionThunk();\n\t\t}\n\n\t\tvar completionRecord;\n\t\ttry {\n\t\t\tvar innerResult = this.Call(iteratorReturn, iterator, []);\n\t\t} catch (e) {\n\t\t\t// if we hit here, then \"e\" is the innerResult completion that needs re-throwing\n\n\t\t\t// if the completion is of type \"throw\", this will throw.\n\t\t\tcompletionRecord = completionThunk();\n\t\t\tcompletionThunk = null; // ensure it's not called twice.\n\n\t\t\t// if not, then return the innerResult completion\n\t\t\tthrow e;\n\t\t}\n\t\tcompletionRecord = completionThunk(); // if innerResult worked, then throw if the completion does\n\t\tcompletionThunk = null; // ensure it's not called twice.\n\n\t\tif (this.Type(innerResult) !== 'Object') {\n\t\t\tthrow new $TypeError('iterator .return must return an object');\n\t\t}\n\n\t\treturn completionRecord;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-createiterresultobject\n\tCreateIterResultObject: function CreateIterResultObject(value, done) {\n\t\tif (this.Type(done) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(done) is not Boolean');\n\t\t}\n\t\treturn {\n\t\t\tvalue: value,\n\t\t\tdone: done\n\t\t};\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-regexpexec\n\tRegExpExec: function RegExpExec(R, S) {\n\t\tif (this.Type(R) !== 'Object') {\n\t\t\tthrow new $TypeError('R must be an Object');\n\t\t}\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new $TypeError('S must be a String');\n\t\t}\n\t\tvar exec = this.Get(R, 'exec');\n\t\tif (this.IsCallable(exec)) {\n\t\t\tvar result = this.Call(exec, R, [S]);\n\t\t\tif (result === null || this.Type(result) === 'Object') {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tthrow new $TypeError('\"exec\" method must return `null` or an Object');\n\t\t}\n\t\treturn regexExec(R, S);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-arrayspeciescreate\n\tArraySpeciesCreate: function ArraySpeciesCreate(originalArray, length) {\n\t\tif (!this.IsInteger(length) || length < 0) {\n\t\t\tthrow new $TypeError('Assertion failed: length must be an integer >= 0');\n\t\t}\n\t\tvar len = length === 0 ? 0 : length;\n\t\tvar C;\n\t\tvar isArray = this.IsArray(originalArray);\n\t\tif (isArray) {\n\t\t\tC = this.Get(originalArray, 'constructor');\n\t\t\t// TODO: figure out how to make a cross-realm normal Array, a same-realm Array\n\t\t\t// if (this.IsConstructor(C)) {\n\t\t\t// \tif C is another realm's Array, C = undefined\n\t\t\t// \tObject.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(Array))) === null ?\n\t\t\t// }\n\t\t\tif (this.Type(C) === 'Object' && hasSymbols && $Symbol.species) {\n\t\t\t\tC = this.Get(C, $Symbol.species);\n\t\t\t\tif (C === null) {\n\t\t\t\t\tC = void 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn $Array(len);\n\t\t}\n\t\tif (!this.IsConstructor(C)) {\n\t\t\tthrow new $TypeError('C must be a constructor');\n\t\t}\n\t\treturn new C(len); // this.Construct(C, len);\n\t},\n\n\tCreateDataProperty: function CreateDataProperty(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\tvar oldDesc = $gOPD(O, P);\n\t\tvar extensible = oldDesc || this.IsExtensible(O);\n\t\tvar immutable = oldDesc && (!oldDesc.writable || !oldDesc.configurable);\n\t\tif (immutable || !extensible) {\n\t\t\treturn false;\n\t\t}\n\t\treturn DefineOwnProperty(this, O, P, {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Value]]': V,\n\t\t\t'[[Writable]]': true\n\t\t});\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-createdatapropertyorthrow\n\tCreateDataPropertyOrThrow: function CreateDataPropertyOrThrow(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\tvar success = this.CreateDataProperty(O, P, V);\n\t\tif (!success) {\n\t\t\tthrow new $TypeError('unable to create data property');\n\t\t}\n\t\treturn success;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-objectcreate\n\tObjectCreate: function ObjectCreate(proto, internalSlotsList) {\n\t\tif (proto !== null && this.Type(proto) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: proto must be null or an object');\n\t\t}\n\t\tvar slots = arguments.length < 2 ? [] : internalSlotsList;\n\t\tif (slots.length > 0) {\n\t\t\tthrow new $SyntaxError('es-abstract does not yet support internal slots');\n\t\t}\n\n\t\tif (proto === null && !$ObjectCreate) {\n\t\t\tthrow new $SyntaxError('native Object.create support is required to create null objects');\n\t\t}\n\n\t\treturn $ObjectCreate(proto);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-advancestringindex\n\tAdvanceStringIndex: function AdvanceStringIndex(S, index, unicode) {\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new $TypeError('S must be a String');\n\t\t}\n\t\tif (!this.IsInteger(index) || index < 0 || index > MAX_SAFE_INTEGER) {\n\t\t\tthrow new $TypeError('Assertion failed: length must be an integer >= 0 and <= 2**53');\n\t\t}\n\t\tif (this.Type(unicode) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: unicode must be a Boolean');\n\t\t}\n\t\tif (!unicode) {\n\t\t\treturn index + 1;\n\t\t}\n\t\tvar length = S.length;\n\t\tif ((index + 1) >= length) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar first = $charCodeAt(S, index);\n\t\tif (first < 0xD800 || first > 0xDBFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar second = $charCodeAt(S, index + 1);\n\t\tif (second < 0xDC00 || second > 0xDFFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\treturn index + 2;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-createmethodproperty\n\tCreateMethodProperty: function CreateMethodProperty(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\tvar newDesc = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': false,\n\t\t\t'[[Value]]': V,\n\t\t\t'[[Writable]]': true\n\t\t};\n\t\treturn DefineOwnProperty(this, O, P, newDesc);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-definepropertyorthrow\n\tDefinePropertyOrThrow: function DefinePropertyOrThrow(O, P, desc) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\tvar Desc = isPropertyDescriptor(this, desc) ? desc : this.ToPropertyDescriptor(desc);\n\t\tif (!isPropertyDescriptor(this, Desc)) {\n\t\t\tthrow new $TypeError('Assertion failed: Desc is not a valid Property Descriptor');\n\t\t}\n\n\t\treturn DefineOwnProperty(this, O, P, Desc);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-deletepropertyorthrow\n\tDeletePropertyOrThrow: function DeletePropertyOrThrow(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\tvar success = delete O[P];\n\t\tif (!success) {\n\t\t\tthrow new TypeError('Attempt to delete property failed.');\n\t\t}\n\t\treturn success;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-enumerableownnames\n\tEnumerableOwnNames: function EnumerableOwnNames(O) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\n\t\treturn keys(O);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-number-prototype-object\n\tthisNumberValue: function thisNumberValue(value) {\n\t\tif (this.Type(value) === 'Number') {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn $NumberValueOf(value);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-boolean-prototype-object\n\tthisBooleanValue: function thisBooleanValue(value) {\n\t\tif (this.Type(value) === 'Boolean') {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn $BooleanValueOf(value);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-string-prototype-object\n\tthisStringValue: function thisStringValue(value) {\n\t\tif (this.Type(value) === 'String') {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn $StringValueOf(value);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-date-prototype-object\n\tthisTimeValue: function thisTimeValue(value) {\n\t\treturn $DateValueOf(value);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-setintegritylevel\n\tSetIntegrityLevel: function SetIntegrityLevel(O, level) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (level !== 'sealed' && level !== 'frozen') {\n\t\t\tthrow new $TypeError('Assertion failed: `level` must be `\"sealed\"` or `\"frozen\"`');\n\t\t}\n\t\tif (!$preventExtensions) {\n\t\t\tthrow new $SyntaxError('SetIntegrityLevel requires native `Object.preventExtensions` support');\n\t\t}\n\t\tvar status = $preventExtensions(O);\n\t\tif (!status) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!$gOPN) {\n\t\t\tthrow new $SyntaxError('SetIntegrityLevel requires native `Object.getOwnPropertyNames` support');\n\t\t}\n\t\tvar theKeys = $gOPN(O);\n\t\tvar ES = this;\n\t\tif (level === 'sealed') {\n\t\t\tforEach(theKeys, function (k) {\n\t\t\t\tES.DefinePropertyOrThrow(O, k, { configurable: false });\n\t\t\t});\n\t\t} else if (level === 'frozen') {\n\t\t\tforEach(theKeys, function (k) {\n\t\t\t\tvar currentDesc = $gOPD(O, k);\n\t\t\t\tif (typeof currentDesc !== 'undefined') {\n\t\t\t\t\tvar desc;\n\t\t\t\t\tif (ES.IsAccessorDescriptor(ES.ToPropertyDescriptor(currentDesc))) {\n\t\t\t\t\t\tdesc = { configurable: false };\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdesc = { configurable: false, writable: false };\n\t\t\t\t\t}\n\t\t\t\t\tES.DefinePropertyOrThrow(O, k, desc);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-testintegritylevel\n\tTestIntegrityLevel: function TestIntegrityLevel(O, level) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (level !== 'sealed' && level !== 'frozen') {\n\t\t\tthrow new $TypeError('Assertion failed: `level` must be `\"sealed\"` or `\"frozen\"`');\n\t\t}\n\t\tvar status = this.IsExtensible(O);\n\t\tif (status) {\n\t\t\treturn false;\n\t\t}\n\t\tvar theKeys = $gOPN(O);\n\t\tvar ES = this;\n\t\treturn theKeys.length === 0 || every(theKeys, function (k) {\n\t\t\tvar currentDesc = $gOPD(O, k);\n\t\t\tif (typeof currentDesc !== 'undefined') {\n\t\t\t\tif (currentDesc.configurable) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (level === 'frozen' && ES.IsDataDescriptor(ES.ToPropertyDescriptor(currentDesc)) && currentDesc.writable) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ordinaryhasinstance\n\tOrdinaryHasInstance: function OrdinaryHasInstance(C, O) {\n\t\tif (this.IsCallable(C) === false) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar P = this.Get(C, 'prototype');\n\t\tif (this.Type(P) !== 'Object') {\n\t\t\tthrow new $TypeError('OrdinaryHasInstance called on an object with an invalid prototype property.');\n\t\t}\n\t\treturn O instanceof C;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ordinaryhasproperty\n\tOrdinaryHasProperty: function OrdinaryHasProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: P must be a Property Key');\n\t\t}\n\t\treturn P in O;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-instanceofoperator\n\tInstanceofOperator: function InstanceofOperator(O, C) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tvar instOfHandler = hasSymbols && $Symbol.hasInstance ? this.GetMethod(C, $Symbol.hasInstance) : void 0;\n\t\tif (typeof instOfHandler !== 'undefined') {\n\t\t\treturn this.ToBoolean(this.Call(instOfHandler, C, [O]));\n\t\t}\n\t\tif (!this.IsCallable(C)) {\n\t\t\tthrow new $TypeError('`C` is not Callable');\n\t\t}\n\t\treturn this.OrdinaryHasInstance(C, O);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ispromise\n\tIsPromise: function IsPromise(x) {\n\t\tif (this.Type(x) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (!$PromiseThen) { // Promises are not supported\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\t$PromiseThen(x); // throws if not a promise\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-abstract-equality-comparison\n\t'Abstract Equality Comparison': function AbstractEqualityComparison(x, y) {\n\t\tvar xType = this.Type(x);\n\t\tvar yType = this.Type(y);\n\t\tif (xType === yType) {\n\t\t\treturn x === y; // ES6+ specified this shortcut anyways.\n\t\t}\n\t\tif (x == null && y == null) {\n\t\t\treturn true;\n\t\t}\n\t\tif (xType === 'Number' && yType === 'String') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif (xType === 'String' && yType === 'Number') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (xType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (yType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif ((xType === 'String' || xType === 'Number' || xType === 'Symbol') && yType === 'Object') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToPrimitive(y));\n\t\t}\n\t\tif (xType === 'Object' && (yType === 'String' || yType === 'Number' || yType === 'Symbol')) {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToPrimitive(x), y);\n\t\t}\n\t\treturn false;\n\t},\n\n\t// eslint-disable-next-line max-lines-per-function, max-statements, id-length, max-params\n\tValidateAndApplyPropertyDescriptor: function ValidateAndApplyPropertyDescriptor(O, P, extensible, Desc, current) {\n\t\t// this uses the ES2017+ logic, since it fixes a number of bugs in the ES2015 logic.\n\t\tvar oType = this.Type(O);\n\t\tif (oType !== 'Undefined' && oType !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: O must be undefined or an Object');\n\t\t}\n\t\tif (this.Type(extensible) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: extensible must be a Boolean');\n\t\t}\n\t\tif (!isPropertyDescriptor(this, Desc)) {\n\t\t\tthrow new $TypeError('Assertion failed: Desc must be a Property Descriptor');\n\t\t}\n\t\tif (this.Type(current) !== 'Undefined' && !isPropertyDescriptor(this, current)) {\n\t\t\tthrow new $TypeError('Assertion failed: current must be a Property Descriptor, or undefined');\n\t\t}\n\t\tif (oType !== 'Undefined' && !this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: if O is not undefined, P must be a Property Key');\n\t\t}\n\t\tif (this.Type(current) === 'Undefined') {\n\t\t\tif (!extensible) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.IsGenericDescriptor(Desc) || this.IsDataDescriptor(Desc)) {\n\t\t\t\tif (oType !== 'Undefined') {\n\t\t\t\t\tDefineOwnProperty(this, O, P, {\n\t\t\t\t\t\t'[[Configurable]]': Desc['[[Configurable]]'],\n\t\t\t\t\t\t'[[Enumerable]]': Desc['[[Enumerable]]'],\n\t\t\t\t\t\t'[[Value]]': Desc['[[Value]]'],\n\t\t\t\t\t\t'[[Writable]]': Desc['[[Writable]]']\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!this.IsAccessorDescriptor(Desc)) {\n\t\t\t\t\tthrow new $TypeError('Assertion failed: Desc is not an accessor descriptor');\n\t\t\t\t}\n\t\t\t\tif (oType !== 'Undefined') {\n\t\t\t\t\treturn DefineOwnProperty(this, O, P, Desc);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tif (this.IsGenericDescriptor(Desc) && !('[[Configurable]]' in Desc) && !('[[Enumerable]]' in Desc)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (isSamePropertyDescriptor(this, Desc, current)) {\n\t\t\treturn true; // removed by ES2017, but should still be correct\n\t\t}\n\t\t// \"if every field in Desc is absent, return true\" can't really match the assertion that it's a Property Descriptor\n\t\tif (!current['[[Configurable]]']) {\n\t\t\tif (Desc['[[Configurable]]']) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ('[[Enumerable]]' in Desc && !Desc['[[Enumerable]]'] === !!current['[[Enumerable]]']) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (this.IsGenericDescriptor(Desc)) {\n\t\t\t// no further validation is required.\n\t\t} else if (this.IsDataDescriptor(current) !== this.IsDataDescriptor(Desc)) {\n\t\t\tif (!current['[[Configurable]]']) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.IsDataDescriptor(current)) {\n\t\t\t\tif (oType !== 'Undefined') {\n\t\t\t\t\tDefineOwnProperty(this, O, P, {\n\t\t\t\t\t\t'[[Configurable]]': current['[[Configurable]]'],\n\t\t\t\t\t\t'[[Enumerable]]': current['[[Enumerable]]'],\n\t\t\t\t\t\t'[[Get]]': undefined\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (oType !== 'Undefined') {\n\t\t\t\tDefineOwnProperty(this, O, P, {\n\t\t\t\t\t'[[Configurable]]': current['[[Configurable]]'],\n\t\t\t\t\t'[[Enumerable]]': current['[[Enumerable]]'],\n\t\t\t\t\t'[[Value]]': undefined\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (this.IsDataDescriptor(current) && this.IsDataDescriptor(Desc)) {\n\t\t\tif (!current['[[Configurable]]'] && !current['[[Writable]]']) {\n\t\t\t\tif ('[[Writable]]' in Desc && Desc['[[Writable]]']) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ('[[Value]]' in Desc && !this.SameValue(Desc['[[Value]]'], current['[[Value]]'])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (this.IsAccessorDescriptor(current) && this.IsAccessorDescriptor(Desc)) {\n\t\t\tif (!current['[[Configurable]]']) {\n\t\t\t\tif ('[[Set]]' in Desc && !this.SameValue(Desc['[[Set]]'], current['[[Set]]'])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ('[[Get]]' in Desc && !this.SameValue(Desc['[[Get]]'], current['[[Get]]'])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new $TypeError('Assertion failed: current and Desc are not both data, both accessors, or one accessor and one data.');\n\t\t}\n\t\tif (oType !== 'Undefined') {\n\t\t\treturn DefineOwnProperty(this, O, P, Desc);\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ordinarydefineownproperty\n\tOrdinaryDefineOwnProperty: function OrdinaryDefineOwnProperty(O, P, Desc) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: P must be a Property Key');\n\t\t}\n\t\tif (!isPropertyDescriptor(this, Desc)) {\n\t\t\tthrow new $TypeError('Assertion failed: Desc must be a Property Descriptor');\n\t\t}\n\t\tvar desc = $gOPD(O, P);\n\t\tvar current = desc && this.ToPropertyDescriptor(desc);\n\t\tvar extensible = this.IsExtensible(O);\n\t\treturn this.ValidateAndApplyPropertyDescriptor(O, P, extensible, Desc, current);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-ordinarygetownproperty\n\tOrdinaryGetOwnProperty: function OrdinaryGetOwnProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new $TypeError('Assertion failed: P must be a Property Key');\n\t\t}\n\t\tif (!has(O, P)) {\n\t\t\treturn void 0;\n\t\t}\n\t\tif (!$gOPD) {\n\t\t\t// ES3 fallback\n\t\t\tvar arrayLength = this.IsArray(O) && P === 'length';\n\t\t\tvar regexLastIndex = this.IsRegExp(O) && P === 'lastIndex';\n\t\t\treturn {\n\t\t\t\t'[[Configurable]]': !(arrayLength || regexLastIndex),\n\t\t\t\t'[[Enumerable]]': $isEnumerable(O, P),\n\t\t\t\t'[[Value]]': O[P],\n\t\t\t\t'[[Writable]]': true\n\t\t\t};\n\t\t}\n\t\treturn this.ToPropertyDescriptor($gOPD(O, P));\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-arraycreate\n\tArrayCreate: function ArrayCreate(length) {\n\t\tif (!this.IsInteger(length) || length < 0) {\n\t\t\tthrow new $TypeError('Assertion failed: `length` must be an integer Number >= 0');\n\t\t}\n\t\tif (length > MAX_ARRAY_LENGTH) {\n\t\t\tthrow new $RangeError('length is greater than (2**32 - 1)');\n\t\t}\n\t\tvar proto = arguments.length > 1 ? arguments[1] : $ArrayPrototype;\n\t\tvar A = []; // steps 5 - 7, and 9\n\t\tif (proto !== $ArrayPrototype) { // step 8\n\t\t\tif (!$setProto) {\n\t\t\t\tthrow new $SyntaxError('ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]');\n\t\t\t}\n\t\t\t$setProto(A, proto);\n\t\t}\n\t\tif (length !== 0) { // bypasses the need for step 2\n\t\t\tA.length = length;\n\t\t}\n\t\t/* step 10, the above as a shortcut for the below\n\t\tthis.OrdinaryDefineOwnProperty(A, 'length', {\n\t\t\t'[[Configurable]]': false,\n\t\t\t'[[Enumerable]]': false,\n\t\t\t'[[Value]]': length,\n\t\t\t'[[Writable]]': true\n\t\t});\n\t\t*/\n\t\treturn A;\n\t},\n\n\t// eslint-disable-next-line max-statements, max-lines-per-function\n\tArraySetLength: function ArraySetLength(A, Desc) {\n\t\tif (!this.IsArray(A)) {\n\t\t\tthrow new $TypeError('Assertion failed: A must be an Array');\n\t\t}\n\t\tif (!isPropertyDescriptor(this, Desc)) {\n\t\t\tthrow new $TypeError('Assertion failed: Desc must be a Property Descriptor');\n\t\t}\n\t\tif (!('[[Value]]' in Desc)) {\n\t\t\treturn this.OrdinaryDefineOwnProperty(A, 'length', Desc);\n\t\t}\n\t\tvar newLenDesc = assign({}, Desc);\n\t\tvar newLen = this.ToUint32(Desc['[[Value]]']);\n\t\tvar numberLen = this.ToNumber(Desc['[[Value]]']);\n\t\tif (newLen !== numberLen) {\n\t\t\tthrow new $RangeError('Invalid array length');\n\t\t}\n\t\tnewLenDesc['[[Value]]'] = newLen;\n\t\tvar oldLenDesc = this.OrdinaryGetOwnProperty(A, 'length');\n\t\tif (!this.IsDataDescriptor(oldLenDesc)) {\n\t\t\tthrow new $TypeError('Assertion failed: an array had a non-data descriptor on `length`');\n\t\t}\n\t\tvar oldLen = oldLenDesc['[[Value]]'];\n\t\tif (newLen >= oldLen) {\n\t\t\treturn this.OrdinaryDefineOwnProperty(A, 'length', newLenDesc);\n\t\t}\n\t\tif (!oldLenDesc['[[Writable]]']) {\n\t\t\treturn false;\n\t\t}\n\t\tvar newWritable;\n\t\tif (!('[[Writable]]' in newLenDesc) || newLenDesc['[[Writable]]']) {\n\t\t\tnewWritable = true;\n\t\t} else {\n\t\t\tnewWritable = false;\n\t\t\tnewLenDesc['[[Writable]]'] = true;\n\t\t}\n\t\tvar succeeded = this.OrdinaryDefineOwnProperty(A, 'length', newLenDesc);\n\t\tif (!succeeded) {\n\t\t\treturn false;\n\t\t}\n\t\twhile (newLen < oldLen) {\n\t\t\toldLen -= 1;\n\t\t\tvar deleteSucceeded = delete A[this.ToString(oldLen)];\n\t\t\tif (!deleteSucceeded) {\n\t\t\t\tnewLenDesc['[[Value]]'] = oldLen + 1;\n\t\t\t\tif (!newWritable) {\n\t\t\t\t\tnewLenDesc['[[Writable]]'] = false;\n\t\t\t\t\tthis.OrdinaryDefineOwnProperty(A, 'length', newLenDesc);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!newWritable) {\n\t\t\treturn this.OrdinaryDefineOwnProperty(A, 'length', { '[[Writable]]': false });\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-createhtml\n\tCreateHTML: function CreateHTML(string, tag, attribute, value) {\n\t\tif (this.Type(tag) !== 'String' || this.Type(attribute) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `tag` and `attribute` must be strings');\n\t\t}\n\t\tvar str = this.RequireObjectCoercible(string);\n\t\tvar S = this.ToString(str);\n\t\tvar p1 = '<' + tag;\n\t\tif (attribute !== '') {\n\t\t\tvar V = this.ToString(value);\n\t\t\tvar escapedV = $replace(V, /\\x22/g, '&quot;');\n\t\t\tp1 += '\\x20' + attribute + '\\x3D\\x22' + escapedV + '\\x22';\n\t\t}\n\t\treturn p1 + '>' + S + '</' + tag + '>';\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-getownpropertykeys\n\tGetOwnPropertyKeys: function GetOwnPropertyKeys(O, Type) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (Type === 'Symbol') {\n\t\t\treturn hasSymbols && $gOPS ? $gOPS(O) : [];\n\t\t}\n\t\tif (Type === 'String') {\n\t\t\tif (!$gOPN) {\n\t\t\t\treturn keys(O);\n\t\t\t}\n\t\t\treturn $gOPN(O);\n\t\t}\n\t\tthrow new $TypeError('Assertion failed: `Type` must be `\"String\"` or `\"Symbol\"`');\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-symboldescriptivestring\n\tSymbolDescriptiveString: function SymbolDescriptiveString(sym) {\n\t\tif (this.Type(sym) !== 'Symbol') {\n\t\t\tthrow new $TypeError('Assertion failed: `sym` must be a Symbol');\n\t\t}\n\t\treturn $SymbolToString(sym);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/6.0/#sec-getsubstitution\n\t// eslint-disable-next-line max-statements, max-params, max-lines-per-function\n\tGetSubstitution: function GetSubstitution(matched, str, position, captures, replacement) {\n\t\tif (this.Type(matched) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `matched` must be a String');\n\t\t}\n\t\tvar matchLength = matched.length;\n\n\t\tif (this.Type(str) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `str` must be a String');\n\t\t}\n\t\tvar stringLength = str.length;\n\n\t\tif (!this.IsInteger(position) || position < 0 || position > stringLength) {\n\t\t\tthrow new $TypeError('Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got ' + inspect(position));\n\t\t}\n\n\t\tvar ES = this;\n\t\tvar isStringOrHole = function (capture, index, arr) { return ES.Type(capture) === 'String' || !(index in arr); };\n\t\tif (!this.IsArray(captures) || !every(captures, isStringOrHole)) {\n\t\t\tthrow new $TypeError('Assertion failed: `captures` must be a List of Strings, got ' + inspect(captures));\n\t\t}\n\n\t\tif (this.Type(replacement) !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `replacement` must be a String');\n\t\t}\n\n\t\tvar tailPos = position + matchLength;\n\t\tvar m = captures.length;\n\n\t\tvar result = '';\n\t\tfor (var i = 0; i < replacement.length; i += 1) {\n\t\t\t// if this is a $, and it's not the end of the replacement\n\t\t\tvar current = replacement[i];\n\t\t\tvar isLast = (i + 1) >= replacement.length;\n\t\t\tvar nextIsLast = (i + 2) >= replacement.length;\n\t\t\tif (current === '$' && !isLast) {\n\t\t\t\tvar next = replacement[i + 1];\n\t\t\t\tif (next === '$') {\n\t\t\t\t\tresult += '$';\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === '&') {\n\t\t\t\t\tresult += matched;\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === '`') {\n\t\t\t\t\tresult += position === 0 ? '' : strSlice(str, 0, position - 1);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (next === \"'\") {\n\t\t\t\t\tresult += tailPos >= stringLength ? '' : strSlice(str, tailPos);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else {\n\t\t\t\t\tvar nextNext = nextIsLast ? null : replacement[i + 2];\n\t\t\t\t\tif (isDigit(next) && next !== '0' && (nextIsLast || !isDigit(nextNext))) {\n\t\t\t\t\t\t// $1 through $9, and not followed by a digit\n\t\t\t\t\t\tvar n = parseInteger(next, 10);\n\t\t\t\t\t\t// if (n > m, impl-defined)\n\t\t\t\t\t\tresult += (n <= m && this.Type(captures[n - 1]) === 'Undefined') ? '' : captures[n - 1];\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t} else if (isDigit(next) && (nextIsLast || isDigit(nextNext))) {\n\t\t\t\t\t\t// $00 through $99\n\t\t\t\t\t\tvar nn = next + nextNext;\n\t\t\t\t\t\tvar nnI = parseInteger(nn, 10) - 1;\n\t\t\t\t\t\t// if nn === '00' or nn > m, impl-defined\n\t\t\t\t\t\tresult += (nn <= m && this.Type(captures[nnI]) === 'Undefined') ? '' : captures[nnI];\n\t\t\t\t\t\ti += 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult += '$';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// the final $, or else not a $\n\t\t\t\tresult += replacement[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-todatestring\n\tToDateString: function ToDateString(tv) {\n\t\tif (this.Type(tv) !== 'Number') {\n\t\t\tthrow new $TypeError('Assertion failed: `tv` must be a Number');\n\t\t}\n\t\tif ($isNaN(tv)) {\n\t\t\treturn 'Invalid Date';\n\t\t}\n\t\treturn $Date(tv);\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-createlistfromarraylike\n\tCreateListFromArrayLike: function CreateListFromArrayLike(obj) {\n\t\tvar elementTypes = arguments.length > 1\n\t\t\t? arguments[1]\n\t\t\t: ['Undefined', 'Null', 'Boolean', 'String', 'Symbol', 'Number', 'Object'];\n\n\t\tif (this.Type(obj) !== 'Object') {\n\t\t\tthrow new $TypeError('Assertion failed: `obj` must be an Object');\n\t\t}\n\t\tif (!this.IsArray(elementTypes)) {\n\t\t\tthrow new $TypeError('Assertion failed: `elementTypes`, if provided, must be an array');\n\t\t}\n\t\tvar len = this.ToLength(this.Get(obj, 'length'));\n\t\tvar list = [];\n\t\tvar index = 0;\n\t\twhile (index < len) {\n\t\t\tvar indexName = this.ToString(index);\n\t\t\tvar next = this.Get(obj, indexName);\n\t\t\tvar nextType = this.Type(next);\n\t\t\tif ($indexOf(elementTypes, nextType) < 0) {\n\t\t\t\tthrow new $TypeError('item type ' + nextType + ' is not a valid elementType');\n\t\t\t}\n\t\t\t$push(list, next);\n\t\t\tindex += 1;\n\t\t}\n\t\treturn list;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-getprototypefromconstructor\n\tGetPrototypeFromConstructor: function GetPrototypeFromConstructor(constructor, intrinsicDefaultProto) {\n\t\tvar intrinsic = GetIntrinsic(intrinsicDefaultProto); // throws if not a valid intrinsic\n\t\tif (!this.IsConstructor(constructor)) {\n\t\t\tthrow new $TypeError('Assertion failed: `constructor` must be a constructor');\n\t\t}\n\t\tvar proto = this.Get(constructor, 'prototype');\n\t\tif (this.Type(proto) !== 'Object') {\n\t\t\tif (!(constructor instanceof $Function)) {\n\t\t\t\t// ignore other realms, for now\n\t\t\t\tthrow new $TypeError('cross-realm constructors not currently supported');\n\t\t\t}\n\t\t\tproto = intrinsic;\n\t\t}\n\t\treturn proto;\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-setfunctionname\n\tSetFunctionName: function SetFunctionName(F, name) {\n\t\tif (typeof F !== 'function') {\n\t\t\tthrow new $TypeError('Assertion failed: `F` must be a function');\n\t\t}\n\t\tif (!this.IsExtensible(F) || has(F, 'name')) {\n\t\t\tthrow new $TypeError('Assertion failed: `F` must be extensible, and must not have a `name` own property');\n\t\t}\n\t\tvar nameType = this.Type(name);\n\t\tif (nameType !== 'Symbol' && nameType !== 'String') {\n\t\t\tthrow new $TypeError('Assertion failed: `name` must be a Symbol or a String');\n\t\t}\n\t\tif (nameType === 'Symbol') {\n\t\t\tvar description = getSymbolDescription(name);\n\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\tname = typeof description === 'undefined' ? '' : '[' + description + ']';\n\t\t}\n\t\tif (arguments.length > 2) {\n\t\t\tvar prefix = arguments[2];\n\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\tname = prefix + ' ' + name;\n\t\t}\n\t\treturn this.DefinePropertyOrThrow(F, 'name', {\n\t\t\t'[[Value]]': name,\n\t\t\t'[[Writable]]': false,\n\t\t\t'[[Enumerable]]': false,\n\t\t\t'[[Configurable]]': true\n\t\t});\n\t}\n});\n\ndelete ES6.CheckObjectCoercible; // renamed in ES6 to RequireObjectCoercible\n\nmodule.exports = ES6;\n","'use strict';\n\nmodule.exports = require('./es2015');\n","'use strict';\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar isPrimitive = require('./helpers/isPrimitive');\nvar isCallable = require('is-callable');\nvar isDate = require('is-date-object');\nvar isSymbol = require('is-symbol');\n\nvar ordinaryToPrimitive = function OrdinaryToPrimitive(O, hint) {\n\tif (typeof O === 'undefined' || O === null) {\n\t\tthrow new TypeError('Cannot call method on ' + O);\n\t}\n\tif (typeof hint !== 'string' || (hint !== 'number' && hint !== 'string')) {\n\t\tthrow new TypeError('hint must be \"string\" or \"number\"');\n\t}\n\tvar methodNames = hint === 'string' ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\tvar method, result, i;\n\tfor (i = 0; i < methodNames.length; ++i) {\n\t\tmethod = O[methodNames[i]];\n\t\tif (isCallable(method)) {\n\t\t\tresult = method.call(O);\n\t\t\tif (isPrimitive(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\tthrow new TypeError('No default value');\n};\n\nvar GetMethod = function GetMethod(O, P) {\n\tvar func = O[P];\n\tif (func !== null && typeof func !== 'undefined') {\n\t\tif (!isCallable(func)) {\n\t\t\tthrow new TypeError(func + ' returned for property ' + P + ' of object ' + O + ' is not a function');\n\t\t}\n\t\treturn func;\n\t}\n\treturn void 0;\n};\n\n// http://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive\nmodule.exports = function ToPrimitive(input) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tvar hint = 'default';\n\tif (arguments.length > 1) {\n\t\tif (arguments[1] === String) {\n\t\t\thint = 'string';\n\t\t} else if (arguments[1] === Number) {\n\t\t\thint = 'number';\n\t\t}\n\t}\n\n\tvar exoticToPrim;\n\tif (hasSymbols) {\n\t\tif (Symbol.toPrimitive) {\n\t\t\texoticToPrim = GetMethod(input, Symbol.toPrimitive);\n\t\t} else if (isSymbol(input)) {\n\t\t\texoticToPrim = Symbol.prototype.valueOf;\n\t\t}\n\t}\n\tif (typeof exoticToPrim !== 'undefined') {\n\t\tvar result = exoticToPrim.call(input, hint);\n\t\tif (isPrimitive(result)) {\n\t\t\treturn result;\n\t\t}\n\t\tthrow new TypeError('unable to convert exotic object to primitive');\n\t}\n\tif (hint === 'default' && (isDate(input) || isSymbol(input))) {\n\t\thint = 'string';\n\t}\n\treturn ordinaryToPrimitive(input, hint === 'default' ? 'number' : hint);\n};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateObject(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) { return false; }\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = require('has-symbols')();\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isRealSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') {\n\t\t\treturn false;\n\t\t}\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') {\n\t\t\treturn true;\n\t\t}\n\t\tif (toStr.call(value) !== '[object Symbol]') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false && value;\n\t};\n}\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $Math = GetIntrinsic('%Math%');\nvar $Number = GetIntrinsic('%Number%');\n\nmodule.exports = $Number.MAX_SAFE_INTEGER || $Math.pow(2, 53) - 1;\n","'use strict';\n\nmodule.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar every = require('./every');\n\nmodule.exports = function isSamePropertyDescriptor(ES, D1, D2) {\n\tvar fields = [\n\t\t'[[Configurable]]',\n\t\t'[[Enumerable]]',\n\t\t'[[Get]]',\n\t\t'[[Set]]',\n\t\t'[[Value]]',\n\t\t'[[Writable]]'\n\t];\n\treturn every(fields, function (field) {\n\t\tif ((field in D1) !== (field in D2)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn ES.SameValue(D1[field], D2[field]);\n\t});\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar callBound = require('./callBound');\n\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\nvar symToStr = callBound('Symbol.prototype.toString', true);\n\nvar getInferredName = require('./getInferredName');\n\nmodule.exports = function getSymbolDescription(symbol) {\n\tif (!symToStr) {\n\t\tthrow new $SyntaxError('Symbols are not supported in this environment');\n\t}\n\tvar str = symToStr(symbol); // will throw if not a symbol\n\n\tif (getInferredName) {\n\t\tvar name = getInferredName(symbol);\n\t\tif (name === '') { return; }\n\t\t// eslint-disable-next-line consistent-return\n\t\treturn name.slice(1, -1); // name.slice('['.length, -']'.length);\n\t}\n\n\tvar desc = str.slice(7, -1); // str.slice('Symbol('.length, -')'.length);\n\tif (desc) {\n\t\t// eslint-disable-next-line consistent-return\n\t\treturn desc;\n\t}\n};\n","'use strict';\n\nvar getInferredName;\ntry {\n\t// eslint-disable-next-line no-new-func\n\tgetInferredName = Function('s', 'return { [s]() {} }[s].name;');\n} catch (e) {}\n\nvar inferred = function () {};\nmodule.exports = getInferredName && inferred.name === 'inferred' ? getInferredName : null;\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $Object = GetIntrinsic('%Object%');\nvar $EvalError = GetIntrinsic('%EvalError%');\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $String = GetIntrinsic('%String%');\nvar $Date = GetIntrinsic('%Date%');\nvar $Number = GetIntrinsic('%Number%');\nvar $floor = GetIntrinsic('%Math.floor%');\nvar $DateUTC = GetIntrinsic('%Date.UTC%');\nvar $abs = GetIntrinsic('%Math.abs%');\n\nvar assertRecord = require('./helpers/assertRecord');\nvar isPropertyDescriptor = require('./helpers/isPropertyDescriptor');\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\nvar isPrefixOf = require('./helpers/isPrefixOf');\nvar callBound = require('./helpers/callBound');\n\nvar IsCallable = require('is-callable');\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has');\n\nvar $getUTCFullYear = callBound('Date.prototype.getUTCFullYear');\n\nvar HoursPerDay = 24;\nvar MinutesPerHour = 60;\nvar SecondsPerMinute = 60;\nvar msPerSecond = 1e3;\nvar msPerMinute = msPerSecond * SecondsPerMinute;\nvar msPerHour = msPerMinute * MinutesPerHour;\nvar msPerDay = 86400000;\n\n// https://es5.github.io/#x9\nvar ES5 = {\n\tToPrimitive: toPrimitive,\n\n\tToBoolean: function ToBoolean(value) {\n\t\treturn !!value;\n\t},\n\tToNumber: function ToNumber(value) {\n\t\treturn +value; // eslint-disable-line no-implicit-coercion\n\t},\n\tToInteger: function ToInteger(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number)) { return 0; }\n\t\tif (number === 0 || !$isFinite(number)) { return number; }\n\t\treturn sign(number) * Math.floor(Math.abs(number));\n\t},\n\tToInt32: function ToInt32(x) {\n\t\treturn this.ToNumber(x) >> 0;\n\t},\n\tToUint32: function ToUint32(x) {\n\t\treturn this.ToNumber(x) >>> 0;\n\t},\n\tToUint16: function ToUint16(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x10000);\n\t},\n\tToString: function ToString(value) {\n\t\treturn $String(value);\n\t},\n\tToObject: function ToObject(value) {\n\t\tthis.CheckObjectCoercible(value);\n\t\treturn $Object(value);\n\t},\n\tCheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n\t\t/* jshint eqnull:true */\n\t\tif (value == null) {\n\t\t\tthrow new $TypeError(optMessage || 'Cannot call method on ' + value);\n\t\t}\n\t\treturn value;\n\t},\n\tIsCallable: IsCallable,\n\tSameValue: function SameValue(x, y) {\n\t\tif (x === y) { // 0 === -0, but they are not identical.\n\t\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\t\treturn true;\n\t\t}\n\t\treturn $isNaN(x) && $isNaN(y);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8\n\tType: function Type(x) {\n\t\tif (x === null) {\n\t\t\treturn 'Null';\n\t\t}\n\t\tif (typeof x === 'undefined') {\n\t\t\treturn 'Undefined';\n\t\t}\n\t\tif (typeof x === 'function' || typeof x === 'object') {\n\t\t\treturn 'Object';\n\t\t}\n\t\tif (typeof x === 'number') {\n\t\t\treturn 'Number';\n\t\t}\n\t\tif (typeof x === 'boolean') {\n\t\t\treturn 'Boolean';\n\t\t}\n\t\tif (typeof x === 'string') {\n\t\t\treturn 'String';\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\tIsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n\t\treturn isPropertyDescriptor(this, Desc);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n\tIsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n\tIsDataDescriptor: function IsDataDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n\tIsGenericDescriptor: function IsGenericDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (this.IsDataDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tvalue: Desc['[[Value]]'],\n\t\t\t\twritable: !!Desc['[[Writable]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else if (this.IsAccessorDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tget: Desc['[[Get]]'],\n\t\t\t\tset: Desc['[[Set]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new $TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n\tToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n\t\tif (this.Type(Obj) !== 'Object') {\n\t\t\tthrow new $TypeError('ToPropertyDescriptor requires an object');\n\t\t}\n\n\t\tvar desc = {};\n\t\tif (has(Obj, 'enumerable')) {\n\t\t\tdesc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n\t\t}\n\t\tif (has(Obj, 'configurable')) {\n\t\t\tdesc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n\t\t}\n\t\tif (has(Obj, 'value')) {\n\t\t\tdesc['[[Value]]'] = Obj.value;\n\t\t}\n\t\tif (has(Obj, 'writable')) {\n\t\t\tdesc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n\t\t}\n\t\tif (has(Obj, 'get')) {\n\t\t\tvar getter = Obj.get;\n\t\t\tif (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n\t\t\t\tthrow new TypeError('getter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Get]]'] = getter;\n\t\t}\n\t\tif (has(Obj, 'set')) {\n\t\t\tvar setter = Obj.set;\n\t\t\tif (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n\t\t\t\tthrow new $TypeError('setter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Set]]'] = setter;\n\t\t}\n\n\t\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\t\tthrow new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t\t}\n\t\treturn desc;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-11.9.3\n\t'Abstract Equality Comparison': function AbstractEqualityComparison(x, y) {\n\t\tvar xType = this.Type(x);\n\t\tvar yType = this.Type(y);\n\t\tif (xType === yType) {\n\t\t\treturn x === y; // ES6+ specified this shortcut anyways.\n\t\t}\n\t\tif (x == null && y == null) {\n\t\t\treturn true;\n\t\t}\n\t\tif (xType === 'Number' && yType === 'String') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif (xType === 'String' && yType === 'Number') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (xType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToNumber(x), y);\n\t\t}\n\t\tif (yType === 'Boolean') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToNumber(y));\n\t\t}\n\t\tif ((xType === 'String' || xType === 'Number') && yType === 'Object') {\n\t\t\treturn this['Abstract Equality Comparison'](x, this.ToPrimitive(y));\n\t\t}\n\t\tif (xType === 'Object' && (yType === 'String' || yType === 'Number')) {\n\t\t\treturn this['Abstract Equality Comparison'](this.ToPrimitive(x), y);\n\t\t}\n\t\treturn false;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-11.9.6\n\t'Strict Equality Comparison': function StrictEqualityComparison(x, y) {\n\t\tvar xType = this.Type(x);\n\t\tvar yType = this.Type(y);\n\t\tif (xType !== yType) {\n\t\t\treturn false;\n\t\t}\n\t\tif (xType === 'Undefined' || xType === 'Null') {\n\t\t\treturn true;\n\t\t}\n\t\treturn x === y; // shortcut for steps 4-7\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-11.8.5\n\t// eslint-disable-next-line max-statements\n\t'Abstract Relational Comparison': function AbstractRelationalComparison(x, y, LeftFirst) {\n\t\tif (this.Type(LeftFirst) !== 'Boolean') {\n\t\t\tthrow new $TypeError('Assertion failed: LeftFirst argument must be a Boolean');\n\t\t}\n\t\tvar px;\n\t\tvar py;\n\t\tif (LeftFirst) {\n\t\t\tpx = this.ToPrimitive(x, $Number);\n\t\t\tpy = this.ToPrimitive(y, $Number);\n\t\t} else {\n\t\t\tpy = this.ToPrimitive(y, $Number);\n\t\t\tpx = this.ToPrimitive(x, $Number);\n\t\t}\n\t\tvar bothStrings = this.Type(px) === 'String' && this.Type(py) === 'String';\n\t\tif (!bothStrings) {\n\t\t\tvar nx = this.ToNumber(px);\n\t\t\tvar ny = this.ToNumber(py);\n\t\t\tif ($isNaN(nx) || $isNaN(ny)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif ($isFinite(nx) && $isFinite(ny) && nx === ny) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === 0 && ny === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === Infinity) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (ny === Infinity) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (ny === -Infinity) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (nx === -Infinity) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn nx < ny; // by now, these are both nonzero, finite, and not equal\n\t\t}\n\t\tif (isPrefixOf(py, px)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (isPrefixOf(px, py)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn px < py; // both strings, neither a prefix of the other. shortcut for steps c-f\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.10\n\tmsFromTime: function msFromTime(t) {\n\t\treturn mod(t, msPerSecond);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.10\n\tSecFromTime: function SecFromTime(t) {\n\t\treturn mod($floor(t / msPerSecond), SecondsPerMinute);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.10\n\tMinFromTime: function MinFromTime(t) {\n\t\treturn mod($floor(t / msPerMinute), MinutesPerHour);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.10\n\tHourFromTime: function HourFromTime(t) {\n\t\treturn mod($floor(t / msPerHour), HoursPerDay);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.2\n\tDay: function Day(t) {\n\t\treturn $floor(t / msPerDay);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.2\n\tTimeWithinDay: function TimeWithinDay(t) {\n\t\treturn mod(t, msPerDay);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tDayFromYear: function DayFromYear(y) {\n\t\treturn (365 * (y - 1970)) + $floor((y - 1969) / 4) - $floor((y - 1901) / 100) + $floor((y - 1601) / 400);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tTimeFromYear: function TimeFromYear(y) {\n\t\treturn msPerDay * this.DayFromYear(y);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tYearFromTime: function YearFromTime(t) {\n\t\t// largest y such that this.TimeFromYear(y) <= t\n\t\treturn $getUTCFullYear(new $Date(t));\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.6\n\tWeekDay: function WeekDay(t) {\n\t\treturn mod(this.Day(t) + 4, 7);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tDaysInYear: function DaysInYear(y) {\n\t\tif (mod(y, 4) !== 0) {\n\t\t\treturn 365;\n\t\t}\n\t\tif (mod(y, 100) !== 0) {\n\t\t\treturn 366;\n\t\t}\n\t\tif (mod(y, 400) !== 0) {\n\t\t\treturn 365;\n\t\t}\n\t\treturn 366;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.3\n\tInLeapYear: function InLeapYear(t) {\n\t\tvar days = this.DaysInYear(this.YearFromTime(t));\n\t\tif (days === 365) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (days === 366) {\n\t\t\treturn 1;\n\t\t}\n\t\tthrow new $EvalError('Assertion failed: there are not 365 or 366 days in a year, got: ' + days);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.4\n\tDayWithinYear: function DayWithinYear(t) {\n\t\treturn this.Day(t) - this.DayFromYear(this.YearFromTime(t));\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.4\n\tMonthFromTime: function MonthFromTime(t) {\n\t\tvar day = this.DayWithinYear(t);\n\t\tif (0 <= day && day < 31) {\n\t\t\treturn 0;\n\t\t}\n\t\tvar leap = this.InLeapYear(t);\n\t\tif (31 <= day && day < (59 + leap)) {\n\t\t\treturn 1;\n\t\t}\n\t\tif ((59 + leap) <= day && day < (90 + leap)) {\n\t\t\treturn 2;\n\t\t}\n\t\tif ((90 + leap) <= day && day < (120 + leap)) {\n\t\t\treturn 3;\n\t\t}\n\t\tif ((120 + leap) <= day && day < (151 + leap)) {\n\t\t\treturn 4;\n\t\t}\n\t\tif ((151 + leap) <= day && day < (181 + leap)) {\n\t\t\treturn 5;\n\t\t}\n\t\tif ((181 + leap) <= day && day < (212 + leap)) {\n\t\t\treturn 6;\n\t\t}\n\t\tif ((212 + leap) <= day && day < (243 + leap)) {\n\t\t\treturn 7;\n\t\t}\n\t\tif ((243 + leap) <= day && day < (273 + leap)) {\n\t\t\treturn 8;\n\t\t}\n\t\tif ((273 + leap) <= day && day < (304 + leap)) {\n\t\t\treturn 9;\n\t\t}\n\t\tif ((304 + leap) <= day && day < (334 + leap)) {\n\t\t\treturn 10;\n\t\t}\n\t\tif ((334 + leap) <= day && day < (365 + leap)) {\n\t\t\treturn 11;\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.5\n\tDateFromTime: function DateFromTime(t) {\n\t\tvar m = this.MonthFromTime(t);\n\t\tvar d = this.DayWithinYear(t);\n\t\tif (m === 0) {\n\t\t\treturn d + 1;\n\t\t}\n\t\tif (m === 1) {\n\t\t\treturn d - 30;\n\t\t}\n\t\tvar leap = this.InLeapYear(t);\n\t\tif (m === 2) {\n\t\t\treturn d - 58 - leap;\n\t\t}\n\t\tif (m === 3) {\n\t\t\treturn d - 89 - leap;\n\t\t}\n\t\tif (m === 4) {\n\t\t\treturn d - 119 - leap;\n\t\t}\n\t\tif (m === 5) {\n\t\t\treturn d - 150 - leap;\n\t\t}\n\t\tif (m === 6) {\n\t\t\treturn d - 180 - leap;\n\t\t}\n\t\tif (m === 7) {\n\t\t\treturn d - 211 - leap;\n\t\t}\n\t\tif (m === 8) {\n\t\t\treturn d - 242 - leap;\n\t\t}\n\t\tif (m === 9) {\n\t\t\treturn d - 272 - leap;\n\t\t}\n\t\tif (m === 10) {\n\t\t\treturn d - 303 - leap;\n\t\t}\n\t\tif (m === 11) {\n\t\t\treturn d - 333 - leap;\n\t\t}\n\t\tthrow new $EvalError('Assertion failed: MonthFromTime returned an impossible value: ' + m);\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.12\n\tMakeDay: function MakeDay(year, month, date) {\n\t\tif (!$isFinite(year) || !$isFinite(month) || !$isFinite(date)) {\n\t\t\treturn NaN;\n\t\t}\n\t\tvar y = this.ToInteger(year);\n\t\tvar m = this.ToInteger(month);\n\t\tvar dt = this.ToInteger(date);\n\t\tvar ym = y + $floor(m / 12);\n\t\tvar mn = mod(m, 12);\n\t\tvar t = $DateUTC(ym, mn, 1);\n\t\tif (this.YearFromTime(t) !== ym || this.MonthFromTime(t) !== mn || this.DateFromTime(t) !== 1) {\n\t\t\treturn NaN;\n\t\t}\n\t\treturn this.Day(t) + dt - 1;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.13\n\tMakeDate: function MakeDate(day, time) {\n\t\tif (!$isFinite(day) || !$isFinite(time)) {\n\t\t\treturn NaN;\n\t\t}\n\t\treturn (day * msPerDay) + time;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.11\n\tMakeTime: function MakeTime(hour, min, sec, ms) {\n\t\tif (!$isFinite(hour) || !$isFinite(min) || !$isFinite(sec) || !$isFinite(ms)) {\n\t\t\treturn NaN;\n\t\t}\n\t\tvar h = this.ToInteger(hour);\n\t\tvar m = this.ToInteger(min);\n\t\tvar s = this.ToInteger(sec);\n\t\tvar milli = this.ToInteger(ms);\n\t\tvar t = (h * msPerHour) + (m * msPerMinute) + (s * msPerSecond) + milli;\n\t\treturn t;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-15.9.1.14\n\tTimeClip: function TimeClip(time) {\n\t\tif (!$isFinite(time) || $abs(time) > 8.64e15) {\n\t\t\treturn NaN;\n\t\t}\n\t\treturn $Number(new $Date(this.ToNumber(time)));\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-5.2\n\tmodulo: function modulo(x, y) {\n\t\treturn mod(x, y);\n\t}\n};\n\nmodule.exports = ES5;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable');\n\n// http://ecma-international.org/ecma-262/5.1/#sec-8.12.8\nvar ES5internalSlots = {\n\t'[[DefaultValue]]': function (O) {\n\t\tvar actualHint;\n\t\tif (arguments.length > 1) {\n\t\t\tactualHint = arguments[1];\n\t\t} else {\n\t\t\tactualHint = toStr.call(O) === '[object Date]' ? String : Number;\n\t\t}\n\n\t\tif (actualHint === String || actualHint === Number) {\n\t\t\tvar methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\t\t\tvar value, i;\n\t\t\tfor (i = 0; i < methods.length; ++i) {\n\t\t\t\tif (isCallable(O[methods[i]])) {\n\t\t\t\t\tvalue = O[methods[i]]();\n\t\t\t\t\tif (isPrimitive(value)) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new TypeError('No default value');\n\t\t}\n\t\tthrow new TypeError('invalid [[DefaultValue]] hint supplied');\n\t}\n};\n\n// http://ecma-international.org/ecma-262/5.1/#sec-9.1\nmodule.exports = function ToPrimitive(input) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tif (arguments.length > 1) {\n\t\treturn ES5internalSlots['[[DefaultValue]]'](input, arguments[1]);\n\t}\n\treturn ES5internalSlots['[[DefaultValue]]'](input);\n};\n","'use strict';\n\nvar has = require('has');\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0;\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar originalGetProto = GetIntrinsic('%Object.getPrototypeOf%', true);\nvar $ArrayProto = GetIntrinsic('%Array.prototype%');\n\nmodule.exports = originalGetProto || (\n\t// eslint-disable-next-line no-proto\n\t[].__proto__ === $ArrayProto\n\t\t? function (O) {\n\t\t\treturn O.__proto__; // eslint-disable-line no-proto\n\t\t}\n\t\t: null\n);\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimAllSettled() {\n\trequirePromise();\n\n\tvar polyfill = getPolyfill();\n\tdefine(Promise, { allSettled: polyfill }, {\n\t\tallSettled: function testAllSettled() {\n\t\t\treturn Promise.allSettled !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","var map = {\n\t\"./7z.svg\": 61,\n\t\"./ai.svg\": 62,\n\t\"./archive.svg\": 63,\n\t\"./audio.svg\": 64,\n\t\"./avi.svg\": 65,\n\t\"./csv.svg\": 66,\n\t\"./doc.svg\": 67,\n\t\"./html.svg\": 68,\n\t\"./iso.svg\": 69,\n\t\"./json.svg\": 70,\n\t\"./mp3.svg\": 71,\n\t\"./mp4.svg\": 72,\n\t\"./pdf.svg\": 73,\n\t\"./ppt.svg\": 74,\n\t\"./psd.svg\": 75,\n\t\"./rar.svg\": 76,\n\t\"./rtf.svg\": 77,\n\t\"./svg.svg\": 78,\n\t\"./tar.svg\": 79,\n\t\"./txt.svg\": 80,\n\t\"./unknown.svg\": 81,\n\t\"./video.svg\": 82,\n\t\"./xls.svg\": 83,\n\t\"./xml.svg\": 84,\n\t\"./zip.svg\": 85\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 60;","module.exports = __webpack_public_path__ + \"image/7z.svg\";","module.exports = __webpack_public_path__ + \"image/ai.svg\";","module.exports = __webpack_public_path__ + \"image/archive.svg\";","module.exports = __webpack_public_path__ + \"image/audio.svg\";","module.exports = __webpack_public_path__ + \"image/avi.svg\";","module.exports = __webpack_public_path__ + \"image/csv.svg\";","module.exports = __webpack_public_path__ + \"image/doc.svg\";","module.exports = __webpack_public_path__ + \"image/html.svg\";","module.exports = __webpack_public_path__ + \"image/iso.svg\";","module.exports = __webpack_public_path__ + \"image/json.svg\";","module.exports = __webpack_public_path__ + \"image/mp3.svg\";","module.exports = __webpack_public_path__ + \"image/mp4.svg\";","module.exports = __webpack_public_path__ + \"image/pdf.svg\";","module.exports = __webpack_public_path__ + \"image/ppt.svg\";","module.exports = __webpack_public_path__ + \"image/psd.svg\";","module.exports = __webpack_public_path__ + \"image/rar.svg\";","module.exports = __webpack_public_path__ + \"image/rtf.svg\";","module.exports = __webpack_public_path__ + \"image/svg.svg\";","module.exports = __webpack_public_path__ + \"image/tar.svg\";","module.exports = __webpack_public_path__ + \"image/txt.svg\";","module.exports = __webpack_public_path__ + \"image/unknown.svg\";","module.exports = __webpack_public_path__ + \"image/video.svg\";","module.exports = __webpack_public_path__ + \"image/xls.svg\";","module.exports = __webpack_public_path__ + \"image/xml.svg\";","module.exports = __webpack_public_path__ + \"image/zip.svg\";","import {FineUploaderBasic, isFile} from \"./fine-uploader/fine-uploader.core\";\nimport {DragAndDrop} from \"./fine-uploader/dnd\";\nimport match from 'mime-match';\n\n// PaperAdmin API\nconst EventEmitter = window.paperAdmin.EventEmitter;\n\n\n/**\n * Класс ошибки валидации файла при событии onSubmit()\n * @constructor\n */\nfunction ValidationError() {\n    Error.apply(this, arguments) ;\n    this.name = \"ValidationError\";\n    if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, ValidationError);\n    } else {\n        this.stack = (new Error()).stack;\n    }\n}\n\nValidationError.prototype = Object.create(Error.prototype);\n\n\n/**\n * Класс-обертка над загрузчиком Fine Uploader.\n * @param element\n * @param options\n * @constructor\n */\nfunction Uploader(element, options) {\n    this._opts = Object.assign({\n        url: '',\n        multiple: false,\n        maxConnections: 1,\n        button: null,\n        dropzones: null,\n        params: null,\n        validation: {},\n        filters: []\n    }, options);\n\n    this.element = element;\n    this.uploader = this._makeUploader();\n}\n\nUploader.prototype = Object.create(EventEmitter.prototype);\n\nUploader.prototype.getParams = function(id) {\n    if (typeof this._opts.params === 'function') {\n        return Object.assign(getPaperParams(this.element), this._opts.params.call(this, id));\n    } else if (typeof this._opts.params === 'object') {\n        return Object.assign(getPaperParams(this.element), this._opts.params);\n    } else {\n        return getPaperParams(this.element);\n    }\n};\n\nUploader.prototype.formatParams = function(params, id) {\n    const plain_params = {};\n    for (let [key, value] of Object.entries(params)) {\n        if (typeof value === 'function') {\n            plain_params[key] = value(id);\n        } else {\n            plain_params[key] = value;\n        }\n    }\n    return plain_params;\n};\n\nUploader.prototype._makeUploader = function() {\n    const _this = this;\n\n    // флаг, ограничивающий количество загрузок при multiple=false\n    let is_loading = false;\n\n    let uploader = new FineUploaderBasic({\n        button: this._opts.button,\n        multiple: this._opts.multiple,\n        maxConnections: this._opts.maxConnections,\n        request: {\n            endpoint: this._opts.url\n        },\n        chunking: {\n            enabled: true,\n            partSize: 2 * 1024 * 1024,\n            concurrent: {\n                enabled: false\n            }\n        },\n        text: {\n            fileInputTitle: ''\n        },\n        validation: {\n            stopOnFirstInvalidFile: false,\n            sizeLimit: _this._opts.validation.sizeLimit || 0,\n            acceptFiles: _this._opts.validation.acceptFiles || null,\n            allowedExtensions: _this._opts.validation.allowedExtensions || []\n        },\n        messages: {\n            typeError: \"`{file}` has an invalid extension. Valid extension(s): {extensions}.\",\n            sizeError: \"`{file}` is too large, maximum file size is {sizeLimit}.\",\n        },\n        callbacks: {\n            onSubmit: function(id) {\n                const uploader = this;\n                const file = uploader.getFile(id);\n\n                if (is_loading && !_this._opts.multiple) {\n                    return false\n                } else {\n                    is_loading = true;\n                }\n\n                // пользовательские фильтры для загружаемых файлов\n                if (_this._opts.filters && _this._opts.filters.length) {\n                    for (let index=0; index<_this._opts.filters.length; index++) {\n                        const filter = _this._opts.filters[index];\n                        try {\n                            filter.call(uploader, id, file);\n                        } catch (error) {\n                            _this.trigger('error', [id, error.message]);\n                            return false;\n                        }\n                    }\n                }\n\n                const validationOptions = _this._opts.validation;\n                if (isFile(file)) {\n                    // check mimetypes\n                    const allowedMimeTypes = validationOptions.acceptFiles;\n                    if (allowedMimeTypes && allowedMimeTypes.length) {\n                        let allowed = false;\n                        if (Array.isArray(allowedMimeTypes)) {\n                            allowed = allowedMimeTypes.some(function(template) {\n                                return match(file.type, template);\n                            });\n                        } else if (typeof allowedMimeTypes === 'string') {\n                            allowed = match(file.type, allowedMimeTypes);\n                        }\n\n                        if (!allowed) {\n                            const reason = `\\`${file.name}\\` has an invalid mimetype '${file.type}'`;\n                            _this.trigger('error', [id, reason]);\n                            return false;\n                        }\n                    }\n\n                    // check image size\n                    if (validationOptions.image) {\n                        return new Promise(function(resolve, reject) {\n                            const image = new Image();\n                            const url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                            if (url) {\n                                image.onerror = function() {\n                                    reject(\"Cannot determine dimensions for an image. May be too large.\");\n                                };\n                                image.onload = function() {\n                                    resolve({\n                                        width: this.width,\n                                        height: this.height\n                                    });\n                                };\n                                image.src = url.createObjectURL(file);\n                            } else {\n                                reject(\"No createObjectURL function available to generate image URL!\");\n                            }\n                        }).then(function(size) {\n                            if (validationOptions.minImageWidth && (size.width < validationOptions.minImageWidth)) {\n                                const reason = `\\`${file.name}\\` is not wide enough. Minimum width is ${validationOptions.minImageWidth}px`;\n                                _this.trigger('error', [id, reason]);\n                                throw new Error(reason);\n                            }\n                            if (validationOptions.minImageHeight && (size.height < validationOptions.minImageHeight)) {\n                                const reason = `\\`${file.name}\\` is not tall enough. Minimum height is ${validationOptions.minImageHeight}px`;\n                                _this.trigger('error', [id, reason]);\n                                throw new Error(reason);\n                            }\n                            if (validationOptions.maxImageWidth && (size.width > validationOptions.maxImageWidth)) {\n                                const reason = `\\`${file.name}\\` is too wide. Maximum width is ${validationOptions.maxImageWidth}px`;\n                                _this.trigger('error', [id, reason]);\n                                throw new Error(reason);\n                            }\n                            if (validationOptions.maxImageHeight && (size.height > validationOptions.maxImageHeight)) {\n                                const reason = `\\`${file.name}\\` is too tall. Maximum height is ${validationOptions.maxImageHeight}px`;\n                                _this.trigger('error', [id, reason]);\n                                throw new Error(reason);\n                            }\n                        });\n                    }\n                }\n\n                try {\n                    _this.trigger('submit', [id]);\n                } catch (e) {\n                    if (e.name === 'ValidationError') {\n                        return false;\n                    } else {\n                        throw e;\n                    }\n                }\n            },\n            onSubmitted: function(id) {\n                _this.trigger('submitted', [id]);\n                let params = _this.getParams(id);\n                if (params) {\n                    params = _this.formatParams(params, id);\n                    this.setParams(params, id);\n                }\n            },\n            onUpload: function(id) {\n                _this.trigger('upload', [id]);\n            },\n            onProgress: function(id, name, uploadedBytes, totalBytes) {\n                const percentage = Math.ceil(100 * (uploadedBytes / totalBytes));\n                _this.trigger('progress', [id, percentage]);\n            },\n            onCancel: function(id) {\n                _this.trigger('cancel', [id]);\n            },\n            onComplete: function(id, name, response) {\n                if (response.success) {\n                    _this.trigger('complete', [id, response]);\n                }\n            },\n            onAllComplete: function(succeeded, failed) {\n                is_loading = false;\n                _this.trigger('all_complete', [succeeded, failed]);\n            },\n            onError: function(id, name, reason, xhr) {\n                let response, messages;\n                try {\n                    response = JSON.parse(xhr.responseText);\n                } catch (error) {\n\n                }\n\n                if (response) {\n                    messages = response.errors || response.error || reason;\n                } else {\n                    messages = reason;\n                }\n\n                _this.trigger('error', [id, messages]);\n            }\n        }\n    });\n\n    if (this._opts.dropzones && this._opts.dropzones.length) {\n        new DragAndDrop({\n            dropZoneElements: this._opts.dropzones,\n            allowMultipleItems: this._opts.multiple,\n            classes: {\n                dropActive: 'dropzone-highlighted'\n            },\n            callbacks: {\n                processingDroppedFilesComplete: function(files) {\n                    uploader.addFiles(files);\n                }\n            }\n        });\n    }\n\n    return uploader;\n};\n\n\nfunction getPaperParams(element) {\n    const params = {};\n    const dataset = element.dataset;\n    Object.keys(dataset).forEach(function(name) {\n        if (/^paper(?:[^a-z0-9]|$)/.test(name)) {\n            params[name] = dataset[name];\n        }\n    });\n    return params;\n}\n\n\nexport {Uploader, ValidationError, getPaperParams};\n","// PaperAdmin API\nconst bootbox = window.paperAdmin.bootbox;\n\nlet _errors = [];\n\n\nfunction formatErrors(errors) {\n    if (Array.isArray(errors)) {\n        if (errors.length === 1) {\n            return errors[0]\n        } else {\n            let output = [\n                `Please correct the following errors:`,\n                `<ul class=\"px-4 mb-0\">`,\n            ];\n            for (let i=0, l=errors.length; i<l; i++) {\n                output.push(`<li>${errors[i]}</li>`);\n            }\n            output.push(`</ul>`);\n            output = output.join('\\n');\n            return output\n        }\n    }\n    return errors\n}\n\n\n/**\n * Мгновенный показ сообщения.\n *\n * @param {String|String[]} error\n */\nfunction showError(error) {\n    console.debug(`Show error: ${error}`);\n    setTimeout(function() {\n        bootbox.alert({\n            title: 'Error',\n            message: formatErrors(error)\n        });\n    });\n}\n\n/**\n * Добавление ошибки в словарь для отложенного показа.\n * @param {String|String[]} error\n */\nfunction collectError(error) {\n    console.debug(`Collect error: ${error}`);\n    if (typeof error === 'string') {\n        _errors.push(error);\n    } else if (Array.isArray(error)) {\n        _errors = _errors.concat(error);\n    }\n}\n\n/**\n * Показ отложенных ошибок\n */\nfunction showCollectedErrors() {\n    if (!_errors || !_errors.length) {\n        return\n    }\n\n    setTimeout(function() {\n        if (!_errors || !_errors.length) {\n            return\n        }\n\n        bootbox.alert({\n            title: 'Error',\n            message: formatErrors(_errors)\n        });\n\n        _errors = [];\n    });\n}\n\nexport {\n    showError,\n    collectError,\n    showCollectedErrors\n};\n","/* global gettext */\n\nimport deepmerge from \"deepmerge\";\nimport {Uploader, getPaperParams} from \"./_uploader\";\nimport {showError} from \"./_utils\";\n\n// PaperAdmin API\nconst EventEmitter = window.paperAdmin.EventEmitter;\nconst bootbox = window.paperAdmin.bootbox;\nconst preloader = window.paperAdmin.preloader;\nconst formUtils = window.paperAdmin.formUtils;\n\n/**\n * @fires upload:submit\n * @fires upload:submitted\n * @fires upload:upload\n * @fires upload:created\n * @fires upload:deleted\n * @fires upload:complete\n * @fires upload:cancel\n * @param element\n * @param options\n * @constructor\n */\nfunction BaseWidget(element, options) {\n    /**\n     * @type object\n     */\n    this._opts = deepmerge({\n        input: '',\n        uploadButton: '',\n        cancelButton: '',\n        changeButton: '',\n        deleteButton: '',\n\n        link: '',\n\n        urls: {\n            upload: '',\n            change: '',\n            delete: ''\n        }\n    }, options || {});\n\n    this.element = element;\n\n    this.input = this.element.querySelector(this._opts.input);\n    if (!this.input) {\n        throw new Error(`Not found element \"${this._opts.input}\"`);\n    }\n\n    this.uploadButton = this.element.querySelector(this._opts.uploadButton);\n    if (!this.uploadButton) {\n        throw new Error(`Not found element \"${this._opts.uploadButton}\"`);\n    }\n\n    this.cancelButton = this.element.querySelector(this._opts.cancelButton);\n    if (!this.cancelButton) {\n        throw new Error(`Not found element \"${this._opts.cancelButton}\"`);\n    }\n\n    this.changeButton = this.element.querySelector(this._opts.changeButton);\n    if (!this.changeButton) {\n        throw new Error(`Not found element \"${this._opts.changeButton}\"`);\n    }\n\n    this.deleteButton = this.element.querySelector(this._opts.deleteButton);\n    if (!this.deleteButton) {\n        throw new Error(`Not found element \"${this._opts.deleteButton}\"`);\n    }\n\n    // инициализация\n    this.loading = false;\n    this.empty = isNaN(this.instanceId);\n\n    this.uploader = this.initUploader();\n    this.addListeners();\n}\n\nBaseWidget.prototype = Object.create(EventEmitter.prototype);\n\nObject.defineProperty(BaseWidget.prototype, 'instanceId', {\n    get: function() {\n        return parseInt(this.input.value);\n    },\n    set: function(value) {\n        this.input.value = parseInt(value) || '';\n    }\n});\n\nObject.defineProperty(BaseWidget.prototype, 'empty', {\n    get: function() {\n        return Boolean(this._empty);\n    },\n    set: function(value) {\n        const newValue = Boolean(value);\n        if (newValue === Boolean(this._empty)) {\n            return\n        }\n        if (newValue) {\n            this.element.classList.add('empty');\n        } else {\n            this.element.classList.remove('empty');\n        }\n        this._empty = newValue;\n    }\n});\n\nObject.defineProperty(BaseWidget.prototype, 'loading', {\n    get: function() {\n        return Boolean(this._loading);\n    },\n    set: function(value) {\n        const newValue = Boolean(value);\n        if (newValue === Boolean(this._loading)) {\n            return\n        }\n        if (newValue) {\n            this.element.classList.add('loading');\n        } else {\n            this.element.classList.remove('loading');\n            this.element.classList.remove('processing');\n        }\n        this._loading = newValue;\n    }\n});\n\n/**\n * Инициализация загрузчика файлов.\n */\nBaseWidget.prototype.initUploader = function() {\n    const _this = this;\n    return new Uploader(this.element, {\n        url: this._opts.urls.upload,\n        button: this.uploadButton,\n        dropzones: this.element.querySelectorAll('.dropzone-overlay'),\n        validation: JSON.parse(this.element.dataset.validation),\n    }).on('submitted', function(id) {\n        _this.trigger('upload:submitted', [id]);\n    }).on('upload', function(id) {\n        _this.loading = true;\n\n        const progressBar = _this.element.querySelector('.progress-bar');\n        progressBar && (progressBar.style.width = '');\n        _this.trigger('upload:upload', [id]);\n    }).on('progress', function(id, percentage) {\n        const progressBar = _this.element.querySelector('.progress-bar');\n        progressBar && (progressBar.style.width = percentage + '%');\n\n        if (percentage >= 100) {\n            _this.element.classList.add('processing');\n        }\n    }).on('complete', function(id, response) {\n        _this.empty = false;\n        _this.instanceId = response.id;\n        _this.trigger('upload:created');\n\n        const fileName = _this.element.querySelector('.file-name');\n        fileName && (fileName.textContent = response.name);\n\n        const fileInfo = _this.element.querySelector('.file-info');\n        fileInfo && (fileInfo.textContent = response.file_info);\n\n        const previewLink = _this.element.querySelector(_this._opts.link);\n        previewLink && (previewLink.href = response.url);\n\n        _this.trigger('upload:complete');\n    }).on('cancel', function(id) {\n        _this.trigger('upload:cancel', [id]);\n    }).on('error', function(id, messages) {\n        showError(messages);\n    }).on('all_complete', function() {\n        _this.loading = false;\n    });\n};\n\n/**\n * Отправка формы редактирования файла.\n * @param $dialog\n * @private\n */\nBaseWidget.prototype._change = function($dialog) {\n    if (isNaN(this.instanceId)) {\n        return\n    }\n\n    const _this = this;\n    const $form = $dialog.find('form');\n    Promise.all([\n        preloader.show(),\n        fetch($form.prop('action'), {\n            method: 'POST',\n            credentials: 'same-origin',\n            body: new FormData($form.get(0))\n        })\n    ]).then(function(values) {\n        const response = values[1];\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        preloader.hide();\n        formUtils.cleanFormErrors($form.get(0));\n        if (response.form_errors) {\n            formUtils.addFormErrorsFromJSON($form.get(0), response.form_errors);\n        } else {\n            $dialog.modal('hide');\n\n            const fileName = _this.element.querySelector('.file-name');\n            fileName && (fileName.textContent = response.name);\n\n            const fileInfo = _this.element.querySelector('.file-info');\n            fileInfo && (fileInfo.textContent = response.file_info);\n\n            const previewLink = _this.element.querySelector(_this._opts.link);\n            previewLink && (previewLink.href = response.url);\n        }\n    }).catch(function(error) {\n        preloader.hide();\n        if ((typeof error === 'object') && error.response && error.response.errors) {\n            showError(error.response.errors);\n        } else if (error instanceof Error) {\n            showError(error.message);\n        } else {\n            showError(error);\n        }\n    });\n};\n\n/**\n * Удаление файла.\n * @private\n */\nBaseWidget.prototype._delete = function() {\n    if (isNaN(this.instanceId)) {\n        return\n    }\n\n    const data = new FormData();\n    const params = getPaperParams(this.element);\n    Object.keys(params).forEach(function(name) {\n        data.append(name, params[name]);\n    });\n    data.append('instance_id', this.instanceId.toString());\n\n    const _this = this;\n    Promise.all([\n        preloader.show(),\n        fetch(this._opts.urls.delete, {\n            method: 'POST',\n            credentials: 'same-origin',\n            body: data\n        })\n    ]).then(function(values) {\n        const response = values[1];\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        preloader.hide();\n        _this.empty = true;\n        _this.instanceId = '';\n\n        const fileName = _this.element.querySelector('.file-name');\n        fileName && (fileName.textContent = '');\n\n        const fileInfo = _this.element.querySelector('.file-info');\n        fileInfo && (fileInfo.textContent = '');\n\n        _this.trigger('upload:deleted');\n    }).catch(function(error) {\n        preloader.hide();\n        if ((typeof error === 'object') && error.response && error.response.errors) {\n            showError(error.response.errors);\n        } else if (error instanceof Error) {\n            showError(error.message);\n        } else {\n            showError(error);\n        }\n    });\n};\n\nBaseWidget.prototype.addListeners = function() {\n    const _this = this;\n\n    // отмена загрузки\n    this.cancelButton.addEventListener('click', function(event) {\n        event.preventDefault();\n        _this.loading = false;\n        _this.uploader.uploader.cancelAll();\n    });\n\n    // удаление файла\n    this.deleteButton.addEventListener('click', function(event) {\n        event.preventDefault();\n\n        bootbox.dialog({\n            size: 'small',\n            title: gettext('Confirmation'),\n            message: gettext('Are you sure you want to <b>DELETE</b> this file?'),\n            onEscape: true,\n            buttons: {\n                cancel: {\n                    label: gettext('Cancel'),\n                    className: 'btn-outline-info'\n                },\n                confirm: {\n                    label: gettext('Delete'),\n                    className: 'btn-danger',\n                    callback: function() {\n                        _this._delete();\n                    }\n                }\n            }\n        });\n    });\n\n    // редактирование файла\n    this.changeButton.addEventListener('click', function(event) {\n        event.preventDefault();\n\n        const data = new FormData();\n        const params = getPaperParams(_this.element);\n        Object.keys(params).forEach(function(name) {\n            data.append(name, params[name]);\n        });\n        data.append('instance_id', _this.instanceId.toString());\n        const queryString = new URLSearchParams(data).toString();\n\n        Promise.all([\n            preloader.show(),\n            fetch(`${_this._opts.urls.change}?${queryString}`, {\n                credentials: 'same-origin',\n            })\n        ]).then(function(values) {\n            const response = values[1];\n            if (!response.ok) {\n                const error = new Error(`${response.status} ${response.statusText}`);\n                error.response = response;\n                throw error;\n            }\n\n            return response.json();\n        }).then(function(response) {\n            if (response.errors && response.errors.length) {\n                const error = new Error('Invalid request');\n                error.response = response;\n                throw error\n            }\n\n            preloader.hide();\n            const $dialog = bootbox.dialog({\n                title: gettext('Edit file'),\n                message: response.form,\n                onEscape: true,\n                buttons: {\n                    cancel: {\n                        label: gettext('Cancel'),\n                        className: 'btn-outline-info'\n                    },\n                    ok: {\n                        label: gettext('Save'),\n                        className: 'btn-success',\n                        callback: function() {\n                            _this._change(this);\n                            return false;\n                        }\n                    }\n                }\n            });\n\n            const $form = $dialog.find('form');\n            $form.on('submit', function() {\n                _this._change($dialog);\n                return false;\n            });\n        }).catch(function(error) {\n            preloader.hide();\n            if ((typeof error === 'object') && error.response && error.response.errors) {\n                showError(error.response.errors);\n            } else if (error instanceof Error) {\n                showError(error.message);\n            } else {\n                showError(error);\n            }\n        });\n    });\n};\n\n\nexport {BaseWidget};\n","import {BaseWidget} from \"./base_widget\";\n\n// PaperAdmin API\nconst whenDomReady = window.paperAdmin.whenDomReady;\nconst emitters = window.paperAdmin.emitters;\n\n\n// CSS\nimport \"../css/file_widget.scss\";\n\n\nfunction initWidget(element) {\n    if (element.closest('.empty-form')) {\n        return\n    }\n\n    new BaseWidget(element, {\n        input: '.file-uploader__input',\n        uploadButton: '.file-uploader__upload-button',\n        cancelButton: '.file-uploader__cancel-button',\n        changeButton: '.file-uploader__change-button',\n        deleteButton: '.file-uploader__delete-button',\n        link: '.file-uploader__link',\n        urls: {\n            upload: element.dataset.uploadUrl,\n            change: element.dataset.changeUrl,\n            delete: element.dataset.deleteUrl,\n        }\n    });\n}\n\n\nfunction initWidgets(root = document.body) {\n    let file_selector = '.file-uploader';\n    root.matches(file_selector) && initWidget(root);\n    root.querySelectorAll(file_selector).forEach(initWidget);\n}\n\n\nwhenDomReady(initWidgets);\nemitters.dom.on('mutate', initWidgets);\n","import {BaseWidget} from \"./base_widget\";\n\n// PaperAdmin API\nconst whenDomReady = window.paperAdmin.whenDomReady;\nconst emitters = window.paperAdmin.emitters;\n\n// CSS\nimport \"../css/image_widget.scss\";\n\n\nfunction initWidget(element) {\n    if (element.closest('.empty-form')) {\n        return\n    }\n\n    new BaseWidget(element, {\n        input: '.image-uploader__input',\n        uploadButton: '.image-uploader__upload-button',\n        cancelButton: '.image-uploader__cancel-button',\n        changeButton: '.image-uploader__change-button',\n        deleteButton: '.image-uploader__delete-button',\n        link: '.image-uploader__link',\n        urls: {\n            upload: element.dataset.uploadUrl,\n            change: element.dataset.changeUrl,\n            delete: element.dataset.deleteUrl,\n        }\n    });\n}\n\n\nfunction initWidgets(root = document.body) {\n    let file_selector = '.image-uploader';\n    root.matches(file_selector) && initWidget(root);\n    root.querySelectorAll(file_selector).forEach(initWidget);\n}\n\n\nwhenDomReady(initWidgets);\nemitters.dom.on('mutate', initWidgets);\n","/* global gettext */\n\nimport deepmerge from \"deepmerge\";\nimport allSettled from \"promise.allsettled\";\nimport {Uploader, ValidationError, getPaperParams} from \"./_uploader\";\nimport {showError, collectError, showCollectedErrors} from \"./_utils\";\n\n// PaperAdmin API\nconst EventEmitter = window.paperAdmin.EventEmitter;\nconst whenDomReady = window.paperAdmin.whenDomReady;\nconst Sortable = window.paperAdmin.Sortable;\nconst bootbox = window.paperAdmin.bootbox;\nconst emitters = window.paperAdmin.emitters;\nconst preloader = window.paperAdmin.preloader;\nconst formUtils = window.paperAdmin.formUtils;\n\n// CSS\nimport \"../css/collection_widget.scss\";\n\n\n/**\n * @param element\n * @param options\n * @fires collection:created\n * @fires collection:deleted\n * @fires collection:submit_item\n * @fires collection:upload_item\n * @fires collection:cancel_item\n * @fires collection:complete_item\n * @constructor\n */\nfunction Collection(element, options) {\n    /**\n     * @type Object\n     */\n    this._opts = deepmerge({\n        input: '.collection__input',\n        itemContainer: '.collection__items',\n        item: '.collection__item',\n        createButton: '.collection__create-button',\n        uploadButton: '.collection__upload-button',\n        deleteButton: '.collection__delete-button',\n        preloaderItem: '.collection__item--preloader',\n        preloaderTemplate: '.collection__item-preloader',\n\n        itemPreview: '.collection__item-preview',\n        itemLink: '.collection__item-link',\n        itemCheckbox: '.collection__item-checkbox',\n        itemName: '.collection__item-name',\n        changeItemButton: '.collection__item-change-button',\n        cancelItemButton: '.collection__item-cancel-button',\n        deleteItemButton: '.collection__item-delete-button',\n        itemSelectorTemplate: '.collection__{}-item-template',\n\n        collectionEmptyState: 'collection--empty',\n        itemCheckedState: 'collection__item--checked',\n        itemRemovingState: 'collection__item--removing',\n\n        urls: {\n            createCollection: '',\n            deleteCollection: '',\n            uploadItem: '',\n            changeItem: '',\n            deleteItem: '',\n            sortItems: ''\n        }\n    }, options || {});\n\n    this.element = element;\n\n    this.input = this.element.querySelector(this._opts.input);\n    if (!this.input) {\n        throw new Error(`Not found element \"${this._opts.input}\"`);\n    }\n\n    this.itemContainer = this.element.querySelector(this._opts.itemContainer);\n    if (!this.itemContainer) {\n        throw new Error(`Not found element \"${this._opts.itemContainer}\"`);\n    }\n\n    this.createButton = this.element.querySelector(this._opts.createButton);\n    if (!this.createButton) {\n        throw new Error(`Not found element \"${this._opts.createButton}\"`);\n    }\n\n    this.uploadButton = this.element.querySelector(this._opts.uploadButton);\n    if (!this.uploadButton) {\n        throw new Error(`Not found element \"${this._opts.uploadButton}\"`);\n    }\n\n    this.deleteButton = this.element.querySelector(this._opts.deleteButton);\n    if (!this.deleteButton) {\n        throw new Error(`Not found element \"${this._opts.deleteButton}\"`);\n    }\n\n    this.init();\n}\n\nCollection.prototype = Object.create(EventEmitter.prototype);\n\nObject.defineProperty(Collection.prototype, 'collectionId', {\n    get: function() {\n        return parseInt(this.input.value);\n    },\n    set: function(value) {\n        const newValue = parseInt(value);\n        if (isNaN(newValue)) {\n            // удаление коллекции\n            this.input.value = '';\n            this.createButton.disabled = false;\n            this.uploadButton.disabled = true;\n            this.deleteButton.disabled = true;\n            this.element.classList.add(this._opts.collectionEmptyState);\n\n            const uploadInput = this.uploadButton.querySelector('input[type=\"file\"]');\n            uploadInput && (uploadInput.disabled = true);\n        } else {\n            // создание коллекции\n            this.input.value = newValue;\n            this.createButton.disabled = true;\n            this.uploadButton.disabled = false;\n            this.deleteButton.disabled = false;\n            this.element.classList.remove(this._opts.collectionEmptyState);\n\n            const uploadInput = this.uploadButton.querySelector('input[type=\"file\"]');\n            uploadInput && (uploadInput.disabled = false);\n        }\n    }\n});\n\nObject.defineProperty(Collection.prototype, 'loading', {\n    get: function() {\n        return Boolean(this._loading);\n    },\n    set: function(value) {\n        const newValue = Boolean(value);\n        if (newValue === Boolean(this._loading)) {\n            return\n        }\n        if (newValue) {\n            this.element.classList.add('loading');\n            this.deleteButton.disabled = true;\n        } else {\n            this.element.classList.remove('loading');\n            this.deleteButton.disabled = false;\n        }\n        this._loading = newValue;\n    }\n});\n\n/**\n * Инициализация галереи\n */\nCollection.prototype.init = function() {\n    this.uploader = this.initUploader();\n    this.sortable = this.initSortable();\n    this.collectionId = this.input.value;\n    this.loading = false;\n    this.addListeners();\n};\n\n/**\n * Инициализация загрузчика картинок.\n */\nCollection.prototype.initUploader = function() {\n    const _this = this;\n    return new Uploader(this.element, {\n        url: this._opts.urls.uploadItem,\n        multiple: true,\n        maxConnections: 4,\n        button: this.uploadButton,\n        dropzones: this.element.querySelectorAll('.dropzone-overlay'),\n        validation: JSON.parse(this.element.dataset.validation),\n        params: {\n            collectionId: function() {\n                return _this.collectionId;\n            },\n            order: function(id) {\n                const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n                return Array.from(_this.itemContainer.children).indexOf(preloader);\n            }\n        },\n    }).on('submit', function() {\n        if (isNaN(_this.collectionId)) {\n            throw new ValidationError();\n        }\n    }).on('submitted', function(id) {\n        const template = _this.element.querySelector(_this._opts.preloaderTemplate);\n        const clone = document.importNode(template.content, true);\n\n        const preloader = clone.querySelector(_this._opts.item);\n        preloader.dataset.queueId = id;\n        preloader.classList.add(`item-preloader-${id}`);\n\n        const file = this.uploader.getFile(id);\n        const fileName = preloader.querySelector(_this._opts.itemName);\n        if (fileName) {\n            fileName.title = file.name;\n            fileName.textContent = file.name;\n        }\n\n        _this.itemContainer.append(clone);\n\n        _this.trigger('collection:submit_item', [preloader, id]);\n    }).on('upload', function(id) {\n        _this.loading = true;\n\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        _this.trigger('collection:upload_item', [preloader, id]);\n    }).on('progress', function(id, percentage) {\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        const progressBar = preloader.querySelector('.progress-bar');\n        progressBar && (progressBar.style.height = percentage + '%');\n\n        if (percentage >= 100) {\n            preloader.classList.add('processing');\n        }\n    }).on('complete', function(id, response) {\n        if (isNaN(_this.collectionId)) {\n            _this.collectionId = response.collectionId;\n            _this.trigger('collection:created');\n        }\n\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        _this.trigger('collection:complete_item', [preloader, id]);\n\n        const itemType = response.item_type;\n        const templateSelector = _this._opts.itemSelectorTemplate.replace('{}', itemType);\n        const template = _this.element.querySelector(templateSelector);\n        if (!template) {\n            _this.trigger('error', [id, `Invalid item_type: ${itemType}`]);\n            return\n        } else {\n            const clone = document.importNode(template.content, true);\n            const item = clone.querySelector(_this._opts.item);\n            item.setAttribute('data-pk', response.id);\n            item.setAttribute('data-item-type', itemType);\n\n            const preview = clone.querySelector(_this._opts.itemPreview);\n            preview && (preview.innerHTML = response.preview);\n\n            const previewLink = clone.querySelector(_this._opts.itemLink);\n            previewLink && (previewLink.href = response.url);\n\n            const fileName = clone.querySelector(_this._opts.itemName);\n            if (fileName) {\n                fileName.title = response.caption;\n                fileName.textContent = response.caption;\n            }\n\n            preloader.before(clone);\n        }\n\n        preloader.remove();\n    }).on('cancel', function(id) {\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        _this.trigger('collection:cancel_item', [preloader, id]);\n        if (preloader) {\n            // анимация удаления\n            preloader.addEventListener('animationend', function() {\n                preloader.remove();\n            });\n            preloader.classList.add(_this._opts.itemRemovingState);\n        }\n    }).on('error', function(id, messages) {\n        collectError(messages);\n        const preloader = _this.itemContainer.querySelector(`.item-preloader-${id}`);\n        if (preloader) {\n            // анимация удаления\n            preloader.addEventListener('animationend', function() {\n                preloader.remove();\n            });\n            preloader.classList.add(_this._opts.itemRemovingState);\n        }\n    }).on('all_complete', function() {\n        _this.loading = false;\n        showCollectedErrors();\n    });\n};\n\nCollection.prototype.initSortable = function() {\n    const _this = this;\n    return Sortable.create(this.itemContainer, {\n        animation: 0,\n        draggable: this._opts.item,\n        filter: this._opts.preloaderItem,\n        handle: '.sortable-handler',\n        ghostClass: 'sortable-ghost',\n        onEnd: function() {\n            const items = Array.from(_this.itemContainer.querySelectorAll(_this._opts.item));\n            const order = items.map(function(item) {\n                if (!item.matches(_this._opts.preloaderItem)) {\n                    return item.dataset.pk;\n                }\n            }).filter(Boolean);\n\n            const data = new FormData();\n            const params = getPaperParams(_this.element);\n            Object.keys(params).forEach(function(name) {\n                data.append(name, params[name]);\n            });\n            data.append('collectionId', _this.collectionId.toString());\n            data.append('order', order.join(','));\n\n            fetch(_this._opts.urls.sortItems, {\n                method: 'POST',\n                credentials: 'same-origin',\n                body: data\n            }).then(function(response) {\n                if (!response.ok) {\n                    const error = new Error(`${response.status} ${response.statusText}`);\n                    error.response = response;\n                    throw error;\n                }\n                return response.json();\n            }).then(function(response) {\n                if (response.errors && response.errors.length) {\n                    const error = new Error('Invalid request');\n                    error.response = response;\n                    throw error\n                }\n            }).catch(function(error) {\n                if ((typeof error === 'object') && error.response && error.response.errors) {\n                    showError(error.response.errors);\n                } else if (error instanceof Error) {\n                    showError(error.message);\n                } else {\n                    showError(error);\n                }\n            })\n        },\n    });\n};\n\n/**\n * Удаление всех элементов галереи из контейнера.\n */\nCollection.prototype.cleanItems = function() {\n    while (this.itemContainer.firstChild) {\n        this.itemContainer.removeChild(this.itemContainer.firstChild);\n    }\n};\n\n/**\n * Создание коллекции.\n * @private\n * @returns {Promise}\n */\nCollection.prototype._createCollection = function() {\n    if (!isNaN(this.collectionId)) {\n        return Promise.reject('collection already exists');\n    }\n\n    const data = new FormData();\n    const params = getPaperParams(this.element);\n    Object.keys(params).forEach(function(name) {\n        data.append(name, params[name]);\n    });\n\n    const _this = this;\n    return fetch(this._opts.urls.createCollection, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: data\n    }).then(function(response) {\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        _this.collectionId = response.collection_id;\n        _this.trigger('collection:created');\n    });\n};\n\n/**\n * Удаление элемента коллекции.\n * @param item\n * @private\n * @returns {Promise}\n */\nCollection.prototype._deleteItem = function(item) {\n    if (isNaN(this.collectionId)) {\n        return Promise.reject('collection required');\n    }\n\n    const instance_id = parseInt(item && item.dataset.pk);\n    if (isNaN(instance_id)) {\n        return Promise.reject('invalid ID')\n    }\n\n    const data = new FormData();\n    const params = getPaperParams(this.element);\n    Object.keys(params).forEach(function(name) {\n        data.append(name, params[name]);\n    });\n    data.append('collectionId', this.collectionId.toString());\n    data.append('instance_id', instance_id.toString());\n    data.append('item_type', item.dataset.itemType);\n\n    const _this = this;\n    return fetch(this._opts.urls.deleteItem, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: data\n    }).then(function(response) {\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        // анимация удаления\n        item.addEventListener('animationend', function() {\n            item.remove();\n        });\n        item.classList.add(_this._opts.itemRemovingState);\n    });\n};\n\n/**\n * Отправка формы редактирования элемента.\n * @param item\n * @param $dialog\n * @private\n * @returns {Promise}\n */\nCollection.prototype._changeItem = function(item, $dialog) {\n    if (isNaN(this.collectionId)) {\n        return Promise.reject('collection required');\n    }\n\n    const instance_id = parseInt(item && item.dataset.pk);\n    if (isNaN(instance_id)) {\n        return Promise.reject('invalid ID')\n    }\n\n    const _this = this;\n    const $form = $dialog.find('form');\n    return fetch($form.prop('action'), {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new FormData($form.get(0))\n    }).then(function(response) {\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        formUtils.cleanFormErrors($form.get(0));\n        if (response.form_errors) {\n            formUtils.addFormErrorsFromJSON($form.get(0), response.form_errors);\n        } else {\n            $dialog.modal('hide');\n\n            const preview = item.querySelector(_this._opts.itemPreview);\n            preview && (preview.innerHTML = response.preview);\n\n            const previewLink = item.querySelector(_this._opts.itemLink);\n            previewLink && (previewLink.href = response.url);\n\n            const fileName = item.querySelector(_this._opts.itemName);\n            if (fileName) {\n                fileName.title = response.caption;\n                fileName.textContent = response.caption;\n            }\n        }\n    });\n};\n\n/**\n * Удаление галереи.\n * @private\n * @returns {Promise}\n */\nCollection.prototype._deleteCollection = function() {\n    if (isNaN(this.collectionId)) {\n        return Promise.reject('collection required')\n    }\n\n    const data = new FormData();\n    const params = getPaperParams(this.element);\n    Object.keys(params).forEach(function(name) {\n        data.append(name, params[name]);\n    });\n    data.append('collectionId', this.collectionId.toString());\n\n    // отмена всех текущих загрузок. По идее, их и так быть не должно,\n    // т.к. кнопка блокируется.\n    this.uploader.uploader.cancelAll();\n\n    const _this = this;\n    return fetch(this._opts.urls.deleteCollection, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: data\n    }).then(function(response) {\n        if (!response.ok) {\n            const error = new Error(`${response.status} ${response.statusText}`);\n            error.response = response;\n            throw error;\n        }\n        return response.json();\n    }).then(function(response) {\n        if (response.errors && response.errors.length) {\n            const error = new Error('Invalid request');\n            error.response = response;\n            throw error\n        }\n\n        let lastItem = null;\n        Array.from(_this.itemContainer.children).forEach(function(item) {\n            item.classList.add(_this._opts.itemRemovingState);\n            lastItem = item;\n        });\n\n        if (lastItem) {\n            lastItem.addEventListener('animationend', function() {\n                _this.cleanItems();\n                _this.collectionId = '';\n                _this.trigger('collection:deleted');\n            });\n        } else {\n            _this.cleanItems();\n            _this.collectionId = '';\n            _this.trigger('collection:deleted');\n        }\n    });\n};\n\n/**\n * Выделение элемента галереи.\n * @param {HTMLElement} item\n * @param {Boolean} state\n * @private\n */\nCollection.prototype._checkItem = function(item, state=true) {\n    item.classList.toggle(this._opts.itemCheckedState, state);\n    const checkbox = item.querySelector(this._opts.itemCheckbox);\n    checkbox.checked = state;\n};\n\nCollection.prototype.addListeners = function() {\n    const _this = this;\n\n    // создание галереи\n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.createButton)) {\n            return\n        }\n\n        event.preventDefault();\n\n        Promise.all([\n            preloader.show(),\n            _this._createCollection()\n        ]).then(function() {\n            preloader.hide();\n        }).catch(function(error) {\n            preloader.hide();\n            if ((typeof error === 'object') && error.response && error.response.errors) {\n                showError(error.response.errors);\n            } else if (error instanceof Error) {\n                showError(error.message);\n            } else {\n                showError(error);\n            }\n        });\n    });\n\n    // удаление галереи\n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.deleteButton)) {\n            return\n        }\n\n        event.preventDefault();\n\n        bootbox.dialog({\n            size: 'small',\n            title: gettext('Confirmation'),\n            message: gettext('Are you sure you want to <b>DELETE</b> this collection?'),\n            onEscape: true,\n            buttons: {\n                cancel: {\n                    label: gettext('Cancel'),\n                    className: 'btn-outline-info'\n                },\n                confirm: {\n                    label: gettext('Delete'),\n                    className: 'btn-danger',\n                    callback: function() {\n                        Promise.all([\n                            preloader.show(),\n                            _this._deleteCollection()\n                        ]).then(function() {\n                            preloader.hide()\n                        }).catch(function(error) {\n                            preloader.hide();\n                            if ((typeof error === 'object') && error.response && error.response.errors) {\n                                showError(error.response.errors);\n                            } else if (error instanceof Error) {\n                                showError(error.message);\n                            } else {\n                                showError(error);\n                            }\n                        });\n                    }\n                }\n            }\n        });\n    });\n\n    // редактирование элемента\n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.changeItemButton)) {\n            return\n        }\n\n        event.preventDefault();\n\n        const item = event.target.closest(_this._opts.item);\n        const instance_id = parseInt(item && item.dataset.pk);\n        if (isNaN(instance_id)) {\n            return\n        }\n\n        const data = new FormData();\n        const params = getPaperParams(_this.element);\n        Object.keys(params).forEach(function(name) {\n            data.append(name, params[name]);\n        });\n        data.append('collectionId', _this.collectionId.toString());\n        data.append('instance_id', instance_id.toString());\n        data.append('item_type', item.dataset.itemType);\n        const queryString = new URLSearchParams(data).toString();\n\n        Promise.all([\n            preloader.show(),\n            fetch(`${_this._opts.urls.changeItem}?${queryString}`, {\n                credentials: 'same-origin',\n            })\n        ]).then(function(values) {\n            const response = values[1];\n            if (!response.ok) {\n                const error = new Error(`${response.status} ${response.statusText}`);\n                error.response = response;\n                throw error;\n            }\n\n            return response.json();\n        }).then(function(response) {\n            if (response.errors && response.errors.length) {\n                const error = new Error('Invalid request');\n                error.response = response;\n                throw error\n            }\n\n            preloader.hide();\n            const $dialog = bootbox.dialog({\n                title: gettext('Edit file'),\n                message: response.form,\n                onEscape: true,\n                buttons: {\n                    cancel: {\n                        label: gettext('Cancel'),\n                        className: 'btn-outline-info'\n                    },\n                    ok: {\n                        label: gettext('Save'),\n                        className: 'btn-success',\n                        callback: function() {\n                            Promise.all([\n                                preloader.show(),\n                                _this._changeItem(item, $dialog)\n                            ]).then(function() {\n                                preloader.hide();\n                            }).catch(function(error) {\n                                preloader.hide();\n                                if ((typeof error === 'object') && error.response && error.response.errors) {\n                                    showError(error.response.errors);\n                                } else if (error instanceof Error) {\n                                    showError(error.message);\n                                } else {\n                                    showError(error);\n                                }\n                            });\n                            return false;\n                        }\n                    }\n                }\n            });\n\n            const $form = $dialog.find('form');\n            $form.on('submit', function() {\n                Promise.all([\n                    preloader.show(),\n                    _this._changeItem(item, $dialog)\n                ]).then(function() {\n                    preloader.hide();\n                }).catch(function(error) {\n                    preloader.hide();\n                    if ((typeof error === 'object') && error.response && error.response.errors) {\n                        showError(error.response.errors);\n                    } else if (error instanceof Error) {\n                        showError(error.message);\n                    } else {\n                        showError(error);\n                    }\n                });\n                return false;\n            });\n        }).catch(function(error) {\n            preloader.hide();\n            if ((typeof error === 'object') && error.response && error.response.errors) {\n                showError(error.response.errors);\n            } else if (error instanceof Error) {\n                showError(error.message);\n            } else {\n                showError(error);\n            }\n        });\n    });\n\n    // отмена загрузки\n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.cancelItemButton)) {\n            return\n        }\n\n        event.preventDefault();\n        const item = event.target.closest(_this._opts.item);\n        const queueId = parseInt(item.dataset.queueId);\n        _this.uploader.uploader.cancel(queueId);\n    });\n\n    // удаление элемента\n    this.element.addEventListener('click', function(event) {\n        if (!event.target.closest(_this._opts.deleteItemButton)) {\n            return\n        }\n\n        event.preventDefault();\n\n        bootbox.dialog({\n            size: 'small',\n            title: gettext('Confirmation'),\n            message: gettext('Are you sure you want to <b>DELETE</b> this file?'),\n            onEscape: true,\n            buttons: {\n                cancel: {\n                    label: gettext('Cancel'),\n                    className: 'btn-outline-info'\n                },\n                confirm: {\n                    label: gettext('Delete'),\n                    className: 'btn-danger',\n                    callback: function() {\n                        const item = event.target.closest(_this._opts.item);\n                        Promise.all([\n                            preloader.show(),\n                            _this._deleteItem(item)\n                        ]).then(function() {\n                            preloader.hide();\n                        }).catch(function(error) {\n                            preloader.hide();\n                            if ((typeof error === 'object') && error.response && error.response.errors) {\n                                showError(error.response.errors);\n                            } else if (error instanceof Error) {\n                                showError(error.message);\n                            } else {\n                                showError(error);\n                            }\n                        });\n                    }\n                }\n            }\n        });\n    });\n\n    // выделение элемента галереи\n    let lastChecked = null;\n    this.element.addEventListener('click', function(event) {\n        const item = event.target.closest(_this._opts.item);\n        if (!item) {\n            return\n        }\n\n        let target_state;\n        let checkbox = event.target.closest(_this._opts.itemCheckbox);\n        if (!checkbox) {\n            // если клик на сам элемент, то выделение работает только в случае,\n            // когда была зажата клавиша Ctrl (или Shift для массового выделения)\n            if (!event.ctrlKey && !event.shiftKey) {\n                return\n            }\n\n            checkbox = item.querySelector(_this._opts.itemCheckbox);\n            if (!checkbox) {\n                return\n            }\n            target_state = !checkbox.checked;\n        } else {\n            // при клике на чекбокс целевое состояние уже достигнуто\n            target_state = checkbox.checked;\n        }\n\n        if (lastChecked && event.shiftKey && (lastChecked !== item)) {\n            const items = Array.from(_this.itemContainer.querySelectorAll(_this._opts.item));\n            const lastIndex = items.indexOf(lastChecked);\n            const targetIndex = items.indexOf(item);\n            const startIndex = Math.min(lastIndex, targetIndex);\n            const endIndex = Math.max(lastIndex, targetIndex);\n            const item_slice = items.slice(startIndex, endIndex + 1);\n            item_slice.forEach(function(item) {\n                _this._checkItem(item, target_state)\n            });\n        } else {\n            _this._checkItem(item, target_state);\n        }\n\n        lastChecked = item;\n    });\n\n    // удаление выделенных элементов при нажатии Delete\n    this.element.addEventListener('keyup', function(event) {\n        if (event.code === 'Delete') {\n            const items = Array.from(_this.itemContainer.querySelectorAll(_this._opts.item));\n            const checkedItems = items.filter(function(item) {\n                const checkbox = item.querySelector(_this._opts.itemCheckbox);\n                return checkbox.checked;\n            });\n\n            if (checkedItems.length) {\n                bootbox.dialog({\n                    size: 'small',\n                    title: gettext('Confirmation'),\n                    message: gettext(`Are you sure you want to <b>DELETE</b> the selected <b>${checkedItems.length}</b> file(s)?`),\n                    onEscape: true,\n                    buttons: {\n                        cancel: {\n                            label: gettext('Cancel'),\n                            className: 'btn-outline-info'\n                        },\n                        confirm: {\n                            label: gettext('Delete'),\n                            className: 'btn-danger',\n                            callback: function() {\n                                const delete_promises = checkedItems.map(function(item) {\n                                    return _this._deleteItem(item)\n                                });\n                                delete_promises.unshift(preloader.show());\n\n                                allSettled(\n                                    delete_promises\n                                ).then(function(results) {\n                                    preloader.hide();\n                                    for (let result of results) {\n                                        if (result.status === 'rejected') {\n                                            const error = result.reason;\n                                            if ((typeof error === 'object') && error.response && error.response.errors) {\n                                                collectError(error.response.errors);\n                                            } else if (error instanceof Error) {\n                                                collectError(error.message);\n                                            } else {\n                                                collectError(error);\n                                            }\n                                        }\n                                    }\n                                    showCollectedErrors();\n                                });\n                            }\n                        }\n                    }\n                });\n            }\n        }\n    });\n\n    // просмотр при двойном клике\n    this.element.addEventListener('dblclick', function(event) {\n        const item = event.target.closest(_this._opts.item);\n        if (!item) {\n            return\n        }\n\n        const itemLink = item.querySelector(_this._opts.itemLink);\n        if (itemLink) {\n            itemLink.dispatchEvent(new MouseEvent('click', {\n                bubbles: true,\n                cancelable: true\n            }));\n        }\n    });\n};\n\n\nfunction initWidget(element) {\n    if (element.closest('.empty-form')) {\n        return\n    }\n\n    new Collection(element, {\n        urls: {\n            createCollection: element.dataset.createCollectionUrl,\n            deleteCollection: element.dataset.deleteCollectionUrl,\n            uploadItem: element.dataset.uploadItemUrl,\n            changeItem: element.dataset.changeItemUrl,\n            deleteItem: element.dataset.deleteItemUrl,\n            sortItems: element.dataset.sortItemsUrl\n        }\n    });\n}\n\n\nfunction initWidgets(root = document.body) {\n    let file_selector = '.collection';\n    root.matches(file_selector) && initWidget(root);\n    root.querySelectorAll(file_selector).forEach(initWidget);\n}\n\n\nwhenDomReady(initWidgets);\nemitters.dom.on('mutate', initWidgets);\n","import \"./file_widget\";\nimport \"./image_widget\";\nimport \"./collection_widget\";\n\n// Images\nfunction importAll(r) {\n    return r.keys().map(r);\n}\nimportAll(require.context('../img/files/', false, /\\.svg$/));\n"],"sourceRoot":""}