<div class="image-uploader dropzone {% if not widget.value %}empty{% endif %}"
     data-upload-url="{{ upload_url }}"
     data-change-url="{{ change_url }}"
     data-delete-url="{{ delete_url }}"
     data-paper-content-type="{{ content_type.pk }}"
     data-paper-owner-app-label="{{ owner_app_label }}"
     data-paper-owner-model-name="{{ owner_model_name }}"
     data-paper-owner-fieldname="{{ owner_fieldname }}"
     data-validation='{{ validation|safe }}'>
  <input type="hidden" class="image-uploader__input"
         name="{{ widget.name }}"
         value="{{ widget.value|default:'' }}"
         {% include "django/forms/widgets/attrs.html" %}/>

  <div class="input-group">
    <div class="input-group-prepend">
      <button type="button" class="image-uploader__upload-button input-group-text"
         data-toggle="tooltip" data-placement="top" data-trigger="hover"
         data-html="true" title="{{ _('Select file') }}">
        <i class="fa fa-fw fa-folder-open"></i>
      </button>
    </div>

    <div class="form-control">
      <span class="file-name">
        {% if instance %}{{ instance.name }}{% endif %}
      </span>
      <small class="file-info text-muted">
        {% if instance %}
          ({{ instance.extension }}, {{ instance.width }}x{{ instance.height }}, {{ instance.size|filesizeformat }})
        {% endif %}
      </small>
      <div class="progress">
        <div class="progress-bar progress-bar-animated progress-bar-striped"
             role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        </div>
      </div>
    </div>

    <div class="input-group-append">
      <a {% if instance %}href="{{ instance.file.url }}"{% endif %} class="image-uploader__link input-group-text text-info"
         target="_blank" tabindex="-1"
         data-toggle="tooltip" data-placement="top" data-trigger="hover"
         data-html="true" title="{{ _('View file') }}">
        <i class="fa fa-fw fa-eye"></i>
      </a>

      <button type="button" class="image-uploader__change-button input-group-text text-info" tabindex="-1"
         data-toggle="tooltip" data-placement="top" data-trigger="hover"
         data-html="true" title="{{ _('Edit file') }}">
        <i class="fa fa-fw fa-pencil"></i>
      </button>

      <button type="button" class="image-uploader__delete-button input-group-text text-danger" tabindex="-1"
              data-toggle="tooltip" data-placement="top" data-trigger="hover"
              data-html="true" title="{{ _('Delete file') }}">
        <i class="fa fa-fw fa-trash"></i>
      </button>
    </div>
  </div>

  <div class="dropzone-overlay">
    <div class="dropzone-hint">
      <i class="fa fa-fw fa-upload"></i>
      {{ _('Drop files here to send') }}
    </div>
  </div>
</div>
